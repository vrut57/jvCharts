(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var html = "<!--Top title bar of edit popup-->\n<div class='title'>\n    <div class=\"jv-inline\">\n        <b>Edit Options<div id=\"edit-option-element\" class=\"jv-inline\" style=\"visibility: hidden;\"></div>:</b>\n    </div>\n\n    <div id='exitEditMode' class='jv-pull-right jv-pointer'>\n        <i class='fa fa-times'></i>\n    </div>\n</div>\n\n<!--Line dividing top bar with form options below-->\n<hr style='margin:3px 0 3px 0;'/>\n\n<!--Form Options-->\n<div id=\"form'+chart.config.name+'\">\n\n    <!--Number formatting options-->\n    <div class=\"jv-full-width editable-num-format\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Number Format:\n            <select id=\"editable-num-format\">\n                <option value=\"\">--Select Option--</option>\n                <option value=\"currency\">Currency</option>\n                <option value=\"fixedCurrency\">Fixed Point Currency</option>\n                <option value=\"percent\">Percent</option>\n                <option value=\"millions\">Millions</option>\n                <option value=\"commas\">Commas</option>\n                <option value=\"none\">None</option>\n            </select>\n        </div>\n        <br/>\n    </div>\n\n    <!--Text formatting options-->\n    <div class=\"editable-text-size-buttons jv-center topBarOption increasefont jv-pointer\" style=\"display: none;\">\n        <button id='decreaseFontSize' title='Decrease the font size' class='topbar-button font jv-button jv-pointer'><i class='fa fa-font'></i><i class='fa fa-long-arrow-down'></i></button>\n        <button id='increaseFontSize' title='Increase the font size' class='topbar-button font jv-button jv-pointer'><i class='fa fa-font'></i><i class='fa fa-long-arrow-up'></i></button>\n    </div>\n\n\n    <div class=\"jv-full-width editable-text-color\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text Color:\n            <input type=\"color\" id=\"editable-text-color\" value=\"#000000\">\n        </div>\n        <br/>\n    </div>\n\n    <div class=\"jv-full-width editable-text-size\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text Size:\n            <input type=\"number\" id=\"editable-text-size\" min=\"0\" max=\"30\" value=\"12\">\n        </div>\n        <br/>\n    </div>\n\n    <div class=\"jv-full-width editable-content\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text:\n            <input type=\"text\" id=\"editable-content\" placeholder=\"Enter text here\">\n        </div>\n        <br/>\n    </div>\n\n    <!--bar chart formatting-->\n    <div class=\"jv-full-width editable-bar\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Bar Color:\n            <input type=\"color\" id=\"editable-bar\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--pie chart formatting-->\n    <div class=\"jv-full-width editable-pie\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Pie Slice Color:\n            <input type=\"color\" id=\"editable-pie\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--scatter plot formatting-->\n    <div class=\"jv-full-width editable-scatter\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Scatter Circle Color:\n            <input type=\"color\" id=\"editable-scatter\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--bubble chart formatting-->\n    <div class=\"jv-full-width editable-bubble\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Bubble Color:\n            <input type=\"color\" id=\"editable-bubble\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--box and whisker plot formatting-->\n    <div class=\"jv-full-width editable-box\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Box Color:\n            <input type=\"color\" id=\"editable-box\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--Submit button-->\n    <div class=\"editable-default-and-apply\">\n        <button id=\"submitEditModeDefault\" class=\"jv-button jv-pull-left\">Default</button>\n        <button id=\"submitEditMode\" class=\"jv-button jv-button-green jv-pull-right\">Apply</button>\n    </div>\n</div>";

module.exports = html;

},{}],2:[function(require,module,exports){
'use strict';
//add all required files

require('./jvVars.js');
require('./jvEvents.js');
require('./jvTip.js');
require('./jvBrush.js');
require('./jvComment.js');
require('./jvEdit.js');
require('./visuals/jvBar.js');
require('./visuals/jvPie.js');
require('./visuals/jvLine.js');
require('./visuals/jvScatter.js');
require('./visuals/jvArea.js');
require('./visuals/jvGantt.js');
require('./visuals/jvHeatmap.js');
require('./visuals/jvPack.js');
require('./visuals/jvRadial.js');
require('./visuals/jvSankey.js');
require('./visuals/jvSingleAxis.js');
require('./visuals/jvSunburst.js');
require('./visuals/jvTreemap.js');
require('./visuals/jvWordCloud.js');
require('./visuals/jvBoxWhisker.js');
require('./visuals/jvBubble.js');
require('./visuals/jvClustergram.js');

//attach jv charts objects to the window
var jvCharts = require('./jvCharts.js');
var jvBrush = require('./jvBrush.js');
var jvComment = require('./jvComment.js');
var jvEdit = require('./jvEdit.js');
var jvSelect = require('./jvSelect');
// var jvDoodle = require('./jvDoodle.js');

//Comment out to remove from window object - if you are not using jvCharts as a minified file
window.jvCharts = jvCharts;
window.jvBrush = jvBrush;
window.jvComment = jvComment;
window.jvEdit = jvEdit;
window.jvSelect = jvSelect;

//add polyfill for Object.assign() if unsupported
if (typeof Object.assign !== 'function') {
    Object.assign = function (target) {
        //.length of function is 2
        'use strict';

        if (target == null) {
            //TypeError if undefined or null
            throw new TypeError('Cannot convert undefined or null to object');
        }
        var to = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];

            if (nextSource != null) {
                //Skip over if undefined or null
                for (var nextKey in nextSource) {
                    //Avoid bugs when hasOwnProperty is shadowed
                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                        to[nextKey] = nextSource[nextKey];
                    }
                }
            }
        }
        return to;
    };
}

},{"./jvBrush.js":3,"./jvCharts.js":4,"./jvComment.js":5,"./jvEdit.js":6,"./jvEvents.js":7,"./jvSelect":8,"./jvTip.js":9,"./jvVars.js":10,"./visuals/jvArea.js":11,"./visuals/jvBar.js":12,"./visuals/jvBoxWhisker.js":13,"./visuals/jvBubble.js":14,"./visuals/jvClustergram.js":15,"./visuals/jvGantt.js":16,"./visuals/jvHeatmap.js":17,"./visuals/jvLine.js":18,"./visuals/jvPack.js":19,"./visuals/jvPie.js":20,"./visuals/jvRadial.js":21,"./visuals/jvSankey.js":22,"./visuals/jvScatter.js":23,"./visuals/jvSingleAxis.js":24,"./visuals/jvSunburst.js":25,"./visuals/jvTreemap.js":26,"./visuals/jvWordCloud.js":27}],3:[function(require,module,exports){
'use strict';
/***  jvBrush ***/
'use-strict';

/**
* @name jvBrush
* @desc Constructor for JV Brush - creates brush mode for a jv visualization and executes a callback for the visual to be filtered
* @param {object} configObj - constructor object containing the jvChart and other options
* @return {undefined} - no return
*/

function jvBrush(configObj) {
    var brushObj = this;
    brushObj.chartDiv = configObj.chartDiv;
    brushObj.jvChart = configObj.jvChart;
    brushObj.onBrushCallback = configObj.onBrushCallback;
}

jvBrush.prototype.removeBrush = removeBrush;
jvBrush.prototype.startBrush = startBrush;

/**
* @name removeBrush
* @desc removes the brush area from the visual
* @return {undefined} - no return
*/
function removeBrush() {
    var brushObj = this;
    brushObj.jvChart.chartDiv.selectAll('.brusharea').remove();
}

/**
* @name startBrush
* @desc removes the brush area from the visual
* @param {object} event - optional event to start brush immediately with a new mousedown
* @return {undefined} - no return
*/
function startBrush() {
    var event = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

    var brushObj = this,
        height = brushObj.jvChart.config.container.height,
        width = brushObj.jvChart.config.container.width,
        svg = brushObj.jvChart.svg;

    if (brushObj.jvChart.config.type === 'singleaxis') {
        brushObj.brushType = 'x';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brushX().extent([[0, 0], [width, height]]).on('end', brushEnd.bind(brushObj)));
    } else if (brushObj.jvChart.config.type === 'clustergram') {
        brushObj.brushType = 'xy';
        svg.append('g').attr('class', 'brusharea').attr("transform", "translate(" + brushObj.jvChart._vars.leftTreeWidth + "," + brushObj.jvChart._vars.topTreeHeight + ")").style('height', height + 'px').style('width', width + 'px').call(d3.brush().extent([[0, 0], [width, height]]).on('end', brushEnd.bind(brushObj)));
    } else {
        brushObj.brushType = 'xy';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brush().extent([[0, 0], [width, height]]).on('end', brushEnd.bind(brushObj)));
    }

    if (event) {
        //dispatch mousedown to start a brush at the event coordinates
        var brushElement = svg.select('.brusharea').node(),
            newEvent = new Event('mousedown');
        newEvent.pageX = event.pageX;
        newEvent.clientX = event.clientX;
        newEvent.pageY = event.pageY;
        newEvent.clientY = event.clientY;
        newEvent.view = event.view;
        brushElement.__data__ = { type: 'overlay' };
        brushElement.dispatchEvent(newEvent);
    }
}

/**
* @name brushEnd
* @desc called at the end of the user brushing which calls the onBrush callback
* @return {undefined} - no return
*/
function brushEnd() {
    var brushObj = this,
        xScale = brushObj.jvChart.currentData.xAxisScale,
        yScale = brushObj.jvChart.currentData.yAxisScale,
        filteredXAxisLabels = [],
        filteredYAxisLabels = [],
        shouldReset = false,
        e = d3.event.selection,
        returnObj,
        filteredLabels = [],
        filteredConcepts = {},
        index,
        filterCol,
        filteredLabelsX,
        filteredLabelsY;

    if (e) {
        if (brushObj.brushType === 'xy') {
            if (xScale && typeof xScale.invert !== 'function') {
                //means that the scale is ordinal and not linear
                returnObj = calculateBrushAreaOrdinal(e[0][0], e[1][0], xScale);
                filteredXAxisLabels = returnObj.filteredAxisLabels;
                shouldReset = returnObj.shouldReset;
            } else if (xScale) {
                //calculate labels for linear scale
                returnObj = calculateBrushAreaLinear(e[0][0], e[1][0], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                filteredXAxisLabels = returnObj.filteredAxisLabels;
                shouldReset = returnObj.shouldReset;
            }

            if (yScale && typeof yScale.invert !== 'function') {
                //means that the scale is oridnal and not linear
                returnObj = calculateBrushAreaOrdinal(e[0][1], e[1][1], yScale);
                filteredYAxisLabels = returnObj.filteredAxisLabels;
                if (returnObj.shouldReset) {
                    shouldReset = true;
                }
            } else if (yScale) {
                //calculate labels for linear scale
                returnObj = calculateBrushAreaLinear(e[0][1], e[1][1], yScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'y');
                filteredYAxisLabels = returnObj.filteredAxisLabels;
                if (returnObj.shouldReset) {
                    shouldReset = true;
                }
            } else if (brushObj.jvChart.config.type === 'heatmap') {
                returnObj = calculateHeatmapBrush(e, brushObj.jvChart.currentData, brushObj.jvChart);
                filteredLabelsX = returnObj.filteredXAxisLabels;
                filteredLabelsY = returnObj.filteredYAxisLabels;
                if (returnObj.shouldReset) {
                    shouldReset = true;
                }
            } else if (brushObj.jvChart.config.type === 'clustergram') {
                returnObj = calculateClustergramBrush(e, brushObj.jvChart.currentData, brushObj.jvChart);
                filteredLabelsX = returnObj.filteredXAxisLabels;
                filteredLabelsY = returnObj.filteredYAxisLabels;
                if (returnObj.shouldReset) {
                    shouldReset = true;
                }
            }
        } else if (brushObj.brushType === 'x') {
            returnObj = calculateBrushAreaLinear(e[0], e[1], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
            filteredXAxisLabels = returnObj.filteredAxisLabels;
            if (returnObj.shouldReset) {
                shouldReset = true;
            }
        }
    } else {
        shouldReset = true;
    }

    if (filteredXAxisLabels.length > 0 && filteredYAxisLabels.length > 0) {
        //merge axisLabels
        for (var j = 0; j < filteredXAxisLabels.length; j++) {
            index = filteredYAxisLabels.indexOf(filteredXAxisLabels[j]);
            if (index > -1) {
                filteredLabels.push(filteredXAxisLabels[j]);
            }
        }
    } else if (filteredXAxisLabels.length > 0) {
        filteredLabels = filteredXAxisLabels;
    } else if (filteredYAxisLabels.length > 0) {
        filteredLabels = filteredYAxisLabels;
    }

    var flag = true;

    if (brushObj.jvChart.config.type === 'heatmap') {
        if (!shouldReset) {
            var filterColX = brushObj.jvChart.currentData.dataTable.x,
                filterColY = brushObj.jvChart.currentData.dataTable.y;
            if (filteredLabelsX.length > 0) {
                filteredConcepts[filterColX] = filteredLabelsX;
            }
            if (filteredLabelsY.length > 0) {
                filteredConcepts[filterColY] = filteredLabelsY;
            }
        }
    } else if (brushObj.jvChart.config.type === 'clustergram') {
        if (!shouldReset) {
            var xLength = Object.keys(filteredLabelsX).length;
            for (var i = 0; i < xLength; i++) {
                var _filterColX = brushObj.jvChart.currentData.dataTable['x_category ' + (xLength - i)];
                filteredConcepts[_filterColX] = filteredLabelsX[i];
            }
            var yLength = Object.keys(filteredLabelsY).length;
            for (var _i = 0; _i < yLength; _i++) {
                var _filterColY = brushObj.jvChart.currentData.dataTable['y_category ' + (yLength - _i)];
                filteredConcepts[_filterColY] = filteredLabelsY[_i];
            }
            // let filterColX = brushObj.jvChart.currentData.dataTable['x_category 2'],
            //     filterColY = brushObj.jvChart.currentData.dataTable['y_category 2'];
            // if (filteredLabelsX.length > 0) {
            //     filteredConcepts[filterColX] = filteredLabelsX;
            // }
            // if (filteredLabelsY.length > 0) {
            //     filteredConcepts[filterColY] = filteredLabelsY;
            // }
        }
        flag = false;
    } else {
        if (brushObj.jvChart.config.type === 'gantt') {
            filterCol = brushObj.jvChart.currentData.dataTable.group;
        } else {
            filterCol = brushObj.jvChart.currentData.dataTable.label;
        }
        filteredConcepts[filterCol] = filteredLabels;
    }

    //calls back to update data with brushed data
    brushObj.onBrushCallback({
        data: filteredConcepts,
        reset: shouldReset,
        clean: flag
    });
    brushObj.removeBrush();
}

/**
* @name calculateBrushAreaOrdinal
* @desc calculates the ordinal values that are in the brushed area
* @param {number} mousePosMin - lower bound mouse position
* @param {number} mousePosMax - upper bound mouse position
* @param {object} scale - d3 axis scale
* @return {Object} - object of filtered values
*/
function calculateBrushAreaOrdinal(mousePosMin, mousePosMax, scale) {
    var domain = scale.domain(),
        padding = scale.padding(),
        step = scale.step(),
        minIndex = void 0,
        maxIndex = void 0,
        paddingDistance = padding * step / 2,
        filteredAxisLabels = void 0;

    //determine min index
    if (mousePosMin % step > step - paddingDistance) {
        //don't include on min side
        minIndex = Math.floor(mousePosMin / step) + 1;
    } else {
        //include on min side
        minIndex = Math.floor(mousePosMin / step);
    }

    //determine max index
    if (mousePosMax % step < paddingDistance) {
        //don't include on max side
        maxIndex = Math.floor(mousePosMax / step) - 1;
    } else {
        //include on max side
        maxIndex = Math.floor(mousePosMax / step);
        if (maxIndex === domain.length) {
            maxIndex -= 1;
        }
    }
    filteredAxisLabels = domain.slice(minIndex, maxIndex + 1);
    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

/**
* @name calculateBrushAreaLinear
* @desc calculates the linear values that are in the brushed area
* @param {number} mousePosMin - lower bound mouse position
* @param {number} mousePosMax - upper bound mouse position
* @param {object} scale - d3 axis scale
* @param {object} data - chartData
* @param {string} type - visual type
* @param {string} axis - x / y / z
* @return {Object} - object of filtered values
*/
function calculateBrushAreaLinear(mousePosMin, mousePosMax, scale, data, type, axis) {
    var filteredAxisLabels = [],
        min = void 0,
        max = void 0,
        axisLabel = void 0;

    //switch min and max if scale is y due to svg drawing (y axis increases up the screen while mousePos decreases)
    if (axis === 'y') {
        max = scale.invert(mousePosMin);
        min = scale.invert(mousePosMax);
    } else {
        min = scale.invert(mousePosMin);
        max = scale.invert(mousePosMax);
    }

    if (type === 'bar') {
        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = data.legendData[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                axisLabel = _step.value;
                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;

                try {
                    for (var _iterator2 = data.chartData[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                        var dataElement = _step2.value;

                        if (dataElement[axisLabel] >= min) {
                            filteredAxisLabels.push(dataElement[data.dataTable.label]);
                        }
                    }
                } catch (err) {
                    _didIteratorError2 = true;
                    _iteratorError2 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion2 && _iterator2.return) {
                            _iterator2.return();
                        }
                    } finally {
                        if (_didIteratorError2) {
                            throw _iteratorError2;
                        }
                    }
                }
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion && _iterator.return) {
                    _iterator.return();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }
    } else if (type === 'gantt') {
        max = new Date(max);
        min = new Date(min);
        for (var i = 0; i < data.legendData.length; i++) {
            var count = i + 1,
                startDate = void 0,
                endDate = void 0;
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = data.chartData[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var _dataElement = _step3.value;

                    startDate = new Date(_dataElement[data.dataTable['start ' + count]]);
                    endDate = new Date(_dataElement[data.dataTable['end ' + count]]);
                    if (startDate <= max && startDate >= min || endDate <= max && endDate >= min || startDate <= min && endDate >= max) {
                        filteredAxisLabels.push(_dataElement[data.dataTable.group]);
                    }
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }
        }
    } else if (type === 'line' || type === 'area' || type === 'singleaxis') {
        var _iteratorNormalCompletion4 = true;
        var _didIteratorError4 = false;
        var _iteratorError4 = undefined;

        try {
            for (var _iterator4 = data.legendData[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                axisLabel = _step4.value;
                var _iteratorNormalCompletion5 = true;
                var _didIteratorError5 = false;
                var _iteratorError5 = undefined;

                try {
                    for (var _iterator5 = data.chartData[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
                        var _dataElement2 = _step5.value;

                        if (_dataElement2[axisLabel] <= max && _dataElement2[axisLabel] >= min) {
                            filteredAxisLabels.push(_dataElement2[data.dataTable.label]);
                        }
                    }
                } catch (err) {
                    _didIteratorError5 = true;
                    _iteratorError5 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion5 && _iterator5.return) {
                            _iterator5.return();
                        }
                    } finally {
                        if (_didIteratorError5) {
                            throw _iteratorError5;
                        }
                    }
                }
            }
        } catch (err) {
            _didIteratorError4 = true;
            _iteratorError4 = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion4 && _iterator4.return) {
                    _iterator4.return();
                }
            } finally {
                if (_didIteratorError4) {
                    throw _iteratorError4;
                }
            }
        }
    } else if (type === 'scatterplot') {
        axisLabel = data.dataTable[axis];
        var _iteratorNormalCompletion6 = true;
        var _didIteratorError6 = false;
        var _iteratorError6 = undefined;

        try {
            for (var _iterator6 = data.chartData[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {
                var _dataElement3 = _step6.value;

                if (_dataElement3[axisLabel] <= max && _dataElement3[axisLabel] >= min) {
                    filteredAxisLabels.push(_dataElement3[data.dataTable.label]);
                }
            }
        } catch (err) {
            _didIteratorError6 = true;
            _iteratorError6 = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion6 && _iterator6.return) {
                    _iterator6.return();
                }
            } finally {
                if (_didIteratorError6) {
                    throw _iteratorError6;
                }
            }
        }
    } else if (type === 'heatmap') {
        axisLabel = data.dataTable[axis];
        var _iteratorNormalCompletion7 = true;
        var _didIteratorError7 = false;
        var _iteratorError7 = undefined;

        try {
            for (var _iterator7 = data.chartData[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {
                var _dataElement4 = _step7.value;

                if (_dataElement4[axisLabel] <= max && _dataElement4[axisLabel] >= min) {
                    filteredAxisLabels.push(_dataElement4[data.dataTable.label]);
                }
            }
        } catch (err) {
            _didIteratorError7 = true;
            _iteratorError7 = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion7 && _iterator7.return) {
                    _iterator7.return();
                }
            } finally {
                if (_didIteratorError7) {
                    throw _iteratorError7;
                }
            }
        }
    }

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

/**
* @name calculateHeatmapBrush
* @desc calculates values inside of brushed area of a heatmap
* @param {array} e - mouse extent for location of brushed area
* @param {array} data - chart data
* @param {array} chart - jvChart
* @return {object} - filtered data
*/
function calculateHeatmapBrush(e, data, chart) {
    var mouseXmin = e[0][0],
        mouseYmin = e[0][1],
        mouseXmax = e[1][0],
        mouseYmax = e[1][1],
        filteredXAxisLabels = [],
        filteredYAxisLabels = [],
        reset = true,
        xBucketMax = Math.floor(mouseXmax / chart._vars.heatGridSize) + 1,
        yBucketMax = Math.floor(mouseYmax / chart._vars.heatGridSize) + 1,
        xBucketMin = Math.floor(mouseXmin / chart._vars.heatGridSize),
        yBucketMin = Math.floor(mouseYmin / chart._vars.heatGridSize);

    for (var i = 0; i < xBucketMax; i++) {
        if (i >= xBucketMin) {
            filteredXAxisLabels.push(data.xAxisData.values[i]);
            reset = false;
        }
    }
    for (var _i2 = 0; _i2 < yBucketMax; _i2++) {
        if (_i2 >= yBucketMin) {
            filteredYAxisLabels.push(data.yAxisData.values[_i2]);
            reset = false;
        }
    }

    //Might need when new PKQL pixel... comes out
    //for (var i = 0; i < data.chartData.length; i++) {
    //var d = data.chartData[i];
    //if(filteredXAxisLabels.includes(d[data.dataTable.x]) && filteredYAxisLabels.includes(d[data.dataTable.y])) {
    //filteredDataX.push(d[data.dataTable.x]);
    //filteredDataY.push(d[data.dataTable.y]);
    //}
    //}

    return { filteredXAxisLabels: filteredXAxisLabels, filteredYAxisLabels: filteredYAxisLabels, shouldReset: reset };
}

/**
* @name calculateClustergramBrush
* @desc calculates values inside of brushed area of a clustergram
* @param {array} e - mouse extent for location of brushed area
* @param {array} data - chart data
* @param {array} chart - jvChart
* @return {object} - filtered data
*/
function calculateClustergramBrush(e, data, chart) {
    var mouseXmin = e[0][0],
        mouseYmin = e[0][1],
        mouseXmax = e[1][0],
        mouseYmax = e[1][1],
        filteredXAxisLabels = [],
        filteredYAxisLabels = [],
        reset = true,
        xBucketMax = Math.floor(mouseXmax / chart._vars.clustergramGridWidth) + 1,
        yBucketMax = Math.floor(mouseYmax / chart._vars.clustergramGridHeight) + 1,
        xBucketMin = Math.floor(mouseXmin / chart._vars.clustergramGridWidth),
        yBucketMin = Math.floor(mouseYmin / chart._vars.clustergramGridHeight);

    for (var i = 0; i < xBucketMax; i++) {
        if (i >= xBucketMin) {
            filteredXAxisLabels.push(data.xAxisData[i]);
            reset = false;
        }
    }
    for (var _i3 = 0; _i3 < yBucketMax; _i3++) {
        if (_i3 >= yBucketMin) {
            filteredYAxisLabels.push(data.yAxisData[_i3]);
            reset = false;
        }
    }

    //X Axis
    //Dynamically create arrays for each level of the hierarchy
    var xLevels = {};
    if (filteredXAxisLabels[0]) {
        var parentCountX = (filteredXAxisLabels[0].match(/\./g) || []).length;
        for (var _i4 = 0; _i4 < parentCountX + 1; _i4++) {
            xLevels[_i4] = [];
        }

        //Populate the hierarchy arrays with the labels of that respective hierarchy
        for (var _i5 = 0; _i5 < filteredXAxisLabels.length; _i5++) {
            if (filteredXAxisLabels[_i5]) {
                var xFields = filteredXAxisLabels[_i5].split(".");
                for (var k = 0; k < xFields.length; k++) {
                    if (xLevels[k].indexOf(xFields[k]) === -1) {
                        xLevels[k].push(xFields[k]);
                    }
                }
            }
        }
    }

    //Y Axis
    //Dynamically create arrays for each level of the hierarchy
    var yLevels = {};
    if (filteredYAxisLabels[0]) {
        var parentCountY = (filteredYAxisLabels[0].match(/\./g) || []).length;
        for (var _i6 = 0; _i6 < parentCountY + 1; _i6++) {
            yLevels[_i6] = [];
        }

        //Populate the hierarchy arrays with the labels of that respective hierarchy
        for (var _i7 = 0; _i7 < filteredYAxisLabels.length; _i7++) {
            if (filteredYAxisLabels[_i7]) {
                var yFields = filteredYAxisLabels[_i7].split(".");
                for (var _k = 0; _k < yFields.length; _k++) {
                    if (yLevels[_k].indexOf(yFields[_k]) === -1) {
                        yLevels[_k].push(yFields[_k]);
                    }
                }
            }
        }
    }

    return { filteredXAxisLabels: xLevels, filteredYAxisLabels: yLevels, shouldReset: reset };
}

module.exports = jvBrush;

},{}],4:[function(require,module,exports){
'use strict';
/***  jvCharts ***/

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var jvTip = require('./jvTip.js');

/**Create a jvCharts object
 * @constructor
 * @param {Object} configObj - Configuration object passed into jvCharts constructor
 * @param {string} configObj.type - The type of chart
 * @param {string} configObj.name - The name of the chart
 * @param {Object} configObj.container - The container of the chart
 * @param {Object} configObj.userOptions - UI options for the chart
 * @param {Object} configObj.tipConfig - Configuration object for jvTooltip
 * @param {Object} configObj.chartDiv - A div wrapper for the chart and other jv features
 */

var jvCharts = function () {
    function jvCharts(configObj) {
        _classCallCheck(this, jvCharts);

        var chart = this;
        configObj.type = configObj.type.toLowerCase();
        chart.chartDiv = configObj.chartDiv;
        configObj.options = cleanToolData(configObj.options, configObj.editOptions);
        chart._vars = chart.getDefaultOptions(configObj.options);
        chart.mode = configObj.mode || 'default-mode';

        //remove pieces from config that have been copied somewhere else
        delete configObj.chartDiv;
        delete configObj.options;
        delete configObj.mode;

        chart.config = configObj;
        chart.createTooltip();
        chart.setData();
        chart.paint();
    }

    _createClass(jvCharts, [{
        key: 'createTooltip',
        value: function createTooltip() {
            var chart = this;
            chart.tip = new jvTip({
                config: chart.config.tipConfig,
                chartDiv: chart.chartDiv
            });
        }
    }, {
        key: 'setData',
        value: function setData() {
            var chart = this;
            if (chart.config.setData) {
                chart.data = chart.config.setData;
                //refer to main data as chartData to keep naming separate and understandable
                chart.data.chartData = chart.config.setData.data;
                delete chart.data.data;

                chart.colors = chart.config.setData.colors;
                chart[chart.config.type].setData.call(chart);
            }
        }
    }, {
        key: 'checkDimensions',
        value: function checkDimensions() {
            var chart = this,
                dimensions = chart.chartDiv.node().getBoundingClientRect();
            if (dimensions.height > 50 && dimensions.width > 120) {
                return true;
            }
            console.log('Chart container is too small to paint');
            return false;
        }
    }, {
        key: 'paint',
        value: function paint(annimation) {
            var chart = this;
            if (chart.checkDimensions()) {
                if (chart.data && _typeof(chart[chart.config.type]) === 'object' && typeof chart[chart.config.type].paint === 'function') {
                    chart[chart.config.type].paint.call(chart, annimation);
                    chart.initializeModes();
                } else {
                    console.log('no paint function for: ' + chart.config.type);
                }
            }
        }
    }, {
        key: 'setAxisData',
        value: function setAxisData(axis, data, keys) {
            var chart = this,
                axisData = [],
                chartData = data.chartData,
                label = '',
                maxStack = 0,
                dataTableKeys = data.dataTableKeys,
                dataType = void 0;

            if (!dataTableKeys) {
                dataTableKeys = keys;
            }

            //Step 1: find out what the label is for the axis
            if (axis === 'x') {
                if (data.dataTable) {
                    if (data.dataTable.hasOwnProperty('label')) {
                        label = data.dataTable.label;
                    } else {
                        console.error("Label doesn't exist in dataTable");
                    }
                } else {
                    console.log('DataTable does not exist');
                }

                dataType = 'STRING';

                //Replace underscores with spaces
                label = label.replace(/_/g, ' ');

                //loop through data to populate axisData
                var _iteratorNormalCompletion = true;
                var _didIteratorError = false;
                var _iteratorError = undefined;

                try {
                    for (var _iterator = chartData[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                        var chartEle = _step.value;

                        if (chartEle[label] === null) {
                            axisData.push('NULL_VALUE');
                        } else if (chartEle[label] === '') {
                            axisData.push('EMPTY_STRING');
                        } else if (chartEle[label] || chartEle[label] === 0) {
                            axisData.push(chartEle[label]);
                        }
                    }
                } catch (err) {
                    _didIteratorError = true;
                    _iteratorError = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion && _iterator.return) {
                            _iterator.return();
                        }
                    } finally {
                        if (_didIteratorError) {
                            throw _iteratorError;
                        }
                    }
                }
            } else {
                if (dataTableKeys === undefined) {
                    console.error('dataTableKeys do not exist');
                }
                //Find the max value for Y Data
                var count = 0;

                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;

                try {
                    for (var _iterator2 = dataTableKeys[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                        var key = _step2.value;

                        if (key.vizType !== 'label' && key.vizType !== 'tooltip' && key.vizType !== 'series') {
                            label = key.varKey;
                            count++;
                        }
                    }
                } catch (err) {
                    _didIteratorError2 = true;
                    _iteratorError2 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion2 && _iterator2.return) {
                            _iterator2.return();
                        }
                    } finally {
                        if (_didIteratorError2) {
                            throw _iteratorError2;
                        }
                    }
                }

                dataType = getDataTypeFromKeys(label, dataTableKeys, 'NUMBER');

                //Add all values that are on yaxis to axis data
                var _iteratorNormalCompletion3 = true;
                var _didIteratorError3 = false;
                var _iteratorError3 = undefined;

                try {
                    for (var _iterator3 = chartData[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                        var _chartEle = _step3.value;

                        var stack = 0; //Keeps track of the maximum size of stacked data so that axis can be scaled to fit max size
                        for (var k in data.dataTable) {
                            if (_chartEle.hasOwnProperty(data.dataTable[k]) && k !== 'label' && k.indexOf('tooltip') === -1 && k !== 'series') {
                                stack += _chartEle[data.dataTable[k]];
                                axisData.push(_chartEle[data.dataTable[k]]);
                            }
                        }
                        if (stack > maxStack) {
                            maxStack = stack;
                        }
                    }

                    //If there are multiple values on the yAxis, don't specify a label
                } catch (err) {
                    _didIteratorError3 = true;
                    _iteratorError3 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion3 && _iterator3.return) {
                            _iterator3.return();
                        }
                    } finally {
                        if (_didIteratorError3) {
                            throw _iteratorError3;
                        }
                    }
                }

                if (count > 1) {
                    label = '';
                }
                label = label.replace(/_/g, ' ');
            }

            //Find the min and max of numeric data for building axes and add it to the returned object
            if (dataType === 'NUMBER') {
                var max = void 0,
                    min = void 0,
                    temp = void 0,
                    tempMin = void 0,
                    tempMax = void 0;
                if (chart._vars.stackToggle) {
                    max = maxStack;
                } else {
                    max = Math.max.apply(null, axisData);
                }

                min = Math.min.apply(null, axisData);
                min = Math.min(0, min);

                //Check if there's an axis min/max set
                if (axis === 'x') {
                    if (chart._vars.xMin != null && chart._vars.xMin !== 'none') {
                        min = chart._vars.xMin;
                    }
                    if (chart._vars.xMax != null && chart._vars.xMax !== 'none') {
                        max = chart._vars.xMax;
                    }
                } else if (axis === 'y') {
                    if (chart._vars.yMin != null && chart._vars.yMin !== 'none') {
                        min = chart._vars.yMin;
                    }
                    if (chart._vars.yMax != null && chart._vars.yMax !== 'none') {
                        max = chart._vars.yMax;
                    }
                }

                if (dataType === 'NUMBER' && axisData.length === 1) {
                    if (axisData[0] >= 0) {
                        axisData.unshift(0);
                    } else {
                        axisData.push(0);
                    }
                }

                tempMin = parseInt(min, 10);
                tempMax = parseInt(max, 10);
                //Make sure that axis min and max don't get flipped
                if (tempMin > tempMax) {
                    temp = min;
                    min = max;
                    max = temp;
                }

                return {
                    'label': label,
                    'values': axisData,
                    'dataType': dataType,
                    'min': min,
                    'max': max
                };
            }

            return {
                'label': label,
                'values': axisData,
                'dataType': dataType
            };
        }

        /**setFlippedSeries
         *  flips series and returns flipped data
         *
         * @params chartData, dataTable, dataLabel
         * @returns Object of data and table for flipped series
         */

    }, {
        key: 'setFlippedSeries',
        value: function setFlippedSeries(dataTableKeys) {
            var chart = this,
                chartData = chart.data.chartData,
                dataTable = chart.data.dataTable,
                dataLabel = chart.data.xAxisData.label,
                flippedData = [],
                flippedDataTable = {},
                valueCount = 1,
                filteredDataTableArray = [];

            for (var k in dataTable) {
                if (dataTable.hasOwnProperty(k)) {
                    var flippedObject = {};
                    if (dataTable[k] !== dataLabel) {
                        flippedObject[dataLabel] = dataTable[k];
                        var _iteratorNormalCompletion4 = true;
                        var _didIteratorError4 = false;
                        var _iteratorError4 = undefined;

                        try {
                            for (var _iterator4 = chartData[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                                var chartEle = _step4.value;

                                flippedObject[chartEle[dataLabel]] = chartEle[dataTable[k]];
                                if (filteredDataTableArray.indexOf(chartEle[dataLabel]) === -1) {
                                    flippedDataTable['value ' + valueCount] = chartEle[dataLabel];
                                    valueCount++;
                                    filteredDataTableArray.push(chartEle[dataLabel]);
                                }
                            }
                        } catch (err) {
                            _didIteratorError4 = true;
                            _iteratorError4 = err;
                        } finally {
                            try {
                                if (!_iteratorNormalCompletion4 && _iterator4.return) {
                                    _iterator4.return();
                                }
                            } finally {
                                if (_didIteratorError4) {
                                    throw _iteratorError4;
                                }
                            }
                        }

                        flippedData.push(flippedObject);
                    }
                }
            }
            flippedDataTable.label = dataLabel;
            chart.flippedData = { chartData: flippedData, dataTable: flippedDataTable };

            if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                chart.flippedData.xAxisData = chart.setAxisData('x', chart.flippedData, dataTableKeys);
                chart.flippedData.yAxisData = chart.setAxisData('y', chart.flippedData, dataTableKeys);
                chart.flippedData.legendData = setBarLineLegendData(chart.flippedData);
            } else {
                console.log('Add additional chart type to set flipped series');
            }
        }

        /**organizeChartData
         *  reorders all data based on the sortLabel and sortType
         *  -Only for chartData, does not work with flipped data
         *
         * @params sortLabel , sortType
         * @returns [] sorted data
         */

    }, {
        key: 'organizeChartData',
        value: function organizeChartData(sortParam, sortType) {
            var chart = this,
                organizedData = void 0,
                dataType = void 0,
                dataTableKeys = chart.data.dataTableKeys,
                sortLabel = sortParam;

            //If sortLabel doesn't exist, sort on the x axis label by default
            if (sortLabel === 'none') {
                var _iteratorNormalCompletion5 = true;
                var _didIteratorError5 = false;
                var _iteratorError5 = undefined;

                try {
                    for (var _iterator5 = dataTableKeys[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {
                        var key = _step5.value;

                        if (key.vizType === 'label') {
                            sortLabel = key.uri;
                            break;
                        }
                    }
                } catch (err) {
                    _didIteratorError5 = true;
                    _iteratorError5 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion5 && _iterator5.return) {
                            _iterator5.return();
                        }
                    } finally {
                        if (_didIteratorError5) {
                            throw _iteratorError5;
                        }
                    }
                }
            }

            //Remove underscores from sortLabel
            if (sortLabel) {
                sortLabel = sortLabel.replace(/_/g, ' ');
            }

            if (!chart.data.chartData[0][sortLabel]) {
                //Check if the sort label is a calculatedBy field
                var isValidSortLabel = false;
                var _iteratorNormalCompletion6 = true;
                var _didIteratorError6 = false;
                var _iteratorError6 = undefined;

                try {
                    for (var _iterator6 = dataTableKeys[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {
                        var _key = _step6.value;

                        if (_key.operation.hasOwnProperty('calculatedBy') && _key.operation.calculatedBy[0] === sortLabel) {
                            sortLabel = _key.uri.replace(/_/g, ' ');
                            isValidSortLabel = true;
                            break;
                        }
                    }
                    //If it's not a valid sort label, return and don't sort the data
                } catch (err) {
                    _didIteratorError6 = true;
                    _iteratorError6 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion6 && _iterator6.return) {
                            _iterator6.return();
                        }
                    } finally {
                        if (_didIteratorError6) {
                            throw _iteratorError6;
                        }
                    }
                }

                if (!isValidSortLabel) {
                    console.error('Not a valid sort');
                    //throw new Error('Not a valid sort');
                }
            }

            //Check the data type to determine which logic to flow through
            var _iteratorNormalCompletion7 = true;
            var _didIteratorError7 = false;
            var _iteratorError7 = undefined;

            try {
                for (var _iterator7 = dataTableKeys[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {
                    var _key2 = _step7.value;

                    //Loop through dataTableKeys to find sortLabel
                    if (_key2.uri.replace(/_/g, ' ') === sortLabel) {
                        dataType = _key2.type;
                        break;
                    }
                }

                //Date sorting
            } catch (err) {
                _didIteratorError7 = true;
                _iteratorError7 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion7 && _iterator7.return) {
                        _iterator7.return();
                    }
                } finally {
                    if (_didIteratorError7) {
                        throw _iteratorError7;
                    }
                }
            }

            if (dataType != null && dataType === 'DATE') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    return new Date(a[sortLabel]) - new Date(b[sortLabel]);
                });
            } else if (dataType != null && dataType === 'NUMBER') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        return a[sortLabel] - b[sortLabel];
                    }
                });
            } else {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        if (parseFloat(a[sortLabel]) < parseFloat(b[sortLabel])) {
                            //sort string ascending
                            return -1;
                        }
                        if (parseFloat(a[sortLabel]) > parseFloat(b[sortLabel])) {
                            return 1;
                        }
                        return 0;
                    }
                    if (a[sortLabel].toLowerCase() < b[sortLabel].toLowerCase()) {
                        //sort string ascending
                        return -1;
                    }
                    if (a[sortLabel].toLowerCase() > b[sortLabel].toLowerCase()) {
                        return 1;
                    }
                    return 0;
                });
            }

            switch (sortType) {
                case 'sortAscending':
                case 'ascending':
                    chart.data.chartData = organizedData;
                    break;
                case 'sortDescending':
                case 'descending':
                    chart.data.chartData = organizedData.reverse();
                    break;
                default:
                    chart.data.chartData = organizedData;
            }
        }

        /**setTipData
         *
         * creates data object to display in tooltip
         * @params
         * @returns {{}}
         */

    }, {
        key: 'setTipData',
        value: function setTipData(d, i) {
            var chart = this,
                data = chart.currentData.chartData,

            //Get Color from chartData and add to object
            color = chart._vars.color,
                title = d[chart.data.dataTable.label],
                dataTable = {};

            if (chart.config.type === 'treemap') {
                for (var item in d) {
                    if (item !== chart.data.dataTable.label && item !== 'Parent') {
                        dataTable[item] = d[item];
                    }
                }
            } else if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                title = data[i][chart.data.dataTable.label];
                for (var _item in data[i]) {
                    if (_item !== chart.data.dataTable.label) {
                        dataTable[_item] = data[i][_item];
                    } else {
                        continue;
                    }
                }
            } else if (chart.config.type === 'gantt') {
                //Calculate length of dates
                for (var _item2 in data[i]) {
                    if (data[i].hasOwnProperty(_item2) && _item2 !== chart.data.dataTable.group) {
                        dataTable[_item2] = data[i][_item2];
                    }
                }

                var start = void 0,
                    end = void 0,
                    difference = void 0,

                //Calculting duration of date ranges to add to tooltip
                numPairs = Math.floor(Object.keys(chart.data.dataTable).length / 2);

                for (var j = 1; j <= numPairs; j++) {
                    start = new Date(data[i][chart.data.dataTable['start ' + j]]);
                    end = new Date(data[i][chart.data.dataTable['end ' + j]]);
                    difference = end.getTime() - start.getTime();
                    dataTable['Duration ' + j] = Math.ceil(difference / (1000 * 60 * 60 * 24)) + ' days';
                }

                title = data[i][chart.data.dataTable.group];
            } else if (chart.config.type === 'pie' || chart.config.type === 'radial') {
                title = d.label;
                for (var _item3 in d) {
                    if (_item3 !== 'label') {
                        dataTable[_item3] = d[_item3];
                    } else {
                        continue;
                    }
                }
                delete dataTable.outerRadius;
            } else if (chart.config.type === 'circlepack' || chart.config.type === 'sunburst') {
                title = d.data.name;
                dataTable[chart.data.dataTable.value] = d.value;
            } else if (chart.config.type === 'cloud') {
                title = d[chart.data.dataTable.label];
                dataTable[chart.data.dataTable.value] = d[chart.data.dataTable.value];
                if (typeof d[chart.data.dataTable['tooltip 1']] !== 'undefined') {
                    dataTable[chart.data.dataTable['tooltip 1']] = d[chart.data.dataTable['tooltip 1']];
                }
            } else if (chart.config.type === 'heatmap') {
                title = d.yAxisName + ' to ' + d.xAxisName;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
                for (var tooltip in d) {
                    if (tooltip.indexOf('tooltip') > -1) {
                        dataTable[chart.data.dataTable[tooltip]] = d[tooltip];
                    }
                }
            } else if (chart.config.type === 'clustergram') {
                //title = d.y_path.replace(/\./g, '') + '</br>' + d.x_path.replace(/\./g, '');
                //Build strings for tooltip
                var yTemp = d.y_path.split('.'),
                    yTempString = '',
                    xTemp = d.x_path.split('.'),
                    xTempString = '';

                for (var k = 0; k < yTemp.length; k++) {
                    if (chart.data.dataTable['y_category ' + (k + 1)]) {
                        yTempString += yTemp[k] += ' (' + chart.data.dataTable['y_category ' + (k + 1)] + ')';
                    } else {
                        yTempString += yTemp[k] += ' (' + chart.data.dataTable['y_category'] + ')';
                    }

                    if (k !== yTemp.length - 1) {
                        yTempString += '  ';
                    }
                }
                for (var _k = 0; _k < xTemp.length; _k++) {
                    if (chart.data.dataTable['x_category ' + (_k + 1)]) {
                        xTempString += xTemp[_k] += ' (' + chart.data.dataTable['x_category ' + (_k + 1)] + ')';
                    } else {
                        xTempString += xTemp[_k] += ' (' + chart.data.dataTable['x_category'] + ')';
                    }

                    if (_k !== xTemp.length - 1) {
                        xTempString += '  ';
                    }
                }

                title = 'Y > ' + yTempString + '<br>' + 'X > ' + xTempString;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
                for (var _tooltip in d) {
                    if (_tooltip.indexOf('tooltip') > -1) {
                        dataTable[chart.data.dataTable[_tooltip]] = d[_tooltip];
                    }
                }
            } else if (chart.config.type === 'sankey') {
                title = d.source.name.slice(0, -2) + ' to ' + d.target.name.slice(0, -2);

                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
            } else if (chart.config.type === 'singleaxis') {
                title = d.data[chart.data.dataTable.label];

                for (var _item4 in chart.data.dataTable) {
                    if (_item4 !== 'label') {
                        dataTable[chart.data.dataTable[_item4]] = d.data[chart.data.dataTable[_item4]];
                    }
                }
            } else {
                for (var _item5 in d) {
                    if (_item5 !== chart.data.dataTable.label) {
                        dataTable[_item5] = d[_item5];
                    } else {
                        continue;
                    }
                }
            }

            return { 'data': d, 'tipData': dataTable, 'index': i, 'title': title, 'color': color, 'viz': chart.config.type };
        }

        /************************************************ Draw functions ******************************************************/

        /**generateSVG
         *creates an SVG element on the panel
         *
         * @params container, margin, name
         *
         */

    }, {
        key: 'generateSVG',
        value: function generateSVG(legendData, customMarginParam, customSizeParam) {
            var chart = this,
                margin = {},
                container = {},
                dimensions = chart.chartDiv.node().getBoundingClientRect(),
                customMargins = customMarginParam,
                customSize = customSizeParam,
                textWidth = void 0;

            if (chart._vars.customMargins) {
                customMargins = chart._vars.customMargins;
            }

            //set margins
            if (!customMargins) {
                //declare margins if they arent passed in
                margin = {
                    top: 55,
                    right: 50,
                    left: 100,
                    bottom: 70
                };
                if (legendData != null) {
                    if (legendData.length <= 3) {
                        margin.bottom = 70;
                    } else if (legendData.length <= 6) {
                        margin.bottom = 85;
                    } else {
                        margin.bottom = 130;
                    }
                }
            } else {
                margin = customMargins;
            }

            //reduce margins if legend is toggled off
            //TODO make this better
            if (chart._vars.toggleLegend === false) {
                if (chart.config.type === 'pie' || chart.config.type === 'radial' || chart.config.type === 'circlepack' || chart.config.type === 'heatmap') {
                    margin.left = 40;
                } else if (chart.config.type === 'treemap' || chart.config.type === 'bar' || chart.config.type === 'gantt' || chart.config.type === 'scatter' || chart.config.type === 'line') {
                    margin.bottom = 40;
                }
            }

            if (chart.config.type === 'clustergram') {
                textWidth = getMaxWidthForAxisData('y', chart.leftLabels, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                margin.left = Math.ceil(textWidth);
                if (margin.left < 30) {
                    margin.left = 30;
                }

                textWidth = getMaxWidthForAxisData('y', chart.rightLabels, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                margin.top = Math.ceil(textWidth);
                if (margin.top < 30) {
                    margin.top = 30;
                }
            }

            //set yAxis margins
            if (chart.currentData && chart.currentData.yAxisData) {
                textWidth = getMaxWidthForAxisData('y', chart.currentData.yAxisData, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                if (textWidth > 100 && chart.config.type === 'heatmap') {
                    textWidth = 100;
                }
                chart._vars.heatmapYmargin = textWidth;
                margin.left = Math.ceil(textWidth) + 30;
            }

            //set xAxis top margins
            if (chart.config.type === 'heatmap' && chart.currentData && chart.currentData.xAxisData) {
                textWidth = getMaxWidthForAxisData('x', chart.currentData.xAxisData, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                //subtract space for tilt
                textWidth = Math.ceil(textWidth);
                if (textWidth > 100) {
                    textWidth = 100;
                }
                //specific to heatmap
                if (chart.config.type === 'heatmap') {
                    if (textWidth > 100) {
                        textWidth = 100;
                    } else if (textWidth < 80) {
                        textWidth = 80;
                    }
                }
                chart._vars.heatmapXmargin = textWidth;
                margin.top = textWidth;
                customSize = {};
                //set container
                customSize.width = chart.currentData.xAxisData.values.length * 20;
                customSize.height = chart.currentData.yAxisData.values.length * 20;

                if (!chart._vars.toggleLegend) {
                    var dummyObj = {};
                    dummyObj.values = chart.data.heatData;
                    dummyObj.values.sort(function (a, b) {
                        return a - b;
                    });
                    dummyObj.label = '';
                    dummyObj.min = dummyObj.values[0];
                    dummyObj.max = dummyObj.values[dummyObj.values.length - 1];

                    textWidth = getMaxWidthForAxisData('y', dummyObj, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                    chart.config.heatWidth = Math.ceil(textWidth) + 30;
                    margin.left = margin.left + chart.config.heatWidth;
                }

                if (customSize.width + margin.left + margin.right < dimensions.width) {
                    margin.right = parseInt(dimensions.width, 10) - margin.left - customSize.width - 20;
                }
                if (customSize.height + margin.top + margin.bottom < dimensions.height) {
                    margin.bottom = parseInt(dimensions.height, 10) - margin.top - customSize.height - 10;
                }
                customSize.width += margin.right + margin.left;
                customSize.height += margin.top + margin.bottom;
            }

            //set container attributes
            //Set svg size based on calculation margins or custom size if specified
            if (customSize && customSize.hasOwnProperty('height')) {
                container.height = customSize.height - margin.top - margin.bottom;
            } else {
                container.height = parseInt(dimensions.height, 10) - margin.top - margin.bottom;
                if (container.height <= 50) {
                    margin.top = 10;
                    margin.bottom = 10;
                    container.height = parseInt(dimensions.height, 10) - margin.top - margin.bottom;
                    chart._vars.xLabelFontSize = 0;
                }
            }

            if (customSize && customSize.hasOwnProperty('width')) {
                container.width = customSize.width - margin.left - margin.right;
            } else {
                container.width = parseInt(dimensions.width, 10) - margin.left - margin.right;
            }

            //add margin and container to chart config object
            chart.config.margin = margin;
            chart.config.container = container;

            //remove old svg if it exists
            chart.svg = chart.chartDiv.select('svg').remove();

            //svg layer
            if (chart.config.type === 'heatmap' || chart.config.type === 'singleaxis') {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('class', 'container').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            } else if (chart.config.type === 'clustergram') {
                if (chart.data.chartData[2].length * 10 > container.width || chart.data.chartData[2].length * 10 > container.height) {
                    chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', chart.data.chartData[2].length * 10).attr('height', chart.data.chartData[2].length * 10).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
                } else {
                    chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width).attr('height', container.height).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
                }
            } else {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            }

            //TODO move to edit mode
            if (chart._vars.backgroundColor !== 'none') {
                chart.colorBackground(chart._vars.backgroundColor);
            }
        }

        /**generateXAxis
         * creates x axis on the svg
         *
         * @params xAxisData
         */

    }, {
        key: 'generateXAxis',
        value: function generateXAxis(xAxisData, ticks) {
            //declare variables
            var chart = this,
                xAxis = void 0,

            //Need to getXAxisScale each time so that axis updates on resize
            xAxisScale = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart._vars),
                containerHeight = chart.config.container.height,
                containerWidth = chart.config.container.width,
                xAxisClass = 'xAxisLabels editable editable-xAxis editable-text',
                tickSize = 0,
                axisHeight = containerHeight,
                xContent = void 0,
                xAxisGroup = void 0,
                formatValueType = void 0;

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (xAxisData.dataType === 'NUMBER') {
                xAxisClass += ' editable-num';
            }

            //remove previous xAxis container if its there
            chart.svg.selectAll('.xAxisContainer').remove();

            //Save the axis scale to chart object
            chart.currentData.xAxisScale = xAxisScale;

            if (chart.currentData.xAxisData.dataType === 'NUMBER') {
                tickSize = 5;
            }

            //create xAxis drawing function
            if (chart.config.type === 'singleaxis') {
                xAxis = d3.axisTop(xAxisScale).tickSize(tickSize);
            } else {
                xAxis = d3.axisBottom(xAxisScale).tickSize(tickSize);
            }

            if (ticks) {
                xAxis.ticks(ticks);
            }

            if (chart.config.type === 'singleaxis') {
                //For any axes that are on top of the data
                axisHeight = 0;
            }

            xContent = chart.svg.append('g').attr('class', 'xAxisContainer').attr('transform', 'translate(0,' + axisHeight + ')');

            xAxisGroup = xContent.append('g').attr('class', 'xAxis').call(xAxis);

            formatValueType = jvFormatValueType(xAxisData.values);

            //Styling the axis
            xAxisGroup.select('path').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.strokeWidth);

            //Styling for ticks
            xAxisGroup.selectAll('line').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.stroke);

            //Styling the labels for each piece of data
            xAxisGroup.selectAll('text').attr('fill', chart._vars.fontColor) //Customize the color of axis labels
            .attr('class', xAxisClass).style('text-anchor', 'middle').attr('font-size', chart._vars.fontSize).attr('transform', 'translate(0, 3)').text(function (d) {
                if (xAxisData.dataType === 'NUMBER' || chart._vars.rotateAxis) {
                    return jvFormatValue(d, formatValueType);
                }
                return d;
            });

            //Styling the label for the entire axis
            xContent.append('g').attr('class', 'xLabel').append('text').attr('class', 'xLabel editable editable-text editable-content').attr('text-anchor', 'middle').attr('font-size', chart._vars.fontSize).text(function () {
                if (xAxisData.dataType === 'DATE') {
                    return '';
                }
                return xAxisData.label;
            }).attr('transform', 'translate(' + containerWidth / 2 + ', 33)');
        }

        /**FormatXAxisLabels
         *
         * If x-axis labels are too long/overlapping, they will be hidden/shortened
         */

    }, {
        key: 'formatXAxisLabels',
        value: function formatXAxisLabels(dataLength, recursion) {
            var chart = this,
                showAxisLabels = true,
                xAxisLength = chart.config.container.width,
                textWidth = [],
                formatValueType = null,
                dataType = chart.currentData.xAxisData.dataType,
                axisValues = chart.currentData.xAxisData.values;

            if (dataType === 'NUMBER') {
                formatValueType = jvFormatValueType(axisValues);
            }

            //create dummy text to determine computed text length for the axis labels
            //necessary to do this because axis labels getBBox() is returning 0 since they do not seem to be drawn yet
            chart.svg.append('g').selectAll('.dummyText').data(axisValues).enter().append('text').attr('font-family', 'sans-serif').attr('font-size', chart._vars.fontSize).text(function (d) {
                var returnVal = d;
                if (dataType === 'NUMBER') {
                    returnVal = jvFormatValue(d, formatValueType);
                }
                return returnVal;
            }).each(function () {
                //adding 10px buffer
                var thisWidth = this.getComputedTextLength() + 10;
                textWidth.push(thisWidth);
                this.remove(); //remove them just after displaying them
            });

            var _iteratorNormalCompletion8 = true;
            var _didIteratorError8 = false;
            var _iteratorError8 = undefined;

            try {
                for (var _iterator8 = textWidth[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {
                    var textEle = _step8.value;

                    if (textEle > xAxisLength / dataLength) {
                        showAxisLabels = false;
                    }
                }
            } catch (err) {
                _didIteratorError8 = true;
                _iteratorError8 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion8 && _iterator8.return) {
                        _iterator8.return();
                    }
                } finally {
                    if (_didIteratorError8) {
                        throw _iteratorError8;
                    }
                }
            }

            if (showAxisLabels) {
                if (recursion) {
                    chart.generateXAxis(chart.currentData.xAxisData, dataLength);
                }
                chart.svg.selectAll('.xAxisLabels').style('display', 'block');
            } else if (dataLength > 1 && chart.currentData.xAxisData.dataType === 'NUMBER') {
                //recursively keep decreasing to figure out ticks length to repaint the xAxis if its numeric
                chart.formatXAxisLabels(dataLength - 1, true);
            } else {
                chart.svg.selectAll('.xAxis').selectAll('text').style('display', 'none');
            }
        }

        /**generateYAxis
         * creates y axis on the svg
         *
         * @params generateYAxis
         */

    }, {
        key: 'generateYAxis',
        value: function generateYAxis(yAxisData) {
            var chart = this,
                yAxisScale = jvCharts.getAxisScale('y', yAxisData, chart.config.container, chart._vars),
                yAxisClass = 'yAxisLabels editable editable-yAxis editable-text',
                maxYAxisLabelWidth = void 0,
                numberOfTicks = Math.floor(chart.config.container.height / 14),
                yAxis = void 0,
                yContent = void 0,
                yAxisGroup = void 0,
                forceFormatTypeTo = null,
                ylabel = '';

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (yAxisData.dataType === 'NUMBER') {
                yAxisClass += ' editable-num';
            }

            //Save y axis scale to chart object
            chart.currentData.yAxisScale = yAxisScale;

            //remove previous svg elements
            chart.svg.selectAll('.yAxisContainer').remove();
            chart.svg.selectAll('text.yLabel').remove();

            if (numberOfTicks > 10) {
                if (numberOfTicks < 20) {
                    numberOfTicks = 10;
                } else if (numberOfTicks < 30) {
                    numberOfTicks /= 2;
                } else {
                    numberOfTicks = 15;
                }
            }

            //If all y-axis values are the same, only show a tick for that value. If value is 1, don't show any decimal places
            if (yAxisData.values.length > 0 && !!yAxisData.values.reduce(function (a, b) {
                return a === b ? a : NaN;
            })) {
                numberOfTicks = 1;
                if (yAxisData.values[0] === 1) {
                    forceFormatTypeTo = 'nodecimals';
                }
            }
            yAxis = d3.axisLeft().ticks(numberOfTicks) //Link to D3.svg.axis options: https://github.com/mbostock/d3/wiki/SVG-Axes
            .scale(yAxisScale) //Sets the scale to use in the axis
            .tickSize(5) //Sets the thickness of the axis line
            .tickPadding(5);

            //Hide Axis values if necessary
            if (yAxisData.hideValues) {
                yAxis.tickFormat('');
            }
            if (chart._vars.displayYAxisLabel) {
                ylabel = yAxisData.label;
            }

            yContent = chart.svg.append('g').attr('class', 'yAxisContainer');

            yContent.append('g').attr('class', 'yLabel').append('text').attr('class', 'yLabel editable editable-text editable-content').attr('text-anchor', 'start').attr('font-size', chart._vars.fontSize).attr('x', 0).attr('y', 0).attr('transform', 'translate(' + (-chart.config.margin.left + 10) + ', -10)').text(ylabel).attr('fill-opacity', 1);

            yAxisGroup = yContent.append('g').attr('class', 'yAxis');

            yAxisGroup.call(yAxis);

            //Styling for Axis
            yAxisGroup.select('path').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.strokeWidth);

            maxYAxisLabelWidth = 0;

            if (yAxisData.hideValues) {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke-width', 0);
            } else {
                var formatValueType = jvFormatValueType(yAxisData.values);
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.stroke);
                //Styling for data labels on axis
                yAxisGroup.selectAll('text').attr('fill', chart._vars.fontColor) //Customize the color of axis labels
                .attr('class', yAxisClass).attr('transform', 'rotate(0)') //Add logic to rotate axis based on size of title
                .attr('font-size', chart._vars.fontSize).append('svg:title');

                yAxisGroup.selectAll('text').text(function (d) {
                    if (chart._vars.rotateAxis) {
                        return d;
                    }
                    var maxLength = 13,
                        current = '';
                    if (d.length > maxLength) {
                        current = d.substring(0, maxLength) + '...';
                    } else {
                        current = d;
                    }

                    if (forceFormatTypeTo !== null) {
                        formatValueType = forceFormatTypeTo;
                    }
                    return jvFormatValue(current, formatValueType);
                }).each(function (d, i, j) {
                    if (j[0].getBBox().width > maxYAxisLabelWidth) {
                        maxYAxisLabelWidth = j[0].getBBox().width;
                    }
                });
                if (maxYAxisLabelWidth > 0) {
                    chart._vars.yLabelWidth = Math.ceil(maxYAxisLabelWidth) + 20;
                }
            }
        }
        /************************************************ Legend functions ******************************************************/

    }, {
        key: 'generateLegend',
        value: function generateLegend(legendData, drawFunc) {
            var chart = this,
                svg = chart.svg,
                legendElements = void 0;
            svg.selectAll('.legend').remove();

            legendElements = generateLegendElements(chart, legendData, drawFunc);

            //Returns the legend rectangles that are toggled on/off
            if (drawFunc) {
                attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
            }

            if (chart._vars.thresholds !== 'none' && chart._vars.thesholdLegend === true) {
                if (chart.config.type === 'bar' || chart.config.type === 'area' || chart.config.type === 'line') {
                    if (chart.config.container.height > 300 && chart.config.container.width > 300) {
                        generateThresholdLegend(chart);
                    }
                }
            }

            if (!chart._vars.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**generateVerticalLegend
         *
         * creates and draws a vertical legend on the svg element
         * @params svg, legendData, options, container, chartData, xAxisData, yAxisData, chartType
         * @returns {{}}
         */

    }, {
        key: 'generateVerticalLegend',
        value: function generateVerticalLegend(paintFunc) {
            var chart = this,
                svg = chart.svg,
                legendData = chart.currentData.legendData,
                legendElements = void 0;

            svg.selectAll('.legend').remove();
            legendElements = generateVerticalLegendElements(chart, legendData, paintFunc);

            //Returns the legend rectangles that are toggled on/off
            if (paintFunc !== 'generatePack') {
                attachClickEventsToLegend(chart, legendElements, paintFunc, legendData);
            }

            if (!chart._vars.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**
         *
         * Generates a clip path that contains the contents of the chart area to the view of the chart area container
         * i.e - don't want bars going below the x axis
         */

    }, {
        key: 'generateClipPath',
        value: function generateClipPath() {
            var chart = this,
                svg = chart.svg,
                type = chart.config.type,
                containerName = '.' + type + '-container';

            svg.append('clipPath').attr('id', 'clip').append('rect').attr('x', 0).attr('y', 0).attr('width', chart.config.container.width).attr('height', chart.config.container.height);

            //Break this out into logic for all other vizzes that have overflow issues
            svg.select(containerName).attr('clip-path', 'url(#clip)');
        }
    }, {
        key: 'setThreshold',
        value: function setThreshold(data) {
            var chart = this,
                thresholds = chart._vars.thresholds,
                length = thresholds ? Object.keys(thresholds).length : 0;

            if (thresholds !== 'none') {
                for (var i = length - 1; i >= 0; i--) {
                    var threshold = thresholds[i];
                    //console.log(typeof data == "date");
                    if (data >= Number(threshold.threshold)) {
                        return 'rect-' + i;
                    }
                }
            }
            return '';
        }
    }, {
        key: 'generateLineThreshold',
        value: function generateLineThreshold() {
            var chart = this,
                svg = chart.svg,
                width = chart.config.container.width,
                height = chart.config.container.height,
                thresholds = chart._vars.thresholds,
                length = Object.keys(chart._vars.thresholds).length,
                x = chart.currentData.xAxisScale,
                y = chart.currentData.yAxisScale;

            if (thresholds !== 'none') {
                for (var i = 0; i < length; i++) {
                    var threshold = thresholds[i];
                    if (chart._vars.rotateAxis) {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                    } else {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                    }
                }
            }
        }
    }, {
        key: 'colorBackground',
        value: function colorBackground(color) {
            var chart = this;
            chart._vars.backgroundColor = color;
            chart.chartDiv.style('background-color', '' + color);
        }

        /**displayValues
         *
         * toggles data values that are displayed on the specific type of chart on the svg
         * @params svg, barData, options, xAxisData, yAxisData, container
         * @returns {{}}
         */

    }, {
        key: 'displayValues',
        value: function displayValues() {
            var chart = this,
                svg = chart.svg,
                container = chart.config.container,
                chartData = chart.data.chartData,
                xAxisData = chart.currentData.xAxisData,
                yAxisData = chart.currentData.yAxisData,
                legendOptions = chart._vars.legendOptions,
                cleanedChartData = JSON.parse(JSON.stringify(chartData)),
                data = [],
                //Only stores values
            posCalc,
                x,
                y,
                displayValuesGroup;

            //If series is flipped, use flipped data; initialize with the full data set
            if (chart._vars.seriesFlipped) {
                chartData = chart.flippedData.chartData;
                legendOptions = chart._vars.flippedLegendOptions;
            }

            if (chart._vars.displayValues === true) {
                svg.selectAll('.displayValueContainer').remove();
                if (legendOptions) {
                    //Checking which legend elements are toggled on resize
                    var _iteratorNormalCompletion9 = true;
                    var _didIteratorError9 = false;
                    var _iteratorError9 = undefined;

                    try {
                        for (var _iterator9 = cleanedChartData[Symbol.iterator](), _step9; !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {
                            var chartEle = _step9.value;
                            var _iteratorNormalCompletion10 = true;
                            var _didIteratorError10 = false;
                            var _iteratorError10 = undefined;

                            try {
                                for (var _iterator10 = legendOptions[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {
                                    var legendEle = _step10.value;

                                    if (legendEle.toggle === false) {
                                        delete chartEle[legendEle.element];
                                    }
                                }
                            } catch (err) {
                                _didIteratorError10 = true;
                                _iteratorError10 = err;
                            } finally {
                                try {
                                    if (!_iteratorNormalCompletion10 && _iterator10.return) {
                                        _iterator10.return();
                                    }
                                } finally {
                                    if (_didIteratorError10) {
                                        throw _iteratorError10;
                                    }
                                }
                            }
                        }
                    } catch (err) {
                        _didIteratorError9 = true;
                        _iteratorError9 = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion9 && _iterator9.return) {
                                _iterator9.return();
                            }
                        } finally {
                            if (_didIteratorError9) {
                                throw _iteratorError9;
                            }
                        }
                    }
                }

                var _iteratorNormalCompletion11 = true;
                var _didIteratorError11 = false;
                var _iteratorError11 = undefined;

                try {
                    for (var _iterator11 = cleanedChartData[Symbol.iterator](), _step11; !(_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done); _iteratorNormalCompletion11 = true) {
                        var _chartEle2 = _step11.value;

                        var val = getDisplayValuesElement(_chartEle2, chart.currentData.dataTable, chart.config.type);
                        data.push(val);
                    }
                } catch (err) {
                    _didIteratorError11 = true;
                    _iteratorError11 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion11 && _iterator11.return) {
                            _iterator11.return();
                        }
                    } finally {
                        if (_didIteratorError11) {
                            throw _iteratorError11;
                        }
                    }
                }

                posCalc = getPosCalculations(cleanedChartData, chart._vars, xAxisData, yAxisData, container, chart);
                x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
                y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

                if (chart._vars.rotateAxis) {
                    //Add a container for display values over each bar group
                    displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = y.paddingOuter() * y.step() + y.step() * i;
                        return 'translate(0,' + translate + ')';
                    });

                    displayValuesGroup.selectAll('text').data(function (d) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return posCalc.width(d, i, j) + posCalc.x(d, i, j);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return posCalc.y(d, i, j) + posCalc.height(d, i, j) / 2;
                    }).attr('dy', '.35em').attr('text-anchor', 'start').attr('fill', chart._vars.fontColor).text(function (d) {
                        var returnText = Math.round(d * 100) / 100; //round to 2 decimals
                        return jvFormatValue(returnText);
                    }).attr('font-size', chart._vars.fontSize);
                } else {
                    //Add a display values container over each bar group
                    displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = x.paddingOuter() * x.step() + x.step() * i;
                        return 'translate(' + translate + ',0)';
                    });
                    displayValuesGroup.selectAll('text').data(function (d) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return Math.round(posCalc.x(d, i, j) + posCalc.width(d, i, j) / 2);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return Math.round(posCalc.y(d, i, j)) - 3; //+ posCalc.height(d, i, j) - 5);
                    }).attr('text-anchor', 'middle').attr('fill', chart._vars.fontColor).text(function (d, i, j) {
                        if (chart._vars.stackToggle && chart._vars.displayValuesStackAsPercent) {
                            var total = 0;
                            for (var index = 0; index < j.length; index++) {
                                total += j[index].__data__;
                            }
                            return jvFormatValue(d / total, 'percent');
                        }

                        return jvFormatValue(d);
                    }).attr('font-size', chart._vars.fontSize);

                    if (chart._vars.stackToggle && chart._vars.displayValuesStackTotal) {
                        var stackCounter = 0;
                        svg.append('g').attr('class', 'displayStackTotal').selectAll('g').data(data).enter().append('g').attr('transform', function (d, i) {
                            var translate = x.paddingOuter() * x.step() + x.step() * i;
                            return 'translate(' + translate + ',0)';
                        }).selectAll('text').data(function (d) {
                            return d;
                        }).enter().append('text').attr('x', function (d, i, j) {
                            //sets the x position of the bar)
                            return Math.round(posCalc.x(d, i, j) + posCalc.width(d, i, j) / 2);
                        }).attr('y', function (d, i, j) {
                            //sets the y position of the bar
                            return Math.round(posCalc.y(d, i, j)) - 18; //+ posCalc.height(d, i, j) - 5);
                        }).attr('text-anchor', 'middle').attr('fill', chart._vars.fontColor).text(function (d, i, j) {
                            var yLength = chart.currentData.yAxisData.values.length,
                                xLength = chart.currentData.xAxisData.values.length,
                                indexMax = yLength / xLength,
                                stack = 0;
                            if (i + 1 === indexMax) {
                                for (var k = 0; j < indexMax; k++) {
                                    stack += chart.currentData.yAxisData.values[indexMax * stackCounter + k];
                                }
                                stackCounter++;
                                return jvFormatValue(stack);
                            }
                            return '';
                        }).attr('font-size', chart._vars.fontSize);
                    }
                }
            } else {
                svg.selectAll('.displayValueContainer').remove();
            }
        }
    }, {
        key: 'drawGridlines',
        value: function drawGridlines(axisData) {
            var chart = this,
                scaleData = void 0;

            chart.svg.selectAll('g.gridLines').remove();
            chart.svg.append('g').attr('class', 'gridLines');

            //Determine if gridlines are horizontal or vertical based on rotateAxis
            if (chart._vars.rotateAxis === true || chart.config.type === 'gantt' || chart.config.type === 'singleaxis') {
                var gridLineHeight = chart.config.container.height,
                    xAxisScale = jvCharts.getAxisScale('x', axisData, chart.config.container, chart._vars);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = xAxisScale.ticks(10);
                }

                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', function (d, i) {
                    return i > 0 ? xAxisScale(d) : 0;
                }).attr('x2', function (d, i) {
                    return i > 0 ? xAxisScale(d) : 0;
                }).attr('y1', 0).attr('y2', function (d, i) {
                    return i > 0 ? gridLineHeight : 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.gridLineStrokeWidth);
            } else {
                var gridLineWidth = chart.config.container.width,
                    yAxisScale = jvCharts.getAxisScale('y', axisData, chart.config.container, chart._vars);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = yAxisScale.ticks(10);
                }

                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', 0).attr('x2', function (d, i) {
                    return i > 0 ? gridLineWidth : 0;
                }).attr('y1', function (d, i) {
                    return i > 0 ? yAxisScale(d) : 0;
                }).attr('y2', function (d, i) {
                    return i > 0 ? yAxisScale(d) : 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.gridLineStrokeWidth);
            }
        }

        /**getBarDataFromOptions
        * ^^ not just a bar function, line and area also use it
        *
        * Assigns the correct chart data to current data using the chart.options
        */

    }, {
        key: 'getBarDataFromOptions',
        value: function getBarDataFromOptions() {
            var chart = this,
                dataObj = {},
                data = chart.data;

            //set flipped data if necessary
            if (chart._vars.seriesFlipped) {
                data = chart.flippedData;
            }

            dataObj.chartData = data.chartData;
            dataObj.legendData = data.legendData;
            dataObj.dataTable = data.dataTable;
            chart._vars.color = data.color;
            if (chart._vars.rotateAxis === true) {
                dataObj.xAxisData = data.yAxisData;
                dataObj.yAxisData = data.xAxisData;
            } else {
                dataObj.xAxisData = data.xAxisData;
                dataObj.yAxisData = data.yAxisData;
            }

            return dataObj;
        }

        /************************************************ Utility functions ******************************************************/

        /**highlightItems
         *
         * highlights items on the svg element
         * @params items, svg
         * @returns {{}}
         */

    }, {
        key: 'highlightItem',
        value: function highlightItem(items, tag, highlightIndex, highlightUri) {
            var chart = this,
                svg = chart.svg;

            //TODO remove if statements
            if (highlightIndex >= 0) {
                if (chart.config.type === 'pie') {
                    //set all circles stroke width to 0
                    svg.select('.pie-container').selectAll(tag).attr('stroke', chart._vars.pieBorder).attr('stroke-width', 1);
                    //highlight necessary pie slices
                    svg.select('.pie-container').selectAll(tag).filter('.highlight-class-' + highlightIndex).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
                if (chart.config.type === 'scatterplot') {
                    //set all circles stroke width to 0
                    svg.select('.scatter-container').selectAll(tag).attr('stroke-width', 0);
                    //highlight necessary scatter dots
                    svg.select('.scatter-container').selectAll(tag).filter('.scatter-circle-' + highlightIndex).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
            } else if (highlightUri) {
                if (chart.config.type === 'bar') {
                    //set all bars stroke width to 0
                    svg.select('.bar-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary bars
                    svg.select('.bar-container').selectAll('.highlight-class-' + highlightUri).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
                if (chart.config.type === 'line' || chart.config.type === 'area') {
                    //set all circles stroke width to 0
                    svg.select('.line-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary cirlces
                    svg.select('.line-container').selectAll(tag).filter('.highlight-class-' + highlightUri).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
            } else {
                console.log('need to pass highlight index to highlight item');
            }
        }

        /**
        *@desc Removes highlights that were applied with related insights
        *
        */

    }, {
        key: 'removeHighlight',
        value: function removeHighlight() {
            var chart = this,
                svg = chart.svg;
            if (chart.config.type === 'pie') {
                //set all circles stroke width to 0
                svg.select('.pie-container').selectAll('path').attr('stroke', chart._vars.pieBorder).attr('stroke-width', 0);
            }
            if (chart.config.type === 'scatterplot') {
                svg.select('.scatter-container').selectAll('circle').attr('stroke-width', 0);
            }
            if (chart.config.type === 'bar') {
                svg.select('.bar-container').selectAll('rect').attr('stroke', 0).attr('stroke-width', 0);
            }
            if (chart.config.type === 'line' || chart.config.type === 'area') {
                svg.select('.line-container').selectAll('circle').attr('stroke', 0).attr('stroke-width', 0);
            }
        }
    }]);

    return jvCharts;
}();

function jvFormatValue(val, formatType) {
    if (!isNaN(val)) {
        var formatNumber = d3.format('.0f');

        if (formatType === 'billions') {
            return formatNumber(val / 1e9) + 'B';
        } else if (formatType === 'millions') {
            return formatNumber(val / 1e6) + 'M';
        } else if (formatType === 'thousands') {
            return formatNumber(val / 1e3) + 'K';
        } else if (formatType === 'decimals') {
            formatNumber = d3.format('.2f');
            return formatNumber(val);
        } else if (formatType === 'nodecimals') {
            return formatNumber(val);
        } else if (formatType === 'percent') {
            var p = Math.max(0, d3.precisionFixed(0.05) - 2),
                expression = d3.format('.' + p + '%');
            return expression(val);
        } else if (formatType === '') {
            return val;
        }

        if (val === 0) {
            return 0;
        }

        if (Math.abs(val) >= 1000000000) {
            //Billions
            return formatNumber(val / 1e9) + 'B';
        } else if (Math.abs(val) >= 1000000) {
            //Millions
            return formatNumber(val / 1e6) + 'M';
        } else if (Math.abs(val) >= 1000) {
            //Thousands
            return formatNumber(val / 1e3) + 'K';
        } else if (Math.abs(val) <= 10) {
            //2 decimals
            formatNumber = d3.format('.2f');
        }
        return formatNumber(val);
    }
    return val;
}

/**
 * @param the set of values that you want to format uniformly
 * @return '' the level of formatting for the group of data
 * Problem with jvFormatValue function is that if you pass in values 10, 20... 90, 100, 1120, 120
 * you will get the formats 10.00, 20.00 .... 100, 110, 120 when you want 10, 20, ... 100, 110
 * --Format the value based off of the highest number in the group
 */
function jvFormatValueType(valueArray, dataType) {
    if (valueArray != null && dataType !== 'STRING') {
        var max = Math.max.apply(null, valueArray),

        //After getting the max, check the min
        min = Math.min.apply(null, valueArray),
            range = max - min,
            incrememnt = Math.abs(Math.round(range / 10)); //10 being the number of axis labels to show

        if (Math.abs(incrememnt) >= 1000000000) {
            return 'billions';
        } else if (Math.abs(incrememnt) >= 1000000) {
            return 'millions';
        } else if (Math.abs(incrememnt) >= 1000) {
            return 'thousands';
        } else if (Math.abs(incrememnt) <= 10) {
            return 'decimals';
        } else if (Math.abs(incrememnt) >= 10) {
            return 'nodecimals';
        }
    }
    return '';
}

/**getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '',
        p = void 0;
    if (option === 'currency') {
        expression = d3.format('$,');
    }
    if (option === 'fixedCurrency') {
        expression = d3.format('($.2f');
    }
    if (option === 'percent') {
        p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format('.' + p + '%');
    }
    if (option === 'millions') {
        p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix('.' + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(',.0f');
    }
    if (option === 'none' || option === '') {
        expression = d3.format('');
    }
    if (option === 'displayValues') {
        expression = d3.format(',.2f');
    }

    return expression;
}

/**getToggledData
 *
 * Gets the headers of the data to be drawn and filters the data based on that
 * @params chartData, dataHeaders
 */
function getToggledData(data, dataHeaders) {
    var legendToggleArray = getLegendElementToggleArray(dataHeaders, data.legendData),
        newData = JSON.parse(JSON.stringify(data.chartData));
    if (legendToggleArray) {
        for (var i = 0; i < data.chartData.length; i++) {
            var _iteratorNormalCompletion12 = true;
            var _didIteratorError12 = false;
            var _iteratorError12 = undefined;

            try {
                for (var _iterator12 = legendToggleArray[Symbol.iterator](), _step12; !(_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done); _iteratorNormalCompletion12 = true) {
                    var toggleKey = _step12.value;

                    if (toggleKey.toggle === false) {
                        delete newData[i][toggleKey.element];
                    }
                }
            } catch (err) {
                _didIteratorError12 = true;
                _iteratorError12 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion12 && _iterator12.return) {
                        _iterator12.return();
                    }
                } finally {
                    if (_didIteratorError12) {
                        throw _iteratorError12;
                    }
                }
            }
        }
    }
    return newData;
}

/**
 * @name getLegendElementToggleArray
 * @desc Gets an array of legend elements with true/false tags for if toggled
 * @param {any} selectedHeaders - headers selected by user
 * @param {any} allHeaders - all available headers in the visual
 * @returns {array} - array of legend elements
 */
function getLegendElementToggleArray(selectedHeaders, allHeaders) {
    var legendToggleArray = [];
    var _iteratorNormalCompletion13 = true;
    var _didIteratorError13 = false;
    var _iteratorError13 = undefined;

    try {
        for (var _iterator13 = allHeaders[Symbol.iterator](), _step13; !(_iteratorNormalCompletion13 = (_step13 = _iterator13.next()).done); _iteratorNormalCompletion13 = true) {
            var header = _step13.value;

            legendToggleArray.push({ element: header });
        }
    } catch (err) {
        _didIteratorError13 = true;
        _iteratorError13 = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion13 && _iterator13.return) {
                _iterator13.return();
            }
        } finally {
            if (_didIteratorError13) {
                throw _iteratorError13;
            }
        }
    }

    var _iteratorNormalCompletion14 = true;
    var _didIteratorError14 = false;
    var _iteratorError14 = undefined;

    try {
        for (var _iterator14 = legendToggleArray[Symbol.iterator](), _step14; !(_iteratorNormalCompletion14 = (_step14 = _iterator14.next()).done); _iteratorNormalCompletion14 = true) {
            var toggleKey = _step14.value;
            var _iteratorNormalCompletion15 = true;
            var _didIteratorError15 = false;
            var _iteratorError15 = undefined;

            try {
                for (var _iterator15 = selectedHeaders[Symbol.iterator](), _step15; !(_iteratorNormalCompletion15 = (_step15 = _iterator15.next()).done); _iteratorNormalCompletion15 = true) {
                    var _header = _step15.value;

                    if (toggleKey.element === _header) {
                        toggleKey.toggle = true;
                        continue;
                    }
                }
            } catch (err) {
                _didIteratorError15 = true;
                _iteratorError15 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion15 && _iterator15.return) {
                        _iterator15.return();
                    }
                } finally {
                    if (_didIteratorError15) {
                        throw _iteratorError15;
                    }
                }
            }

            if (toggleKey.toggle !== true) {
                toggleKey.toggle = false;
            }
        }
    } catch (err) {
        _didIteratorError14 = true;
        _iteratorError14 = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion14 && _iterator14.return) {
                _iterator14.return();
            }
        } finally {
            if (_didIteratorError14) {
                throw _iteratorError14;
            }
        }
    }

    return legendToggleArray;
}

/**
 * generateLegendElements
 *
 * @param {any} chart - chart object
 * @param {any} legendData -legend data for visual
 * @param {any} drawFunc - redraw function for visual
 * @returns {object} - legend rectangles
 */
function generateLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        legend = void 0,
        legendRow = 0,
        legendColumn = 0,
        legendDataLength = legendData.length,
        legendElementToggleArray = void 0,
        legendRectangles = void 0,
        legendText = void 0;

    if (!chart._vars.legendIndex) {
        chart._vars.legendIndex = 0;
    }

    if (!chart._vars.legendIndexMax) {
        chart._vars.legendIndexMax = Math.floor(legendDataLength / chart._vars.legendMax - 0.01);
    }

    //if legend headers don't exist, set them equal to legend data
    if (!chart._vars.legendHeaders && !chart._vars.seriesFlipped) {
        chart._vars.legendHeaders = JSON.parse(JSON.stringify(legendData));
    } else if (!chart._vars.flippedLegendHeaders && chart._vars.seriesFlipped) {
        chart._vars.flippedLegendHeaders = JSON.parse(JSON.stringify(legendData));
    }
    //Set legend element toggle array based on if series is flipped
    if (!chart._vars.seriesFlipped) {
        legendElementToggleArray = getLegendElementToggleArray(chart._vars.legendHeaders, legendData);
    } else {
        legendElementToggleArray = getLegendElementToggleArray(chart._vars.flippedLegendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend');

    //Adding colored rectangles to the legend
    legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', function (d, i) {
        var legendPos = void 0;
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos;
    }).attr('y', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % chart._vars.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1) - 5; //Increment row when column limit is reached
    }).attr('width', chart._vars.gridSize).attr('height', chart._vars.gridSize).attr('fill', function (d, i) {
        return getColors(chart._vars.color, i, legendData[i]);
    }).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', function (d, i) {
        if (!legendElementToggleArray) {
            return '1';
        }
        if (legendElementToggleArray[i].toggle === true) {
            return '1';
        }
        return '0.2';
    });

    legendRow = 0;
    legendColumn = 0;

    //Adding text labels for each rectangle in legend
    legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos + 17;
    }).attr('y', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % chart._vars.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1); //Increment row when column limit is reached
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', chart._vars.fontColor).attr('font-size', chart._vars.fontSize).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (chart.config.type === 'gantt') {
            elementName = legendData[i].slice(0, -5); //Removing last 5 characters of legend label---i.e plannedSTART -> planned
        }
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (chart._vars.legendIndexMax > 0) {
        createCarousel(chart, legendData, drawFunc);
    }
    //Centers the legend in the panel
    if (legend) {
        var legendWidth = legend.node().getBBox().width;
        legend.attr('transform', 'translate(' + (container.width - legendWidth) / 2 + ', 30)');
    }

    return legendRectangles;
}

/**updateDataFromLegend
 *
 * Returns a list of data headers that should be displayed in viz
 * based off what is toggled on/off in legend
 * @params legendData
 */
function updateDataFromLegend(legendData) {
    var data = [],
        legendElement = legendData[0];
    var _iteratorNormalCompletion16 = true;
    var _didIteratorError16 = false;
    var _iteratorError16 = undefined;

    try {
        for (var _iterator16 = legendElement[Symbol.iterator](), _step16; !(_iteratorNormalCompletion16 = (_step16 = _iterator16.next()).done); _iteratorNormalCompletion16 = true) {
            var ele = _step16.value;

            if (ele.attributes.opacity.value !== '0.2') {
                //If not white, add it to the updated data array
                data.push(ele.__data__);
            }
        }
    } catch (err) {
        _didIteratorError16 = true;
        _iteratorError16 = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion16 && _iterator16.return) {
                _iterator16.return();
            }
        } finally {
            if (_didIteratorError16) {
                throw _iteratorError16;
            }
        }
    }

    return data;
}

/**createCarousel
 *
 * Draws the horizontal legend carousel
 * @params chart, legendData, drawFunc
 */
function createCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        legendPolygon = void 0;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(0,0)').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (chart._vars.legendIndex >= 1) {
            chart._vars.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 12.5).style('text-anchor', 'start').style('font-size', chart._vars.fontSize).text(function () {
        return chart._vars.legendIndex + 1 + ' / ' + (chart._vars.legendIndexMax + 1);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(85,0)').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (chart._vars.legendIndex < chart._vars.legendIndexMax) {
            chart._vars.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === chart._vars.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });

    //Centers the legend polygons in the panel
    if (legendPolygon) {
        var legendPolygonWidth = legendPolygon.node().getBBox().width;
        legendPolygon.attr('transform', 'translate(' + (container.width - legendPolygonWidth) / 2 + ',' + (container.height + 105) + ')');
    }
}

/**getPlotData
 *
 * Returns only data values to be plotted; input is the data object
 * @params objectData, chart
 */
function getPlotData(objectData, chart) {
    var data = [],
        objDataNew = JSON.parse(JSON.stringify(objectData)); //Copy of barData
    var _iteratorNormalCompletion17 = true;
    var _didIteratorError17 = false;
    var _iteratorError17 = undefined;

    try {
        for (var _iterator17 = objDataNew[Symbol.iterator](), _step17; !(_iteratorNormalCompletion17 = (_step17 = _iterator17.next()).done); _iteratorNormalCompletion17 = true) {
            var objEle = _step17.value;

            var group = [];
            var _iteratorNormalCompletion18 = true;
            var _didIteratorError18 = false;
            var _iteratorError18 = undefined;

            try {
                for (var _iterator18 = chart.currentData.legendData[Symbol.iterator](), _step18; !(_iteratorNormalCompletion18 = (_step18 = _iterator18.next()).done); _iteratorNormalCompletion18 = true) {
                    var legendEle = _step18.value;

                    if (typeof objEle[legendEle] !== 'undefined') {
                        group.push(objEle[legendEle]);
                    }
                }
            } catch (err) {
                _didIteratorError18 = true;
                _iteratorError18 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion18 && _iterator18.return) {
                        _iterator18.return();
                    }
                } finally {
                    if (_didIteratorError18) {
                        throw _iteratorError18;
                    }
                }
            }

            data.push(group);
        }
    } catch (err) {
        _didIteratorError17 = true;
        _iteratorError17 = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion17 && _iterator17.return) {
                _iterator17.return();
            }
        } finally {
            if (_didIteratorError17) {
                throw _iteratorError17;
            }
        }
    }

    return data;
}

/**getPosCalculations
 *Holds the logic for positioning all bars on a bar chart (depends on toolData)
 *
 * @params svg, chartData, options, xAxisData, yAxisData, container
 * @returns {{}}
 */
function getPosCalculations(chartData, _vars, xAxisData, yAxisData, container, chart) {
    var x = jvCharts.getAxisScale('x', xAxisData, container, _vars),
        y = jvCharts.getAxisScale('y', yAxisData, container, _vars),
        scaleFactor = 1,
        data = [],
        size = 0,
        positionFunctions = {};

    for (var item in chart.currentData.dataTable) {
        if (item !== 'label' && item.indexOf('tooltip') === -1) {
            size++;
        }
    }

    var _iteratorNormalCompletion19 = true;
    var _didIteratorError19 = false;
    var _iteratorError19 = undefined;

    try {
        for (var _iterator19 = chartData[Symbol.iterator](), _step19; !(_iteratorNormalCompletion19 = (_step19 = _iterator19.next()).done); _iteratorNormalCompletion19 = true) {
            var chartEle = _step19.value;

            var val = [];
            for (var key in chartEle) {
                if (chartEle.hasOwnProperty(key)) {
                    val.push(chartEle[key]);
                }
            }
            data.push(val.slice(1, chartEle.length));
        }
    } catch (err) {
        _didIteratorError19 = true;
        _iteratorError19 = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion19 && _iterator19.return) {
                _iterator19.return();
            }
        } finally {
            if (_didIteratorError19) {
                throw _iteratorError19;
            }
        }
    }

    if (_vars.rotateAxis === true && _vars.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return 0;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function () {
            return y.bandwidth() * 0.95;
        };
        positionFunctions.x = function (d, i, j) {
            var increment = 0; //Move the x up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return x(increment) === 0 ? 1 : x(increment);
        };
        positionFunctions.y = function () {
            return 0;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() * 0.95;
        };
    } else if (_vars.rotateAxis === true && _vars.stackToggle === false) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function () {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
        positionFunctions.x = function (d) {
            return x(0) - x(d) > 0 ? x(d) : x(0);
        };
        positionFunctions.y = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
    } else if (_vars.rotateAxis === false && _vars.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function () {
            return 0;
        };
        positionFunctions.y = function (d, i, j) {
            var increment = 0; //Move the y up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return y(parseFloat(d) + increment);
        };
        positionFunctions.width = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.height = function (d) {
            return container.height - y(d);
        };
    } else if (_vars.rotateAxis === false && _vars.stackToggle === false) {
        positionFunctions.startx = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.y = function (d) {
            return y(0) - y(d) > 0 ? y(d) : y(0);
        };
        positionFunctions.width = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.height = function (d) {
            return Math.abs(y(0) - y(d));
        };
    }
    return positionFunctions;
}

/**getColors
 *
 * gets the colors to apply to the specific chart
 * @params colorObj, index, label
 * @returns {{}}
 */
function getColors(colorObj, paramIndex, label) {
    var index = paramIndex,
        cleanedColors = void 0;

    //logic to return the color if the colorObj passed in
    //is an object with the label being the key
    if (typeof label !== 'undefined' && colorObj.hasOwnProperty(label) && colorObj[label]) {
        return colorObj[label];
    }

    if (!Array.isArray(colorObj)) {
        cleanedColors = [];
        for (var k in colorObj) {
            if (colorObj.hasOwnProperty(k)) {
                if (colorObj[k]) {
                    cleanedColors.push(colorObj[k]);
                }
            }
        }
    } else {
        cleanedColors = colorObj;
    }

    //logic to return a repeating set of colors assuming that
    //the user changed data (ex: flip series on bar chart)
    if (!cleanedColors[index]) {
        while (index > cleanedColors.length - 1) {
            index = index - cleanedColors.length;
        }
    }
    return cleanedColors[index];
}

function getAxisScale(whichAxis, axisData, container, _vars, paddingType) {
    var leftPadding = 0.4,
        rightPadding = 0.2,
        axisScale = void 0,
        axis = void 0,
        minDate = void 0,
        maxDate = void 0;

    if (paddingType === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    whichAxis === 'x' ? axis = container.width : axis = container.height;

    if (axisData.dataType === 'DATE') {
        var _iteratorNormalCompletion20 = true;
        var _didIteratorError20 = false;
        var _iteratorError20 = undefined;

        try {
            for (var _iterator20 = axisData.values[Symbol.iterator](), _step20; !(_iteratorNormalCompletion20 = (_step20 = _iterator20.next()).done); _iteratorNormalCompletion20 = true) {
                var axisValue = _step20.value;

                axisValue = new Date(axisValue);
            }
        } catch (err) {
            _didIteratorError20 = true;
            _iteratorError20 = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion20 && _iterator20.return) {
                    _iterator20.return();
                }
            } finally {
                if (_didIteratorError20) {
                    throw _iteratorError20;
                }
            }
        }

        maxDate = Math.max.apply(null, axisData.values);
        minDate = Math.min.apply(null, axisData.values);

        axisScale = d3.scaleTime().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, axis]);
    } else if (axisData.dataType === 'STRING') {
        axisScale = d3.scaleBand().domain(axisData.values).range([0, axis]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (axisData.dataType === 'NUMBER') {
        var domain = void 0;
        if (_vars.xReversed || _vars.yReversed) {
            if (_vars.xReversed && whichAxis === 'x' || whichAxis === 'y' && !_vars.yReversed) {
                domain = [axisData.max, axisData.min];
            }
            if (_vars.yReversed && whichAxis === 'y' || whichAxis === 'x' && !_vars.xReversed) {
                domain = [axisData.min, axisData.max];
            }
        } else {
            whichAxis === 'x' ? domain = [axisData.min, axisData.max] : domain = [axisData.max, axisData.min];
        }

        if (_vars.hasOwnProperty('axisType') && _vars.axisType === 'Logarithmic') {
            domain[1] = 0.1;
            axisScale = d3.scaleLog().base(10).domain(domain).rangeRound([0, axis]);
        } else {
            axisScale = d3.scaleLinear().domain(domain).rangeRound([0, axis]);
        }
    } else {
        console.error('Axis is not a valid data type');
        //throw new Error('Axis is not a valid data type');
    }
    return axisScale;
}

/************************************************ Data functions ******************************************************/

/**
 * @function
 * @param {string} label - The field that is checked for type
 * @param {Object} dataTableKeys - Object that contains the data type for each column of data
 */
function getDataTypeFromKeys(label, dataTableKeys) {
    var defaultType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'STRING';

    var type = defaultType;

    var _iteratorNormalCompletion21 = true;
    var _didIteratorError21 = false;
    var _iteratorError21 = undefined;

    try {
        for (var _iterator21 = dataTableKeys[Symbol.iterator](), _step21; !(_iteratorNormalCompletion21 = (_step21 = _iterator21.next()).done); _iteratorNormalCompletion21 = true) {
            var key = _step21.value;

            //Replace underscores with spaces
            if (key.varKey.replace(/_/g, ' ') === label.replace(/_/g, ' ')) {
                if (key.hasOwnProperty('type')) {
                    type = key.type;
                    if (type === 'STRING') {
                        type = 'STRING';
                    } else if (type === 'DATE') {
                        type = 'DATE';
                    } else if (type === 'NUMBER') {
                        type = 'NUMBER';
                    } else {
                        type = 'NUMBER';
                    }
                    break;
                }
            }
        }
    } catch (err) {
        _didIteratorError21 = true;
        _iteratorError21 = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion21 && _iterator21.return) {
                _iterator21.return();
            }
        } finally {
            if (_didIteratorError21) {
                throw _iteratorError21;
            }
        }
    }

    return type;
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/**setChartColors
 *  cleans incoming colors for consistency
 *
 * @params colorArray, legendData
 * @returns object with colors
 */

function setChartColors(toolData, legendData, defaultColorArray) {
    //function handles 3 color inputs
    //toolData as an array in toolData
    //toolData as an object
    //toolData as 'none'
    //any other case will result in using defaultColorArray

    var colors = {},
        usedColors = [],
        unaccountedLegendElements = [],
        toolDataAsArray = void 0;

    //toolData is array
    if (Array.isArray(toolData)) {
        if (toolData.length > 0) {
            colors = createColorsWithDefault(legendData, toolData);
        } else {
            colors = createColorsWithDefault(legendData, defaultColorArray);
        }
    } else if (toolData === Object(toolData)) {
        var _iteratorNormalCompletion22 = true;
        var _didIteratorError22 = false;
        var _iteratorError22 = undefined;

        try {
            for (var _iterator22 = legendData[Symbol.iterator](), _step22; !(_iteratorNormalCompletion22 = (_step22 = _iterator22.next()).done); _iteratorNormalCompletion22 = true) {
                var legendEle = _step22.value;

                if (toolData.hasOwnProperty(legendEle)) {
                    usedColors.push(toolData[legendEle]);
                } else {
                    unaccountedLegendElements.push(legendEle);
                }
            }
            //check if object has desired keys
        } catch (err) {
            _didIteratorError22 = true;
            _iteratorError22 = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion22 && _iterator22.return) {
                    _iterator22.return();
                }
            } finally {
                if (_didIteratorError22) {
                    throw _iteratorError22;
                }
            }
        }

        if (usedColors.length === legendData.length) {
            colors = toolData;
        } else if (usedColors.length > 0) {
            toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        } else {
            toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        }
    } else {
        colors = createColorsWithDefault(legendData, defaultColorArray);
    }

    return colors;
}

function createColorsWithDefault(legendData, colors) {
    var mappedColors = {},
        count = 0;
    var _iteratorNormalCompletion23 = true;
    var _didIteratorError23 = false;
    var _iteratorError23 = undefined;

    try {
        for (var _iterator23 = legendData[Symbol.iterator](), _step23; !(_iteratorNormalCompletion23 = (_step23 = _iterator23.next()).done); _iteratorNormalCompletion23 = true) {
            var legendEle = _step23.value;

            if (count > colors.length - 1) {
                count = 0;
            }
            mappedColors[legendEle] = colors[count];
            count++;
        }
    } catch (err) {
        _didIteratorError23 = true;
        _iteratorError23 = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion23 && _iterator23.return) {
                _iterator23.return();
            }
        } finally {
            if (_didIteratorError23) {
                throw _iteratorError23;
            }
        }
    }

    return mappedColors;
}

/**cleanToolData
 *  cleans incoming toolData for consistency
 *
 * @param toolData
 * @returns object with tooldata
 */
function cleanToolData() {
    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
    var editOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var data = options;

    if (!data.hasOwnProperty('rotateAxis')) {
        data.rotateAxis = false;
    }
    if (data.hasOwnProperty('stackToggle')) {
        if (data.stackToggle === 'stack-data' || data.stackToggle === true) {
            data.stackToggle = true;
        } else {
            data.stackToggle = false;
        }
    } else {
        data.stackToggle = false;
    }
    if (data.hasOwnProperty('colors')) {
        data.color = data.colors;
    }
    if (!data.hasOwnProperty('thresholds')) {
        data.thresholds = [];
    }

    //These are used in setting dynamic margins on the y Axis in jvCharts
    if (editOptions && editOptions.hasOwnProperty('yAxis') && editOptions.yAxis.hasOwnProperty('editable-text-size')) {
        data.yLabelFontSize = editOptions.yAxis['editable-text-size'];
        data.yLabelFormat = editOptions.yAxis['editable-num-format'];
    }
    return data;
}

function getMaxWidthForAxisData(axis, axisData, _vars, dimensions, margin, chartDiv) {
    var maxAxisText = '',
        formatType = void 0,
        dummySVG = void 0,
        axisDummy = void 0,
        width = void 0;
    //Dynamic left margin for charts with y axis
    if (_vars.rotateAxis) {
        //get length of longest text label and make the axis based off that
        var maxString = '',
            height = parseInt(dimensions.height, 10) - margin.top - margin.bottom;

        //check if labels should be shown
        if (height !== 0 && height / axisData.values.length < parseInt(_vars.fontSize, 10)) {
            axisData.hideValues = true;
        } else {
            var _iteratorNormalCompletion24 = true;
            var _didIteratorError24 = false;
            var _iteratorError24 = undefined;

            try {
                for (var _iterator24 = axisData.values[Symbol.iterator](), _step24; !(_iteratorNormalCompletion24 = (_step24 = _iterator24.next()).done); _iteratorNormalCompletion24 = true) {
                    var axisValue = _step24.value;

                    var currentStr = axisValue.toString();
                    if (currentStr.length > maxString.length) {
                        maxString = currentStr;
                    }
                }
            } catch (err) {
                _didIteratorError24 = true;
                _iteratorError24 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion24 && _iterator24.return) {
                        _iterator24.return();
                    }
                } finally {
                    if (_didIteratorError24) {
                        throw _iteratorError24;
                    }
                }
            }

            maxAxisText = maxString;
        }
    } else if (!!_vars.yLabelFormat || !!_vars.xLabelFormat) {
        var labelFormat = _vars.yLabelFormat,
            expression = void 0;
        if (axis === 'x') {
            labelFormat = _vars.xLabelFormat;
        }

        formatType = jvFormatValueType(axisData.values);
        expression = getFormatExpression(labelFormat);

        if (expression !== '') {
            maxAxisText = expression(axisData.max);
        } else {
            maxAxisText = jvFormatValue(axisData.max);
        }
    } else {
        formatType = jvFormatValueType(axisData.values);
        if (!axisData.hasOwnProperty('max')) {
            var maxLength = 0;
            var _iteratorNormalCompletion25 = true;
            var _didIteratorError25 = false;
            var _iteratorError25 = undefined;

            try {
                for (var _iterator25 = axisData.values[Symbol.iterator](), _step25; !(_iteratorNormalCompletion25 = (_step25 = _iterator25.next()).done); _iteratorNormalCompletion25 = true) {
                    var _axisValue = _step25.value;

                    if (_axisValue && _axisValue.length > maxLength) {
                        maxLength = _axisValue.length;
                        maxAxisText = _axisValue;
                    }
                }
            } catch (err) {
                _didIteratorError25 = true;
                _iteratorError25 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion25 && _iterator25.return) {
                        _iterator25.return();
                    }
                } finally {
                    if (_didIteratorError25) {
                        throw _iteratorError25;
                    }
                }
            }
        } else {
            maxAxisText = jvFormatValue(axisData.max, formatType);
        }
    }

    //if (type === 'heatmap') {
    ////also need to check width of label
    //if (maxAxisText.length < axisData.label.length + 5) {
    ////need added space
    //if (axis === 'x') {
    //maxAxisText = axisData.label;
    //} else {
    //maxAxisText = axisData.label + 'Extra';
    //}
    //}
    //}

    //Create dummy svg to place max sized text element on
    dummySVG = chartDiv.append('svg').attr('class', 'dummy-svg');

    //Create dummy text element
    axisDummy = dummySVG.append('text').attr('font-size', function () {
        if (axis === 'y' && _vars.yLabelFontSize !== 'none') {
            return _vars.yLabelFontSize;
        }
        if (axis === 'x' && _vars.xLabelFontSize !== 'none') {
            return _vars.xLabelFontSize;
        }
        return _vars.fontSize;
    }).attr('x', 0).attr('y', 0).text(maxAxisText);

    //Calculate the width of the dummy text
    width = axisDummy.node().getBBox().width;
    //Remove the svg and text element
    chartDiv.select('.dummy-svg').remove();
    return width;
}

function getDisplayValuesElement(object, dataTableAlign, type) {
    var valuesArray = [];

    if (type === 'bar' || type === 'pie' || type === 'line' || type === 'area') {
        for (var key in dataTableAlign) {
            if (dataTableAlign.hasOwnProperty(key)) {
                if (key.indexOf('value') > -1) {
                    valuesArray.push(object[dataTableAlign[key]]);
                }
            }
        }
    } else {
        for (var _key3 in object) {
            if (object.hasOwnProperty(_key3)) {
                valuesArray.push(object[_key3]);
            }
        }
    }
    return valuesArray;
}

/**getZScale
 *
 * gets the scale for the z axis
 * @params zAxisData, container, padding
 * @returns {{}}
 */
function getZScale(zAxisData, container, _vars) {
    var zAxisScale = d3.scaleLinear().domain([d3.min(zAxisData.values), d3.max(zAxisData.values)]).rangeRound([_vars.NODE_MIN_SIZE, _vars.NODE_MAX_SIZE]).nice();
    return zAxisScale;
}

/**generateEventGroups
 *
 *
 * @params chartContainer, barData, chart
 */
function generateEventGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        dataToPlot = jvCharts.getPlotData(barData, chart),
        eventGroups = void 0;

    //Invisible rectangles on screen that represent bar groups. Used to show/hide tool tips on hover
    eventGroups = chartContainer.data(dataToPlot).enter().append('rect').attr('class', 'event-rect')
    //sets the x position of the bar
    .attr('x', function (d, i) {
        return chart._vars.rotateAxis ? 0 : container.width / barData.length * i;
    })
    //sets the y position of the bar
    .attr('y', function (d, i) {
        return chart._vars.rotateAxis ? container.height / barData.length * i : 0;
    })
    //sets the width position of the bar
    .attr('width', function () {
        return chart._vars.rotateAxis ? container.width : container.width / barData.length;
    })
    //sets the height position of the bar
    .attr('height', function () {
        return chart._vars.rotateAxis ? container.height / barData.length : container.height;
    }).attr('fill', 'transparent').attr('class', function (d, i) {
        return 'event-rect editable-bar bar-col-' + String(barData[i][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '_dot_');
    });

    return eventGroups;
}

function generateThresholdLegend(chart) {
    var svg = chart.svg,
        colorLegendData = [],
        gLegend = void 0,
        legend = void 0;
    if (chart._vars.thresholds !== 'none') {
        for (var j = 0; j < Object.keys(chart._vars.thresholds).length; j++) {
            colorLegendData.push(chart._vars.thresholds[j].thresholdName);
        }
    }

    gLegend = svg.append('g').attr('class', 'thresholdLegendContainer');

    legend = gLegend.selectAll('.thresholdLegend').data(colorLegendData).enter().append('g').attr('class', 'thresholdLegend').attr('transform', function (d, i) {
        var height = 19,
            offset = 19 * colorLegendData.length / 2,
            horz = -2 * 12,
            vert = i * height - offset;
        return 'translate(' + horz + ',' + vert + ')';
    });

    legend.append('rect').attr('width', 12).attr('height', 12).style('fill', function (d, i) {
        return chart._vars.thresholds[i].thresholdColor;
    });

    legend.append('text').attr('x', 24).attr('y', 8).attr('font-size', '.75em').text(function (d) {
        return d;
    });

    //Centers the legend in the panel
    if (gLegend) {
        var legendWidth = gLegend.node().getBBox().width;
        gLegend.attr('transform', 'translate(' + (chart.config.container.width - legendWidth) + ',' + 10 * colorLegendData.length + ')');
    }
}

function attachClickEventsToLegend(chart, legendElements, drawFunc) {
    //Adding the click event to legend rectangles for toggling on/off
    legendElements.on('click', function () {
        var selectedRect = d3.select(this),
            dataHeaders = void 0;

        if (selectedRect._groups[0][0].attributes.opacity.value !== '0.2') {
            selectedRect.attr('opacity', '0.2');
        } else {
            selectedRect.attr('opacity', '1');
        }

        //Gets the headers of the data to be drawn
        dataHeaders = updateDataFromLegend(legendElements._groups);
        //Sets the legendData to the updated headers
        if (chart._vars.seriesFlipped) {
            chart._vars.flippedLegendHeaders = dataHeaders;
        } else {
            chart._vars.legendHeaders = dataHeaders;
        }

        //Plots the data
        chart._vars.transitionTime = 800; //Keep transition for toggling legend elements
        if (chart._vars.seriesFlipped) {
            chart[drawFunc](chart.flippedData);
        } else {
            chart[drawFunc](chart.data);
        }
        if (chart.applyEditMode) {
            chart.applyEditMode();
        }
    });
}

/**generateVerticalLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateVerticalLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        legend = void 0,
        legendDataLength = legendData.length,
        legendElementToggleArray = void 0,
        legendRectangles = void 0,
        legendText = void 0;

    chart._vars.gridSize = 20;

    if (!chart._vars.legendIndex) {
        chart._vars.legendIndex = 0;
    }

    if (!chart._vars.legendIndexMax) {
        chart._vars.legendIndexMax = Math.floor(legendDataLength / chart._vars.legendMax - 0.01);
    }

    //Check to see if legend element toggle array needs to be set
    if (chart._vars.legendIndexMax >= 0) {
        if (!chart._vars.legendHeaders) {
            chart._vars.legendHeaders = JSON.parse(JSON.stringify(legendData));
        }

        legendElementToggleArray = getLegendElementToggleArray(chart._vars.legendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend').attr('transform', 'translate(' + 18 + ',' + 20 + ')');

    //Adding colored rectangles to the legend
    legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', '3').attr('y', function (d, i) {
        return chart._vars.gridSize * (i % chart._vars.legendMax) * 1.1;
    }).attr('width', chart._vars.gridSize).attr('height', chart._vars.gridSize).attr('fill', function (d, i) {
        if (!legendElementToggleArray && !chart._vars.seriesFlipped || chart._vars.seriesFlipped && !legendElementToggleArray) {
            return getColors(chart._vars.color, i, legendData[i]);
        }
        if (!chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true || chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true) {
            return getColors(chart._vars.color, i, legendData[i]);
        }
        return chart._vars.emptyLegendSquare;
    }).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', '1');

    //Adding text labels for each rectangle in legend
    legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', chart._vars.gridSize + 7).attr('y', function (d, i) {
        return chart._vars.gridSize * (i % chart._vars.legendMax) * 1.1 + 10;
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', chart._vars.fontColor).attr('font-size', chart._vars.fontSize).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (chart._vars.legendIndexMax > 0) {
        createVerticalCarousel(chart, legendData, drawFunc);
    }

    return legendRectangles;
}

/**createVerticalCarousel
 *
 * Draws the vertical legend carousel
 * @params chart, legendData, drawFunc
 */
function createVerticalCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        legendPolygon = void 0;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(0,' + (chart._vars.legendMax * chart._vars.gridSize + 50) + ')').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (chart._vars.legendIndex >= 1) {
            chart._vars.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 242.5).style('text-anchor', 'start').style('font-size', chart._vars.fontSize).text(function () {
        return chart._vars.legendIndex + 1 + ' / ' + (chart._vars.legendIndexMax + 1);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(85,' + (chart._vars.legendMax * chart._vars.gridSize + 50) + ')').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (chart._vars.legendIndex < chart._vars.legendIndexMax) {
            chart._vars.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === chart._vars.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });
}

//Bind functions to prototype or jvCharts object
jvCharts.getColors = getColors;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.createColorsWithDefault = createColorsWithDefault;
jvCharts.getZScale = getZScale;
jvCharts.getLegendElementToggleArray = getLegendElementToggleArray;
jvCharts.generateLegendElements = generateLegendElements;
jvCharts.updateDataFromLegend = updateDataFromLegend;
jvCharts.createCarousel = createCarousel;
jvCharts.generateThresholdLegend = generateThresholdLegend;
jvCharts.attachClickEventsToLegend = attachClickEventsToLegend;
jvCharts.generateVerticalLegendElements = generateVerticalLegendElements;
jvCharts.createVerticalCarousel = createVerticalCarousel;
jvCharts.getToggledData = getToggledData;
jvCharts.getPlotData = getPlotData;
jvCharts.getPosCalculations = getPosCalculations;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.jvFormatValue = jvFormatValue;
jvCharts.getFormatExpression = getFormatExpression;
jvCharts.generateEventGroups = generateEventGroups;
jvCharts.jvFormatValueType = jvFormatValueType;
jvCharts.getAxisScale = getAxisScale;
jvCharts.setChartColors = setChartColors;
jvCharts.getDataTypeFromKeys = getDataTypeFromKeys;
jvCharts.cleanToolData = cleanToolData;

module.exports = jvCharts;

},{"./jvTip.js":9}],5:[function(require,module,exports){
'use strict';
/***  jvComment ***/
'use-strict';
/**
* @name jvComment
* @desc Constructor for JV Comment - creates comments for a jv visualization and executes a callback for the comments to be saved
* @param {object} configObj - constructor object containing the jvChart and other options
* @return {undefined} - no return
*/

function jvComment(configObj) {
    'use strict';

    var commentObj = this;
    commentObj.chartDiv = configObj.chartDiv;
    commentObj.showComments = false;
    commentObj.comments = configObj.comments ? configObj.comments : {};
    commentObj.disabled = false;
    commentObj.drawCommentNodes();
    commentObj.onSaveCallback = configObj.onSaveCallback;
    commentObj.getMode = configObj.getMode;
}

jvComment.prototype.createMoveListener = createMoveListener;
jvComment.prototype.updatePosition = updatePosition;
jvComment.prototype.makeComment = makeComment;
jvComment.prototype.removeComment = removeComment;
jvComment.prototype.drawCommentNodes = drawCommentNodes;
jvComment.prototype.drawComment = drawComment;
jvComment.prototype.doubleClick = doubleClick;
jvComment.prototype.overlayDivPosition = overlayDivPosition;

/**
* @name createMoveListener
* @desc creates the mousemove listener to determine if the user moves or resizes a comment
* @param {object} commentNode - comment that the user clicked on
* @return {undefined} - no return
*/
function createMoveListener(commentNode) {
    var commentObj = this,
        timeMouseDown = new Date().getTime();
    commentObj.chartDiv.on('mousemove', function () {
        //mouse move happend too quickly, chrome bug
        var timeMouseMove = new Date().getTime(),
            node = commentNode.node(),
            mouse = d3.mouse(node),
            mouseOnChartDiv = d3.mouse(commentObj.chartDiv.node()),
            resizeNode;
        if (timeMouseDown + 10 > timeMouseMove) {
            return;
        }
        //set the moved node, so we know to do a mouse up event
        commentObj.moved = commentNode;

        //resize in the right corner of the comment
        if (commentNode.select('.comment-padding')._groups[0][0] && (mouse[0] + 15 > node.clientWidth && mouse[1] + 15 > node.clientHeight || commentObj.moved.mouse)) {
            if (!commentObj.moved.mouse) {
                resizeNode = commentNode.select('.comment-padding');
                resizeNode.style('width', 'auto');
                resizeNode.style('height', 'auto');
            }
            //set the mouse event so we can update the location on mouse up
            commentObj.moved.mouse = mouse;
        } else {
            //move the comment node around the visual
            if (commentNode._groups[0][0].nodeName === 'text') {
                commentObj.chartDiv.select('.commentbox-readonly').remove();
            }
            commentNode.style('left', mouseOnChartDiv[0] + 'px').style('top', mouseOnChartDiv[1] + 'px');
            commentNode.attr('x', mouseOnChartDiv[0]).attr('y', mouseOnChartDiv[1]);
        }
    });
}

/**
* @name updatePosition
* @desc determines whether the user dragged a comment on the screen or updated its size and then creates the appropriate save function
* @return {undefined} - no return
*/
function updatePosition() {
    var commentObj = this,
        nodeToUpdate = commentObj.moved._groups[0][0],
        nodeId = nodeToUpdate.id.split('node')[1],
        comment = commentObj.comments.list[nodeId],
        x = void 0,
        y = void 0;
    if (Array.isArray(commentObj.moved.mouse)) {
        comment.binding.width = commentObj.moved.mouse[0];
        comment.binding.height = commentObj.moved.mouse[1];
    } else {
        x = Math.round(nodeToUpdate.getAttribute('x'));
        y = Math.round(nodeToUpdate.getAttribute('y'));
        comment.binding = {
            'x': x,
            'y': y,
            'xChartArea': commentObj.chartDiv._groups[0][0].clientWidth,
            'yChartArea': commentObj.chartDiv._groups[0][0].clientHeight,
            'currentX': x,
            'currentY': y,
            'showAsMarker': comment.binding.showAsMarker,
            'height': comment.binding.height,
            'width': comment.binding.width
        };
    }

    commentObj.onSaveCallback(comment, nodeId, 'edit');
}

/**
* @name makeComment
* @desc creates the comment entry box on the screen and attaches listeners to the save delete and cancel options
* @param {object} event - event that holds the mouse position for where the user wants to place the comment
* @return {undefined} - no return
*/
function makeComment(event) {
    if (this.chartDiv.select('.commentbox')._groups[0][0] || this.chartDiv.select('.commentbox-edit')._groups[0][0]) {
        //dont create new comment
        return;
    }

    var commentObj = this,
        x = parseInt(d3.mouse(event)[0], 10),
        y = parseInt(d3.mouse(event)[1], 10),
        commentHeight = 145,
        commentWidth = 200,

    //calculate position of overlay div
    position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y),
        commentType = 'svgMain';

    commentObj.chartDiv.selectAll('.commentbox-readonly').remove();

    commentObj.showComments = false;
    commentObj.chartDiv.append('div').attr('class', 'commentbox').attr('id', 'commentbox').style('opacity', 1).html("<div class='title'><b>Add New Comment</b></div>" + "<textarea placeholder='Enter comment...' form='commentform' class='comment-textarea' style='width:155px; height: 90px;' name='comment' id = 'textarea1'></textarea>" + "<br><input type='checkBox' class='commentbox-display' id ='display'> Display as marker" + "<br><button class='commentbox-close' id ='cancel'><i class='fa fa-close'></i></button>" + "<button class='smss-btn commentbox-submit' id = 'submit'>Submit Comment</button>").style('position', 'absolute').style('left', position.x + 'px').style('top', position.y + 'px');

    //Autofocus on the text area
    document.getElementById('textarea1').focus();

    commentObj.chartDiv.selectAll('.commentbox').select('#cancel').on('click.delete', function () {
        commentObj.removeComment();
    });

    commentObj.chartDiv.selectAll('.commentbox').select('#submit').on('click.save', function () {
        var commentText = commentObj.chartDiv.select('#commentbox').select('#textarea1')._groups[0][0].value,
            showAsMarker = commentObj.chartDiv.select('#commentbox').select('#display')._groups[0][0].checked,
            newCommentObj = void 0;

        newCommentObj = {
            'commentText': commentText,
            'groupID': 'group0',
            'type': commentType,
            'binding': {
                'x': x,
                'y': y,
                'xChartArea': commentObj.chartDiv._groups[0][0].clientWidth,
                'yChartArea': commentObj.chartDiv._groups[0][0].clientHeight,
                'currentX': x,
                'currentY': y,
                'showAsMarker': showAsMarker ? 'true' : 'false',
                'height': false,
                'width': false
            }
        };
        commentObj.chartDiv.select('.commentbox').remove();
        if (isNaN(commentObj.comments.maxId)) {
            commentObj.comments.maxId = -1;
        }
        commentObj.onSaveCallback(newCommentObj, ++commentObj.comments.maxId, 'add');
    });
}

/**
* @name removeComment
* @desc function to remove comment entry box
* @return {undefined} - no return
*/
function removeComment() {
    var commentObj = this;
    commentObj.chartDiv.selectAll('.commentbox').remove();
}

/**
* @name drawCommentNodes
* @desc function to draw a all comments on the visual
* @return {undefined} - no return
*/
function drawCommentNodes() {
    var commentObj = this,
        comments = commentObj.comments.list;

    commentObj.chartDiv.selectAll('.min-comment').remove();

    for (var id in comments) {
        if (comments.hasOwnProperty(id)) {
            commentObj.drawComment(comments[id], id);
        }
    }
}

/**
* @name drawComment
* @desc function to draw a single comment on the visual
* @param {object} comment - data used to pain the comment
* @param {number} id - id of the specific comment
* @return {undefined} - no return
*/
function drawComment(comment, id) {
    if (typeof this.chartDiv._groups === 'undefined') {
        console.log('Comment data is in old format, will not display or chart div doesnt exist');
        return;
    }

    if (!comment.binding || !this.chartDiv._groups[0][0]) {
        console.log('Comment data is in old format, will not display or chart div doesnt exist');
        return;
    }

    var commentObj = this,
        chartDiv = commentObj.chartDiv,
        binding = comment.binding,
        chartAreaWidth = chartDiv._groups[0][0].clientWidth,
        chartAreaHeight = chartDiv._groups[0][0].clientHeight,
        x = binding.x / binding.xChartArea * chartAreaWidth,
        y = binding.y / binding.yChartArea * chartAreaHeight,
        styleString = '',
        text = '',
        resize = false;

    binding.currentX = binding.x / binding.xChartArea * chartAreaWidth;
    binding.currentY = binding.y / binding.yChartArea * chartAreaHeight;

    if (comment.binding.showAsMarker === 'false') {
        if (comment.binding.width && comment.binding.height) {
            styleString = "style='width: " + comment.binding.width + 'px; height: ' + comment.binding.height + "px'";
        }
        if (comment.commentText.indexOf('<iframe') > -1 || comment.commentText.indexOf('<img') > -1 || comment.commentText.indexOf('<svg') > -1) {
            //contains elents that should resize
            text = "<div class='comment-padding text'" + styleString + "><div class='user-comment'>" + comment.commentText + '</div></div>';
            resize = true;
        } else {
            text = '<div class="text editable editable-text editable-comment-' + id + '">' + comment.commentText + '<div/>';
        }
        chartDiv.append('div').attr('class', 'min-comment').attr('id', 'node' + id).style('opacity', 1).style('position', 'absolute')
        //.style("border", "1px solid black")
        .html(text).style('left', x + 'px').style('top', y + 'px').on('dblclick.comment', function () {
            //Edit text or delete the comment
            commentObj.doubleClick(this, x, y);
        });
        if (resize) {
            var parent = d3.select('.user-comment');
            rescale(parent, parent.node());
        }
    } else {
        chartDiv.select('svg').append('text').attr('class', 'min-comment').attr('id', 'node' + id).attr('fill', '#e6e6e6').attr('x', x).attr('y', y).attr('font-family', 'FontAwesome').attr('stroke', 'darkgray').attr('font-size', '15px').text('\uF0E5').attr('opacity', 1).on('dblclick.comment', function () {
            //Edit text or delete the comment
            commentObj.doubleClick(this, x, y);
        }).on('mouseenter.comment', function () {
            //Show hover over box when mouse enters node
            if (commentObj.showComments === false) {
                var commentText = '',
                    commentHeight = 80,
                    commentWidth = 185,
                    position = void 0;

                for (var j in commentObj.comments.list) {
                    if (Math.round(commentObj.comments.list[j].binding.currentX) === Math.round(this.x.baseVal[0].value)) {
                        if (Math.round(commentObj.comments.list[j].binding.currentY) === Math.round(this.y.baseVal[0].value)) {
                            commentText = commentObj.comments.list[j].commentText;
                            x = commentObj.comments.list[j].binding.currentX;
                            y = commentObj.comments.list[j].binding.currentY;
                        }
                    }
                }
                position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

                chartDiv.append('div').attr('class', 'commentbox-readonly').style('opacity', 1).style('position', 'absolute').html("<textarea readonly rows='4' cols='27' class='textarea' name='comment'>" + commentText + '</textarea>').style('left', position.x + 'px').style('top', position.y + 'px');
            }
        }).on('mouseout.comment', function () {
            //Remove hover over box when mouse moves away
            if (commentObj.showComments === false) {
                chartDiv.select('.commentbox-readonly').remove();
            }
        });
    }
}

/**
* @name rescale
* @desc sets the children of the ele param to 100 percent height and width
* @param {d3node} ele - node to start recursive function
* @param {htmlNode} commentNode - unused parent node that can be used to calcualte percent height and widths
* @return {undefined} - no return
*/
function rescale(ele, commentNode) {
    var node = ele.node(),
        width = 100,
        height = 100;
    //width = node.clientWidth / commentNode.clientWidth * 100;
    //height = node.clientHeight / commentNode.clientHeight * 100;
    //if (width > 100) {
    //width = 100;
    //}

    //if (height > 100) {
    //height = 100;
    //}

    ele.style('width', width + '%');
    ele.style('height', height + '%');
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
        for (var _iterator = node.childNodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var child = _step.value;

            rescale(d3.select(child), commentNode);
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
            }
        } finally {
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }
}

/**
* @name doubleClick
* @desc click function after the user clicks on an existing comment
* @param {object} commentNode - current comment that the user clicked
* @param {number} x - x position of the click event
* @param {number} y - y position of the click event
* @return {undefined} - no return
*/
function doubleClick(commentNode, x, y) {
    if (this.chartDiv.select('.commentbox-edit')._groups[0][0] || this.getMode() !== 'comment-mode') {
        //dont create new comment
        return;
    }
    var commentObj = this,
        chartDiv = commentObj.chartDiv,
        currentComment = commentNode.id.split('node')[1],
        commentText = commentObj.comments.list[currentComment].commentText,
        commentHeight = 145,
        commentWidth = 200,
        position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

    commentObj.showComments = false;
    chartDiv.selectAll('.commentbox-readonly').remove();
    chartDiv.selectAll('.commentbox-edit').remove();
    chartDiv.selectAll('.commentbox').remove();

    chartDiv.append('div').attr('class', 'commentbox-edit').style('opacity', 1).style('left', position.x + 'px').style('top', position.y + 'px').style('position', 'absolute').html("<div class='title'><b>Edit Comment</b></div>" + "<textarea id='edit' class='comment-textarea' style='width:155px; height: 90px;' name='comment'>" + commentText + '</textarea>' + "<br><input type='checkBox' class='commentbox-display' id ='display'> Display as marker" + "<br><button class='commentbox-close' id ='cancel-edit'><i class='fa fa-close'></i></button>" + "<button class='smss-btn' id ='delete'>Delete</button>" + "<button class='smss-btn' id = 'save'>Save</button>");

    chartDiv.select('.commentbox-edit').select('#display')._groups[0][0].checked = commentObj.comments.list[currentComment].binding.showAsMarker === 'true';

    chartDiv.selectAll('.commentbox-edit').select('#delete').on('click.delete', function () {
        chartDiv.select('.commentbox-edit').remove();
        chartDiv.select('.commentbox-readonly').remove();
        chartDiv.select('#node' + currentComment).attr('display', 'none');
        //redraw comment nodes with new indexes
        commentObj.onSaveCallback(commentObj.comments.list[currentComment], currentComment, 'remove');
    });

    chartDiv.selectAll('.commentbox-edit').select('#save').on('click.save', function () {
        var text = chartDiv.select('.commentbox-edit').select('#edit')._groups[0][0].value,
            showAsMarker = chartDiv.select('.commentbox-edit').select('#display')._groups[0][0].checked;
        commentObj.comments.list[currentComment].commentText = text;
        commentObj.comments.list[currentComment].binding.showAsMarker = showAsMarker ? 'true' : 'false';
        chartDiv.select('.commentbox-readonly').remove();
        chartDiv.select('.commentbox-edit').remove();
        commentObj.onSaveCallback(commentObj.comments.list[currentComment], currentComment, 'edit');
    });

    chartDiv.selectAll('.commentbox-edit').select('#cancel-edit').on('click.cancel-edit', function () {
        chartDiv.select('.commentbox-readonly').remove();
        chartDiv.select('.commentbox-edit').remove();
    });
}

/******************************* Utility functions **********************************************/
/**
* @name overlayDivPosition
* @desc function to determine the placement of the div on the visual
* @param {number} divWidth - width of the comment entry box
* @param {number} divHeight - height of the comment entry box
* @param {number} mouseX - x position of the click event
* @param {number} mouseY - y position of the click event
* @return {object} - position of div
*/
function overlayDivPosition(divWidth, divHeight, mouseX, mouseY) {
    var editObj = this,
        position = {
        x: mouseX,
        y: mouseY + 10
    };
    if (mouseX > parseInt(editObj.chartDiv.style('width'), 10) / 2) {
        position.x = mouseX - divWidth;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    }
    return position;
}

module.exports = jvComment;

},{}],6:[function(require,module,exports){
/***  jvEdit ***/
'use strict';

var editTemplate = require('./editOptionsTemplate.js');

/**
* @name jvEdit
* @desc Constructor for JV Edit - creates edits to a jv visualization and executes a callback for the edit options to be saved
* @param {object} configObj - constructor object containing the jvChart and other options
* @return {undefined} - no return
*/
function jvEdit(configObj) {
    var editObj = this;
    editObj.chartDiv = configObj.chartDiv;
    editObj.vizOptions = configObj.vizOptions ? configObj.vizOptions : {};
    editObj.chartDiv.selectAll('.edit-div').remove();
    editObj.editDiv = editObj.chartDiv.append('div').attr('class', 'edit-div');
    editObj.onSaveCallback = configObj.onSaveCallback;
}

jvEdit.prototype.displayEdit = displayEdit;
jvEdit.prototype.changeFontSize = changeFontSize;
jvEdit.prototype.submitEditMode = submitEditMode;
jvEdit.prototype.applyEditMode = applyEditMode;
jvEdit.prototype.applyAllEdits = applyAllEdits;
jvEdit.prototype.removeEdit = removeEdit;
jvEdit.prototype.overlayDivPosition = overlayDivPosition;

/**
* @name displayEdit
* @desc Displays the edit div, grabbing it from the template
* @param {array} mouse - mouse location of the click event, used to place the edit mode div on the visual
* @param {string} options - css class of clicked element, provides the options that are editable by edit mode
* @return {undefined} - no return
*/
function displayEdit(mouse, options) {
    var editObj = this,
        mouseX = mouse[0],
        mouseY = mouse[1],
        optionValues = [],
        itemToChange = '',
        editOptionElement,
        editHeight = parseFloat(editObj.editDiv.style('height')),
        editWidth = parseFloat(editObj.editDiv.style('width')),
        position;

    //return if you click on the same element twice, no need to display a second edit div if the current one is still open
    if (editObj.editOptions === options) {
        return;
    }
    editObj.editDiv.html('');
    editObj.editOptions = options;

    //assign html to editDiv (basically displays the div)
    editObj.editDiv.html(editTemplate);

    //optionValues - an array of strings.
    //String is the id to the element in the editDiv form.
    //This string contains the specific option that is being changed

    //itemToChange
    //String that is the class of the svg element to be changed on the viz itself
    editOptionElement = editObj.editDiv.select('#edit-option-element');

    //if statements to determine which edit options to display
    if (options.indexOf('editable-yAxis') >= 0) {
        editOptionElement.html('&nbsp;for Y Axis');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'yAxis';
    } else if (options.indexOf('editable-xAxis') >= 0) {
        editOptionElement.html('&nbsp;for X Axis');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'xAxis';
    } else if (options.indexOf('yLabel') >= 0) {
        editOptionElement.html('&nbsp;for Y Label');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'yLabel';
    } else if (options.indexOf('xLabel') >= 0) {
        editOptionElement.html('&nbsp;for X Label');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'xLabel';
    } else if (options.indexOf('legendText') >= 0) {
        editOptionElement.html('&nbsp;for Legend Item');
        editOptionElement.style('visibility', 'visible');
        itemToChange = options.substring(options.indexOf('editable-legend-')).split(' ')[0];
    } else if (options.indexOf('editable-bar') >= 0) {
        editOptionElement.html('&nbsp;for Bar Chart');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select('.editable-bar').style('display', 'block');
        optionValues.push('editable-bar');
        itemToChange = options.substring(options.indexOf('bar-col-')).split(' ')[0];
    } else if (options.indexOf('editable-pie') >= 0) {
        editOptionElement.html('&nbsp;for Pie Slice');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select('.editable-pie').style('display', 'block');
        optionValues.push('editable-pie');
        itemToChange = options.substring(options.indexOf('pie-slice-')).split(' ')[0];
    } else if (options.indexOf('editable-scatter') >= 0) {
        editOptionElement.html('&nbsp;for Scatter Plot');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select('.editable-scatter').style('display', 'block');
        optionValues.push('editable-scatter');
        itemToChange = options.substring(options.indexOf('scatter-circle-')).split(' ')[0];
    } else if (options.indexOf('editable-bubble') >= 0) {
        editOptionElement.html('&nbsp;for Bubble Chart');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select('.editable-bubble').style('display', 'block');
        optionValues.push('editable-bubble');
        itemToChange = options.substring(options.indexOf('bubble-')).split(' ')[0];
    } else if (options.indexOf('editable-box') >= 0) {
        editOptionElement.html('&nbsp;for Box and Whisker Plot');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select('.editable-box').style('display', 'block');
        optionValues.push('editable-box');
        itemToChange = options.substring(options.indexOf('box-')).split(' ')[0];
    } else if (options.indexOf('editable-comment') >= 0) {
        editOptionElement.html('&nbsp;for Comment');
        editOptionElement.style('visibility', 'visible');
        itemToChange = options.substring(options.indexOf('editable-comment-')).split(' ')[0];
    } else if (options.indexOf('editable-svg') >= 0) {
        editOptionElement.html('&nbsp;for All Text');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select('.editable-text-size-buttons').style('display', 'block');
        optionValues.push('editable-text-size');
        itemToChange = 'svg';
    } else {
        console.log('Still need to add option to display edit');
    }

    if (options.indexOf('editable-num') >= 0) {
        editObj.editDiv.select('.editable-num-format').style('display', 'block');
        optionValues.push('editable-num-format');
    }
    if (options.indexOf('editable-text') >= 0) {
        editObj.editDiv.select('.editable-text-color').style('display', 'block');
        optionValues.push('editable-text-color');
        editObj.editDiv.select('.editable-text-size').style('display', 'block');
        optionValues.push('editable-text-size');
    }
    if (options.indexOf('editable-content') >= 0) {
        editObj.editDiv.select('.editable-content').style('display', 'block');
        optionValues.push('editable-content');
    }

    //populate edit div with initial values
    if (editObj.vizOptions[itemToChange]) {
        populateSelectionsEditMode(editObj.editDiv, editObj.vizOptions[itemToChange]);
    }
    editObj.editDiv.style('display', 'block').style('left', 0 + 'px').style('top', 0 + 'px');

    //calculate position of overlay div
    editHeight = parseFloat(editObj.editDiv.style('height'));
    editWidth = parseFloat(editObj.editDiv.style('width'));
    position = editObj.overlayDivPosition(editWidth, editHeight, mouseX, mouseY);

    //show the new edit div
    editObj.editDiv.style('left', position.x + 'px').style('top', position.y + 'px');

    //add submit, default, and exit listeners to the div
    editObj.editDiv.select('#submitEditMode').on('click', function () {
        editObj.submitEditMode(optionValues, itemToChange);
        editObj.removeEdit();
    });
    editObj.editDiv.select('#submitEditModeDefault').on('click', function () {
        editObj.submitEditMode(optionValues, itemToChange, true);
        editObj.removeEdit();
    });
    editObj.editDiv.select('#exitEditMode').on('click', function () {
        editObj.removeEdit();
    });
    editObj.fontSizeIncrement = 0;

    //Click events for increase/decrease font size buttons
    editObj.editDiv.select('#increaseFontSize').on('click', increaseFontSize.bind(editObj));
    editObj.editDiv.select('#decreaseFontSize').on('click', decreaseFontSize.bind(editObj));
}

/**
* @name increaseFontSize
* @desc Increases font size by an increment
* @return {undefined} - no return
*/
function increaseFontSize() {
    var editObj = this,
        fontIncrement = 1,
        maxSize = 28;
    if (editObj.fontSizeIncrement < maxSize) {
        editObj.changeFontSize(fontIncrement);
        editObj.fontSizeIncrement++;
        editObj.vizOptions.text = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
}

/**
* @name decreaseFontSize
* @desc Decreases font size by an increment
* @return {undefined} - no return
*/
function decreaseFontSize() {
    var editObj = this,
        fontDecrement = -1,
        minSize = -12;
    //min size is neg 12 because default size is 12px on our charts
    if (editObj.fontSizeIncrement > minSize) {
        editObj.changeFontSize(fontDecrement);
        editObj.fontSizeIncrement--;
        editObj.vizOptions.text = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
}

/**
* @name changeFontSize
* @desc Increases or decreases font size by a certain increment
* @param {integer} increment - number of increment
* @return {undefined} - no return
*/
function changeFontSize(increment) {
    var editObj = this;
    editObj.chartDiv.selectAll('text').each(function () {
        updateFont(this, increment);
    });
    editObj.chartDiv.selectAll('.text').each(function () {
        updateFont(this, increment);
    });
}

/**
* @name updateFont
* @desc changes the size of the font by a given increment
* @param {htmlNode} thisDiv - node to change font size
* @param {integer} increment - number of increment
* @return {undefined} - no return
*/
function updateFont(thisDiv, increment) {
    var newSize,
        textSize = 12;
    if (thisDiv && thisDiv.getAttribute('font-size')) {
        textSize = thisDiv.getAttribute('font-size');
        newSize = parseInt(textSize, 10) + increment;
        thisDiv.setAttribute('font-size', newSize + 'px');
    } else if (thisDiv) {
        textSize = parseInt(window.getComputedStyle(thisDiv, null).getPropertyValue('font-size'), 10) + increment;
        thisDiv.style.fontSize = textSize + 'px';
    }
}

/**
* @name populateSelectionsEditMode
* @desc Initially populates the editDiv if there are vizOptions
* @param {htmlNode} editDiv - edit mode options div
* @param {object} vizOptions - current user options to apply to the edit div
* @return {undefined} - no return
*/
function populateSelectionsEditMode(editDiv, vizOptions) {
    for (var option in vizOptions) {
        if (vizOptions.hasOwnProperty(option)) {
            var selectedObject = editDiv.select('#' + option)._groups[0][0];
            //default color inputs to gray
            if (vizOptions[option] === 'default') {
                if (selectedObject.type === 'color') {
                    if (selectedObject.id.indexOf('text') > 0) {
                        selectedObject.value = '#000000';
                    } else {
                        selectedObject.value = '#aaaaaa';
                    }
                }
            } else {
                selectedObject.value = vizOptions[option];
            }
        }
    }
}

/**
* @name submitEditMode
* @desc calls save callback on edit mode with edit options
* @param {object} optionValues - new user options to save
* @param {object} possibleItemToChange - item that the user clicked (might not be the actual item to update)
* @param {object} defaultBtnClicked - reset viz option to default
* @return {undefined} - no return
*/
function submitEditMode(optionValues, possibleItemToChange, defaultBtnClicked) {
    var editObj = this,
        optionArray = optionValues,
        selectedEditOptions = {},
        editValue = void 0,
        selectedObj = void 0,
        itemToChange = possibleItemToChange;

    for (var i = 0; i < optionArray.length; i++) {
        if (optionArray[i].indexOf('editable-legend') > 0) {
            //change item to change for legend elements
            itemToChange = optionArray[i];
        }
        selectedObj = editObj.editDiv.select('#' + optionArray[i]);
        //see if selected object exists
        if (selectedObj && selectedObj._groups[0] && selectedObj._groups[0][0]) {
            editValue = selectedObj._groups[0][0].value;
            //get selected option from edit div
            if (optionArray[i] === 'editable-content' && editValue === '') {
                //dont add an empty string to the viz options for editable content
                break;
            }
            selectedEditOptions[optionArray[i]] = editValue;
            if (!selectedEditOptions[optionArray[i]] && optionArray[i].indexOf('content') < 0) {
                selectedEditOptions[optionArray[i]] = 'default';
            }
        }
    }

    if (defaultBtnClicked) {
        if (itemToChange === 'svg') {
            delete editObj.vizOptions.text;
        }
        delete editObj.vizOptions[itemToChange];
    } else {
        editObj.vizOptions[itemToChange] = selectedEditOptions;
    }

    if (itemToChange === 'svg') {
        delete editObj.vizOptions.svg;
    }

    //save vizOptions
    editObj.onSaveCallback(editObj.vizOptions);
}

/**
* @name applyEditMode
* @desc applies individual viz option on the visual
* @param {string} itemToChange - viz option to update
* @param {object} options - viz option properties
* @return {undefined} - no return
*/
function applyEditMode(itemToChange, options) {
    var editObj = this,
        object = editObj.chartDiv.select('.' + itemToChange),
        objectGroups = object._groups,
        objectTagName = objectGroups[0][0] ? objectGroups[0][0].tagName.toLowerCase() : null;

    if (itemToChange === 'text') {
        //do something if it is all the text that is being changed
        object = editObj.chartDiv.selectAll('text');
    }

    //options by tagName
    if (objectTagName === 'g') {
        object = editObj.chartDiv.select('.' + itemToChange).selectAll('text');
    } else if (objectTagName === 'rect') {
        if (options['editable-bar']) {
            object.attr('fill', options['editable-bar']);
        }
        if (options['editable-box']) {
            object.attr('fill', options['editable-box']);
        }
    } else if (objectTagName === 'circle') {
        if (options['editable-scatter']) {
            object.attr('fill', options['editable-scatter']);
        }
        if (options['editable-bubble']) {
            object.attr('fill', options['editable-bubble']);
        }
    } else if (objectTagName === 'path') {
        if (options['editable-pie']) {
            object.attr('fill', options['editable-pie']);
        }
    }

    //standard options
    //If a text increment exists, apply it based on the sign of the variable
    if (options.hasOwnProperty('editable-text-increment')) {
        editObj.changeFontSize(options['editable-text-increment']);
    }

    if (options.hasOwnProperty('editable-text-size')) {
        object.style('font-size', options['editable-text-size'] + 'px');
    }
    if (options.hasOwnProperty('editable-text-color')) {
        object.style('fill', options['editable-text-color']);
        object.style('color', options['editable-text-color']);
    }
    if (options.hasOwnProperty('editable-num-format')) {
        var expression = getFormatExpression(options['editable-num-format']);
        object.transition().text(function (d) {
            if (!isNaN(d) && typeof expression === 'function') {
                return expression(d);
            }
            return d;
        });
    }
    if (options.hasOwnProperty('editable-content')) {
        if (options['editable-content'].length > 0) {
            object.html(options['editable-content']);
        }
    }
    editObj.removeEdit();
}

/**
* @name applyAllEdits
* @desc applies all viz options in the edit mode object
* @return {undefined} - no return
*/
function applyAllEdits() {
    var editObj = this;
    for (var option in editObj.vizOptions) {
        if (editObj.vizOptions.hasOwnProperty(option) && editObj.chartDiv.select(option)) {
            editObj.applyEditMode(option, editObj.vizOptions[option]);
        }
    }
}

/**
* @name removeEdit
* @desc removes edit div from the visual
* @return {undefined} - no return
*/
function removeEdit() {
    var editObj = this;
    if (editObj.editDiv) {
        editObj.editDiv.html('');
        editObj.editDiv.style('display', 'none');
    }
    editObj.editOptions = '';
}

/**
* @name overlayDivPosition
* @desc function to determine the placement of the div on the visual
* @param {number} divWidth - width of the comment entry box
* @param {number} divHeight - height of the comment entry box
* @param {number} mouseX - x position of the click event
* @param {number} mouseY - y position of the click event
* @return {object} - position of div
*/
function overlayDivPosition(divWidth, divHeight, mouseX, mouseY) {
    var editObj = this,
        position = {
        x: mouseX,
        y: mouseY + 10
    };
    if (mouseX > parseInt(editObj.chartDiv.style('width'), 10) / 2) {
        position.x = mouseX - divWidth;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    }
    return position;
}

/**
* @name getFormatExpression
* @desc returns the d3 format expression for a given option
* @param {string} option - type of data format
* @return {function} - expression
*/
function getFormatExpression(option) {
    var expression = '',
        p = void 0;
    if (option === 'currency') {
        expression = d3.format('$,');
    } else if (option === 'fixedCurrency') {
        expression = d3.format('($.2f');
    } else if (option === 'percent') {
        p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format('.' + p + '%');
    } else if (option === 'millions') {
        p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix('.' + p, 1.3e6);
    } else if (option === 'commas') {
        expression = d3.format(',.0f');
    } else {
        expression = d3.format('');
    }
    return expression;
}

module.exports = jvEdit;

},{"./editOptionsTemplate.js":1}],7:[function(require,module,exports){
/***jvEvents
 * Eventing layer on top of JV Charts to allow custom callbacks to be attached to mouse events
 */
'use strict';

var jvCharts = require('./jvCharts.js'),
    jvComment = require('./jvComment.js'),
    jvEdit = require('./jvEdit.js'),
    jvBrush = require('./jvBrush.js');

jvCharts.prototype.initializeModes = initializeModes;
jvCharts.prototype.createDefaultMode = createDefaultMode;
jvCharts.prototype.createCommentMode = createCommentMode;
jvCharts.prototype.createEditMode = createEditMode;
jvCharts.prototype.createBrushMode = createBrushMode;
jvCharts.prototype.createSelectMode = createSelectMode;
jvCharts.prototype.toggleModes = toggleModes;
jvCharts.prototype.toggleDefaultMode = toggleDefaultMode;
jvCharts.prototype.toggleCommentMode = toggleCommentMode;
jvCharts.prototype.toggleEditMode = toggleEditMode;
jvCharts.prototype.toggleBrushMode = toggleBrushMode;
jvCharts.prototype.toggleSelectMode = toggleSelectMode;
jvCharts.prototype.addBrushEvents = addBrushEvents;

/**
* @name initializeModes
* @desc function that initializes and creates the chart toolbar
* @return {undefined} - no return
*/
function initializeModes() {
    var chart = this,
        callbacks = chart.config.callbacks;

    //check if callbacks are needed
    if (callbacks) {
        for (var mode in callbacks) {
            //loop through all the types of modes to initialize the mode and register the appropriate events
            if (callbacks.hasOwnProperty(mode) && callbacks[mode]) {
                var camelCaseMode = mode.charAt(0).toUpperCase() + mode.slice(1);
                chart[mode] = chart['create' + camelCaseMode]();
            }
        }
        if (chart.editMode) {
            chart.editMode.applyAllEdits();
        }
        chart.toggleModes(chart.mode);
    } else {
        chart.createDefaultMode();
        //user has not defined any other modes, so just use default mode
        chart.toggleDefaultMode('default-mode');
    }
}

/**
* @name createDefaultMode
* @desc function that initializes and creates the default mode
* @return {undefined} - no return
*/
function createDefaultMode() {
    var chart = this;
    if (chart.config.callbacks && chart.config.callbacks.defaultMode.onBrush) {
        chart.brushMode = chart.createBrushMode(chart.config.callbacks.defaultMode.onBrush);
    }
}

/**
* @name createCommentMode
* @desc function that initializes and creates the comment mode
* @return {jvComment} - created comment mode
*/
function createCommentMode() {
    var chart = this;
    return new jvComment({
        chartDiv: chart.chartDiv,
        comments: chart.config.comments || {},
        onSaveCallback: chart.config.callbacks.commentMode.onSave,
        getMode: function getMode() {
            return chart.mode;
        }
    });
}

/**
* @name createEditMode
* @desc function that initializes and creates the edit mode
* @return {jvEdit} - created edit mode object
*/
function createEditMode() {
    var chart = this;
    return new jvEdit({
        chartDiv: chart.chartDiv,
        vizOptions: chart.config.editOptions || {},
        onSaveCallback: chart.config.callbacks.editMode.onSave
    });
}

/**
* @name createBrushMode
* @desc function that initializes and creates the brush mode
* @param {function} callbackParam - function that is an optional callback for brush mode
* @return {jvBrush} - created brush mode object
*/
function createBrushMode(callbackParam) {
    var chart = this,
        callback = callbackParam;
    if (!callback) {
        if (chart.config.callbacks.brushMode && typeof chart.config.callbacks.brushMode.onBrush === 'function') {
            callback = chart.config.callbacks.brushMode.onBrush;
        } else {
            console.log('no brush callback, pass it into the callbacks option');
            return null;
        }
    }
    return new jvBrush({
        chartDiv: chart.chartDiv,
        jvChart: chart,
        onBrushCallback: callback
    });
}

/**
* @name createSelectMode
* @desc function that initializes and creates the select mode
* @return {boolean} - true since the creation of a mode is only called when callbacks for the mode exist
*/
function createSelectMode() {
    return true;
}

/**
* @name toggleModes
* @desc sets the correct events for the specific mode param
* @param {string} mode - specified mode to toggle to
* @return {undefined} - no return
*/
function toggleModes(mode) {
    var chart = this;
    chart.toggleDefaultMode(mode);
    chart.commentMode && chart.toggleCommentMode(mode);
    chart.editMode && chart.toggleEditMode(mode);
    chart.brushMode && chart.toggleBrushMode(mode);
    chart.selectMode && chart.toggleSelectMode(mode);
}

/**
* @name toggleDefaultMode
* @desc updates event listeners for default mode
* @param {string} mode - specified mode to toggle to
* @return {undefined} - no return
*/
function toggleDefaultMode(mode) {
    var chart = this;
    if (mode === 'default-mode') {
        var defaultMode = chart.config.callbacks ? chart.config.callbacks.defaultMode : false,
            entireSvg = chart.chartDiv.select('svg'),
            callbacks = void 0;
        //change cursor and show tooltips
        chart.chartDiv.style('cursor', 'default');
        chart.showToolTip = true;

        //return if no callbacks exist
        if (!defaultMode) {
            return;
        }
        callbacks = {
            onDoubleClick: function onDoubleClick(event, node, mouse) {
                if (typeof defaultMode.onDoubleClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'doubleClick';
                    defaultMode.onDoubleClick(retrunObj);
                }
            },
            onClick: function onClick(event, node, mouse) {
                if (typeof defaultMode.onClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'click';
                    defaultMode.onClick(retrunObj);
                }
            }
        };

        if (defaultMode.onBrush && chart.brushMode) {
            callbacks.mousedown = addBrushMousedown.bind(chart);
            callbacks.mouseup = function () {
                chart.chartDiv.select('svg').on('mousemove', false);
                chart.chartDiv.select('svg').style('cursor', 'default');
                chart.brushMode.removeBrush();
            };
        }
        registerClickEvents(entireSvg, callbacks);
    } else {
        //remove tooltips and any highlights
        chart.showToolTip = false;
        chart.removeHighlight();
    }
}

/**
* @name toggleCommentMode
* @desc updates event listeners for comment mode
* @param {string} mode - specified mode to toggle to
* @return {undefined} - no return
*/
function toggleCommentMode(mode) {
    var chart = this,
        commentObj = chart.commentMode;
    if (mode === 'comment-mode') {
        var entireSvg = chart.chartDiv.select('svg'),
            callbacks = {
            onDoubleClick: function onDoubleClick(event, node, mouse) {
                commentObj.makeComment(node);
                if (typeof chart.config.callbacks.commentMode.onDoubleClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'doubleClick';
                    chart.config.callbacks.commentMode.onDoubleClick(retrunObj);
                }
            },
            onClick: function onClick(event, node, mouse) {
                if (typeof chart.config.callbacks.commentMode.onClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'click';
                    chart.config.callbacks.commentMode.onClick(retrunObj);
                }
            }
        };
        registerClickEvents(entireSvg, callbacks);
        //set cursor for comment mode
        chart.chartDiv.style('cursor', 'pointer');
        //add movementlisteners
        chart.chartDiv.selectAll('.min-comment').on('mousedown', function () {
            //logic to move comments
            commentObj.createMoveListener(d3.select(this));
        }).on('mouseup', function () {
            if (commentObj.moved) {
                commentObj.updatePosition(commentObj);
            }
            commentObj.moved = false;
            chart.chartDiv.on('mousemove', false);
        });
    } else {
        commentObj.removeComment();
    }
}

/**
* @name toggleEditMode
* @desc updates event listeners for edit mode
* @param {string} mode - specified mode to toggle to
* @return {undefined} - no return
*/
function toggleEditMode(mode) {
    var chart = this,
        editObj = chart.editMode,
        entireSvg = editObj.chartDiv.select('svg');
    if (mode === 'edit-mode') {
        editObj.chartDiv.style('cursor', 'default');
        entireSvg.selectAll('.event-rect').attr('display', 'none');

        var callbacks = {
            onDoubleClick: function onDoubleClick(event, node, mouse) {
                if (typeof chart.config.callbacks.editMode.onDoubleClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'doubleClick';
                    chart.config.callbacks.editMode.onDoubleClick(retrunObj);
                }
            },
            onClick: function onClick(event, node, mouse) {
                //edit mode events
                //going to be mouseover to highlight options for whatever piece you hover over
                var classText = d3.select(event.target).attr('class');
                if (classText) {
                    if (classText.indexOf('editable') >= 0) {
                        editObj.displayEdit(mouse, classText);
                    }
                }

                if (typeof chart.config.callbacks.editMode.onClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'click';
                    chart.config.callbacks.editMode.onClick(retrunObj);
                }
            }
        };
        //clear svg listeners
        registerClickEvents(entireSvg);
        //add chart div level listeners
        registerClickEvents(editObj.chartDiv, callbacks);

        editObj.chartDiv.selectAll('.editable').classed('pointer', true);
    } else {
        //clear chart div level listeners
        registerClickEvents(editObj.chartDiv);
        editObj.removeEdit();
        entireSvg.selectAll('.editable').classed('pointer', false);
        entireSvg.selectAll('.event-rect').attr('display', 'block');
    }
}

/**
* @name toggleBrushMode
* @desc updates event listeners for brush mode
* @param {string} mode - specified mode to toggle to
* @return {undefined} - no return
*/
function toggleBrushMode(mode) {
    var chart = this;
    if (mode === 'brush-mode' && chart.config.callbacks.brushMode) {
        chart.addBrushEvents();
    }
}

/**
* @name toggleSelectMode
* @desc updates event listeners for select mode
* @param {string} mode - specified mode to toggle to
* @return {undefined} - no return
*/
function toggleSelectMode(mode) {
    var chart = this;
    if (mode === 'select-mode') {
        var callbacks = {
            onDoubleClick: function onDoubleClick(event, node, mouse) {
                if (typeof chart.config.callbacks.selectMode.onDoubleClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'doubleClick';
                    chart.config.callbacks.selectMode.onDoubleClick(retrunObj);
                }
            },
            onClick: function onClick(event, node, mouse) {
                if (typeof chart.config.callbacks.selectMode.onClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'click';
                    chart.config.callbacks.selectMode.onClick(retrunObj);
                }
            }
        };
        registerClickEvents(chart.chartDiv.select('svg'), callbacks);
    }
}

/**
* @name addBrushEvents
* @desc registers events for brush mode
* @return {undefined} - no return
*/
function addBrushEvents() {
    var chart = this,
        entireSvg = chart.chartDiv.select('svg'),
        callbacks = {
        mousedown: addBrushMousedown.bind(chart),
        mouseup: function mouseup() {
            chart.chartDiv.select('svg').on('mousemove', false);
            chart.brushMode.removeBrush();
        }
    };
    registerClickEvents(entireSvg, callbacks);
}

/**
* @name addBrushMousedown
* @desc creates mousedown event for brush mode
* @return {undefined} - no return
*/
function addBrushMousedown() {
    var chart = this,
        brushStarted = false,
        brushContainer = chart.chartDiv.select('.' + chart.config.type + '-container').node(),
        entireSvg = chart.chartDiv.select('svg'),
        timeMouseDown = new Date().getTime();

    entireSvg.on('mousemove', function () {
        var timeMouseMove = new Date().getTime();
        if (timeMouseDown > timeMouseMove - 10) {
            //mouse move happend too quickly, chrome bug
            return;
        }
        if (brushStarted) {
            return;
        }
        var containerBox = void 0,
            x = void 0,
            y = void 0,
            mouse = void 0;
        if (brushContainer === undefined) {
            chart.brushMode.startBrush(d3.event);
            brushStarted = true;
        } else {
            containerBox = brushContainer.getBoundingClientRect();
            mouse = d3.mouse(entireSvg.node());
            x = mouse[0];
            y = mouse[1];

            if (x < containerBox.right && y < containerBox.bottom && x > containerBox.left && y > containerBox.top) {
                chart.brushMode.startBrush(d3.event);
                brushStarted = true;
            }
        }
    });
}

/**
* @name registerClickEvents
* @desc register handler for jv events
* @param {d3element} svg - d3 selected element to bind events on
* @param {object} listeners - callbacks to run for each type of click event
* @return {undefined} - no return
*/
function registerClickEvents(svg) {
    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
        _ref$onClick = _ref.onClick,
        onClick = _ref$onClick === undefined ? null : _ref$onClick,
        _ref$onDoubleClick = _ref.onDoubleClick,
        onDoubleClick = _ref$onDoubleClick === undefined ? null : _ref$onDoubleClick,
        _ref$mousedown = _ref.mousedown,
        mousedown = _ref$mousedown === undefined ? null : _ref$mousedown,
        _ref$mouseup = _ref.mouseup,
        mouseup = _ref$mouseup === undefined ? null : _ref$mouseup;

    //using default parameters to show available parts of the callbacks object
    var down,
        tolerance = 5,
        wait = null;

    svg.on('mousedown', false);
    svg.on('mouseup', false);
    svg.on('mousemove', false);

    svg.on('mousedown', function () {
        down = d3.mouse(svg.node());
        if (typeof mousedown === 'function') {
            mousedown();
        }
    });

    svg.on('mouseup', function () {
        var _this = this;

        if (typeof mouseup === 'function') {
            mouseup();
        }
        if (!onDoubleClick) {
            if (typeof onClick === 'function') {
                onClick(d3.event, this, d3.mouse(this));
            }
            return;
        }
        if (dist(down, d3.mouse(svg.node())) > tolerance) {
            //drag not click so return
            return;
        }
        if (wait) {
            window.clearTimeout(wait);
            wait = null;
            if (typeof onDoubleClick === 'function') {
                onDoubleClick(d3.event, this, d3.mouse(this));
            }
        } else {
            wait = window.setTimeout(function (e, mouse) {
                return function () {
                    if (typeof onClick === 'function') {
                        onClick(e, _this, mouse);
                    }
                    wait = null;
                };
                //d3.event and d3.mouse both lose their scope in a timeout and no longer return the expected value, so binding is necessary
            }(d3.event, d3.mouse(this)), 250);
        }
    });
}

/**
* @name dist
* @desc euclidean distance to determine if the mouse moved in between clicks for double click
* @param {array} a - point a
* @param {array} b - point b
* @return {number} - distance between a and b
*/
function dist(a, b) {
    if (a && b && Array.isArray(a) && Array.isArray(b)) {
        return Math.sqrt(Math.pow(a[0] - b[0], 2), Math.pow(a[1] - b[1], 2));
    }
    return 0;
}

},{"./jvBrush.js":3,"./jvCharts.js":4,"./jvComment.js":5,"./jvEdit.js":6}],8:[function(require,module,exports){
'use strict';

/***  jvEdit ***/
function jvSelect(configObj) {
    'use strict';

    var selectObj = this;
    selectObj.chartDiv = configObj.chartDiv;
    selectObj.jvChart = configObj.jvChart;
    selectObj.singleClickCallback = configObj.singleClickCallback;
    selectObj.doubleClickCallback = configObj.doubleClickCallback;
}

function singleClick(selectObj, event) {
    if (typeof selectObj.singleClickCallback === 'function') {
        selectObj.singleClickCallback(event);
    }
}
function dblclick(selectObj, event) {
    if (typeof selectObj.doubleClickCallback === 'function') {
        selectObj.doubleClickCallback(event);
    }
}

/********************************************* Select Mode Functions **************************************************/

module.exports = jvSelect;

},{}],9:[function(require,module,exports){
'use strict';

/***  jvTip ***/

function jvTip(configObj) {
    "use strict";

    var tip = this,
        defaultConfig = {
        type: 'simple'
    };

    tip.tipConfig = configObj.tipConfig || defaultConfig;
    tip.chartDiv = configObj.chartDiv;

    //Create initial div
    tip.chartDiv.select('.jv-tooltip').remove();

    tip.chartDiv.append("div").attr("class", "tooltip jv-tooltip").style("pointer-events", "none");
}

jvTip.prototype.showTip = function () {
    var transitionDuration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 50;

    var tip = this;
    var left = 'auto',
        top = 'auto',
        mouse = d3.mouse(tip.chartDiv.select('svg').node());

    //Logic to determine where tooltip will be placed on page
    var leftOfMouse = mouse[0] > tip.chartDiv._groups[0][0].clientWidth / 2,
        topOfMouse = mouse[1] < tip.chartDiv._groups[0][0].clientHeight / 2,
        tooltipHeight = tip.toolTip._groups[0][0].clientHeight === 0 ? 75 : tip.toolTip._groups[0][0].clientHeight,
        tooltipWidth = tip.toolTip._groups[0][0].clientWidth;

    if (leftOfMouse) {
        if (tooltipWidth === 0) {
            tooltipWidth = 250;
        }
        left = mouse[0] - tooltipWidth;
    } else {
        left = mouse[0];
    }
    if (topOfMouse) {
        top = mouse[1];
    } else {
        if (tooltipHeight === 0) {
            tooltipHeight = 75;
        }
        top = mouse[1] - tooltipHeight;
    }

    if (!leftOfMouse && topOfMouse) {
        left = mouse[0] + 13;
    }

    //COOL CURSOR, a function of the height and width of the container
    // var container = tip.chartDiv.select('.bar-container').node().getBoundingClientRect();
    // svgMouse = d3.mouse(tip.chartDiv.select('.bar-container').node());

    // var tooltipHeight = tip.toolTip._groups[0][0].clientHeight === 0 ? 75 : tip.toolTip._groups[0][0].clientHeight;
    // top = mouse[1] - (tooltipHeight * svgMouse[1] / container.height);

    // var tooltipWidth = tip.toolTip._groups[0][0].clientWidth;
    // left = mouse[0] - (tooltipWidth * svgMouse[0] / container.width);

    //STICKY CURSOR IN THE BOTTOM RIGHT
    // top = mouse[1];
    // left = mouse[0];
    //set max left
    // if(left > container.width - tooltipWidth + container.left) {
    //     left = container.width - tooltipWidth + container.left;
    // }

    // //set max top
    // if (top > container.height - tooltipHeight + container.top) {
    //     top = container.height - tooltipHeight + container.top;
    // }


    var t = d3.transition().duration(transitionDuration).ease(d3.easeLinear);

    tip.toolTip.transition(t).style("left", left + 'px').style("top", top + 'px').style("display", "block").style("opacity", 1);
};

jvTip.prototype.hideTip = function () {
    var tip = this;
    var t = d3.transition().duration('100').ease(d3.easeLinear);
    if (tip.toolTip) {
        tip.toolTip.transition(t).style("display", "none");
    }
};

/************************************************  Declare jv tip components *******************************************************************************/
var jvHr = '<hr style=\'margin:3px 0 3px 0;\'/>';

function getValueContent(item, value, colorTile) {
    var valueString = value ? ': ' + value : '';
    var colorTileString = colorTile ? colorTile : '';
    return '<span class=\'jv-tip-content jv-tip-side-margins\'>' + colorTileString + item + valueString + '</span><br/>';
}

function getTitleTemplate(dataObj) {
    return '<div class=\'title jv-top-margin jv-inline\'><b>' + dataObj.title + '</b></div>' + jvHr;
}

function getColorTile(color) {
    if (color) {
        return '<div class=\'d3-tooltip-circle jv-inline jv-tip-side-margins\' style=\'background:' + color + '\'></div>';
    }
    return "<div class='jv-inline jv-tip-side-margins'>";
}

/************************************************* Viz Specific Functions **********************************************************************************/

jvTip.prototype.generateSimpleTip = function (dataObj, dataTable) {
    var tip = this;
    var tooltipHtml = '';

    if (dataObj.hasOwnProperty('title') && dataObj.title === '') {
        dataObj.title = 'Empty';
    }

    if (dataObj.viz === 'clusters' || dataObj.viz === 'circleviewplot' || dataObj.viz === 'scatterplot' || dataObj.viz === 'treemap' || dataObj.viz === 'singleaxis') {
        tooltipHtml = generateSingleColorHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'radial' || dataObj.viz === 'pie') {
        tooltipHtml = generatePieHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'circlepack' || dataObj.viz === 'sunburst') {
        tooltipHtml = generatePackHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'heatmap' || dataObj.viz === 'cloud') {
        tooltipHtml = generateHeatmapHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'sankey') {
        tooltipHtml = generateSankeyHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'bubble') {
        tooltipHtml = generateBubbleHTML(dataObj);
    } else if (dataObj.viz === 'boxwhisker') {
        tooltipHtml = generateBoxHTML(dataObj);
    } else if (dataObj.viz === 'clustergram') {
        tooltipHtml = generateClustergramHTML(dataObj);
    } else {
        tooltipHtml = generateSimpleHTML(dataObj, dataTable);
    }

    //add content to tooltip
    tip.toolTip = tip.chartDiv.select(".tooltip").html(tooltipHtml);

    //paint the tooltip
    tip.showTip(0);

    return tip.tooltip;
};

function generateSimpleHTML(dataObj) {
    var tooltipText;
    tooltipText = '<div><div class=\'title jv-tip-container jv-tip-side-margins jv-top-margin\'><b>' + dataObj.title + '</b></div>' + jvHr;

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value, getColorTile(dataObj.color[item]));
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSingleColorHTML(dataObj, dataTable) {
    var tooltipText,
        tooltipColor,
        showColorCircle = true,
        colorCircle = "";

    if (!!dataObj.color[dataObj.data[dataTable.series]]) {
        tooltipColor = dataObj.color[dataObj.data[dataTable.series]];
    } else if (!!dataObj.color[dataTable.label] && dataObj.viz !== 'singleaxis') {
        tooltipColor = dataObj.color[dataTable.label];
    } else {
        showColorCircle = false;
    }

    if (showColorCircle) {
        colorCircle = getColorTile(tooltipColor);
    } else {
        colorCircle = getColorTile();
    }

    tooltipText = '<div class=\'jv-inline\'>' + colorCircle + '<div class=\'title jv-tip-side-margins jv-inline jv-top-margin\'><b>' + dataObj.title + '</b></div>' + jvHr;

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generatePackHTML(dataObj) {
    var tooltipText;
    tooltipText = '<div class=\'jv-inline\'>\n        ' + getColorTile(dataObj.data.color) + '\n        ' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateBubbleHTML(dataObj) {
    var tooltipText;
    tooltipText = '<div class=\'jv-inline\'>\n        ' + getColorTile(dataObj.data.color) + '\n        ' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        if (item === 'color') {
            continue;
        }
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += '</div>';
    return tooltipText;
}

function generateBoxHTML(dataObj) {
    var tooltipText = void 0;
    tooltipText = '<div class="jv-inline">';

    for (var item in dataObj.tipData) {
        if (dataObj.tipData.hasOwnProperty(item)) {
            var value = formatValue(dataObj.tipData[item]);
            tooltipText += getValueContent(item, value);
        }
    }
    tooltipText += '</div>';
    return tooltipText;
}

function generateHeatmapHTML(dataObj) {
    var tooltipText;
    if (dataObj.xAxisCat) {
        tooltipText = '<div class=\'jv-inline\'>\n            ' + getColorTile(dataObj.color) + "<div class='title jv-top-margin jv-inline'><b>" + dataObj.data.xAxisName + "</b></div><hr style='margin:3px 0 3px 0;'/>";

        tooltipText += "<span class='jv-tip-content jv-tip-side-margins'>" + dataObj.xAxisCat + "</span><br/>";
        tooltipText += "</div>";
        return tooltipText;
    } else if (dataObj.yAxisCat) {
        tooltipText = '<div class=\'jv-inline\'>\n            ' + getColorTile(dataObj.color) + "<div class='title jv-top-margin jv-inline'><b>" + dataObj.data.yAxisName + "</b></div><hr style='margin:3px 0 3px 0;'/>";

        tooltipText += "<span class='jv-tip-content jv-tip-side-margins'>" + dataObj.yAxisCat + "</span><br/>";
        tooltipText += "</div>";
        return tooltipText;
    } else {
        tooltipText = '<div class=\'jv-inline\'>\n            ' + getColorTile(dataObj.color) + '\n            ' + getTitleTemplate(dataObj);

        for (var item in dataObj.tipData) {
            var value = formatValue(dataObj.tipData[item]);
            tooltipText += getValueContent(item, value);
        }
        tooltipText += "</div>";
        return tooltipText;
    }
}

function generateClustergramHTML(dataObj) {
    var tooltipText;

    dataObj.title = dataObj.title.replace(/_/g, " ");

    tooltipText = '<div class=\'jv-inline\'>\n    ' + getColorTile(dataObj.color) + '\n    ' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";

    return tooltipText;
}

function generatePieHTML(dataObj, dataTable) {
    var tooltipText;
    tooltipText = '<div class=\'jv-inline\'>\n    ' + getColorTile(dataObj.color[dataObj.data.label]) + '\n    ' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(dataTable[item], value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSankeyHTML(dataObj) {
    var tooltipText;
    tooltipText = '<div class=\'jv-inline\'>' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(dataObj.valueName, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function formatValue(val) {
    if (!isNaN(val)) {
        var formatNumber = d3.format(",.0f");
        if (val >= 1000000) {
            //millions
            // var p = d3.precisionPrefix(1e5, 1.3e6);
            // formatNumber = d3.formatPrefix("." + p, 1.3e6);
            formatNumber = d3.format(",.2f");
        } else if (val <= 100) {
            //2 decimals
            formatNumber = d3.format(",.2f");
        }
        return formatNumber(val);
    }
    return val;
}

module.exports = jvTip;

},{}],10:[function(require,module,exports){
'use strict';

var jvCharts = require('./jvCharts.js');

jvCharts.prototype.getDefaultOptions = getDefaultOptions;

function getDefaultOptions() {
    var userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var _vars = {};

    //General Styles/Attributes
    //CONST variables - try to not use in jvCharts as they do not have much context
    _vars.GRAY = "#cccccc";
    _vars.WHITE = '#FFFFFF';
    _vars.BLACK = '#000000';
    _vars.SMALL_STROKE_WIDTH = '1px';
    _vars.light = '#BBBBBB';
    _vars.strokeWidth = "2px";

    //Action Attributes
    _vars.highlightBorderColor = _vars.BLACK;
    _vars.highlightBorderWidth = "2px";

    //Component Specific Styles/Attributes
    _vars.thresholds = 'none'; //if not none, expected to be an array
    _vars.thresholdLegend = false;
    _vars.backgroundColor = 'none';
    _vars.axisColor = _vars.GRAY;
    _vars.axisWidth = _vars.strokeWidth;
    _vars.gridLineStrokeWidth = _vars.SMALL_STROKE_WIDTH;
    _vars.displayValues = false;
    _vars.toggleLegend = false;
    _vars.legendArrowColor = 'c2c2d6';
    _vars.legendMax = 9;
    _vars.gridSize = 12;
    _vars.xReversed = false;
    _vars.yReversed = false;

    //font styles
    _vars.fontSize = '12px';
    _vars.fontColor = _vars.BLACK;
    _vars.xLabelFontSize = 'none';
    _vars.yLabelFontSize = 'none';

    //Heatmap Specific Styles/Attributes
    _vars.color = "#ff0000";
    _vars.toggleLegend = false;
    _vars.buckets = "10";
    _vars.opacity = "10";
    _vars.colorLabel = 'none';
    _vars.min = "0";
    _vars.max = "10";
    _vars.domainArray = "";
    _vars.step = "1";
    _vars.quantiles = true;
    _vars.heatLegendSpacing = 2;
    _vars.heatGridSize = 20;
    _vars.colors = ["#fbf2d2", "#fdedb5", "#fee7a0", "#ffda84", "#ffc665", "#feb44e", "#fea743", "#fd9b3f", "#fd8c3c", "#fd7735", "#fd602f", "#fb4b29", "#f43723", "#ea241e", "#e0161c", "#d60b20", "#c80324", "#b10026", "#870025", "#620023"];
    _vars.clusterColors = ["#00009C", "#003399", "#002FA7", "#2A52BE", "#0000FF", "#8C92AC", "#92A1CF", "#C4C3D0", "#CCCCFF", "#F8F8FF", "#FFFAFA", "#F4C2C2", "#FF6961", "#FF5C5C", "#FF1C00", "#FF0800", "#FF0000", "#CD5C5C", "#E34234", "#D73B3E"];

    //pie specific
    _vars.pieBorder = _vars.WHITE;
    _vars.pieBorderWidth = _vars.SMALL_STROKE_WIDTH;
    _vars.pieTextColor = _vars.WHITE;
    _vars.emptyLegendSquare = _vars.WHITE;

    //line specific
    _vars.lineCurveType = 'Linear';

    //bar specific
    _vars.displayValuesStackAsPercent = false;
    _vars.displayValuesStackTotal = false;
    _vars.displayYAxisLabel = true;

    //scatter specific
    _vars.toggleZ = true;
    _vars.lineGuide = true;

    //single axis specific
    _vars.singleAxisFillHoverColor = 'red';

    Object.assign(_vars, userOptions);
    return _vars;
}

},{"./jvCharts.js":4}],11:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../visuals/jvLine.js');

jvCharts.prototype.area = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.fillArea = fillArea;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }

    //remove if we add non linear to area chart
    chart._vars.lineCurveType = 'Linear';

    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    if (chart._vars.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart._vars.color, chart.flippedData.legendData, chart.colors);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label' && item.indexOf('tooltip') === -1) {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}
/** paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint() {
    var chart = this;
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //Overwrite any pre-existing zoom
    chart.config.zoomEvent = null;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
}

function getEventData(event) {
    var chart = this;
    if (event.target.classList.value.split('bar-col-')[1]) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [event.target.classList.value.split('bar-col-')[1].replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('area-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**
 *
 */
function fillArea(lineData) {

    var chart = this,
        svg = chart.svg,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,

    //lineData = chart.currentData.chartData,
    container = chart.config.container,
        colors = chart._vars.color;

    //If a legend element is toggled off, use the new list of headers
    if (chart._vars.hasOwnProperty('legendHeaders')) {
        legendData = chart._vars.legendHeaders;
    }

    //Get the X and Y Scale
    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars, 'no-padding');
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars, 'no-padding');

    //If axis are normal
    if (!chart._vars.rotateAxis) {
        var area = d3.area().x(function (d) {
            if (d.x === '') {
                return x('EMPTY_STRING');
            }
            return x(d.x);
        }).y0(container.height).y1(function (d) {
            return y(d.y);
        });
    } else {
        var area = d3.area().y(function (d) {
            return y(d.y);
        }).x1(0).x0(function (d) {
            return x(d.x);
        });
    }

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {
            if (typeof legendData !== "undefined") {
                //Accounting for legend toggles
                if (legendData[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    if (!chart._vars.rotateAxis) {
                        data[legendData[k]].push({
                            'x': lineData[i][xAxisData.label],
                            'y': parseFloat(lineData[i][legendData[k]])
                        });
                    } else {
                        data[legendData[k]].push({
                            'y': lineData[i][yAxisData.label],
                            'x': parseFloat(lineData[i][legendData[k]])
                        });
                    }
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (!chart._vars.rotateAxis) {
                    data[legendData[k]].push({
                        'x': lineData[i][xAxisData.label],
                        'y': parseFloat(lineData[i][legendData[k]])
                    });
                } else {
                    data[legendData[k]].push({
                        'y': lineData[i][yAxisData.label],
                        'x': parseFloat(lineData[i][legendData[k]])
                    });
                }
            }
        }
    }

    svg.selectAll(".area").remove();

    for (var i in data) {
        svg.append("path").datum(data[i]).attr("class", function (d) {
            if (chart._vars.colorLine == true && chart._vars.thresholds != 'none' && chart._vars.colorChart != false) {
                return "area area-threshold";
            } else {
                return "area";
            }
        }).attr("d", area).attr("fill", jvCharts.getColors(colors, k, i)).attr("opacity", 0.6).attr("transform", function (d, i) {
            if (chart._vars.rotateAxis) {
                var translation = container.height / lineData.length / 2;
                return "translate(0, " + translation + ")";
            } else {
                var translation = container.width / lineData.length / 2;
                return "translate(" + translation + ", 0)";
            }
        }).attr("pointer-events", "none");
    }
}

module.exports = jvCharts;

},{"../visuals/jvLine.js":18}],12:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.bar = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateBarThreshold = generateBarThreshold;
jvCharts.prototype.generateBars = generateBars;

/**paint
 *
 * The initial starting point for bar chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint() {
    var transitionTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 800;

    var chart = this,

    //Uses the original data and then manipulates it based on any existing options
    dataObj = chart.getBarDataFromOptions();

    if (transitionTime || transitionTime === 0) {
        chart._vars.transitionTime = transitionTime;
    } else if (!chart._vars.transitionTime) {
        chart._vars.transitionTime = 800;
    }

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateBars');
    chart.generateBars(dataObj);

    if (typeof dataObj.xAxisScale.ticks === 'function') {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

/**Sets the data for the bar chart prior to painting
 *  @function
 * @params {Object} data - Data passed into the chart
 * @params {Object} dataTable - Shows which data column is associated with each field in visual panel
 * @params {Object} dataTableKeys - Contains the data type for each column of data
 * @params {Object} colors - Colors object used to color the bars
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.hasOwnProperty('sortType') && chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);
    if (chart._vars.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart._vars.color, chart.flippedData.legendData, chart.colors);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event) {
    var chart = this;
    if (event.target.classList.value.split('bar-col-')[1]) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [event.target.classList.value.split('bar-col-')[1].replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('bar-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label' && item.indexOf('tooltip') === -1) {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/************************************************ Bar functions ******************************************************/
function generateBarThreshold() {
    var chart = this,
        svg = chart.svg,
        width = chart.config.container.width,
        height = chart.config.container.height,
        thresholds = chart._vars.thresholds,
        length = thresholds !== 'none' ? Object.keys(thresholds).length : 0,
        x = chart.currentData.xAxisScale,
        y = chart.currentData.yAxisScale;

    if (thresholds !== 'none') {
        for (var i = 0; i < length; i++) {
            var threshold = thresholds[i];
            if (!chart._vars.xAxisThreshold) {
                if (chart._vars.rotateAxis) {
                    if (chart._vars.yMin === 'none') {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                    } else {
                        if (threshold.threshold > chart._vars.yMin) {
                            svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                        }
                    }
                } else {
                    if (chart._vars.yMin === 'none') {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                    } else {
                        if (threshold.threshold > chart._vars.yMin) {
                            svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                        }
                    }
                }
            }

            if (chart._vars.colorChart == true) {
                var thresholdRects = d3.selectAll('rect.rect-' + i);
                thresholdRects.attr('fill', threshold.thresholdColor);
            }
        }
    }
}

/**generateBars
 *
 * Does the actual painting of bars on the bar chart
 * @params barData
 */

function generateBars(barData) {
    var chart = this,
        svg = chart.svg,


    //Used to draw line that appears when tool tips are visible
    tipLineX = 0,
        tipLineWidth = 0,
        tipLineHeight = 0,
        tipLineY = 0,

    //Add logic to filter bardata
    dataHeaders = barData.legendData,
        bars;

    //Removes any existing bar containers and creates a new one
    svg.selectAll('g.bar-container').remove();

    bars = svg.append('g').attr('class', 'bar-container').selectAll('g');

    if (chart._vars.seriesFlipped && chart._vars.flippedLegendHeaders) {
        dataHeaders = chart._vars.flippedLegendHeaders;
    } else if (chart._vars.legendHeaders) {
        dataHeaders = chart._vars.legendHeaders;
    }

    var barDataNew = jvCharts.getToggledData(barData, dataHeaders);

    generateBarGroups(bars, barDataNew, chart);

    var eventGroups = jvCharts.generateEventGroups(bars, barDataNew, chart);

    //Add listeners

    eventGroups.on('mouseover', function (d, i, j) {
        //Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
            svg.selectAll('.tip-line').remove();

            var mouseItem = d3.select(this);
            tipLineX = mouseItem.node().getBBox().x;
            tipLineWidth = mouseItem.node().getBBox().width;
            tipLineHeight = mouseItem.node().getBBox().height;
            tipLineY = mouseItem.node().getBBox().y;

            //Draw line in center of event-rect
            svg.append('line').attr('class', 'tip-line').attr('x1', function () {
                return chart._vars.rotateAxis ? 0 : tipLineX + tipLineWidth / 2;
            }).attr('x2', function () {
                return chart._vars.rotateAxis ? tipLineWidth : tipLineX + tipLineWidth / 2;
            }).attr('y1', function () {
                return chart._vars.rotateAxis ? tipLineY + tipLineHeight / 2 : 0;
            }).attr('y2', function () {
                return chart._vars.rotateAxis ? tipLineY + tipLineHeight / 2 : tipLineHeight;
            }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', 'black').attr('stroke-width', '1px');
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip();
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateBarThreshold();
}

/**generateBarGroups
 *
 * Paints the groups of the bars
 * @params chartContainer, barData, chart
 */
function generateBarGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        colors = chart._vars.color;

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    var posCalc = jvCharts.getPosCalculations(barData, chart._vars, xAxisData, yAxisData, container, chart);

    var dataToPlot = jvCharts.getPlotData(barData, chart);

    var barGroups;
    if (xAxisData.dataType === 'STRING' || !xAxisData.hasOwnProperty('min')) {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(' + (x.paddingOuter() * x.step() + x.step() * i) + ',0)';
        });
    } else if (xAxisData.dataType === 'NUMBER') {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(0,' + (y.paddingOuter() * y.step() + y.step() * i) + ')';
        });
    }

    //Creates bars within bar groups
    var externalCounterForJ = -1;
    var bars = barGroups.selectAll('rect').data(function (d) {
        return d;
    }).enter().append('rect').attr('class', function (d, i, j) {
        if (i === 0) {
            externalCounterForJ++;
        }
        var keys = Object.keys(barData[0]);
        var filteredKeys = [];
        for (var k = 0; k < keys.length; k++) {
            if (keys[k] !== chart.currentData.dataTable.label) {
                filteredKeys.push(keys[k]);
            }
        }
        var label = String(barData[externalCounterForJ][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '_dot_');
        var legendVal = String(filteredKeys[i]).replace(/\s/g, '_').replace(/\./g, '_dot_');
        var thresholdDir;

        if (chart._vars.xAxisThreshold) {
            thresholdDir = chart.setThreshold(barData[externalCounterForJ][chart.currentData.dataTable.label]);
        } else {
            thresholdDir = chart.setThreshold(d);
        }

        return 'editable editable-bar bar-col-' + label + '-index-' + legendVal + ' highlight-class-' + label + ' rect ' + thresholdDir;
    }).attr('x', function (d, i) {
        return posCalc.startx(d, i);
    }).attr('y', function (d, i) {
        return posCalc.starty(d, i);
    }).attr('width', function (d, i) {
        return posCalc.startwidth(d, i);
    }).attr('height', function (d, i) {
        return posCalc.startheight(d, i);
    }).attr('fill', function (d, i) {
        if (chart._vars.seriesFlipped) {
            return jvCharts.getColors(colors, i, chart._vars.flippedLegendHeaders[i]);
        }
        return jvCharts.getColors(colors, i, chart._vars.legendHeaders[i]);
    }).attr('rx', 0).attr('ry', 0).attr('opacity', 0.9).attr('clip-path', function (d) {
        if (d > 30000000) {
            return 'url(#clip-above)';
        }
        return 'url(#clip-below)';
    });
    if (chart._vars.transitionTime > 0) {
        bars.transition().duration(800).ease(d3.easePolyOut).attr('x', function (d, i, j) {
            return posCalc.x(d, i, j);
        }).attr('y', function (d, i, j) {
            return posCalc.y(d, i, j);
        }).attr('width', function (d, i) {
            return posCalc.width(d, i);
        }).attr('height', function (d, i) {
            return posCalc.height(d, i);
        });
    } else {
        bars.attr('x', function (d, i, j) {
            return posCalc.x(d, i, j);
        }).attr('y', function (d, i, j) {
            return posCalc.y(d, i, j);
        }).attr('width', function (d, i) {
            return posCalc.width(d, i);
        }).attr('height', function (d, i) {
            return posCalc.height(d, i);
        });
    }

    return barGroups; //returns the bar containers
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],13:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.boxwhisker = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateBoxes = generateBoxes;
/**setBoxData
 *  gets cloud data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.xAxisData = chart.setAxisData('x', chart.data, chart._vars);
    chart.data.yAxisData = chart.setAxisData('y', chart.data, chart._vars);
};

/** paintBoxChart
 *
 *  @desc The initial starting point for bar chart, begins the drawing process. Must already have the data stored in the chart object
 */
function paint(transitionTime) {
    var chart = this;
    if (transitionTime || transitionTime === 0) {
        chart._vars.transitionTime = transitionTime;
    } else if (!chart._vars.transitionTime) {
        chart._vars.transitionTime = 800;
    }
    var dataObj = getBoxDataFromOptions(chart);
    var axisData = chart.getBarDataFromOptions();
    //assign current data which is used by all bar chart operations
    if (chart._vars.rotateAxis) {
        chart.currentData = dataObj;
    } else {
        chart.currentData = axisData;
    }
    //Overwrite any pre-existing zoom
    chart.config.zoomEvent = null;
    //generate svg dynamically based on legend data
    chart.generateSVG();
    chart.generateXAxis(axisData.xAxisData);
    chart.generateYAxis(axisData.yAxisData);

    chart.generateBoxes(dataObj);
}

function getEventData() {
    return {};
}

/** getBoxDataFromOptions
 *
 *  @desc Assigns the correct chart data to current data using the chart._vars
 */
function getBoxDataFromOptions(chart) {
    //creating these two data variables to avoid having to reference the chart object everytime
    var csv = chart.data.chartData,
        dataTable = chart.data.dataTable,
        min = Infinity,
        max = -Infinity,
        yAxis = [],
        dataObj = {},
        i = 0,
        data = {},
        yAxisLabel = dataTable.label,
        xAxisLabel = dataTable.value,
        xAxisData,
        yAxisData,
        keys = csv.map(function (d, i) {
        return d[yAxisLabel];
    }),
        keys2 = csv.map(function (d, i) {
        return d[xAxisLabel];
    }),
        unique = keys.filter(function (item, i, ar) {
        return ar.indexOf(item) === i;
    }),
        temp = [];

    for (var k = 0; k < unique.length; k++) {
        var tempData = csv.filter(function (d) {
            return d[yAxisLabel] == unique[k];
        });
        var returnData = tempData.map(function (d) {
            return d[xAxisLabel];
        });
        temp.push([unique[k], returnData]);
    }

    max = Math.max.apply(Math, keys2);
    min = Math.min.apply(Math, keys2);
    yAxis.push(min);
    yAxis.push(max);

    xAxisData = { 'label': yAxisLabel, 'dataType': 'STRING', 'values': unique };
    yAxisData = { 'label': xAxisLabel, 'dataType': 'NUMBER', 'values': yAxis };

    dataObj.chartData = temp;
    dataObj.dataTable = data.dataTable;
    chart._vars.color = data.color;

    dataObj.xAxisData = xAxisData;
    dataObj.yAxisData = yAxisData;
    data = {
        yAxisData: dataObj.yAxisData,
        xAxisData: dataObj.xAxisData
    };

    if (chart._vars.rotateAxis) {
        dataObj.xAxisData = data.yAxisData;
        dataObj.yAxisData = data.xAxisData;
    } else {
        dataObj.xAxisData = data.xAxisData;
        dataObj.yAxisData = data.yAxisData;
    }

    return dataObj;
};

/** generateBars
 *
 * @desc Does the actual painting of bars on the bar chart
 * @params boxData
 */
function generateBoxes(boxData) {
    var chart = this,
        svg = chart.svg,
        options = chart._vars,
        container = chart.config.container,
        height = container.height,
        width = container.width,
        x,
        boxChart,
        margin = { top: 0, right: 50, bottom: 70, left: 50 };

    if (options.rotateAxis) {
        x = d3.scaleBand().domain(boxData.chartData.map(function (d) {
            return d[0];
        })).rangeRound([0, height]).paddingInner(0.7).paddingOuter(0.3);
        boxChart = box().whiskers(iqr(1.5)).height(width).domain([boxData.xAxisData.values[0], boxData.xAxisData.values[1]]).showLabels(options.displayValues).flipped(options.rotateAxis).duration(options.transitionTime).chart(chart);
    } else {
        x = d3.scaleBand().domain(boxData.chartData.map(function (d) {
            return d[0];
        })).rangeRound([0, width]).paddingInner(0.7).paddingOuter(0.3);
        boxChart = box().whiskers(iqr(1.5)).height(height).domain([boxData.yAxisData.values[0], boxData.yAxisData.values[1]]).showLabels(options.displayValues).flipped(options.rotateAxis).duration(options.transitionTime).chart(chart);
    }
    //draw the boxplots
    svg.attr('class', 'box-plot').selectAll('.box').data(boxData.chartData).enter().append('g').attr('class', 'box-container').attr('style', 'pointer-events: all;').attr('transform', function (d) {
        if (options.rotateAxis) {
            return 'translate(' + margin.top + ',' + x(d[0]) + ')';
        }

        return 'translate(' + x(d[0]) + ',' + margin.top + ')';
    }).call(boxChart.width(x.bandwidth()));

    d3.selectAll('rect.box').attr('class', function (d, i) {
        return 'editable editable-box box-' + i + ' highlight-class-' + i + 'box';
    });
    hideLabelsOnOverlap(x, width, svg);
}

/**
 * @name hideLabelsOnOverlap
 * @desc determines if text on graph should be displayed or not
 */
function hideLabelsOnOverlap(x, width, svg) {
    var numSpacesBetween = x.domain().length - 1,
        totalBoxWidth = x.bandwidth() * x.domain().length,
        widthOfSpaces = (width - totalBoxWidth) / numSpacesBetween,
        xAxisLabelLengthLimit = x.bandwidth() + widthOfSpaces,
        ticks = svg.selectAll('.xAxis text');

    ticks.each(function (tick) {
        if (this.getBBox().width > xAxisLabelLengthLimit) {
            svg.selectAll('.xAxis text').attr('style', 'display:none');
            svg.selectAll('text.box').attr('style', 'display:none');
            svg.selectAll('text.whisker').attr('style', 'display:none');
        }
    });
}

/**
 * @name iqr
 * @desc Returns a function to compute the interquartile range.
 */
function iqr(k) {
    return function (d, i) {
        var q1 = d.quartiles[0],
            q3 = d.quartiles[2],
            iqr = (q3 - q1) * k,
            i = -1,
            j = d.length;
        while (d[++i] < q1 - iqr) {}
        while (d[--j] > q3 + iqr) {}
        return [i, j];
    };
}

//Inspired by http://informationandvisualization.de/blog/box-plot
var box = function box() {
    var width = 1,
        height = 1,
        duration = 0,
        domain = null,
        value = Number,
        whiskers = boxWhiskers,
        quartiles = boxQuartiles,
        showLabels = true,
        //whether or not to show text labels
    numBars = 4,
        curBar = 1,
        tickFormat = null,
        chart = {},
        flipped = false;

    //For each small multiple
    function box(g) {
        g.each(function (data, i) {
            var d = data[1].sort(d3.ascending);
            var g = d3.select(this),
                n = d.length,
                min = d[0],
                max = d[n - 1],
                outlierLabel = data[0];

            //Compute quartiles. Must return exactly 3 elements.
            var quartileData = d.quartiles = quartiles(d);

            //Compute whiskers. Must return exactly 2 elements, or null.
            var whiskerIndices = whiskers && whiskers.call(this, d, i),
                whiskerData = whiskerIndices && whiskerIndices.map(function (i) {
                return d[i];
            });

            //Compute outliers. If no whiskers are specified, all data are 'outliers'.
            //We compute the outliers as indices, so that we can join across transitions!
            var outlierIndices = whiskerIndices ? d3.range(0, whiskerIndices[0]).concat(d3.range(whiskerIndices[1] + 1, n)) : d3.range(n);

            //Compute the new x-scale.
            if (flipped) {
                var x1 = d3.scaleLinear().domain(domain && domain.call(this, d, i) || [min, max]).range([0, height]);
            } else {
                var x1 = d3.scaleLinear().domain(domain && domain.call(this, d, i) || [min, max]).range([height, 0]);
            }

            //Retrieve the old x-scale, if this is an update.
            var x0 = this.__chart__ || d3.scaleLinear().domain([0, Infinity])
            //.domain([0, max])
            .range(x1.range());

            //Stash the new scale.
            this.__chart__ = x1;

            //Note: the box, median, and box tick elements are fixed in number,
            //so we only have to handle enter and update. In contrast, the outliers
            //and other elements are variable, so we need to exit them! Variable
            //elements also fade in and out.

            //Update outliers.
            var outlier = g.selectAll('circle.outlier').data(outlierIndices, Number);

            outlier = outlier.enter().append('g');

            if (flipped) {
                outlier.insert('circle', 'text').attr('class', 'outlier').attr('fill', 'white').attr('r', function () {
                    if (width > 10) {
                        return 5;
                    }

                    return width / 2;
                }).attr('cy', width / 2).attr('cx', function (i) {
                    return x0(d[i]);
                }).style('opacity', 1e-6).transition().duration(duration).attr('cx', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1);

                outlier.append('text').text(function (i) {
                    return d[i];
                }).attr('y', width / 2 + 7).attr('x', function (i) {
                    return x1(d[i]) + 4;
                }).attr('class', 'outlier-label').attr('font-size', '10px').attr('style', function () {
                    if (!showLabels) {
                        return 'display:none;';
                    }

                    return '';
                });
                outlier.exit().transition().duration(duration).attr('cx', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1e-6).remove();
            } else {
                outlier.insert('circle', 'text').attr('class', 'outlier').attr('fill', 'white').attr('r', function () {
                    if (width > 10) {
                        return 5;
                    }

                    return width / 2;
                }).attr('cx', width / 2).attr('cy', function (i) {
                    return x0(d[i]);
                }).style('opacity', 1e-6).transition().duration(duration).attr('cy', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1);

                outlier.append('text').text(function (i) {
                    return d[i];
                }).attr('x', width / 2 + 7).attr('y', function (i) {
                    return x1(d[i]) + 4;
                }).attr('class', 'outlier-label').attr('font-size', '10px').attr('style', function () {
                    if (!showLabels) {
                        return 'display:none;';
                    }

                    return '';
                });

                outlier.transition().duration(duration).attr('cy', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1);

                outlier.exit().transition().duration(duration).attr('cy', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1e-6).remove();
            }

            outlier.on('mouseover', function (i) {
                if (chart.showToolTip) {
                    var _outlier = [d[i]];
                    var _data = { Outlier: _outlier, Label: outlierLabel };
                    var tipData = chart.setTipData(_data, i);

                    chart.tip.generateSimpleTip(tipData, _data);
                    chart.tip.d = d.data;
                    chart.tip.i = i;
                }
            }).on('mousemove', function (i) {
                if (chart.showToolTip) {
                    var _outlier2 = [d[i]];
                    var _data2 = { Outlier: _outlier2, Label: outlierLabel };
                    var tipData = chart.setTipData(_data2, i);

                    chart.tip.generateSimpleTip(tipData, _data2);
                    chart.tip.d = d.data;
                    chart.tip.i = i;
                }
            }).on('mouseout', function () {
                if (chart.showToolTip) {
                    chart.tip.hideTip();
                }
            });

            //set separate tooltips for quartiles and whiskers
            g = g.append('g').attr('class', 'inner-box-container').on('mouseover', function (label) {
                if (chart.showToolTip) {
                    var _data3 = {
                        Quartiles: d.quartiles,
                        Whiskers: whiskerData,
                        Label: label[0]
                    };
                    var tipData = chart.setTipData(_data3, i);

                    chart.tip.generateSimpleTip(tipData, _data3);
                    chart.tip.d = d.data;
                    chart.tip.i = i;
                }
            }).on('mousemove', function (label) {
                if (chart.showToolTip) {
                    var _data4 = {
                        Quartiles: d.quartiles,
                        Whiskers: whiskerData,
                        Label: label[0]
                    };
                    var tipData = chart.setTipData(_data4, i);

                    chart.tip.generateSimpleTip(tipData, _data4);
                    chart.tip.d = d.data;
                    chart.tip.i = i;
                }
            }).on('mouseleave', function () {
                if (chart.showToolTip) {
                    chart.tip.hideTip();
                }
            });

            //Update center line: the vertical line spanning the whiskers.
            var center = g.selectAll('line.center').data(whiskerData ? [whiskerData] : []);
            //vertical line
            if (flipped) {
                center.enter().insert('line', 'rect').attr('class', 'center').attr('y1', width / 2).attr('x1', function (d) {
                    return x0(d[0]);
                }).attr('y2', width / 2).attr('x2', function (d) {
                    return x0(d[1]);
                }).style('opacity', 1e-6).transition().duration(duration).style('opacity', 1).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                });

                center.transition().duration(duration).style('opacity', 1).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                });

                center.exit().transition().duration(duration).style('opacity', 1e-6).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                }).remove();
            } else {
                center.enter().insert('line', 'rect').attr('class', 'center').attr('x1', width / 2).attr('y1', function (d) {
                    return x0(d[0]);
                }).attr('x2', width / 2).attr('y2', function (d) {
                    return x0(d[1]);
                }).style('opacity', 1e-6).transition().duration(duration).style('opacity', 1).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                });

                center.transition().duration(duration).style('opacity', 1).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                });

                center.exit().transition().duration(duration).style('opacity', 1e-6).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                }).remove();
            }

            var hoverArea = g.selectAll('line.hover-area').data(whiskerData ? [whiskerData] : []);
            //vertical line
            if (flipped) {
                hoverArea.enter().insert('line', 'rect').attr('class', 'hover-area').attr('y1', width / 2).attr('x1', function (d) {
                    return x0(d[0]);
                }).attr('y2', width / 2).attr('x2', function (d) {
                    return x0(d[1]);
                }).style('opacity', 0).style('stroke-width', width).transition().duration(duration).style('opacity', 0).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                });

                hoverArea.transition().duration(duration).style('opacity', 0).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                });

                hoverArea.exit().transition().duration(duration).style('opacity', 0).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                }).remove();
            } else {
                hoverArea.enter().insert('line', 'rect').attr('class', 'hover-area').attr('x1', width / 2).attr('y1', function (d) {
                    return x0(d[0]);
                }).attr('x2', width / 2).attr('y2', function (d) {
                    return x0(d[1]);
                }).style('opacity', 0).style('stroke-width', width).transition().duration(duration).style('opacity', 0).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                });

                hoverArea.transition().duration(duration).style('opacity', 0).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                });

                hoverArea.exit().transition().duration(duration).style('opacity', 0).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                }).remove();
            }
            //Update innerquartile box.
            var box = g.selectAll('rect.box').data([quartileData]);
            if (flipped) {
                box.enter().append('rect').attr('fill', 'steelblue').attr('class', 'box').attr('y', 0).attr('x', function (d) {
                    return x0(d[2]) - Math.abs(x0(d[0]) - x0(d[2]));
                }).attr('height', width).attr('width', function (d) {
                    return Math.abs(x0(d[0]) - x0(d[2]));
                }).transition().duration(duration).attr('x', function (d) {
                    return x1(d[2]) - Math.abs(x1(d[0]) - x1(d[2]));
                }).attr('width', function (d) {
                    return Math.abs(x1(d[0]) - x1(d[2]));
                });

                box.transition().duration(duration).attr('x', function (d) {
                    return x1(d[2]) - Math.abs(x1(d[0]) - x1(d[2]));
                }).attr('width', function (d) {
                    return Math.abs(x1(d[0]) - x1(d[2]));
                });
            } else {
                box.enter().append('rect').attr('fill', 'steelblue').attr('class', 'box').attr('x', 0).attr('y', function (d) {
                    return x0(d[2]);
                }).attr('width', width).attr('height', function (d) {
                    return x0(d[0]) - x0(d[2]);
                }).transition().duration(duration).attr('y', function (d) {
                    return x1(d[2]);
                }).attr('height', function (d) {
                    return x1(d[0]) - x1(d[2]);
                });

                box.transition().duration(duration).attr('y', function (d) {
                    return x1(d[2]);
                }).attr('height', function (d) {
                    return x1(d[0]) - x1(d[2]);
                });
            }
            //Update median line.
            var medianLine = g.selectAll('line.median').data([quartileData[1]]);
            if (flipped) {
                medianLine.enter().append('line').attr('class', 'median').attr('y1', 0).attr('x1', x0).attr('y2', width).attr('x2', x0).transition().duration(duration).attr('x1', x1).attr('x2', x1);

                medianLine.transition().duration(duration).attr('x1', x1).attr('x2', x1);
            } else {
                medianLine.enter().append('line').attr('class', 'median').attr('x1', 0).attr('y1', x0).attr('x2', width).attr('y2', x0).transition().duration(duration).attr('y1', x1).attr('y2', x1);

                medianLine.transition().duration(duration).attr('y1', x1).attr('y2', x1);
            }
            //Update whiskers.
            var whisker = g.selectAll('line.whisker').data(whiskerData || []);
            if (flipped) {
                whisker.enter().insert('line', 'circle, text').attr('class', 'whisker').attr('y1', 0).attr('x1', x0).attr('y2', 0 + width).attr('x2', x0).style('opacity', 1e-6).transition().duration(duration).attr('x1', x1).attr('x2', x1).style('opacity', 1);

                whisker.transition().duration(duration).attr('x1', x1).attr('x2', x1).style('opacity', 1);

                whisker.exit().transition().duration(duration).attr('x1', x1).attr('x2', x1).style('opacity', 1e-6).remove();
            } else {
                whisker.enter().insert('line', 'circle, text').attr('class', 'whisker').attr('x1', 0).attr('y1', x0).attr('x2', 0 + width).attr('y2', x0).style('opacity', 1e-6).transition().duration(duration).attr('y1', x1).attr('y2', x1).style('opacity', 1);

                whisker.transition().duration(duration).attr('y1', x1).attr('y2', x1).style('opacity', 1);

                whisker.exit().transition().duration(duration).attr('y1', x1).attr('y2', x1).style('opacity', 1e-6).remove();
            }
            //Compute the tick format.
            var format = tickFormat || x1.tickFormat(8);

            //Update box ticks.
            var boxTick = g.selectAll('text.box').data(quartileData);

            if (flipped) {
                boxTick.enter().append('text').attr('class', 'box').attr('dx', '.3em').attr('dy', function (d, i) {
                    return i & 1 ? 6 : -6;
                }).attr('y', function (d, i) {
                    return i & 1 ? +width : 0;
                }).attr('x', x0).attr('text-anchor', function (d, i) {
                    return i & 1 ? 'start' : 'end';
                }).attr('style', function () {
                    if (!showLabels) {
                        return 'display: none;';
                    }
                }).text(format).transition().duration(duration).attr('x', x1);

                boxTick.transition().duration(duration).text(format).attr('x', x1);
            } else {
                boxTick.enter().append('text').attr('class', 'box').attr('dy', '.3em').attr('dx', function (d, i) {
                    return i & 1 ? 6 : -6;
                }).attr('x', function (d, i) {
                    return i & 1 ? +width : 0;
                }).attr('y', x0).attr('text-anchor', function (d, i) {
                    return i & 1 ? 'start' : 'end';
                }).attr('style', function () {
                    if (!showLabels) {
                        return 'display: none;';
                    }
                }).text(format).transition().duration(duration).attr('y', x1);

                boxTick.transition().duration(duration).text(format).attr('y', x1);
            }
            //Update whisker ticks. These are handled separately from the box
            //ticks because they may or may not exist, and we want don't want
            //to join box ticks pre-transition with whisker ticks post-.
            var whiskerTick = g.selectAll('text.whisker').data(whiskerData || []);

            if (flipped) {
                whiskerTick.enter().append('text').attr('class', 'whisker').attr('dx', '.3em').attr('dy', 6).attr('y', width).attr('x', x0).attr('style', function () {
                    if (!showLabels) {
                        return 'display:none;';
                    }
                }).text(format).style('opacity', 1e-6).transition().duration(duration).attr('x', x1).style('opacity', 1);

                whiskerTick.transition().duration(duration).text(format).attr('x', x1).style('opacity', 1);

                whiskerTick.exit().transition().duration(duration).attr('x', x1).style('opacity', 1e-6).remove();
            } else {
                whiskerTick.enter().append('text').attr('class', 'whisker').attr('dy', '.3em').attr('dx', 6).attr('x', width).attr('y', x0).attr('style', function () {
                    if (!showLabels) {
                        return 'display:none;';
                    }
                }).text(format).style('opacity', 1e-6).transition().duration(duration).attr('y', x1).style('opacity', 1);

                whiskerTick.transition().duration(duration).text(format).attr('y', x1).style('opacity', 1);

                whiskerTick.exit().transition().duration(duration).attr('y', x1).style('opacity', 1e-6).remove();
            }
        });
        //d3.timer.flush();
        d3.timerFlush();
    }

    box.width = function (x) {
        if (!arguments.length) return width;
        width = x;
        return box;
    };

    box.height = function (x) {
        if (!arguments.length) return height;
        height = x;
        return box;
    };

    box.tickFormat = function (x) {
        if (!arguments.length) return tickFormat;
        tickFormat = x;
        return box;
    };

    box.duration = function (x) {
        if (!arguments.length) return duration;
        duration = x;
        return box;
    };

    function constant(x) {
        return function () {
            return x;
        };
    }
    box.domain = function (x) {
        if (!arguments.length) return domain;
        //domain = x == null ? x : d3.functor(x);
        domain = x == null ? x : constant(x);

        return box;
    };

    box.value = function (x) {
        if (!arguments.length) return value;
        value = x;
        return box;
    };

    box.whiskers = function (x) {
        if (!arguments.length) return whiskers;
        whiskers = x;
        return box;
    };

    box.showLabels = function (x) {
        if (!arguments.length) return showLabels;
        showLabels = x;
        return box;
    };

    box.flipped = function (x) {
        if (!arguments.length) return flipped;
        flipped = x;
        return box;
    };

    box.chart = function (x) {
        if (!arguments.length) return chart;
        chart = x;
        return box;
    };

    box.quartiles = function (x) {
        if (!arguments.length) return quartiles;
        quartiles = x;
        return box;
    };

    return box;
};

function boxWhiskers(d) {
    return [0, d.length - 1];
}

function boxQuartiles(d) {
    return [d3.quantile(d, 0.25), d3.quantile(d, 0.5), d3.quantile(d, 0.75)];
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],14:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.bubble = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateBubble = generateBubble;

/************************************************ Bubble functions ******************************************************/

function paint(transitionTime) {
    var chart = this,
        bubbleMargins = {
        top: 15,
        right: 15,
        left: 15,
        bottom: 15
    };
    if (transitionTime || transitionTime === 0) {
        chart._vars.transitionTime = transitionTime;
    } else if (!chart._vars.transitionTime) {
        chart._vars.transitionTime = 800;
    }
    if (!chart.smallerFontRepaint) {
        chart._vars.fontSizeMax = 80;
        chart.currentData = chart.data;
    } else {
        chart.currentData = JSON.parse(JSON.stringify(chart.data));
    }

    chart._vars.color = chart.data.color;

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, bubbleMargins);
    chart.generateVerticalLegend('generateBubble');
    chart.generateBubble(chart.currentData);
}

/**setData
 *  gets Bubble data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //define color object for chartData
    chart.data.legendData = setBubbleLegendData(chart.data);
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData() {
    return {};
}

/**setBubbleLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBubbleLegendData(data) {
    var legendArray = [],
        item = data.dataTable.label;

    for (var value in data.chartData) {
        if (data.chartData.hasOwnProperty(value)) {
            var legendElement = data.chartData[value][item];
            if (legendArray.indexOf(legendElement) === -1) {
                legendArray.push(legendElement);
            }
        }
    }

    return legendArray;
}

/** generateBubble
 *
 * paints the bubble  on the chart
 * @params bubble Data
 */
function generateBubble(bubbleData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        width = container.width,
        height = container.height,
        pack = d3.pack().size([width, height]).padding(1.5),
        legendData = chart.data.legendData,
        valueKey = chart.data.dataTable.value,
        labelKey = chart.data.dataTable.label,
        colors = chart._vars.color;

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }
    var dataHeaders = chart._vars.legendHeaders;
    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }
    var bubbleDataNew = jvCharts.getToggledData(bubbleData, dataHeaders),
        legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    if (legendElementToggleArray) {
        for (var j = 0; j < bubbleDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === bubbleDataNew[j][labelKey] && legendElementToggleArray[i].toggle === false) {
                    bubbleDataNew.splice(j, 1);
                }
            }
        }
    }
    svg.selectAll('.bubble').remove();
    //assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy({ children: bubbleDataNew }).sum(function (d) {
        return d[valueKey];
    }),
        bubble = svg.selectAll('.bubble').data(pack(root).leaves()).enter().append('g').attr('class', 'bubble').attr('transform', function (d) {
        return 'translate(' + d.x + ',' + d.y + ')';
    });

    bubble.append('circle').attr('fill', function (d, i) {
        var name = legendData.indexOf(d.data[labelKey]);
        return jvCharts.getColors(colors, name, d.data[labelKey]);
    }).attr('class', function (d, i) {
        return 'editable editable-bubble bubble-' + i + ' highlight-class-' + i;
    }).attr('r', function (d) {
        return d.r;
    }).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            //Draw tip line
            tipData.data.color = jvCharts.getColors(colors, tipData.index, d.data[labelKey]);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d.data;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(0);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d.data, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });

    bubble.append('text').attr('class', 'bubble-text').text(function (d) {
        return d.data[labelKey];
    }).attr('fill', 'white')
    //hide text if its too wide
    .attr('style', function (d) {
        if (this.clientWidth > d.r * 2) {
            return 'display: none';
        }
    })
    //center the text on the bubble
    .attr('transform', function (d, i) {
        var diameter = d.r * 2,
            textWidth = this.clientWidth,
            emptySpace = diameter - textWidth;

        if (emptySpace < 0) {
            return '';
        } else {
            return 'translate(-' + (d.r - emptySpace / 2) + ', 0)';
        }
    }).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);

            //Draw tip line
            tipData.data.color = jvCharts.getColors(colors, tipData.index, d.data[labelKey]);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d.data;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(0);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d.data, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });

    bubble.append('text').text(function (d) {
        return d.data[valueKey];
    }).attr('fill', 'white')
    //hide text if its too wide
    .attr('style', function (d) {
        if (this.clientWidth > d.r * 2) {
            return 'display: none';
        }

        return '';
    })
    //center the text on the bubble
    .attr('transform', function (d, i) {
        var diameter = d.r * 2,
            textWidth = this.clientWidth,
            emptySpace = diameter - textWidth;

        if (emptySpace < 0) {
            return '';
        }

        return 'translate(-' + (d.r - emptySpace / 2) + ',' + 15 + ')';
    }).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);

            //Draw tip line
            tipData.data.color = jvCharts.getColors(colors, tipData.index, d.data[labelKey]);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d.data;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(0);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d.data, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],15:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.clustergram = {
    paint: paint,
    setData: setData,
    getEventData: null
};

jvCharts.prototype.generateClustergram = generateClustergram;

/************************************************ Clustergram functions ******************************************************/

/**setClustergramData
 *  gets heatmap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;

    var leftTreeData = chart.data.chartData[0];
    var rightTreeData = chart.data.chartData[1];

    chart.leftLabels = {};
    chart.leftLabels.values = [];
    for (var k = 0; k < leftTreeData.children.length; k++) {
        if (leftTreeData.children[k].name) {
            chart.leftLabels.values.push(leftTreeData.children[k].name);
        }
    }

    chart.rightLabels = {};
    chart.rightLabels.values = [];
    for (var k = 0; k < rightTreeData.children.length; k++) {
        if (rightTreeData.children[k].name) {
            chart.rightLabels.values.push(rightTreeData.children[k].name);
        }
    }

    //define color object for chartData
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship
    var customMargin = {
        top: 20,
        right: 40,
        left: 0,
        bottom: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, customMargin);
    //chart.generateLegend(chart.currentData.legendData, 'generateClustergram');
    chart.generateClustergram();
}

/**generateClustergram
 *
 * paints the Clustergram on the chart
 * @params ClustergramData
 */
function generateClustergram() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container;

    var leftTreeData = chart.data.chartData[0];
    var rightTreeData = chart.data.chartData[1];
    var gridData = chart.data.chartData[2];

    chart.data.yAxisData = [];
    chart.data.xAxisData = [];

    var size = gridData.length * 10;
    if (container.width > container.height) {
        if (size < container.width) {
            size = container.width;
        }
    } else {
        if (size < container.height) {
            size = container.height;
        }
    }

    //remove svg elements
    svg.selectAll("*").remove();

    // svg.append("rect")
    //     .attr("width", size)
    //     .attr("height", size)
    //     .style("fill", "none")
    //     .style("pointer-events", "all")
    //     .call(d3.zoom()
    //         .scaleExtent([1, 8])
    //         .on("zoom", zoomed));

    var vis = svg.append('g').attr('transform', 'translate(' + 0 + ',' + 0 + ')').attr('class', 'heatmap'),
        leftG = vis.append("g").attr("id", "left-tree"),
        bottomG = vis.append("g").attr("id", "bottom-tree"),
        heatG = vis.append("g").attr('class', 'clustergram-container').attr("id", "heat");

    var div = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);

    //calc new width and height
    var newWidth = size / 4;
    var newHeight = size / 4;

    var leftTree = d3.cluster().size([newHeight, newWidth]);

    var root = d3.hierarchy(leftTreeData);
    leftTree(root);

    var className = "";
    var leftLink = leftG.selectAll(".cluster-link").data(root.descendants().slice(1)).enter().append("path").attr("class", function (d) {
        return "cluster-link " + className;
    }).style("fill", "none").style("stroke", "black").attr("d", function (d) {
        return "M" + d.y / 4 + "," + d.x + "V" + d.parent.x + "H" + d.parent.y / 4;
    });

    //childCount
    var leftChildCount = 0;
    var leftNode = leftG.selectAll(".cluster-node").data(root.descendants()).enter().append("g").attr("class", function (d) {
        return "cluster-node" + (d.children ? " cluster-node--internal" : " cluster-node--leaf");
    }).attr("transform", function (d) {
        return "translate(" + d.y / 4 + "," + d.x + ")";
    });

    leftNode.append("line").style("stroke", "black").attr("x1", function (d) {
        return d.children ? 0 : 0;
    }).attr("x2", function (d) {
        return d.children ? 0 : 15;
    });

    leftNode.append("text").attr("dy", 3).attr("x", function (d) {
        return d.children ? -8 : 0;
    }).style("text-anchor", function (d) {
        return "end";
    }).text(function (d) {
        if (!d.children) {
            chart.data.yAxisData.push(findPath(d));
            leftChildCount++;
        }
        // return d.data.name;
        if (d.data.name === "root") {
            return "";
        }
        return d.children ? d.data.name.replace(/_/g, ' ') : "";
    });

    //top Tree
    var topTree = d3.cluster().size([newWidth, newHeight]);

    var root = d3.hierarchy(rightTreeData);
    topTree(root);

    var topLink = bottomG.selectAll(".cluster-link").data(root.descendants().slice(1)).enter().append("path").attr("class", "cluster-link").style("fill", "none").style("stroke", "black").attr("d", function (d) {
        return "M" + d.x + "," + d.y / 4 + "V" + d.parent.y / 4 + "H" + d.parent.x;
    });

    //childCount
    var rightChildCount = 0;
    var rightNode = bottomG.selectAll(".cluster-node").data(root.descendants()).enter().append("g").attr("class", function (d) {
        return "cluster-node" + (d.children ? " cluster-node--internal" : " cluster-node--leaf");
    }).attr("transform", function (d) {
        return "translate(" + d.x + "," + d.y / 4 + ")rotate(30)";
    });

    rightNode.append("text").attr("dy", 8).style("text-anchor", function (d) {
        return d.children ? "end" : "start";
    }).attr("y", function (d) {
        return d.children ? -8 : 8;
    }).text(function (d) {
        if (!d.children) {
            chart.data.xAxisData.push(findPath(d));
            rightChildCount++;
        }
        if (d.data.name === "root") {
            return "";
        }
        return d.children ? d.data.name.replace(/_/g, ' ') : "";
    });

    var heatScores = [];
    for (var i = 0; i < gridData.length; i++) {
        var cell = gridData[i];
        heatScores.push(cell.value);
    }

    //heat variables
    var color = d3.scaleThreshold().domain(heatScores).range(["#fbf2d2", "#fee7a0", "#ffc665", "#fea743", "#fd8c3c", "#fb4b29", "#ea241e", "#d60b20", "#b10026", "#620023"]);

    var gridHeight = newHeight / leftChildCount;
    var gridWidth = newWidth / rightChildCount;

    chart._vars.clustergramGridWidth = gridWidth;
    chart._vars.clustergramGridHeight = gridHeight;

    //grid
    var heat = heatG.selectAll(".heat").data(gridData).enter().append("rect").attr("class", function (d) {
        return "rect";
    }).attr("x", function (d) {
        return d.x_index * gridWidth;
    }).attr("y", function (d) {
        return d.y_index * gridHeight;
    }).attr("width", function (d) {
        return gridWidth;
    }).attr("height", function (d) {
        return gridHeight;
    }).attr("stroke", function (d) {
        return "#E6E6E6";
    }).attr("stroke-width", function (d) {
        return "1px";
    }).style("fill", function (d) {
        return color(d.value);
    }).on("mouseover", function (d) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                tipData.color = color(d.value);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    });

    chart.zoomed = function () {
        svg.attr("transform", d3.event.transform);
    };

    chart.chartDiv.select(".editable-svg").call(d3.zoom().scaleExtent([1 / 2, 8]).on("zoom", chart.zoomed));

    // align G tags
    chart._vars.leftTreeWidth = leftG.node().getBBox().width;
    chart._vars.topTreeHeight = bottomG.node().getBBox().height;
    var heatWidth = heatG.node().getBBox().width;
    var heatHeight = heatG.node().getBBox().height;
    leftG.attr("transform", "translate(" + 0 + "," + chart._vars.topTreeHeight + ")");
    bottomG.attr("transform", "translate(" + chart._vars.leftTreeWidth + "," + 0 + ")");
    heatG.attr("transform", "translate(" + chart._vars.leftTreeWidth + "," + chart._vars.topTreeHeight + ")");

    chart.config.container.height = heatHeight, chart.config.container.width = heatWidth;

    function findPath(child) {
        var str = "";
        while (child.parent) {
            str += child.data.name + ".";
            child = child.parent;
        }
        return str.slice(0, -1);
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],16:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.gantt = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateGanttBars = generateGanttBars;
jvCharts.prototype.setGanttLegendData = setGanttLegendData;
jvCharts.prototype.setGanttAxisData = setGanttAxisData;

/************************************************ Gantt functions ******************************************************/

/**
*
* @param data
* @param dataTable
* @param colors
*/
function setData() {
    var chart = this;
    chart.data.legendData = chart.setGanttLegendData(chart.data);
    chart.data.xAxisData = chart.setGanttAxisData(chart, 'x');
    chart.data.yAxisData = chart.setGanttAxisData(chart, 'y');
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event) {
    var chart = this;
    var ele = event.target.classList.value.split('bar-col-')[1];
    if (ele) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.group, [ele.replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    }
    return {};
}

function setGanttLegendData(data) {
    var legendArray = [];
    for (var i = 1; i <= Object.keys(data.dataTable).length; i++) {
        if (data.dataTable.hasOwnProperty(["start " + i])) {
            //check to make sure it has a matching end date
            if (data.dataTable.hasOwnProperty(["end " + i])) {
                legendArray.push(data.dataTable["start " + i]);
            }
        }
    }
    return legendArray;
}

function setGanttAxisData(chart, axis) {
    var axisData = [],
        data = chart.data,
        chartData = data.chartData,
        dataType;

    if (axis === 'x') {
        var label = data.dataTable.group;
        dataType = 'DATE';

        var numBars = data.legendData.length;
        //Loop through dataTable and assign labels based on how many groups there are
        var valueContainer = [];
        valueContainer.push(data.dataTable["start 1"]);
        valueContainer.push(data.dataTable["end 1"]);
        for (var i = 1; i < numBars; i++) {
            valueContainer.push(data.dataTable["start " + (i + 1)]);
            valueContainer.push(data.dataTable["end " + (i + 1)]);
        }

        //Get all the start and end dates and add them to axis data
        for (var i = 0; i < valueContainer.length; i++) {
            for (var ii = 0; ii < chartData.length; ii++) {
                if (chartData[ii][valueContainer[i]] != null) {
                    axisData.push(chartData[ii][valueContainer[i]]);
                }
            }
        }

        //Add any axis formatting to this object, need to use when painting
        chart._vars.xAxisFormatting = {};
    } else {
        dataType = "STRING";
        var label = data.dataTable.group;

        //Add any axis formatting to this object, need to use when painting
        chart._vars.yAxisFormatting = {};

        for (var i = 0; i < chartData.length; i++) {
            axisData.push(chartData[i][label]);
        }
    }

    return {
        'label': label,
        'values': axisData,
        'dataType': dataType
    };
}

function paint() {
    var chart = this;

    chart._vars.color = chart.data.color;

    chart.currentData = chart.data;

    chart.generateSVG(chart.currentData.legendData);
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateGanttBars');
    chart.drawGridlines(chart.currentData.xAxisData);
    chart.generateGanttBars(chart.currentData);
    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function generateGanttBars(ganttData) {
    var chart = this,
        svg = chart.svg,
        colors = ganttData.color,
        container = chart.config.container,
        yAxisData = ganttData.yAxisData;

    //Remove existing bars from page
    svg.selectAll("g.gantt-container").remove();
    var bars = svg.append("g").attr("class", "gantt-container"),
        dataHeaders = chart._vars.legendHeaders ? chart._vars.legendHeaders : ganttData.legendData,
        ganttDataNew = jvCharts.getToggledData(ganttData, dataHeaders),
        x = jvCharts.getAxisScale('x', ganttData.xAxisData, container, chart._vars),
        y = jvCharts.getAxisScale('y', ganttData.yAxisData, container, chart._vars),
        sampleData = ganttDataNew;

    chart._vars.rotateAxis = true;

    var numBars = ganttData.legendData.length;
    var ganttBars = [];
    //create array of start dates and end dates to iterate through
    var startDates = [];
    var endDates = [];
    for (var i = 1; i <= numBars; i++) {
        startDates.push(chart.currentData.dataTable["start " + i]);
        endDates.push(chart.currentData.dataTable["end " + i]);
    }

    for (var ii = 0; ii < numBars; ii++) {
        var externalCounterForJ = -1;
        ganttBars[ii] = bars.selectAll(".gantt-bar" + ii).data(sampleData).enter().append("rect").attr('class', function (d, i, j) {
            externalCounterForJ++;
            var label = String(sampleData[externalCounterForJ][chart.currentData.dataTable.group]).replace(/\s/g, '_').replace(/\./g, '_dot_');

            return 'gantt-bar' + ii + ' editable editable-bar bar-col-' + label + '-index-' + ii + ' highlight-class-' + label + ' rect ';
        }).attr("width", 0).attr("height", y.bandwidth() / numBars).attr("x", function (d, i) {
            if (d[startDates[ii]]) {
                return x(new Date(d[startDates[ii]]));
            }
            return 0;
        }).attr("y", function (d, i) {
            return y(d[yAxisData.label]) + y.bandwidth() / numBars * ii;
        }).attr("rx", 3).attr("ry", 3).attr("fill", function (d, i, j) {
            var typeVal = chart.currentData.dataTable["Type" + (ii + 1)];
            if (chart._vars.legendHeaders) {
                var color = jvCharts.getColors(colors, 0, chart._vars.legendHeaders[ii]);
            } else {
                var color = jvCharts.getColors(colors, 0, chart.currentData.legendData[ii]);
            }
            return color;
        });

        ganttBars[ii].transition().duration(400).delay(100).attr("width", function (d, i) {
            var width = x(new Date(d[endDates[ii]])) - x(new Date(d[startDates[ii]])); //(x(d.StartDate) - x(d.EndDate));
            if (width >= 0) {
                return width;
            } else {
                return 0;
            }
        });
    }
    var externalCounterForJJ = -1;
    var dataToPlot = jvCharts.getPlotData(ganttDataNew, chart);
    var eventGroups = bars.selectAll(".event-rect").data(dataToPlot).enter().append('rect').attr("class", "event-rect").attr('class', function (d, i, j) {
        externalCounterForJJ++;
        var label = String(sampleData[externalCounterForJJ][chart.currentData.dataTable.group]).replace(/\s/g, '_').replace(/\./g, '_dot_');
        return 'event-rect bar-col-' + label;
    }).attr("x", 0).attr("y", function (d, i) {
        return container.height / ganttDataNew.length * i;
    }).attr("width", container.width).attr("height", function (d, i) {
        return container.height / ganttDataNew.length;
    }).attr("fill", "transparent").attr("transform", "translate(0,0)");
    eventGroups.on("mouseover", function (d, i, j) {
        // Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on("mousemove", function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on("mouseout", function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var currentDate = new Date();
    var dateData = [currentDate];
    //Draws a line representing the current date
    svg.selectAll(".currentDateLine").data(dateData).enter().append("line").attr("x1", function (d, i) {
        return x(d);
    }).attr("x2", function (d, i) {
        return x(d);
    }).attr("y1", function (d, i) {
        return "0px";
    }).attr("y2", function (d, i) {
        return chart.config.container.height;
    }).attr("class", "currentDateLine").attr("stroke", chart._vars.axisColor).attr("stroke-width", chart._vars.STROKE_WIDTH).attr("stroke-dasharray", "3, 3");

    svg.selectAll(".currentDateLabel").data(dateData).enter().append("text").text(function () {
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; //January is 0!

        var yyyy = today.getFullYear();
        if (dd < 10) {
            dd = '0' + dd;
        }
        if (mm < 10) {
            mm = '0' + mm;
        }
        var today = mm + '/' + dd + '/' + yyyy;
        return today;
    }).attr("x", function (d, i) {
        return x(d);
    }).attr("y", function (d, i) {
        return "-10px";
    }).attr("text-anchor", "middle").attr('fill', chart._vars.fontColor);
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],17:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.heatmap = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateHeatMap = generateHeatMap;

/************************************************ HeatMap functions ******************************************************/

function quantized(chart, min, max) {
    var bucketCount = chart._vars.buckets;
    var sectionValue = (max - min) / bucketCount;
    var quantizedArray = [];
    for (var i = 0; i < bucketCount; i++) {
        quantizedArray[i] = min + i * sectionValue;
    }
    return quantizedArray;
}

/**setHeatMapData
 *  gets heatmap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    var axisNames = setHeatAxisNames(chart.data);
    chart.data.xAxisData = axisNames.xAxisData;
    chart.data.yAxisData = axisNames.yAxisData;
    chart.data.processedData = setProcessedData(chart, chart.data, chart.data.xAxisData.values, chart.data.yAxisData.values);
    //define color object for chartData
    chart._vars.color = jvCharts.setChartColors(chart._vars.color, chart.data.xAxisData.values, chart.colors);
    chart.data.heatData = setHeatmapLegendData(chart, chart.data);
}

function getEventData(event, mouse) {
    var chart = this;

    //determine if the click event happens inside the container
    var brushContainer = chart.chartDiv.select('.' + chart.config.type + '-container').node(),
        containerBox = brushContainer.getBoundingClientRect(),
        x = mouse[0],
        y = mouse[1],
        insideContainer = false;

    if (x < containerBox.right && y < containerBox.bottom && x > containerBox.left && y > containerBox.top) {
        insideContainer = true;
    }

    if (insideContainer && event.target.__data__) {
        var _data;

        var data = event.target.__data__;
        return {
            data: (_data = {}, _defineProperty(_data, chart.currentData.dataTable.heat, [data.value]), _defineProperty(_data, chart.currentData.dataTable.x, [data.xAxisName]), _defineProperty(_data, chart.currentData.dataTable.y, [data.yAxisName]), _data),
            node: event.target
        };
    } else if (insideContainer) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

function setHeatmapLegendData(chart, data) {
    var heatData;
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount;
    chart._vars.colors = organizeColors(chart);

    data.heatScores.sort(function (a, b) {
        return a - b;
    });

    chart.data.colorScale = d3.scaleQuantile().domain(data.heatScores).range(chart._vars.colors);

    if (chart._vars.quantiles === true) {
        var temp = chart.data.colorScale.quantiles();
        if (temp[0] === 0) {
            heatData = chart.data.colorScale.quantiles();
        } else {
            heatData = [0].concat(chart.data.colorScale.quantiles());
        }
    } else {
        bucketCount = bucketMapper[chart._vars.buckets - 1];
        heatData = quantized(chart, data.heatScores[0], data.heatScores[data.heatScores.length - 1]);
    }

    return heatData;
}

function organizeColors(chart) {
    var colorSelectedBucket = [];
    for (var c in chart._vars.colors) {
        colorSelectedBucket.push(chart._vars.colors[c]);
    }

    var sValue = chart._vars.buckets;
    var newColors = [];
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount = bucketMapper[sValue - 1];
    for (var i = 0; i < bucketCount; i++) {
        if (i >= bucketCount / 2) {
            newColors[i] = colorSelectedBucket[Math.round((i + 1) / bucketCount * 20) - 1];
        } else {
            newColors[i] = colorSelectedBucket[Math.round(i / bucketCount * 20)];
        }
    }
    var colors = newColors.slice(0);
    return colors;
}

function setHeatAxisNames(data) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var xAxisArray = [];
    var yAxisArray = [];
    var returnObj = {};
    for (var i = 0; i < data.dataTableKeys.length; i++) {
        if (data.dataTableKeys[i].vizType === 'x') {
            returnObj.xAxisData = {};
            returnObj.xAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.xAxisData.label = data.dataTable.x;
        }
        if (data.dataTableKeys[i].vizType === 'y') {
            returnObj.yAxisData = {};
            returnObj.yAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.yAxisData.label = data.dataTable.y;
        }
    }

    for (var i = 0; i < chartData.length; i++) {
        if (xAxisArray.indexOf(chartData[i][xAxisName]) === -1) {
            xAxisArray.push(chartData[i][xAxisName]);
            //TODO make into 1 function for min max... waste of space
            if (returnObj.xAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                }

                if (!returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                }
            }
        }
        if (yAxisArray.indexOf(chartData[i][yAxisName]) === -1) {
            yAxisArray.push(chartData[i][yAxisName]);
            if (returnObj.yAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                }

                if (!returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                }
            }
        }
    }
    returnObj.xAxisData.values = xAxisArray;
    returnObj.yAxisData.values = yAxisArray;

    return returnObj;
}

function setProcessedData(chart, data, xAxisArray, yAxisArray) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var heat = data.dataTable.heat;
    var xCat = data.dataTable.x_category;
    var yCat = data.dataTable.y_category;
    var dataArray = [];
    data.heatScores = [];
    /*Assign each name a number and place matrix coordinates inside of dataArray */
    for (var i = 0; i < chartData.length; i++) {
        dataArray.push({
            value: chartData[i][heat],
            xAxisName: chartData[i][xAxisName],
            yAxisName: chartData[i][yAxisName]
        });

        var keys = Object.keys(data.dataTable);
        for (var k = 0; k < keys.length; k++) {
            if (keys[k].indexOf('tooltip') > -1) {
                dataArray[i][keys[k]] = chartData[i][data.dataTable[keys[k]]];
            }
        }
        //This array stores the values as numbers
        data.heatScores.push(chartData[i][heat]);
        for (var j = 0; j < xAxisArray.length; j++) {
            if (xAxisArray[j] === dataArray[i].xAxisName) {
                dataArray[i].xAxis = j;
                break;
            }
        }
        for (var j = 0; j < yAxisArray.length; j++) {
            if (yAxisArray[j] === dataArray[i].yAxisName) {
                dataArray[i].yAxis = j;
                break;
            }
        }
    }

    return dataArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship
    var customMargin = {
        top: 0,
        right: 40,
        left: 0,
        bottom: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, customMargin);
    //chart.generateLegend(chart.currentData.legendData, 'generateHeatMap');
    chart.generateHeatMap();
}

/**generateHeatMap
 *
 * paints the HeatMap on the chart
 * @params HeatMapData
 */
function generateHeatMap() {
    var chart = this,
        svg = chart.svg,
        colors = chart._vars.colors,
        container = chart.config.container,
        minContainer = 300,
        quantiles = chart._vars.quantiles,
        data = chart.data.processedData,
        toggleLegend = !chart._vars.toggleLegend,
        heatMapData = chart.currentData,
        gridSize = chart._vars.heatGridSize,
        legendSpacing = chart._vars.heatLegendSpacing;

    var div = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);

    var vis = svg.append('g').attr('transform', 'translate(0,0)').attr('class', 'heatmap');

    var yAxisTitle = vis.selectAll('.heatmap').data([heatMapData.dataTable.y]);

    yAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', -21).attr('y', -5).attr('text-anchor', 'end').attr('transform', function (d, i) {
        return 'translate(-' + (chart._vars.heatmapYmargin + 10) + ',' + 0 + ')rotate(-90)';
    }).text(function (d) {
        return d;
    });

    yAxisTitle.exit().remove();
    var formatType = jvCharts.jvFormatValueType(chart.currentData.yAxisData.values, chart.currentData.yAxisData.dataType);

    var yAxisSection = vis.append('svg:g').attr('class', 'yAxisSection');

    var yAxis = yAxisSection.selectAll('.xAxis').data(heatMapData.yAxisData.values).enter().append('svg:g');

    yAxis.append('text').text(function (d) {
        var str = jvCharts.jvFormatValue(d, formatType);
        if (str.length > 15) {
            return str.substring(0, 14) + '...';
        }
        return str;
    }).attr('x', 0).attr('y', function (d, i) {
        return i * gridSize;
    }).style('text-anchor', 'end').style('font-size', chart._vars.fontSize).attr('transform', 'translate(-6,' + gridSize / 1.5 + ')').attr('class', function (d, i) {
        return 'rowLabel pointer';
    }).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        var paint = true;
        if (d === chart._vars.selectedX) {
            chart._vars.selectedX = '';
            paint = false;
        } else {
            chart._vars.selectedX = d;
        }

        //fade all rects except in this row
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.yAxisData.values.length; i++) {
                if (chart.currentData.yAxisData.values[i] === d && d) {
                    if (r.yAxis != i && paint) {
                        return true;
                    }
                }
            }
        });
    });

    yAxis.append('title').text(function (d) {
        return d;
    });

    var xAxisTitle = vis.selectAll('.xAxisTitle').data([heatMapData.dataTable.x]);

    xAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', 6).attr('y', 9).attr('transform', function (d, i) {
        return 'translate(' + 0 + ', -' + (chart._vars.heatmapXmargin - 10) + ')';
    }).text(function (d) {
        return d;
    });

    xAxisTitle.exit().remove();

    var xAxisSection = vis.append('svg:g').attr('class', 'xAxisSection');

    var xAxis = xAxisSection.selectAll('.xAxis').data(heatMapData.xAxisData.values).enter().append('svg:g');

    formatType = jvCharts.jvFormatValueType(chart.currentData.xAxisData.values, chart.currentData.xAxisData.dataType);

    xAxis.append('text').text(function (d) {
        var str = jvCharts.jvFormatValue(d, formatType);
        if (str.length > 15) {
            return str.substring(0, 14) + '...';
        }
        return str;
    }).style('text-anchor', 'start').attr('x', 6).attr('y', 7).attr('class', function (d, i) {
        return 'colLabel pointer';
    }).attr('transform', function (d, i) {
        return 'translate(' + i * gridSize + ', -6)rotate(-45)';
    }).attr('title', function (d) {
        return d;
    }).style('font-size', chart._vars.fontSize).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        var paint = true;
        if (d === chart._vars.selectedX) {
            chart._vars.selectedX = '';
            paint = false;
        } else {
            chart._vars.selectedX = d;
        }
        //fade all rects except in this column
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.xAxisData.values.length; i++) {
                if (chart.currentData.xAxisData.values[i] === d) {
                    if (r.xAxis !== i && paint) {
                        return true;
                    }
                }
            }
        });
    });

    xAxis.append('title').text(function (d) {
        return d;
    });

    var width = heatMapData.xAxisData.values.length * gridSize;
    var height = heatMapData.yAxisData.values.length * gridSize;
    var formatValueType = jvCharts.jvFormatValueType(chart.data.heatData);

    //vertical lines
    var vLine = vis.append('svg:g').attr('class', 'vLineSection');

    vLine.selectAll('.vLineSection').data(d3.range(heatMapData.xAxisData.values.length + 1)).enter().append('line').attr('x1', function (d) {
        return d * gridSize;
    }).attr('x2', function (d) {
        return d * gridSize;
    }).attr('y1', function (d) {
        return 0;
    }).attr('y2', function (d) {
        return height;
    }).style('stroke', chart._vars.axisColor);

    //horizontal lines
    var hLine = vis.append('svg:g').attr('class', 'heatmap-container');

    hLine.selectAll('.heatmap-container').data(d3.range(heatMapData.yAxisData.values.length + 1)).enter().append('line').attr('y1', function (d) {
        return d * gridSize;
    }).attr('y2', function (d) {
        return d * gridSize;
    }).attr('x1', function (d) {
        return 0;
    }).attr('x2', function (d) {
        return width;
    }).style('stroke', chart._vars.axisColor);

    var heatMap = vis.append('svg:g').attr('class', 'heatSection');

    heatMap.selectAll('.heatSection').data(data).enter().append('rect').attr('x', function (d) {
        return d.xAxis * gridSize;
    }).attr('y', function (d) {
        return d.yAxis * gridSize;
    }).attr('rx', 2).attr('ry', 2).attr('class', 'heat').attr('width', gridSize - 1).attr('height', gridSize - 1).style('fill', function (d) {
        if (quantiles === true) {
            if (chart._vars.domainArray.length === 0 || d.value >= chart._vars.domainArray[0] && d.value <= chart._vars.domainArray[1]) {
                return chart.data.colorScale(d.value);
            }
            return 'white';
        }
        if (chart._vars.domainArray.length == 0 || d.value >= chart._vars.domainArray[0] && d.value <= chart._vars.domainArray[1]) {
            return getQuantizedColor(chart.data.heatData, d.value);
        }
        return 'white';
    }).on('mouseover', function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        tipData.color = chart.data.colorScale(d.value);

        //Draw tip
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
        chart.tip.d = d;
        chart.tip.i = i;
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    }).on('dblclick', function (d) {
        chart.clicked = !chart.clicked;
        if (chart.clicked) {
            //border around selected rect
            d3.select(this).classed('rect-border', true);

            //Fade row labels
            d3.selectAll('.rowLabel').classed('text-highlight', function (r, ri) {
                if (!(ri == d.yAxis)) {
                    return true;
                }
            });

            //fade column labels
            d3.selectAll('.colLabel').classed('text-highlight', function (r, ri) {
                if (!(ri == d.xAxis)) {
                    return true;
                }
            });

            //fade all rects except selected
            d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
                if (r.yAxis != d.yAxis || r.xAxis != d.xAxis) {
                    return true;
                }
            });
        } else {
            //removing styling
            d3.selectAll('.rowLabel').classed('text-highlight', false);
            d3.selectAll('.colLabel').classed('text-highlight', false);
            d3.selectAll('.heat').classed('rect-highlight', false);
            d3.selectAll('.heat').classed('rect-border', false);
        }
    });

    chart.chartDiv.select("svg.heatLegend").remove();

    if (toggleLegend) {
        var legendContainer = chart.chartDiv.append('svg').style('top', chart.config.margin.top + 'px').style('background', chart._vars.backgroundColor).attr('class', 'heatLegend').attr('width', chart.config.heatWidth);

        var legend = legendContainer.selectAll('.legend').data(chart.data.heatData).enter().append('g').attr('transform', function (d, i) {
            var height = gridSize + legendSpacing;
            var offset = height * chart.data.colorScale.domain().length / 2;
            var horz = -2 * gridSize;
            var vert = i * height - offset;
            return 'translate(' + 0 + ',' + gridSize * i + ')';
        });

        legend.append('rect').attr('class', 'legend').attr('width', gridSize).attr('height', gridSize).style('fill', function (d, i) {
            return colors[i];
        }).on('click', function (d) {
            //removing styling
            d3.selectAll('.heat').classed('rect-highlight', false);
        }).on('dblclick', function (d) {
            //removing styling
            //fade all rects except selected
            d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
                if (r.value < d) {
                    return true;
                }
            });
        });

        legend.append('text').attr('class', 'legendText').attr('x', gridSize + legendSpacing).attr('y', gridSize - legendSpacing).text(function (d) {
            if (isNaN(d)) {
                return d;
            }
            return jvCharts.jvFormatValue(d, formatValueType);
        }).style('fill', chart._vars.black);
    }

    function getQuantizedColor(quantizedArray, value) {
        for (var i = 1; i < quantizedArray.length; i++) {
            if (value < quantizedArray[i]) {
                return colors[i - 1];
            }
        }
        return colors[quantizedArray.length - 1];
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],18:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.line = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateLine = generateLine;
jvCharts.prototype.setLineThresholdData = setLineThresholdData;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    if (chart._vars.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart._vars.color, chart.flippedData.legendData, chart.colors);
    }

    if (chart.data.dataTable.hasOwnProperty('series')) {
        chart.data.chartData = setSeriesData(chart.data.chartData, chart.data.dataTable, chart.data.legendData);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event) {
    var chart = this;
    if (event.target.classList.value.split('bar-col-')[1]) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [event.target.classList.value.split('bar-col-')[1].replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('line-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**
 * @name setSeriesData
 * @desc Sets chartData to contain a series data if the series field exists in visual panel
 */
function setSeriesData(data, dataTable, legendDataArray) {
    var newChartData = [];
    //Get unique label list
    var labelList = [];
    for (var i = 0; i < data.length; i++) {
        var add = true;
        for (var j = 0; j < labelList.length; j++) {
            if (data[i][dataTable.label] === labelList[j]) {
                add = false;
                break;
            }
        }
        if (add) {
            labelList.push(data[i][dataTable.label]);
        }
    }
    //Iterate over label list
    var newData = [];
    for (var _i = 0; _i < labelList.length; _i++) {
        var dataObj = {};
        dataObj[dataTable.label] = labelList[_i];
        for (var _j = 0; _j < data.length; _j++) {
            if (data[_j][dataTable.label] === labelList[_i]) {
                var newEntry = data[_j][dataTable.series] + ' ' + dataTable['value 1'];
                dataObj[newEntry] = data[_j][dataTable['value 1']];
            }
        }
        newData.push(dataObj);
    }
    return newData;
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];

    if (data.dataTable.hasOwnProperty('series')) {
        for (var i = 0; i < data.chartData.length; i++) {
            var addToLegend = true;
            for (var j = 0; j < legendArray.length; j++) {
                var entry = data.chartData[i][data.dataTable.series] + ' ' + data.dataTable['value 1'];
                if (entry === legendArray[j]) {
                    addToLegend = false;
                    break;
                }
            }
            if (addToLegend) {
                var newEntry = data.chartData[i][data.dataTable.series] + ' ' + data.dataTable['value 1'];
                legendArray.push(newEntry);
            }
        }
    } else {
        for (var item in data.dataTable) {
            if (data.dataTable.hasOwnProperty(item)) {
                if (item !== 'label' && item.indexOf('tooltip') === -1) {
                    legendArray.push(data.dataTable[item]);
                }
            }
        }
    }

    return legendArray;
}
/**paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint() {
    var chart = this;
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');
    if (chart._vars.rotateAxis) {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
}

/**generateLine
 *
 * Paints the lines
 * @params lineData
 */
function generateLine(lineData) {
    var chart = this,
        svg = chart.svg;

    svg.selectAll('g.' + chart.config.type + '-container').remove();
    var lines = svg.append('g').attr('class', chart.config.type + '-container').selectAll('g');

    var dataHeaders = lineData.legendData;

    if (chart._vars.seriesFlipped && chart._vars.flippedLegendHeaders) {
        dataHeaders = chart._vars.flippedLegendHeaders;
    } else if (chart._vars.legendHeaders) {
        dataHeaders = chart._vars.legendHeaders;
    }

    var lineDataNew = jvCharts.getToggledData(lineData, dataHeaders);

    //If it's an area chart, add the area
    if (chart.config.type === 'area') {
        chart.fillArea(lineDataNew);
    }

    generateLineGroups(lines, lineDataNew, chart);
    var eventGroups = jvCharts.generateEventGroups(lines, lineDataNew, chart);

    eventGroups.on('mouseover', function (d, i, j) {
        //Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
        svg.selectAll('.tip-line').remove();
    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateLineThreshold();

    return lines;
}

/**generateLineGroups
 *
 * Paints the groups of the lines
 * @params chartContainer, barData, chart
 */
function generateLineGroups(lineContainer, lineData, chart) {
    var container = chart.config.container,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,
        colors = chart._vars.color,
        lines,
        lineLength = lineData.length,
        legendLength = legendData.length;

    //Get Position Calculations
    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars, 'no-padding');
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars, 'no-padding');

    var xTranslate, yTranslate;

    if (chart._vars.rotateAxis === true) {
        xTranslate = function xTranslate(d, i) {
            if (d === '') {
                return x('EMPTY_STRING');
            }
            return x(d);
        };
        yTranslate = function yTranslate(d, i) {
            return y(lineData[i][yAxisData.label]) + container.height / lineLength / 2; //+ container.height / (lineLength) / 2  - y.paddingInner());
        };
    } else {
        xTranslate = function xTranslate(d, i) {
            if (lineData[i][xAxisData.label] === '') {
                lineData[i][xAxisData.label] = 'EMPTY_STRING';
            }
            return x(lineData[i][xAxisData.label]) + container.width / lineLength / 2; //+ container.width / (lineLength) / 2 - x.paddingInner());
        };
        yTranslate = function yTranslate(d, i) {
            return y(d);
        };
    }

    //Append lines and circles

    var uniqueXAxisData = [];
    for (var i = 0; i < chart.data.xAxisData.values.length; i++) {
        var add = true;
        for (var j = 0; j < uniqueXAxisData.length; j++) {
            if (chart.data.xAxisData.values[i] === uniqueXAxisData[j]) {
                add = false;
                break;
            }
        }
        if (add) {
            uniqueXAxisData.push(chart.data.xAxisData.values[i]);
        }
    }

    var data = {};
    for (var _i2 = 0; _i2 < lineLength; _i2++) {
        for (var _k = 0; _k < legendLength; _k++) {
            if (typeof chart._vars.legendOptions !== 'undefined') {
                //Accounting for legend toggles
                if (chart._vars.legendOptions[_k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    //Write something to data
                    if (!data[legendData[_k]]) {
                        data[legendData[_k]] = [];
                    }
                    data[legendData[_k]].push(parseFloat(lineData[_i2][legendData[_k]]));
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[_k]]) {
                    data[legendData[_k]] = [];
                }
                if (data[legendData[_k]].length < lineLength) {
                    data[legendData[_k]].push(parseFloat(lineData[_i2][legendData[_k]]));
                }
            }
        }
    }

    chart.svg.selectAll('.lines').remove();
    chart.svg.selectAll('.line').remove();
    chart.svg.selectAll('.circle').remove();
    chart.svg.selectAll('#line-gradient').remove();

    lines = chart.svg.selectAll('.' + chart.config.type + '-container');

    //curves object
    var curves = {
        'Linear': d3.curveLinear,
        'Step': d3.curveStep,
        'Step Before': d3.curveStepBefore,
        'Step After': d3.curveStepAfter,
        'Basis': d3.curveBasis,
        'Cardinal': d3.curveCardinal,
        'Monotone X': d3.curveMonotoneX,
        'Catmull Rom': d3.curveCatmullRom
    };

    var valueline = {};
    var circles = {};
    var index = 0;
    var lineColors = [];
    var thresholding = false;
    for (var k in data) {
        //Create path generator for each series
        if (data.hasOwnProperty(k)) {
            if (data[k] === '') {
                data[k] = 'EMPTY_STRING';
            }

            valueline[k] = d3.line() //line drawing function
            .curve(curves[chart._vars.lineCurveType]).defined(function (d) {
                return !isNaN(d);
            }).x(function (d, i) {
                if (isNaN(d)) {
                    return;
                }
                return xTranslate(d, i);
            }).y(function (d, i) {
                if (isNaN(d)) {
                    return;
                }
                return yTranslate(d, i);
            });

            //Add lines to the chart.config.type + '-container'
            lines.append('g').attr('class', 'line ' + k).append('path') //draws the line
            .attr('stroke', function (d, i, j) {
                var colorObj = jvCharts.getColors(colors, i, k);
                lineColors.push(colorObj);
                return colorObj;
            }) //fills the bar with color
            .attr('stroke-width', '2').attr('fill', 'none').attr('d', function (d, i) {
                return valueline[k](data[k]);
            });

            //Color Thresholding for each tier
            if (chart._vars.thresholds != 'none' && chart._vars.colorChart != false) {
                if (chart._vars.colorLine) {
                    var thresholdPercents = [];
                    var thresholdLength = Object.keys(chart._vars.thresholds).length;
                    if (chart._vars.rotateAxis) {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < thresholdLength; z++) {
                            var pCent = chart._vars.thresholds[z].threshold * 100 / (xAxisData.max - xAxisData.min);
                            var temp = { percent: pCent, color: chart._vars.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    } else {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var _z = 0; _z < thresholdLength; _z++) {
                            var pCent = chart._vars.thresholds[_z].threshold * 100 / (yAxisData.max - yAxisData.min);
                            var temp = { percent: pCent, color: chart._vars.thresholds[_z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    }

                    var thresholdData = chart.setLineThresholdData(chart, thresholdPercents, lineColors[index]);

                    lines.selectAll('path').attr('class', 'line-threshold');

                    if (chart._vars.rotateAxis) {
                        chart.svg.append('linearGradient').attr('id', 'line-gradient').attr('gradientUnits', 'userSpaceOnUse').attr('x1', xTranslate(xAxisData.min)).attr('y1', 0).attr('x2', xTranslate(xAxisData.max)).attr('y2', 0).selectAll('stop').data(thresholdData).enter().append('stop').attr('offset', function (d) {
                            return d.offset;
                        }).attr('stop-color', function (d) {
                            return d.color;
                        });
                    } else {
                        chart.svg.append('linearGradient').attr('id', 'line-gradient').attr('gradientUnits', 'userSpaceOnUse').attr('x1', 0).attr('y1', yTranslate(yAxisData.min)).attr('x2', 0).attr('y2', yTranslate(yAxisData.max)).selectAll('stop').data(thresholdData).enter().append('stop').attr('offset', function (d) {
                            return d.offset;
                        }).attr('stop-color', function (d) {
                            return d.color;
                        });
                    }
                }
                thresholding = true;
            }

            //Add circles at joints in the lines
            circles[k] = lines.append('g').attr('class', 'circle ' + k).selectAll('circle').data(data[k]).enter().append('circle') //Circles for the joints in the line
            .attr('class', function (d, i) {
                return 'circle-' + chart.currentData.chartData[i][chart.currentData.dataTable.label] + ' highlight-class-' + i;
            }).attr('cx', function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).attr('cy', function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            }).attr('fill', function (d, i, j) {
                if (isNaN(d)) {
                    return null;
                } else if (thresholding == true) {
                    var length = Object.keys(chart._vars.thresholds).length - 1;
                    if (chart._vars.rotateAxis) {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart._vars.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    } else {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart._vars.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    }
                }

                return jvCharts.getColors(colors, i, k);
            }).attr('opacity', function (d, i, j) {
                if (isNaN(d)) {
                    return 0;
                }
                return 1;
            }).attr('r', 2.5);

            index++;
        }
    }

    //Return line groups
    return lines.selectAll('.circle');
}

function setLineThresholdData(chart, thresholds) {
    var data = [];
    var thresholdLength = thresholds.length;
    for (var k = 0; k < thresholdLength; k++) {
        var gradientOne = { offset: thresholds[k].percent + '%', color: thresholds[k].color };
        data.push(gradientOne);

        if (k + 1 < thresholdLength) {
            var gradientTwo = { offset: thresholds[k + 1].percent + '%', color: thresholds[k].color };
            data.push(gradientTwo);
        }

        if (k == thresholdLength - 1) {
            var last = { offset: '100%', color: thresholds[k].color };
            data.push(last);
        }
    }

    return data;
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],19:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.circlepack = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generatePack = generatePack;

/************************************************ Pack functions ******************************************************/

/**setPackChartData
 *  gets pack data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setPackLegendData(chart.data.dataTable);
    //define color object for chartData
    chart.data.color = chart.colors;
}

function getEventData() {
    return {};
}

/**setPackLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPackLegendData(dataTable) {
    var legendArray = [];
    var label = '';
    for (var key in dataTable) {
        if (dataTable.hasOwnProperty(key)) {
            if (key === 'value') {
                label = dataTable[key];
            } else {
                if (key !== 'tooltip 1') {
                    legendArray.push(dataTable[key]);
                }
            }
        }
    }
    legendArray.unshift(label);
    return legendArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var packMargins = {
        top: 30,
        right: 20,
        bottom: 15,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, packMargins);
    chart.generateVerticalLegend('generatePack');
    chart.generatePack(chart.currentData);
};

/** generatePack
 *
 * paints the pack on the chart
 * @params packData
 */
function generatePack() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        w = container.width,
        h = container.height,
        r = Math.min(h / 2, w / 3),
        margin = 20,
        diameter = r * 2;

    chart.children = chart.data.chartData;

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    var pack = d3.pack().size([container.width, container.height]).padding(2);

    pack(root.sum(function (d) {
        return d.hasOwnProperty('children') ? 0 : d.name;
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    svg.selectAll(".pack").remove();

    var vis = svg.append("g").attr("class", "pack").attr("transform", "translate(" + w / 2 + "," + r + ")");

    var circle = vis.selectAll("circle").data(root.descendants()).enter().append("circle").attr("class", function (d) {
        return d.parent ? d.children ? "node" : "node node--leaf" : "node node--root";
    }).style("fill", function (d) {
        d.color = color(d.depth);
        return d.children ? color(d.depth) : null;
    }).on("click", function (d) {
        if (focus !== d) {
            zoom(d), d3.event.stopPropagation();
        }
    }).on("mouseover", function (d, i) {
        //Get tip data
        // var tData = chart.data.tipData.get(d.data.name);
        // tData.name = d.data.name;
        // tData.color = d.color;
        var tipData = chart.setTipData(d, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
        chart.tip.d = d;
        chart.tip.i = i;
    }).on("mousemove", function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
    });

    // var text = vis.selectAll("text")
    //     .data(root.descendants())
    //     .enter().append("text")
    //     .attr("class", "label")
    //     .style("display", function(d) {
    //         return d.parent === root ? "inline" : "none";
    //     });

    var node = svg.selectAll("circle,text");

    d3.select("body").on("click", function () {
        zoom(root);
    });

    zoomTo([root.x, root.y, root.r * 2 + margin]);

    function zoom(d) {
        var focus = d;

        d3.transition().duration(d3.event.altKey ? 7500 : 750).tween("zoom", function (d) {
            var i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2 + margin]);
            return function (t) {
                zoomTo(i(t));
            };
        });

        // transition.selectAll("text")
        //     .filter(function(d) {
        //         return d.parent === focus || this.style.display === "inline";
        //     })
        //     .style("fill-opacity", function(d) {
        //         return d.parent === focus ? 1 : 0;
        //     })
        //     .style("display", function(d) {
        //         return d.parent === focus ? "inline" : "none";
        //     })
        //     .each("start", function(d) {
        //         if (d.parent === focus) {
        //            this.style.display = "inline";
        //         }
        //     })
        //     .each("end", function(d) {
        //         if (d.parent !== focus) {
        //           this.style.display = "none";
        //         }
        //     });
    }
    var view;
    function zoomTo(v) {
        var k = diameter / v[2];

        //set global zoom
        view = v;

        node.attr("transform", function (d) {
            if (d && d.x && d.y) {
                return "translate(" + (d.x - v[0]) * k + "," + (d.y - v[1]) * k + ")";
            }
        });

        circle.attr("r", function (d) {
            return d.r * k;
        });
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],20:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.pie = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generatePie = generatePie;

/************************************************ Pie Data functions ******************************************************/

/**setPieData
 *  gets pie data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setPieLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event) {
    var chart = this,
        ele = event.target.classList.value.split('pie-data-')[1];
    if (ele) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [ele.replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('pie-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**setPieLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPieLegendData(data) {
    var legendArray = [];
    for (var i = data.chartData.length - 1; i >= 0; i--) {
        legendArray.push(data.chartData[i][data.dataTable.label]);
    }
    return legendArray;
}

function paint() {
    var chart = this;
    var customMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };

    chart.currentData = chart.data;
    chart._vars.color = chart.data.color;
    chart.legendData = chart.data.legendData;
    chart.generateSVG(chart.data.legendData, customMargins);

    //If the container size is small, don't generate a legend
    if (chart.config.container.width > 550) {
        chart.generateVerticalLegend('generatePie');
    }

    chart.generatePie(chart.currentData);
}

/**generatePie
 *
 * creates and draws a pie chart on the svg element
 * @params svg, pieData, _vars, container
 * @returns {{}}
 */
function generatePie(currentData) {
    var chart = this,
        svg = chart.svg,
        pieData = currentData.chartData,
        container = chart.config.container,
        legendData = chart.currentData.legendData;

    //define variables to change attr's
    svg.select('g.pie-container').remove();

    var colors = chart._vars.color;

    var w = container.width;
    var h = container.height;
    var r = Math.min(h / 2, w / 3);

    var data = [];
    var total = 0;

    for (var i = 0; i < pieData.length; i++) {
        var obj = {};
        for (var _j in chart.data.dataTable) {
            obj[_j] = pieData[i][chart.data.dataTable[_j]];
        }
        data[i] = obj;
    }

    var pieDataNew = data; //copy of pie data


    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < pieDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === pieDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    //pieDataNew.splice(j,1);
                    pieDataNew[j].value = 0;
                }
            }
        }
    }

    for (var i = 0; i < pieDataNew.length; i++) {
        total += parseFloat(pieDataNew[i].value);
    }

    var vis = svg.append('g').data([pieDataNew]).attr('class', 'pie-container').attr('height', 200).attr('transform', 'translate(' + w / 2 + ',' + r + ')');

    var pie = d3.pie().value(function (d) {
        return d.value;
    });

    //declare an arc generator function
    var arc = d3.arc().innerRadius(0) //Normal pie chart when this = 0, can be changed to create donut chart
    .outerRadius(r);

    // var arcOver = d3.arc()
    //     .innerRadius(0)
    //     .outerRadius(r + 15);

    //select paths, use arc generator to draw
    var arcs = vis.selectAll('g.slice').data(pie).enter().append('g').attr('class', 'slice');

    arcs.append('path').attr('fill', function (d, i) {
        return jvCharts.getColors(colors, i, d.data.label);
    }).attr('d', function (d) {
        return arc(d);
    }).attr('class', function (d, i) {
        var label = d.data.label.replace(/\s/g, '_').replace(/\./g, '_dot_');
        return 'editable editable-pie pie-slice-' + i + ' highlight-class-' + i + ' pie-data-' + label;
    }).attr('stroke', chart._vars.pieBorder).attr('stroke-width', chart._vars.pieBorderWidth).on('mouseover', function (d, i, j) {
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            // Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    });

    arcs.append('svg:text').attr('class', 'sliceLabel').attr('transform', function (d) {
        var test = arc.centroid(d);
        test[0] = test[0] * 1.6;
        test[1] = test[1] * 1.6;
        return 'translate(' + test + ')';
    }).attr('dy', '.35em').attr('text-anchor', 'middle').text(function (d, i) {
        var percent = pieDataNew[i].value / total * 100;
        percent = d3.format('.1f')(percent);
        if (percent > 5) {
            return percent + '%';
        }
    }).attr('font-size', chart._vars.fontSize).attr('fill', chart._vars.pieTextColor).attr('pointer-events', 'none');
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],21:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.radial = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateRadial = generateRadial;

/************************************************ Radial Data functions ******************************************************/
/**setRadialChartData
 *  gets bar data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setRadialLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var radialMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, radialMargins);
    chart.generateVerticalLegend('generateRadial');
    chart.generateRadial();
}

function getEventData(event) {
    var chart = this,
        ele = event.target.classList.value.split('radial-data-')[1];
    if (ele) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [ele.replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('radial-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**setRadialLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setRadialLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.length; i++) {
        if (legendArray.indexOf(data.chartData[i][data.dataTable.label]) == -1) {
            legendArray.push(data.chartData[i][data.dataTable.label]);
        }
    }
    return legendArray;
}

/**generateRadial
 *
 * paints the radil bar chart on the chart
 * @params radialData
 */

function generateRadial() {
    var chart = this,
        svg = chart.svg,
        colors = chart._vars.color,
        container = chart.config.container,
        legendData = chart.data.legendData,
        radialData = chart.data.chartData,
        tickNumber = 3,
        barHeight = container.height / 2 - 40,
        width = container.width,
        height = container.height,
        r = Math.min(height / 2, width / 3),
        data = [],
        allKeys = [chart.data.dataTable.label, chart.data.dataTable.value],
        radialDataNew,
        dataHeaders,
        legendElementToggleArray = [],
        radialDataFiltered;

    for (var i = 0; i < radialData.length; i++) {
        var obj = {};
        for (var _j in chart.data.dataTable) {
            obj[_j] = radialData[i][chart.data.dataTable[_j]];
        }
        data[i] = obj;
        //total += parseFloat(pieData[i][keys[1]]);
    }

    radialDataNew = JSON.parse(JSON.stringify(data)); //copy of pie data


    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    dataHeaders = chart._vars.legendHeaders;
    legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    radialDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < radialDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === radialDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    radialDataNew[j].value = -1;
                }
            }
        }
    }

    for (var j = 0; j < radialDataNew.length; j++) {
        if (radialDataNew[j].value !== -1) {
            radialDataFiltered.push(radialDataNew[j]);
        }
    }

    //Remove existing bars from page
    svg.selectAll('g.radial-container').remove();

    var vis = svg.append('g').attr('class', 'radial-container').attr('height', height).attr('transform', 'translate(' + width / 2 + ',' + r + ')');

    var extent = d3.extent(radialDataFiltered, function (d) {
        return d.value;
    });

    //commas and 0 decimals
    var formatNumber = d3.format(',.0f');
    if (extent[1] >= 1000000) {
        //millions
        var p = d3.precisionPrefix(1e5, 1.3e6);
        formatNumber = d3.formatPrefix('.' + p, 1.3e6);
    } else if (extent[1] <= 100) {
        //2 decimals
        formatNumber = d3.format(',.2f');
    }

    if (extent[0] !== 0) {
        extent[0] = 0;
    }
    var barScale = d3.scaleLinear().domain(extent).range([0, barHeight]);

    var keys = radialDataFiltered.map(function (d, i) {
        return d.label;
    });
    var numBars = keys.length;

    var x = d3.scaleLinear().domain(extent).range([0, -barHeight]);

    //create xAxis drawing function
    var xAxis = d3.axisLeft().scale(x).ticks(tickNumber).tickFormat(formatNumber);

    vis.selectAll('circle').data(x.ticks(3)).enter().append('circle').attr('r', function (d) {
        return barScale(d);
    }).style('fill', 'none').style('stroke', 'black').style('stroke-dasharray', '2,2').style('stroke-width', '.5px');

    var arc = d3.arc().startAngle(function (d, i) {
        return i * 2 * Math.PI / numBars;
    }).endAngle(function (d, i) {
        return (i + 1) * 2 * Math.PI / numBars;
    }).innerRadius(0);

    var segments = vis.selectAll('path').data(radialDataFiltered).enter().append('g')
    //.attr("class", "label")
    .append('path').attr('class', function (d) {
        var label = d.label.replace(/\s/g, '_').replace(/\./g, '_dot_');
        return 'radial-data-' + label;
    }).each(function (d) {
        d.outerRadius = 0;
    }).style('fill', function (d, i) {
        return jvCharts.getColors(colors, i, d.label);
    }).attr('d', arc).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            //chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    segments.transition().duration(800).ease(d3.easeElastic).delay(function (d, i) {
        return 750 - 50 * i;
    }).attrTween('d', function (d, index) {
        var i = d3.interpolate(d.outerRadius, barScale(+d.value));
        return function (t) {
            d.outerRadius = i(t);
            return arc(d, index);
        };
    });

    vis.append('circle').attr('r', barHeight).classed('outer', true).style('fill', 'none').style('stroke', 'black').style('stroke-width', '1.5px');

    vis.selectAll('line').data(keys).enter().append('g').attr('class', 'label').append('line').attr('y2', -barHeight - 20).style('stroke', 'black').style('stroke-width', '.5px').attr('transform', function (d, i) {
        return 'rotate(' + i * 360 / numBars + ')';
    });

    var axisGroup = vis.append('g').attr('class', 'xAxis').style('pointer-events', 'none').call(xAxis);
    var yAxisClass = 'yAxisLabels editable editable-yAxis editable-text editable-num';

    axisGroup.selectAll('text').attr('fill', 'black') //Customize the color of axis labels
    .attr('class', yAxisClass).attr('transform', function (d) {
        if (d === xAxis.scale().ticks(tickNumber)[tickNumber]) {
            return 'translate(0, 10)';
        }
        return 'translate(0,0)';
    }).attr('font-size', chart._vars.fontSize).append('svg:title');
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],22:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sankey = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateSankey = generateSankey;

/************************************************ Sankey functions ******************************************************/
/**
 *
 * @param data
 * @param dataTable
 * @param colors
 */
function setData() {
    var chart = this;
    var sankeyData = {},
        data = chart.data.chartData,
        dataTable = chart.data.dataTable;

    sankeyData.links = [];
    sankeyData.nodes = [];

    //Iterate through sources and targets to make a node list
    var nodeList = [];
    var nodeGroup = 1;
    for (var item in dataTable) {
        var nodeListForLabel = [];
        if (item === 'value') {
            continue;
        };
        for (var i = 0; i < data.length; i++) {
            var potentialNode = data[i][dataTable[item]] + "-" + nodeGroup;
            var addToList = true;
            for (var j = 0; j < nodeListForLabel.length; j++) {
                if (potentialNode === nodeListForLabel[j]) {
                    addToList = false;
                    break;
                }
            }
            if (addToList) {
                nodeListForLabel.push(potentialNode);
            }
        }
        nodeGroup++;
        nodeList = nodeList.concat(nodeListForLabel);
    }
    //Create nodes object
    for (var i = 0; i < nodeList.length; i++) {
        sankeyData.nodes.push({
            'name': nodeList[i]
        });
    }

    //See how many sets of links you need
    var linkGroups = 0;

    for (var _item in dataTable) {
        if (_item.indexOf('label') !== -1) {
            linkGroups++;
        }
    }

    var _loop = function _loop(_i) {
        linkGroup = [];

        linkGroup = data.map(function (x) {

            var label1 = "label " + _i;
            var label2 = "label " + (_i + 1);
            var source = dataTable[label1];
            var target = dataTable[label2];
            var value = dataTable.value;

            return {
                'source': x[source] + "-" + _i,
                'target': x[target] + "-" + (_i + 1),
                'value': x[value]
            };
        });

        sankeyData.links = sankeyData.links.concat(linkGroup);
    };

    for (var _i = 1; _i < linkGroups; _i++) {
        var linkGroup;

        _loop(_i);
    }

    var nodeMap = {};
    for (i = 0; i < sankeyData.nodes.length; i++) {
        sankeyData.nodes[i].node = i;
        nodeMap[sankeyData.nodes[i].name] = i;
    }
    sankeyData.links = sankeyData.links.map(function (x) {
        return {
            source: nodeMap[x.source],
            target: nodeMap[x.target],
            value: x.value
        };
    });

    //Group common sankey links together and add the values
    var aggregateSankeyLinks = [];
    for (var _i2 = 0; _i2 < sankeyData.links.length; _i2++) {
        var currentLink = {};
        currentLink.source = sankeyData.links[_i2].source;
        currentLink.target = sankeyData.links[_i2].target;
        currentLink.value = sankeyData.links[_i2].value;

        //Make sure that only unique links are pushed to the aggregated array
        var addToAggregate = true;
        for (var k = 0; k < aggregateSankeyLinks.length; k++) {
            if (aggregateSankeyLinks[k].source === currentLink.source && aggregateSankeyLinks[k].target === currentLink.target) {
                addToAggregate = false;
                break;
            }
        }

        if (!addToAggregate) {
            continue;
        }

        //Sum the value of identical links
        for (var _j = 0; _j < sankeyData.links.length; _j++) {
            if (sankeyData.links[_i2].source === sankeyData.links[_j].source && sankeyData.links[_i2].target === sankeyData.links[_j].target) {
                currentLink.value = currentLink.value + sankeyData.links[_j].value;
            }
        }

        aggregateSankeyLinks.push(currentLink);
    }

    sankeyData.links = aggregateSankeyLinks;

    chart.data.chartData = sankeyData;
    chart.data.color = d3.scaleOrdinal(d3.schemeCategory20);
}

function paint() {
    var chart = this;
    var data = chart.data.chartData;

    //generate SVG
    chart.generateSVG(null);
    chart.generateSankey(data);
}

function getEventData() {
    return {};
}

/**
 * Generates a sankey chart with the given data
 * @param sankeyData
 */
function generateSankey(sankeyData) {
    var chart = this,
        svg = chart.svg,
        color = chart._vars.color;

    var width = chart.config.container.width;
    var height = chart.config.container.height;

    var formatNumber = d3.format(',.0f'),
        // zero decimal places
    format = function format(d) {
        return formatNumber(d) + ' ' + 'Widgets';
    },
        color = d3.scaleOrdinal(d3.schemeCategory20);

    var sankey = d3.sankey().nodeWidth(10).nodePadding(15).size([width, height]);

    var path = sankey.link();

    // //Adding zoom v4 behavior to sankey
    d3.selectAll('svg').call(d3.zoom().scaleExtent([.1, 10]).on('zoom', zoom)); //zoom event listener

    sankey.nodes(sankeyData.nodes).links(sankeyData.links).layout(32);

    var link = svg.append('g').selectAll('.sankey-link').data(sankeyData.links).enter().append('path').filter(function (d) {
        return d.value > 0;
    }).attr('class', 'sankey-link').attr('d', path).style('stroke-width', function (d) {
        return Math.max(1, d.dy);
    }).sort(function (a, b) {
        return b.dy - a.dy;
    }).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d, i) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var node = svg.append('g').selectAll('.node').data(sankeyData.nodes).enter().append('g').filter(function (d) {
        return d.value > 0;
    }).attr('class', 'node').attr('transform', function (d) {
        return 'translate(' + d.x + ', ' + d.y + ')';
    }).call(d3.drag().subject(function (d) {
        return d;
    }).on('start', function (d) {
        d3.event.sourceEvent.stopPropagation();
        this.parentNode.appendChild(this);
    }).on('drag', dragmove));

    node.append('rect').attr('height', function (d) {
        //return d.dy;
        return Math.abs(d.dy);
        //return Math.max(d.dy, 2);
    }).attr('width', sankey.nodeWidth()).style('fill', function (d) {
        return d.color = color(d.name);
    }).style('stroke', function (d) {
        return d3.rgb(d.color).darker(2);
    });

    node.append('text').attr('x', -6).attr('y', function (d) {
        return d.dy / 2;
    }).attr('dy', '.35em').attr('text-anchor', 'end').attr('transform', null).attr('transform', null).text(function (d) {
        //Remove the the nodeGroup tag and hyphen from the end of the label
        return d.name.slice(0, -2);
    }).filter(function (d) {
        return d.x < width / 2;
    }).attr('x', 6 + sankey.nodeWidth()).attr('text-anchor', 'start');

    function dragmove(d) {
        d3.select(this).attr('transform', 'translate(' + (d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))) + ',' + (d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))) + ')');
        sankey.relayout();
        link.attr('d', path);
    }

    function zoom() {
        //Implementing the v4 zooming feature
        svg.attr('transform', d3.event.transform);
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],23:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.scatterplot = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateScatter = generateScatter;
jvCharts.prototype.createLineGuide = createLineGuide;

/************************************************ Scatter functions ******************************************************/

/**setScatterData
 *  gets scatter data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setScatterLegendData(chart.data);
    chart.data.xAxisData = setScatterAxisData(chart.data, 'x', chart._vars);
    chart.data.yAxisData = setScatterAxisData(chart.data, 'y', chart._vars);
    chart.data.zAxisData = chart.data.dataTable.hasOwnProperty('z') ? setScatterAxisData(chart.data, 'z', chart._vars) : {};
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event, mouse) {
    var chart = this,
        ele = event.target.__data__;

    //determine if the click event happens inside the container
    var brushContainer = chart.chartDiv.select('.' + chart.config.type + '-container').node(),
        containerBox = brushContainer.getBoundingClientRect(),
        x = mouse[0],
        y = mouse[1],
        insideContainer = false;

    if (x < containerBox.right && y < containerBox.bottom && x > containerBox.left && y > containerBox.top) {
        insideContainer = true;
    }

    if (insideContainer && ele) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [ele[chart.currentData.dataTable.label].replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (insideContainer) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**setScatterLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setScatterLegendData(data) {
    var legendArray = [];
    if (data.dataTable.hasOwnProperty('series')) {
        var item = data.dataTable.series;
        for (var value in data.chartData) {
            var legendElement = data.chartData[value][item];
            if (legendArray.indexOf(legendElement) === -1) {
                legendArray.push(legendElement);
            }
        }
    } else if (data.dataTable.hasOwnProperty('label')) {
        legendArray.push(data.dataTable.label);
    }
    if (typeof legendArray[0] === 'undefined') {
        legendArray = [];
        legendArray.push(data.dataTable.label);
    }
    //order legend data in alphabetical order
    legendArray.sort();
    return legendArray;
}

/**setScatterAxisData
 *  gets z axis data based on the chartData
 *
 * @params data, dataTable
 * @returns object with label and values
 */
function setScatterAxisData(data, axis, _vars) {
    //declare vars
    var axisData = [],
        chartData = data.chartData,
        scatterLabel = data.dataTable[axis],
        min = scatterLabel ? chartData[0][scatterLabel] : 0,
        max = scatterLabel ? chartData[0][scatterLabel] : 0,
        dataType;

    for (var j = 0; j < data.dataTableKeys.length; j++) {
        if (data.dataTableKeys[j].vizType === axis) {
            dataType = data.dataTableKeys[j].type;
            break;
        }
    }
    //loop over data to find max and min
    //also determines the y axis total if the data is stacked
    for (var i = 1; i < chartData.length; i++) {
        if (chartData[i].hasOwnProperty(scatterLabel)) {
            var num = chartData[i][scatterLabel];
            if (!isNaN(num)) {
                num = parseFloat(num);
                if (num > max) {
                    max = num;
                } else if (num < min) {
                    min = num;
                }
            }
        }
    }
    if (axis !== 'z') {
        min *= 0.9;
        max *= 1.1;
    }

    if (_vars.yMin && !isNaN(_vars.yMin) && axis === 'y') {
        min = _vars.yMin;
    }
    if (_vars.yMax && !isNaN(_vars.yMax) && axis === 'y') {
        max = _vars.yMax;
    }
    if (_vars.xMin && !isNaN(_vars.xMin) && axis === 'x') {
        min = _vars.xMin;
    }
    if (_vars.xMax && !isNaN(_vars.xMax) && axis === 'x') {
        max = _vars.xMax;
    }

    axisData.push(min);
    axisData.push(max);
    return {
        'label': scatterLabel,
        'values': axisData,
        'dataType': 'NUMBER',
        'min': min,
        'max': max
    };
}

function paint() {
    var chart = this;
    var dataObj = {};

    dataObj.chartData = chart.data.chartData;
    dataObj.legendData = chart.data.legendData;
    dataObj.dataTable = chart.data.dataTable;
    chart._vars.color = chart.data.color;
    dataObj.xAxisData = chart.data.xAxisData;
    dataObj.yAxisData = chart.data.yAxisData;
    dataObj.zAxisData = chart.data.zAxisData;
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);

    //TODO remove these from draw object
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateScatter');

    chart.generateScatter();
    chart.createLineGuide();

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

function calculateMean(data, type) {
    return d3.mean(data, function (value) {
        return +value[type];
    });
}

function createLineGuide() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        chartData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData;

    var xLineVal = calculateMean(chartData, dataTable.x);
    var yLineVal = calculateMean(chartData, dataTable.y);

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    svg.selectAll('g.lineguide.x').remove();
    svg.selectAll('g.lineguide.y').remove();

    var lineGroup = svg.append('g').attr('class', 'line-group scatterplot-container');

    //x line group for crosshair
    var lineGuideX = lineGroup.append('g').attr('class', 'lineguide x').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (chart._vars.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //y line group for crosshair
    var lineGuideY = lineGroup.append('g').attr('class', 'lineguide y').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (chart._vars.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //create crosshair based on median x (up/down) 'potentially' passed with data
    lineGuideX.attr('x1', x(xLineVal)).attr('y1', 0).attr('x2', x(xLineVal)).attr('y2', container.height);

    //create crosshair based on median y (left/right) 'potentially' passed with data
    lineGuideY.attr('x1', 0).attr('y1', y(yLineVal)).attr('x2', container.width).attr('y2', y(yLineVal));

    return lineGroup;
}
/**generateScatter
 *
 * creates and draws a scatter plot on the svg element
 * @params svg, scatterData, _vars, xAxisData, yAxisData, zAxisData, container, dataTable legendData
 * @returns {{}}
 */
function generateScatter() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        scatterData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        zAxisData = chart.currentData.zAxisData,
        legendData = chart.currentData.legendData,
        colors = chart._vars.color,
        scatterDataNew = JSON.parse(JSON.stringify(scatterData));

    if (!chart._vars.NODE_MIN_SIZE) {
        chart._vars.NODE_MIN_SIZE = 4.5;
    }
    if (!chart._vars.NODE_MAX_SIZE) {
        chart._vars.NODE_MAX_SIZE = 25;
    }

    //set clip path rectangle
    svg.append('clipPath').attr('id', 'scatter-area').append('rect').attr('x', 1).attr('width', container.width - 1).attr('height', container.height).attr('fill', chart._vars.backgroundColor);

    svg.selectAll('g.scatterplot-container').remove();
    svg.selectAll('g.scatterplot-container.editable-scatter').remove();

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;
    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    var scatterDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < scatterDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (typeof scatterDataNew[j][dataTable.label] === 'undefined' || scatterDataNew[j][dataTable.label] === '') {
                    if (legendElementToggleArray[i].toggle === false) {
                        scatterDataNew[j][dataTable.x] = -1;
                        scatterDataNew[j][dataTable.y] = -1;
                        scatterDataNew[j][dataTable.z] = -1;
                    }
                } else if (legendElementToggleArray[i].element === scatterDataNew[j][dataTable.series] && legendElementToggleArray[i].toggle === false) {
                    scatterDataNew[j][dataTable.x] = -1;
                    scatterDataNew[j][dataTable.y] = -1;
                    scatterDataNew[j][dataTable.z] = -1;
                }
            }
        }
    }

    for (var j = 0; j < scatterDataNew.length; j++) {
        if (scatterDataNew[j][dataTable.x] !== -1 && scatterDataNew[j][dataTable.y] !== -1) {
            scatterDataFiltered.push(scatterDataNew[j]);
        }
    }

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    if (zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0) {
        console.log(zAxisData);
        var z = jvCharts.getZScale(zAxisData, container, chart._vars);
    }

    var cxTranslate, cyTranslate;

    cxTranslate = function cxTranslate(d, i) {
        return x(scatterDataFiltered[i][xAxisData.label]);
    };
    cyTranslate = function cyTranslate(d, i) {
        return y(scatterDataFiltered[i][yAxisData.label]);
    };

    var scatters = svg.append('g').attr('class', 'scatterplot-circles').selectAll('g');
    var tempMouseOver;
    scatters.data(function () {
        return scatterDataFiltered;
    }).enter().append('circle').attr('clip-path', 'url(#scatter-area)').attr('class', function (d, i) {
        return 'editable editable-scatter scatter-circle-' + i + ' highlight-class';
    }).attr('cx', function (d, i) {
        return cxTranslate(d, i);
    }).attr('cy', function (d, i) {
        return cyTranslate(d, i);
    })
    // .attr("clip-path", "url(.line-group)")
    .attr("opacity", 0.8).attr('r', function (d, i) {
        if (dataTable.hasOwnProperty('z')) {
            if (chart._vars.toggleZ && zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0 && scatterDataFiltered[i][dataTable.z]) {
                return z(scatterDataFiltered[i][dataTable.z]);
            }
        }
        return chart._vars.NODE_MIN_SIZE;
    }).on('mouseover', function (d, i, j) {
        if (chart.showToolTip) {
            this.setAttribute('clip-path', '');
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function () {
        if (chart.showToolTip) {
            this.setAttribute('clip-path', 'url(#scatter-area)');
            chart.tip.hideTip();
        }
    }).attr('fill', function (d, i) {
        var color;
        if (dataTable.hasOwnProperty('series')) {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.series]);
        } else {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.label]);
        }
        return color;
    });
    return scatters;
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],24:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.singleaxis = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.getSingleAxisData = getSingleAxisData;
jvCharts.prototype.getSingleAxisZ = getSingleAxisZ;
jvCharts.prototype.generatePoints = generatePoints;

/************************************************ Single Axis Cluster functions ******************************************************/

function setData() {
    var chart = this;
    chart.currentData = { chartData: chart.data.chartData, dataTable: chart.data.dataTable };

    //Set the legend Data to the label from dataTable Keys
    chart.currentData.legendData = [chart.currentData.dataTable.x];
    chart.currentData.xAxisData = chart.getSingleAxisData(chart.currentData.chartData, chart.currentData.dataTable);

    if (chart.currentData.dataTable.hasOwnProperty('size')) {
        chart.currentData.zAxisData = chart.getSingleAxisZ(chart.currentData.chartData);
    }

    chart.currentData.color = 'red'; //chart.setChartColors (chart._vars.color, chart.data.legendData, colors);
}

function getEventData() {
    return {};
}

function paint() {
    var chart = this;
    var splitData = {},
        //If there is a split, the data that has been split
    numVizzes,
        //If there is a split, the number of single axis clusters that are created
    customSize = {},
        //If there is a split, the svg needs to be a custom predefined height
    margin = {
        top: 40,
        left: 100,
        right: 75,
        bottom: 50
    };

    //If there is a split on the viz, run through this logic
    if (chart._vars.splitData != "" && chart._vars.splitData != "none") {
        //Check to see how many vizzes need to be created because of the split
        var splitDataKeys = [];
        var splitOptionName = chart._vars.splitData.replace(/_/g, " ");

        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            var addToKeys = true;
            for (var j = 0; j < splitDataKeys.length; j++) {
                if (chart.currentData.chartData[i][splitOptionName] === splitDataKeys[j]) {
                    addToKeys = false;
                    break;
                }
            }
            if (addToKeys) {
                splitDataKeys.push(chart.currentData.chartData[i][splitOptionName]);
            }
        }

        //Create Object with keys and assign each element of the data array to corresponding object
        for (var i = 0; i < splitDataKeys.length; i++) {
            splitData[splitDataKeys[i]] = []; //Assign empty array to each location
        }

        //Assign Data elements to appropriate place in splitData object
        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            splitData[chart.currentData.chartData[i][splitOptionName]].push(chart.currentData.chartData[i]);
        }

        numVizzes = splitDataKeys.length;

        customSize.height = numVizzes * 300;

        chart.generateSVG(chart.currentData.legendData, margin, customSize);
        chart.generateXAxis(chart.currentData.xAxisData);
        chart.drawGridlines(chart.currentData.xAxisData);

        for (var i = 0; i < numVizzes; i++) {
            chart.generatePoints(splitData[splitDataKeys[i]], i);
        }
    }
    //When there isn't a split, the base case
    else {
            chart.generateSVG(chart.currentData.legendData, margin, customSize);
            chart.generateXAxis(chart.currentData.xAxisData);
            chart.drawGridlines(chart.currentData.xAxisData);
            chart.generatePoints(chart.currentData.chartData);
        }

    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function getSingleAxisZ(data) {
    var chart = this,
        size = chart.currentData.dataTable.size,
        min = data[0][size],
        max = data[0][size];
    //Find min and max of the data
    for (var i = 0; i < data.length; i++) {
        var num = data[i][size];
        if (num > max) {
            max = num;
        } else if (num < min) {
            min = num;
        }
    }

    return {
        'min': min,
        'max': max,
        'label': size
    };
}

function generatePoints(data, yLevel) {
    var chart = this,
        svg = chart.svg,
        width = chart.config.container.width,
        height = chart.config.container.height,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        zAxisData = chart.currentData.zAxisData,
        container = chart.config.container,
        pointColor = "#609cdb",
        coloredPoint = "#e88a17";

    var x = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart._vars);

    var SPLIT_CLUSTER_HEIGHT = 300;
    var TRANSLATE_SPLIT_CLUSTER = 150;

    //If there's a split, account for the multiple axes
    var currentAxisHeight;
    if (yLevel != null) {
        currentAxisHeight = yLevel * SPLIT_CLUSTER_HEIGHT + TRANSLATE_SPLIT_CLUSTER; //Each height is 100px
    } else {
        currentAxisHeight = height / 2;
    }

    if (!chart._vars.NODE_MIN_SIZE) {
        chart._vars.NODE_MIN_SIZE = 4.5;
    }
    if (!chart._vars.NODE_MAX_SIZE) {
        chart._vars.NODE_MAX_SIZE = 25;
    }

    //Add a path line through the height of the axis
    if (yLevel != null) {
        svg.append("line").attr("x1", 0).attr("x2", container.width).attr("y1", currentAxisHeight).attr("y2", currentAxisHeight).attr("stroke", "white").attr("stroke-width", "20px").attr("transform", "translate(0, " + TRANSLATE_SPLIT_CLUSTER + ")");

        svg.append("text").datum(data).attr("x", 0).attr("y", currentAxisHeight).text(function (d, i) {
            return d[0][chart._vars.splitData.replace(/_/g, ' ')];
        }).attr("transform", "translate(-85, 0)");
    }

    var simulation = d3.forceSimulation(data).alphaDecay(.05).force("x", d3.forceX(function (d) {
        return x(d[dataTable.x]);
    }).strength(1)).force("y", d3.forceY(currentAxisHeight)).force("collide", d3.forceCollide(function (d, i) {
        //Set collision radius equal to the radius of the circle
        if (dataTable.hasOwnProperty('size')) {
            var norm = (d[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            var val = (chart._vars.NODE_MAX_SIZE - chart._vars.NODE_MIN_SIZE) * norm + chart._vars.NODE_MIN_SIZE;
        } else {
            var val = chart._vars.NODE_MIN_SIZE;
        }
        return val;
    }).strength(1)).force("charge", d3.forceManyBody().strength(-6)).stop();
    //

    //On Draw Move Points
    function moveTowardDataPosition(alpha) {
        return function (d) {
            d.x += (x(d.x) - d.x) * .1 * alpha;
            d.y += (y(d.y) - d.y) * .05 * alpha;
        };
    }

    for (var i = 0; i < 120; ++i) {
        simulation.tick();
    }var cell = svg.append("g").attr("class", "cells").selectAll("g").data(d3.voronoi().extent([[0, 0], [width, height]]).x(function (d) {
        return d.x;
    }).y(function (d) {
        return d.y;
    }).polygons(data)).enter().append("g").attr("class", "singleaxis-container");

    cell.append("circle").attr("r", function (d, i, j) {
        if (dataTable.hasOwnProperty('size') && d != null && d.hasOwnProperty('data')) {
            var norm = (d.data[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            if (!isNaN(norm)) {
                var val = (chart._vars.NODE_MAX_SIZE - chart._vars.NODE_MIN_SIZE) * norm + chart._vars.NODE_MIN_SIZE;
            } else {
                //If there is only 1 node on the chart
                var val = chart._vars.NODE_MIN_SIZE;
            }
        } else if (d == null) {
            var val = 0; //Don't display undefined nodes
        } else {
            var val = chart._vars.NODE_MIN_SIZE; //Default node size of 15
        }
        //val = 3;
        return val;
    }).attr("cx", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.x;
        }
    }).attr("cy", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.y;
        }
    }).attr("fill", function (d) {
        if (d != null && d.data[chart._vars.colorDataCategory] === chart._vars.colorDataInstance) {
            return coloredPoint;
        } else {
            return pointColor;
        }
    }).attr("opacity", .8).attr("stroke", "black").attr("stroke-width", 1).on('mouseover', function (d, i, j) {
        if (chart.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, dataTable);
            d3.select(this).attr("fill", chart._vars.singleAxisFillHoverColor);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on("mouseout", function (d, i) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
        d3.select(this).attr("fill", function (d) {
            if (d != null && d.data[chart._vars.colorDataCategory] === chart._vars.colorDataInstance) {
                return coloredPoint;
            } else {
                return pointColor;
            }
        });
    });
}

function getSingleAxisData(data, dataTable) {
    var chart = this;
    var label,
        dataType,
        min,
        max,
        values = [];

    if (dataTable) {
        if (dataTable.hasOwnProperty('x')) {
            label = dataTable.x;
        }
    }

    dataType = 'NUMBER';

    for (var i = 0; i < data.length; i++) {
        values.push(data[i][dataTable.x]);
    }

    min = Math.min.apply(null, values);
    max = Math.max.apply(null, values);

    //Add a 10% buffer to both sides
    min = Math.floor(min - (max - min) * .10);
    max = Math.ceil(max + (max - min) * .10);

    //For axis min/max widget
    if (chart._vars.hasOwnProperty('xMin') && chart._vars.xMin != 'none') {
        min = chart.options.xMin;
    }
    if (chart._vars.hasOwnProperty('xMax') && chart._vars.xMax != 'none') {
        max = chart._vars.xMax;
    }

    return {
        'label': label,
        'values': values,
        'dataType': dataType,
        'min': min,
        'max': max
    };
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],25:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sunburst = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateSunburst = generateSunburst;

/************************************************ Sunburst functions ******************************************************/

/**setSunburstChartData
 *  gets sunburst data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.color = chart.colors;
}

function getEventData() {
    return {};
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var sunburstMargins = {
        top: 15,
        right: 15,
        bottom: 15,
        left: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, sunburstMargins);
    //chart.generateLegend(chart.currentData.legendData, 'generateSunburst');
    chart.generateSunburst(chart.currentData);
}

/**generateSunburst
 *
 * paints the sunburst on the chart
 * @params sunburstData
 */
function generateSunburst(sunburstData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        width = container.width,
        height = container.height,
        radius = Math.min(width, height) / 2 - 10;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    var formatNumber = d3.format(',d');

    var x = d3.scaleLinear().range([0, 2 * Math.PI]);

    var y = d3.scaleSqrt().range([0, radius]);

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 1;return c;
    }));

    //var color = d3.scaleOrdinal(d3.schemeCategory10);

    var partition = d3.partition();

    var arc = d3.arc().startAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x0)));
    }).endAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x1)));
    }).innerRadius(function (d) {
        return Math.max(0, y(d.y0));
    }).outerRadius(function (d) {
        return Math.max(0, y(d.y1));
    });

    //assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    root.sum(function (d) {
        return d.value;
    });

    var vis = svg.append('g').attr('class', 'sunburst').attr('width', width).attr('height', height).attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');

    vis.selectAll('path').data(partition(root).descendants()).enter().append('g').attr('class', 'node');

    var path = vis.selectAll('.node').append('path').attr('d', arc).style('fill', function (d) {
        if (d.data.name === 'root') {
            d.color = chart._vars.backgroundColor;
            return chart._vars.backgroundColor;
        }
        d.color = color(d.data.name);
        return color(d.data.name);
    }).on('mouseover', function (d, i, j) {
        if (chart.showToolTip) {
            // var tData = chart.data.tipData.get(d.data.name);
            // tData.name = d.data.name;
            // tData.color = d.color;
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('click', click).on('mouseout', function (d) {
        chart.tip.hideTip();
    });

    if (chart._vars.displayValues) {
        var text = vis.selectAll('.node').append('text').attr('transform', function (d) {
            return 'rotate(' + computeTextRotation(d) + ')';
        }).attr('x', function (d) {
            return y(d.y0);
        }).attr('dx', '6') //margin
        .attr('dy', '.35em') //vertical-align
        .text(function (d) {
            return d.data.name === 'root' ? '' : d.data.name;
        });
    }

    function click(d) {
        //fade out all text elements
        if (chart._vars.displayValues) {
            text.transition().attr('opacity', 0);
        }

        vis.transition().duration(750).tween('scale', function () {
            var xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
                yd = d3.interpolate(y.domain(), [d.y0, 1]),
                yr = d3.interpolate(y.range(), [d.y0 ? 20 : 0, radius]);

            return function (t) {
                x.domain(xd(t));y.domain(yd(t)).range(yr(t));
            };
        }).selectAll('path').attrTween('d', function (d) {
            return function () {
                return arc(d);
            };
        }).on('end', function (e, i) {
            if (chart._vars.displayValues) {
                //check if the animated element's data e lies within the visible angle span given in d
                if (e.x0 > d.x0 && e.x0 < d.x1) {
                    //get a selection of the associated text element
                    var arcText = d3.select(this.parentNode).select('text');
                    //fade in the text element and recalculate positions
                    arcText.transition().duration(750).attr('opacity', 1).attr('class', 'visible').attr('transform', function () {
                        return 'rotate(' + computeTextRotation(e) + ')';
                    }).attr('x', function (d) {
                        return y(d.y0);
                    }).text(function (d) {
                        return d.data.name === 'root' ? '' : d.data.name;
                    });
                }
            }
        });
    }

    function computeTextRotation(d) {
        return (x((d.x0 + d.x1) / 2) - Math.PI / 2) / Math.PI * 180;
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],26:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.treemap = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateTreeMap = generateTreeMap;
/************************************************ TreeMap functions ******************************************************/

/**setTreeMapData
 *  gets treemap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setTreeMapLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData() {
    return {};
}

/**setTreeMapLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setTreeMapLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var treeMapMargins = {
        top: 45,
        right: 50,
        left: 50,
        bottom: 130
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, treeMapMargins);
    chart.generateLegend(chart.currentData.legendData, 'generateTreeMap');
    chart.generateTreeMap(chart.currentData);
};

/** generateTreeMap
 *
 * paints the treemap on the chart
 * @params treeMapData
 */
function generateTreeMap(treeMapData) {

    var chart = this,
        svg = chart.svg,
        colors = treeMapData.color,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        treemap = null;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, chart.data.legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < newData.children.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === newData.children[j][relationMap.series] && legendElementToggleArray[i].toggle === false) {
                    newData.children[j].show = false;
                }
            }
        }
    }

    var treeMapDataFiltered = {};
    treeMapDataFiltered["Parent"] = "Top Level";
    treeMapDataFiltered.children = [];

    for (var j = 0; j < newData.children.length; j++) {
        if (newData.children[j].show !== false) {
            treeMapDataFiltered.children.push(newData.children[j]);
        }
    }

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(treeMapDataFiltered, function (d) {
        return d.children;
    });

    var treemap = d3.treemap().size([container.width, container.height]).padding(2);

    var nodes = treemap(root.sum(function (d) {
        return d[relationMap.size];
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    //Remove existing bars from page
    svg.selectAll("g.treemap").remove();
    svg.append("g").attr("class", "treemap");

    var node = svg.select(".treemap").selectAll("g").data(root.leaves()).enter().append('g').attr('transform', function (d) {
        return 'translate(0,0)';
    });

    node.append('rect')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("fill", function (d, i) {
        return jvCharts.getColors(colors, i, d.data[relationMap.series]);
    }).attr("fill-opacity", .8).attr("stroke", chart._vars.white).attr("stroke-width", chart._vars.strokeWidth).on("mouseover", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d.data, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
        chart.tip.d = d;
        chart.tip.i = i;

        // var rect = d3.select(this);
        // rect.attr("fill", chart._vars.light);
        // rect.transition().duration(200);
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
        // var rect = d3.select(this);
        // rect.attr("fill", function (d, i) {
        //     return jvCharts.getColors(colors, i, d.data[relationMap.series]);
        // });
        // rect.transition().duration(200);
    });

    node.append('text')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("transform", "translate(3, 18)").text(function (d) {
        if (d.dy !== 0) {
            return d.children ? null : d.data[relationMap.label];
        }
    });

    /* Don't display text if text is wider than rect */
    var temp = svg.select(".treemap").selectAll("g").selectAll("text");
    temp.attr("style", function (d) {
        if (this.getBBox().width >= d.x1 - d.x0 - 5) {
            return "display:none";
        }
        if (this.getBBox().height >= d.y1 - d.y0 - 5) {
            return "display:none";
        }
    });
};
module.exports = jvCharts;

},{"../jvCharts.js":4}],27:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.cloud = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateCloud = generateCloud;

/************************************************ Cloud functions ******************************************************/

/**setCloudData
 *  gets cloud data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //define color object for chartData
    chart.data.color = chart.colors;
}

function getEventData() {
    return {};
}

/**setCloudLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setCloudLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint() {
    var chart = this;
    if (!chart.smallerFontRepaint) {
        chart._vars.fontSizeMax = 80;
        chart.currentData = chart.data;
    } else {
        chart.currentData = JSON.parse(JSON.stringify(chart.data));
    }

    chart._vars.color = chart.data.color;

    var cloudMargins = {
        top: 15,
        right: 15,
        left: 15,
        bottom: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, cloudMargins);
    // chart.generateLegend(chart.currentData.legendData, 'generateCloud');
    chart.generateCloud(chart.currentData);
};

/** generateCloud
 *
 * paints the cloud  on the chart
 * @params cloud Data
 */
function generateCloud(cloudData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        width = container.width,
        height = container.height,
        margin = chart.config.margin,
        min,
        max;

    var categories = d3.keys(d3.nest().key(function (d) {
        if (!min && !max) {
            min = d[relationMap.value];
            max = d[relationMap.value];
        } else {
            if (d[relationMap.value] > max) {
                max = d[relationMap.value];
            }
            if (d[relationMap.value] < min) {
                min = d[relationMap.value];
            }
        }

        return d[relationMap.value];
    }).map(cloudData.chartData));

    if (!chart._vars.fontSizeMax) {
        chart._vars.fontSizeMax = 80;
    }

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    var fontSize = d3.scalePow().exponent(5).domain([0, 1]).range([10, chart._vars.fontSizeMax]);
    chart.smallerFontRepaint = false;
    var layout = d3.layout.cloud().timeInterval(10).size([width, height]).words(cloudData.chartData).rotate(function (d) {
        return 0;
    }).font('Roboto').fontSize(function (d, i) {
        return fontSize(max - min !== 0 ? (d[relationMap.value] - min) / (max - min) : 0);
    }).repaintWithSmallerFont(function () {
        if (chart._vars.fontSizeMax > 10) {
            chart._vars.fontSizeMax -= 5;
            chart.smallerFontRepaint = true;
            paint(chart);
        }
    }).text(function (d) {
        return d[relationMap.label];
    }).spiral("archimedean").on("end", draw).start();

    var wordcloud = svg.append("g").attr('class', 'wordcloud').attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    function draw(words) {
        if (chart.smallerFontRepaint) {
            return;
        }
        wordcloud.selectAll("text").data(cloudData.chartData).enter().append("text").attr('class', 'word').style("font-size", function (d) {
            return d.size + "px";
        }).style("font-family", function (d) {
            return d.font;
        }).style("fill", function (d) {
            return color(d[relationMap.value]);
        }).attr("text-anchor", "middle").text(function (d) {
            return d.text;
        }).on("mouseover", function (d, i) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            tipData.color = color(d[relationMap.value]);

            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }).on('mousemove', function (d, i) {
            if (chart.showToolTip) {
                if (chart.tip.d === d && chart.tip.i === i) {
                    chart.tip.showTip(d3.event);
                } else {
                    //Get tip data
                    var tipData = chart.setTipData(d, i);
                    //Draw tip line
                    chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
                }
            }
        }).on("mouseout", function (d) {
            chart.tip.hideTip();
        }).transition().duration("1000").attr("transform", function (d) {
            return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
        });
    }
};

module.exports = jvCharts;

},{"../jvCharts.js":4}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGVkaXRPcHRpb25zVGVtcGxhdGUuanMiLCJzcmNcXGp2LmpzIiwic3JjXFxqdkJydXNoLmpzIiwic3JjXFxqdkNoYXJ0cy5qcyIsInNyY1xcanZDb21tZW50LmpzIiwic3JjXFxqdkVkaXQuanMiLCJzcmNcXGp2RXZlbnRzLmpzIiwic3JjXFxqdlNlbGVjdC5qcyIsInNyY1xcanZUaXAuanMiLCJzcmNcXGp2VmFycy5qcyIsInNyY1xcdmlzdWFsc1xcanZBcmVhLmpzIiwic3JjXFx2aXN1YWxzXFxqdkJhci5qcyIsInNyY1xcdmlzdWFsc1xcanZCb3hXaGlza2VyLmpzIiwic3JjXFx2aXN1YWxzXFxqdkJ1YmJsZS5qcyIsInNyY1xcdmlzdWFsc1xcanZDbHVzdGVyZ3JhbS5qcyIsInNyY1xcdmlzdWFsc1xcanZHYW50dC5qcyIsInNyY1xcdmlzdWFsc1xcanZIZWF0bWFwLmpzIiwic3JjXFx2aXN1YWxzXFxqdkxpbmUuanMiLCJzcmNcXHZpc3VhbHNcXGp2UGFjay5qcyIsInNyY1xcdmlzdWFsc1xcanZQaWUuanMiLCJzcmNcXHZpc3VhbHNcXGp2UmFkaWFsLmpzIiwic3JjXFx2aXN1YWxzXFxqdlNhbmtleS5qcyIsInNyY1xcdmlzdWFsc1xcanZTY2F0dGVyLmpzIiwic3JjXFx2aXN1YWxzXFxqdlNpbmdsZUF4aXMuanMiLCJzcmNcXHZpc3VhbHNcXGp2U3VuYnVyc3QuanMiLCJzcmNcXHZpc3VhbHNcXGp2VHJlZW1hcC5qcyIsInNyY1xcdmlzdWFsc1xcanZXb3JkQ2xvdWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksbXVJQUFKOztBQTRHQSxPQUFPLE9BQVAsR0FBaUIsSUFBakI7OztBQzVHQTtBQUNBOztBQUNBLFFBQVEsYUFBUjtBQUNBLFFBQVEsZUFBUjtBQUNBLFFBQVEsWUFBUjtBQUNBLFFBQVEsY0FBUjtBQUNBLFFBQVEsZ0JB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LENBQVYsS0FBZ0IsQ0FBekMsRUFBNEM7QUFDeEMsMEJBQU0sR0FBTixDQUFVLE9BQVYsQ0FBa0IsR0FBRyxLQUFyQjtBQUNILGlCQUZELE1BRU87QUFDSDtBQUNBLHdCQUFJLFVBQVUsTUFBTSxVQUFOLENBQWlCLENBQWpCLEVBQW9CLENBQXBCLENBQWQ7QUFDQTtBQUNBLDBCQUFNLEdBQU4sQ0FBVSxpQkFBVixDQUE0QixPQUE1QixFQUFxQyxNQUFNLElBQU4sQ0FBVyxTQUFoRDtBQUNIO0FBQ0o7QUFDSixTQXBDTCxFQXFDSyxFQXJDTCxDQXFDUSxVQXJDUixFQXFDb0IsVUFBVSxDQUFWLEVBQWE7QUFDekIsa0JBQU0sR0FBTixDQUFVLE9BQVY7QUFDSCxTQXZDTCxFQXdDSyxVQXhDTCxHQXdDa0IsUUF4Q2xCLENBd0MyQixNQXhDM0IsRUF5Q0ssSUF6Q0wsQ0F5Q1UsV0F6Q1YsRUF5Q3VCLFVBQVUsQ0FBVixFQUFhO0FBQUUsbUJBQU8sZUFBZSxDQUFDLEVBQUUsQ0FBSCxFQUFNLEVBQUUsQ0FBUixDQUFmLEdBQTRCLFVBQTVCLEdBQXlDLEVBQUUsTUFBM0MsR0FBb0QsR0FBM0Q7QUFBaUUsU0F6Q3ZHO0FBMENIO0FBRUo7O0FBRUQsT0FBTyxPQUFQLEdBQWlCLFFBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBodG1sID0gYDwhLS1Ub3AgdGl0bGUgYmFyIG9mIGVkaXQgcG9wdXAtLT5cclxuPGRpdiBjbGFzcz0ndGl0bGUnPlxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWlubGluZVwiPlxyXG4gICAgICAgIDxiPkVkaXQgT3B0aW9uczxkaXYgaWQ9XCJlZGl0LW9wdGlvbi1lbGVtZW50XCIgY2xhc3M9XCJqdi1pbmxpbmVcIiBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlbjtcIj48L2Rpdj46PC9iPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBpZD0nZXhpdEVkaXRNb2RlJyBjbGFzcz0nanYtcHVsbC1yaWdodCBqdi1wb2ludGVyJz5cclxuICAgICAgICA8aSBjbGFzcz0nZmEgZmEtdGltZXMnPjwvaT5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbjwhLS1MaW5lIGRpdmlkaW5nIHRvcCBiYXIgd2l0aCBmb3JtIG9wdGlvbnMgYmVsb3ctLT5cclxuPGhyIHN0eWxlPSdtYXJnaW46M3B4IDAgM3B4IDA7Jy8+XHJcblxyXG48IS0tRm9ybSBPcHRpb25zLS0+XHJcbjxkaXYgaWQ9XCJmb3JtJytjaGFydC5jb25maWcubmFtZSsnXCI+XHJcblxyXG4gICAgPCEtLU51bWJlciBmb3JtYXR0aW5nIG9wdGlvbnMtLT5cclxuICAgIDxkaXYgY2xhc3M9XCJqdi1mdWxsLXdpZHRoIGVkaXRhYmxlLW51bS1mb3JtYXRcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPk51bWJlciBGb3JtYXQ6XHJcbiAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJlZGl0YWJsZS1udW0tZm9ybWF0XCI+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+LS1TZWxlY3QgT3B0aW9uLS08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjdXJyZW5jeVwiPkN1cnJlbmN5PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZml4ZWRDdXJyZW5jeVwiPkZpeGVkIFBvaW50IEN1cnJlbmN5PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicGVyY2VudFwiPlBlcmNlbnQ8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtaWxsaW9uc1wiPk1pbGxpb25zPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY29tbWFzXCI+Q29tbWFzPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibm9uZVwiPk5vbmU8L29wdGlvbj5cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1UZXh0IGZvcm1hdHRpbmcgb3B0aW9ucy0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImVkaXRhYmxlLXRleHQtc2l6ZS1idXR0b25zIGp2LWNlbnRlciB0b3BCYXJPcHRpb24gaW5jcmVhc2Vmb250IGp2LXBvaW50ZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGJ1dHRvbiBpZD0nZGVjcmVhc2VGb250U2l6ZScgdGl0bGU9J0RlY3JlYXNlIHRoZSBmb250IHNpemUnIGNsYXNzPSd0b3BiYXItYnV0dG9uIGZvbnQganYtYnV0dG9uIGp2LXBvaW50ZXInPjxpIGNsYXNzPSdmYSBmYS1mb250Jz48L2k+PGkgY2xhc3M9J2ZhIGZhLWxvbmctYXJyb3ctZG93bic+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gaWQ9J2luY3JlYXNlRm9udFNpemUnIHRpdGxlPSdJbmNyZWFzZSB0aGUgZm9udCBzaXplJyBjbGFzcz0ndG9wYmFyLWJ1dHRvbiBmb250IGp2LWJ1dHRvbiBqdi1wb2ludGVyJz48aSBjbGFzcz0nZmEgZmEtZm9udCc+PC9pPjxpIGNsYXNzPSdmYSBmYS1sb25nLWFycm93LXVwJz48L2k+PC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuXHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtdGV4dC1jb2xvclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwianYtZWRpdC1tb2RlLWlucHV0XCI+VGV4dCBDb2xvcjpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjb2xvclwiIGlkPVwiZWRpdGFibGUtdGV4dC1jb2xvclwiIHZhbHVlPVwiIzAwMDAwMFwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxici8+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS10ZXh0LXNpemVcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPlRleHQgU2l6ZTpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBpZD1cImVkaXRhYmxlLXRleHQtc2l6ZVwiIG1pbj1cIjBcIiBtYXg9XCIzMFwiIHZhbHVlPVwiMTJcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnIvPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtY29udGVudFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwianYtZWRpdC1tb2RlLWlucHV0XCI+VGV4dDpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJlZGl0YWJsZS1jb250ZW50XCIgcGxhY2Vob2xkZXI9XCJFbnRlciB0ZXh0IGhlcmVcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnIvPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPCEtLWJhciBjaGFydCBmb3JtYXR0aW5nLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS1iYXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPkJhciBDb2xvcjpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjb2xvclwiIGlkPVwiZWRpdGFibGUtYmFyXCIgdmFsdWU9XCIjYWFhYWFhXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1waWUgY2hhcnQgZm9ybWF0dGluZy0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtcGllXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJqdi1lZGl0LW1vZGUtaW5wdXRcIj5QaWUgU2xpY2UgQ29sb3I6XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBpZD1cImVkaXRhYmxlLXBpZVwiIHZhbHVlPVwiI2FhYWFhYVwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxici8+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8IS0tc2NhdHRlciBwbG90IGZvcm1hdHRpbmctLT5cclxuICAgIDxkaXYgY2xhc3M9XCJqdi1mdWxsLXdpZHRoIGVkaXRhYmxlLXNjYXR0ZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPlNjYXR0ZXIgQ2lyY2xlIENvbG9yOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNvbG9yXCIgaWQ9XCJlZGl0YWJsZS1zY2F0dGVyXCIgdmFsdWU9XCIjYWFhYWFhXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1idWJibGUgY2hhcnQgZm9ybWF0dGluZy0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtYnViYmxlXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJqdi1lZGl0LW1vZGUtaW5wdXRcIj5CdWJibGUgQ29sb3I6XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBpZD1cImVkaXRhYmxlLWJ1YmJsZVwiIHZhbHVlPVwiI2FhYWFhYVwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxici8+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8IS0tYm94IGFuZCB3aGlza2VyIHBsb3QgZm9ybWF0dGluZy0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtYm94XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJqdi1lZGl0LW1vZGUtaW5wdXRcIj5Cb3ggQ29sb3I6XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBpZD1cImVkaXRhYmxlLWJveFwiIHZhbHVlPVwiI2FhYWFhYVwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxici8+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8IS0tU3VibWl0IGJ1dHRvbi0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImVkaXRhYmxlLWRlZmF1bHQtYW5kLWFwcGx5XCI+XHJcbiAgICAgICAgPGJ1dHRvbiBpZD1cInN1Ym1pdEVkaXRNb2RlRGVmYXVsdFwiIGNsYXNzPVwianYtYnV0dG9uIGp2LXB1bGwtbGVmdFwiPkRlZmF1bHQ8L2J1dHRvbj5cclxuICAgICAgICA8YnV0dG9uIGlkPVwic3VibWl0RWRpdE1vZGVcIiBjbGFzcz1cImp2LWJ1dHRvbiBqdi1idXR0b24tZ3JlZW4ganYtcHVsbC1yaWdodFwiPkFwcGx5PC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+YDtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gaHRtbDsiLCIndXNlIHN0cmljdCc7XHJcbi8vYWRkIGFsbCByZXF1aXJlZCBmaWxlc1xyXG5yZXF1aXJlKCcuL2p2VmFycy5qcycpO1xyXG5yZXF1aXJlKCcuL2p2RXZlbnRzLmpzJyk7XHJcbnJlcXVpcmUoJy4vanZUaXAuanMnKTtcclxucmVxdWlyZSgnLi9qdkJydXNoLmpzJyk7XHJcbnJlcXVpcmUoJy4vanZDb21tZW50LmpzJyk7XHJcbnJlcXVpcmUoJy4vanZFZGl0LmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkJhci5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZQaWUuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2TGluZS5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTY2F0dGVyLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkFyZWEuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2R2FudHQuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2SGVhdG1hcC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZQYWNrLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlJhZGlhbC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTYW5rZXkuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2U2luZ2xlQXhpcy5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTdW5idXJzdC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZUcmVlbWFwLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdldvcmRDbG91ZC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZCb3hXaGlza2VyLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkJ1YmJsZS5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZDbHVzdGVyZ3JhbS5qcycpO1xyXG5cclxuLy9hdHRhY2gganYgY2hhcnRzIG9iamVjdHMgdG8gdGhlIHdpbmRvd1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuL2p2Q2hhcnRzLmpzJyk7XHJcbnZhciBqdkJydXNoID0gcmVxdWlyZSgnLi9qdkJydXNoLmpzJyk7XHJcbnZhciBqdkNvbW1lbnQgPSByZXF1aXJlKCcuL2p2Q29tbWVudC5qcycpO1xyXG52YXIganZFZGl0ID0gcmVxdWlyZSgnLi9qdkVkaXQuanMnKTtcclxudmFyIGp2U2VsZWN0ID0gcmVxdWlyZSgnLi9qdlNlbGVjdCcpO1xyXG4vLyB2YXIganZEb29kbGUgPSByZXF1aXJlKCcuL2p2RG9vZGxlLmpzJyk7XHJcblxyXG4vL0NvbW1lbnQgb3V0IHRvIHJlbW92ZSBmcm9tIHdpbmRvdyBvYmplY3QgLSBpZiB5b3UgYXJlIG5vdCB1c2luZyBqdkNoYXJ0cyBhcyBhIG1pbmlmaWVkIGZpbGVcclxud2luZG93Lmp2Q2hhcnRzID0ganZDaGFydHM7XHJcbndpbmRvdy5qdkJydXNoID0ganZCcnVzaDtcclxud2luZG93Lmp2Q29tbWVudCA9IGp2Q29tbWVudDtcclxud2luZG93Lmp2RWRpdCA9IGp2RWRpdDtcclxud2luZG93Lmp2U2VsZWN0ID0ganZTZWxlY3Q7XHJcblxyXG5cclxuLy9hZGQgcG9seWZpbGwgZm9yIE9iamVjdC5hc3NpZ24oKSBpZiB1bnN1cHBvcnRlZFxyXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcclxuICAgIE9iamVjdC5hc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7IC8vLmxlbmd0aCBvZiBmdW5jdGlvbiBpcyAyXHJcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkgeyAvL1R5cGVFcnJvciBpZiB1bmRlZmluZWQgb3IgbnVsbFxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvL1NraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Bdm9pZCBidWdzIHdoZW4gaGFzT3duUHJvcGVydHkgaXMgc2hhZG93ZWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgfTtcclxufVxyXG4iLCIvKioqICBqdkJydXNoICoqKi9cclxuJ3VzZS1zdHJpY3QnO1xyXG5cclxuLyoqXHJcbiogQG5hbWUganZCcnVzaFxyXG4qIEBkZXNjIENvbnN0cnVjdG9yIGZvciBKViBCcnVzaCAtIGNyZWF0ZXMgYnJ1c2ggbW9kZSBmb3IgYSBqdiB2aXN1YWxpemF0aW9uIGFuZCBleGVjdXRlcyBhIGNhbGxiYWNrIGZvciB0aGUgdmlzdWFsIHRvIGJlIGZpbHRlcmVkXHJcbiogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ09iaiAtIGNvbnN0cnVjdG9yIG9iamVjdCBjb250YWluaW5nIHRoZSBqdkNoYXJ0IGFuZCBvdGhlciBvcHRpb25zXHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5mdW5jdGlvbiBqdkJydXNoKGNvbmZpZ09iaikge1xyXG4gICAgdmFyIGJydXNoT2JqID0gdGhpcztcclxuICAgIGJydXNoT2JqLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgYnJ1c2hPYmouanZDaGFydCA9IGNvbmZpZ09iai5qdkNoYXJ0O1xyXG4gICAgYnJ1c2hPYmoub25CcnVzaENhbGxiYWNrID0gY29uZmlnT2JqLm9uQnJ1c2hDYWxsYmFjaztcclxufVxyXG5cclxuanZCcnVzaC5wcm90b3R5cGUucmVtb3ZlQnJ1c2ggPSByZW1vdmVCcnVzaDtcclxuanZCcnVzaC5wcm90b3R5cGUuc3RhcnRCcnVzaCA9IHN0YXJ0QnJ1c2g7XHJcblxyXG4vKipcclxuKiBAbmFtZSByZW1vdmVCcnVzaFxyXG4qIEBkZXNjIHJlbW92ZXMgdGhlIGJydXNoIGFyZWEgZnJvbSB0aGUgdmlzdWFsXHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5mdW5jdGlvbiByZW1vdmVCcnVzaCgpIHtcclxuICAgIGxldCBicnVzaE9iaiA9IHRoaXM7XHJcbiAgICBicnVzaE9iai5qdkNoYXJ0LmNoYXJ0RGl2LnNlbGVjdEFsbCgnLmJydXNoYXJlYScpLnJlbW92ZSgpO1xyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBzdGFydEJydXNoXHJcbiogQGRlc2MgcmVtb3ZlcyB0aGUgYnJ1c2ggYXJlYSBmcm9tIHRoZSB2aXN1YWxcclxuKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgLSBvcHRpb25hbCBldmVudCB0byBzdGFydCBicnVzaCBpbW1lZGlhdGVseSB3aXRoIGEgbmV3IG1vdXNlZG93blxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gc3RhcnRCcnVzaChldmVudCA9IGZhbHNlKSB7XHJcbiAgICBsZXQgYnJ1c2hPYmogPSB0aGlzLFxyXG4gICAgICAgIGhlaWdodCA9IGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgd2lkdGggPSBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgc3ZnID0gYnJ1c2hPYmouanZDaGFydC5zdmc7XHJcblxyXG4gICAgaWYgKGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgIGJydXNoT2JqLmJydXNoVHlwZSA9ICd4JztcclxuICAgICAgICBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoYXJlYScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnaGVpZ2h0JywgaGVpZ2h0ICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKCd3aWR0aCcsIHdpZHRoICsgJ3B4JylcclxuICAgICAgICAgICAgLmNhbGwoZDMuYnJ1c2hYKClcclxuICAgICAgICAgICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcclxuICAgICAgICAgICAgICAgIC5vbignZW5kJywgYnJ1c2hFbmQuYmluZChicnVzaE9iaikpKTtcclxuICAgIH0gZWxzZSBpZihicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnY2x1c3RlcmdyYW0nKSB7XHJcbiAgICAgICAgYnJ1c2hPYmouYnJ1c2hUeXBlID0gJ3h5JztcclxuICAgICAgICBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoYXJlYScpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgYnJ1c2hPYmouanZDaGFydC5fdmFycy5sZWZ0VHJlZVdpZHRoICsgXCIsXCIgKyBicnVzaE9iai5qdkNoYXJ0Ll92YXJzLnRvcFRyZWVIZWlnaHQgKyBcIilcIilcclxuICAgICAgICAgICAgLnN0eWxlKCdoZWlnaHQnLCBoZWlnaHQgKyAncHgnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3dpZHRoJywgd2lkdGggKyAncHgnKVxyXG4gICAgICAgICAgICAuY2FsbChkMy5icnVzaCgpXHJcbiAgICAgICAgICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2VuZCcsIGJydXNoRW5kLmJpbmQoYnJ1c2hPYmopKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJydXNoT2JqLmJydXNoVHlwZSA9ICd4eSc7XHJcbiAgICAgICAgc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaGFyZWEnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2hlaWdodCcsIGhlaWdodCArICdweCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnd2lkdGgnLCB3aWR0aCArICdweCcpXHJcbiAgICAgICAgICAgIC5jYWxsKGQzLmJydXNoKClcclxuICAgICAgICAgICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcclxuICAgICAgICAgICAgICAgIC5vbignZW5kJywgYnJ1c2hFbmQuYmluZChicnVzaE9iaikpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZXZlbnQpIHtcclxuICAgICAgICAvL2Rpc3BhdGNoIG1vdXNlZG93biB0byBzdGFydCBhIGJydXNoIGF0IHRoZSBldmVudCBjb29yZGluYXRlc1xyXG4gICAgICAgIGxldCBicnVzaEVsZW1lbnQgPSBzdmcuc2VsZWN0KCcuYnJ1c2hhcmVhJykubm9kZSgpLFxyXG4gICAgICAgICAgICBuZXdFdmVudCA9IG5ldyBFdmVudCgnbW91c2Vkb3duJyk7XHJcbiAgICAgICAgbmV3RXZlbnQucGFnZVggPSBldmVudC5wYWdlWDtcclxuICAgICAgICBuZXdFdmVudC5jbGllbnRYID0gZXZlbnQuY2xpZW50WDtcclxuICAgICAgICBuZXdFdmVudC5wYWdlWSA9IGV2ZW50LnBhZ2VZO1xyXG4gICAgICAgIG5ld0V2ZW50LmNsaWVudFkgPSBldmVudC5jbGllbnRZO1xyXG4gICAgICAgIG5ld0V2ZW50LnZpZXcgPSBldmVudC52aWV3O1xyXG4gICAgICAgIGJydXNoRWxlbWVudC5fX2RhdGFfXyA9IHsgdHlwZTogJ292ZXJsYXknIH07XHJcbiAgICAgICAgYnJ1c2hFbGVtZW50LmRpc3BhdGNoRXZlbnQobmV3RXZlbnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBicnVzaEVuZFxyXG4qIEBkZXNjIGNhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSB1c2VyIGJydXNoaW5nIHdoaWNoIGNhbGxzIHRoZSBvbkJydXNoIGNhbGxiYWNrXHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5mdW5jdGlvbiBicnVzaEVuZCgpIHtcclxuICAgIHZhciBicnVzaE9iaiA9IHRoaXMsXHJcbiAgICAgICAgeFNjYWxlID0gYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLFxyXG4gICAgICAgIHlTY2FsZSA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEueUF4aXNTY2FsZSxcclxuICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gW10sXHJcbiAgICAgICAgZmlsdGVyZWRZQXhpc0xhYmVscyA9IFtdLFxyXG4gICAgICAgIHNob3VsZFJlc2V0ID0gZmFsc2UsXHJcbiAgICAgICAgZSA9IGQzLmV2ZW50LnNlbGVjdGlvbixcclxuICAgICAgICByZXR1cm5PYmosXHJcbiAgICAgICAgZmlsdGVyZWRMYWJlbHMgPSBbXSxcclxuICAgICAgICBmaWx0ZXJlZENvbmNlcHRzID0ge30sXHJcbiAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgZmlsdGVyQ29sLFxyXG4gICAgICAgIGZpbHRlcmVkTGFiZWxzWCxcclxuICAgICAgICBmaWx0ZXJlZExhYmVsc1k7XHJcblxyXG4gICAgaWYgKGUpIHtcclxuICAgICAgICBpZiAoYnJ1c2hPYmouYnJ1c2hUeXBlID09PSAneHknKSB7XHJcbiAgICAgICAgICAgIGlmICh4U2NhbGUgJiYgdHlwZW9mIHhTY2FsZS5pbnZlcnQgIT09ICdmdW5jdGlvbicpIHsgLy9tZWFucyB0aGF0IHRoZSBzY2FsZSBpcyBvcmRpbmFsIGFuZCBub3QgbGluZWFyXHJcbiAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVCcnVzaEFyZWFPcmRpbmFsKGVbMF1bMF0sIGVbMV1bMF0sIHhTY2FsZSk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gcmV0dXJuT2JqLnNob3VsZFJlc2V0O1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHhTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgLy9jYWxjdWxhdGUgbGFiZWxzIGZvciBsaW5lYXIgc2NhbGVcclxuICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUJydXNoQXJlYUxpbmVhcihlWzBdWzBdLCBlWzFdWzBdLCB4U2NhbGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEsIGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUsICd4Jyk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gcmV0dXJuT2JqLnNob3VsZFJlc2V0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoeVNjYWxlICYmIHR5cGVvZiB5U2NhbGUuaW52ZXJ0ICE9PSAnZnVuY3Rpb24nKSB7IC8vbWVhbnMgdGhhdCB0aGUgc2NhbGUgaXMgb3JpZG5hbCBhbmQgbm90IGxpbmVhclxyXG4gICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbChlWzBdWzFdLCBlWzFdWzFdLCB5U2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRZQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHlTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgLy9jYWxjdWxhdGUgbGFiZWxzIGZvciBsaW5lYXIgc2NhbGVcclxuICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUJydXNoQXJlYUxpbmVhcihlWzBdWzFdLCBlWzFdWzFdLCB5U2NhbGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEsIGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUsICd5Jyk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmouc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVIZWF0bWFwQnJ1c2goZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSwgYnJ1c2hPYmouanZDaGFydCk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZExhYmVsc1ggPSByZXR1cm5PYmouZmlsdGVyZWRYQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzWSA9IHJldHVybk9iai5maWx0ZXJlZFlBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJldHVybk9iai5zaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnY2x1c3RlcmdyYW0nKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVDbHVzdGVyZ3JhbUJydXNoKGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEsIGJydXNoT2JqLmp2Q2hhcnQpO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHNYID0gcmV0dXJuT2JqLmZpbHRlcmVkWEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZExhYmVsc1kgPSByZXR1cm5PYmouZmlsdGVyZWRZQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmouc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGJydXNoT2JqLmJydXNoVHlwZSA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUJydXNoQXJlYUxpbmVhcihlWzBdLCBlWzFdLCB4U2NhbGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEsIGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUsICd4Jyk7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVyZWRYQXhpc0xhYmVscy5sZW5ndGggPiAwICYmIGZpbHRlcmVkWUF4aXNMYWJlbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIC8vbWVyZ2UgYXhpc0xhYmVsc1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZmlsdGVyZWRYQXhpc0xhYmVscy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpbmRleCA9IGZpbHRlcmVkWUF4aXNMYWJlbHMuaW5kZXhPZihmaWx0ZXJlZFhBeGlzTGFiZWxzW2pdKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzLnB1c2goZmlsdGVyZWRYQXhpc0xhYmVsc1tqXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGZpbHRlcmVkWEF4aXNMYWJlbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGZpbHRlcmVkTGFiZWxzID0gZmlsdGVyZWRYQXhpc0xhYmVscztcclxuICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRZQXhpc0xhYmVscy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZmlsdGVyZWRMYWJlbHMgPSBmaWx0ZXJlZFlBeGlzTGFiZWxzO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBmbGFnID0gdHJ1ZTtcclxuXHJcbiAgICBpZiAoYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgaWYgKCFzaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICBsZXQgZmlsdGVyQ29sWCA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLngsXHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJDb2xZID0gYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUueTtcclxuICAgICAgICAgICAgaWYgKGZpbHRlcmVkTGFiZWxzWC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbmNlcHRzW2ZpbHRlckNvbFhdID0gZmlsdGVyZWRMYWJlbHNYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXJlZExhYmVsc1kubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xZXSA9IGZpbHRlcmVkTGFiZWxzWTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSA9PT0gJ2NsdXN0ZXJncmFtJykge1xyXG4gICAgICAgIGlmICghc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgdmFyIHhMZW5ndGggPSBPYmplY3Qua2V5cyhmaWx0ZXJlZExhYmVsc1gpLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4TGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBmaWx0ZXJDb2xYID0gYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGVbJ3hfY2F0ZWdvcnkgJyArICh4TGVuZ3RoIC0gaSldO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xYXSA9IGZpbHRlcmVkTGFiZWxzWFtpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgeUxlbmd0aCA9IE9iamVjdC5rZXlzKGZpbHRlcmVkTGFiZWxzWSkubGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHlMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbHRlckNvbFkgPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZVsneV9jYXRlZ29yeSAnICsgKHlMZW5ndGggLSBpKV07XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbmNlcHRzW2ZpbHRlckNvbFldID0gZmlsdGVyZWRMYWJlbHNZW2ldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGxldCBmaWx0ZXJDb2xYID0gYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGVbJ3hfY2F0ZWdvcnkgMiddLFxyXG4gICAgICAgICAgICAvLyAgICAgZmlsdGVyQ29sWSA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlWyd5X2NhdGVnb3J5IDInXTtcclxuICAgICAgICAgICAgLy8gaWYgKGZpbHRlcmVkTGFiZWxzWC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vICAgICBmaWx0ZXJlZENvbmNlcHRzW2ZpbHRlckNvbFhdID0gZmlsdGVyZWRMYWJlbHNYO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgIC8vIGlmIChmaWx0ZXJlZExhYmVsc1kubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAvLyAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xZXSA9IGZpbHRlcmVkTGFiZWxzWTtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmbGFnID0gZmFsc2U7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnKSB7XHJcbiAgICAgICAgICAgIGZpbHRlckNvbCA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmdyb3VwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZpbHRlckNvbCA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWx0ZXJlZENvbmNlcHRzW2ZpbHRlckNvbF0gPSBmaWx0ZXJlZExhYmVscztcclxuICAgIH1cclxuXHJcbiAgICAvL2NhbGxzIGJhY2sgdG8gdXBkYXRlIGRhdGEgd2l0aCBicnVzaGVkIGRhdGFcclxuICAgIGJydXNoT2JqLm9uQnJ1c2hDYWxsYmFjayh7XHJcbiAgICAgICAgZGF0YTogZmlsdGVyZWRDb25jZXB0cyxcclxuICAgICAgICByZXNldDogc2hvdWxkUmVzZXQsXHJcbiAgICAgICAgY2xlYW46IGZsYWdcclxuICAgIH0pO1xyXG4gICAgYnJ1c2hPYmoucmVtb3ZlQnJ1c2goKTtcclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbFxyXG4qIEBkZXNjIGNhbGN1bGF0ZXMgdGhlIG9yZGluYWwgdmFsdWVzIHRoYXQgYXJlIGluIHRoZSBicnVzaGVkIGFyZWFcclxuKiBAcGFyYW0ge251bWJlcn0gbW91c2VQb3NNaW4gLSBsb3dlciBib3VuZCBtb3VzZSBwb3NpdGlvblxyXG4qIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVBvc01heCAtIHVwcGVyIGJvdW5kIG1vdXNlIHBvc2l0aW9uXHJcbiogQHBhcmFtIHtvYmplY3R9IHNjYWxlIC0gZDMgYXhpcyBzY2FsZVxyXG4qIEByZXR1cm4ge09iamVjdH0gLSBvYmplY3Qgb2YgZmlsdGVyZWQgdmFsdWVzXHJcbiovXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUJydXNoQXJlYU9yZGluYWwobW91c2VQb3NNaW4sIG1vdXNlUG9zTWF4LCBzY2FsZSkge1xyXG4gICAgbGV0IGRvbWFpbiA9IHNjYWxlLmRvbWFpbigpLFxyXG4gICAgICAgIHBhZGRpbmcgPSBzY2FsZS5wYWRkaW5nKCksXHJcbiAgICAgICAgc3RlcCA9IHNjYWxlLnN0ZXAoKSxcclxuICAgICAgICBtaW5JbmRleCwgbWF4SW5kZXgsXHJcbiAgICAgICAgcGFkZGluZ0Rpc3RhbmNlID0gcGFkZGluZyAqIHN0ZXAgLyAyLFxyXG4gICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscztcclxuXHJcbiAgICAvL2RldGVybWluZSBtaW4gaW5kZXhcclxuICAgIGlmIChtb3VzZVBvc01pbiAlIHN0ZXAgPiBzdGVwIC0gcGFkZGluZ0Rpc3RhbmNlKSB7XHJcbiAgICAgICAgLy9kb24ndCBpbmNsdWRlIG9uIG1pbiBzaWRlXHJcbiAgICAgICAgbWluSW5kZXggPSAoTWF0aC5mbG9vcihtb3VzZVBvc01pbiAvIHN0ZXApICsgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vaW5jbHVkZSBvbiBtaW4gc2lkZVxyXG4gICAgICAgIG1pbkluZGV4ID0gKE1hdGguZmxvb3IobW91c2VQb3NNaW4gLyBzdGVwKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9kZXRlcm1pbmUgbWF4IGluZGV4XHJcbiAgICBpZiAobW91c2VQb3NNYXggJSBzdGVwIDwgcGFkZGluZ0Rpc3RhbmNlKSB7XHJcbiAgICAgICAgLy9kb24ndCBpbmNsdWRlIG9uIG1heCBzaWRlXHJcbiAgICAgICAgbWF4SW5kZXggPSAoTWF0aC5mbG9vcihtb3VzZVBvc01heCAvIHN0ZXApIC0gMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vaW5jbHVkZSBvbiBtYXggc2lkZVxyXG4gICAgICAgIG1heEluZGV4ID0gKE1hdGguZmxvb3IobW91c2VQb3NNYXggLyBzdGVwKSk7XHJcbiAgICAgICAgaWYgKG1heEluZGV4ID09PSBkb21haW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG1heEluZGV4IC09IDE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZmlsdGVyZWRBeGlzTGFiZWxzID0gZG9tYWluLnNsaWNlKG1pbkluZGV4LCBtYXhJbmRleCArIDEpO1xyXG4gICAgcmV0dXJuIHsgZmlsdGVyZWRBeGlzTGFiZWxzOiBmaWx0ZXJlZEF4aXNMYWJlbHMsIHNob3VsZFJlc2V0OiBmaWx0ZXJlZEF4aXNMYWJlbHMubGVuZ3RoID09PSAwIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuKiBAbmFtZSBjYWxjdWxhdGVCcnVzaEFyZWFMaW5lYXJcclxuKiBAZGVzYyBjYWxjdWxhdGVzIHRoZSBsaW5lYXIgdmFsdWVzIHRoYXQgYXJlIGluIHRoZSBicnVzaGVkIGFyZWFcclxuKiBAcGFyYW0ge251bWJlcn0gbW91c2VQb3NNaW4gLSBsb3dlciBib3VuZCBtb3VzZSBwb3NpdGlvblxyXG4qIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVBvc01heCAtIHVwcGVyIGJvdW5kIG1vdXNlIHBvc2l0aW9uXHJcbiogQHBhcmFtIHtvYmplY3R9IHNjYWxlIC0gZDMgYXhpcyBzY2FsZVxyXG4qIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gY2hhcnREYXRhXHJcbiogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSB2aXN1YWwgdHlwZVxyXG4qIEBwYXJhbSB7c3RyaW5nfSBheGlzIC0geCAvIHkgLyB6XHJcbiogQHJldHVybiB7T2JqZWN0fSAtIG9iamVjdCBvZiBmaWx0ZXJlZCB2YWx1ZXNcclxuKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKG1vdXNlUG9zTWluLCBtb3VzZVBvc01heCwgc2NhbGUsIGRhdGEsIHR5cGUsIGF4aXMpIHtcclxuICAgIGxldCBmaWx0ZXJlZEF4aXNMYWJlbHMgPSBbXSxcclxuICAgICAgICBtaW4sXHJcbiAgICAgICAgbWF4LFxyXG4gICAgICAgIGF4aXNMYWJlbDtcclxuXHJcbiAgICAvL3N3aXRjaCBtaW4gYW5kIG1heCBpZiBzY2FsZSBpcyB5IGR1ZSB0byBzdmcgZHJhd2luZyAoeSBheGlzIGluY3JlYXNlcyB1cCB0aGUgc2NyZWVuIHdoaWxlIG1vdXNlUG9zIGRlY3JlYXNlcylcclxuICAgIGlmIChheGlzID09PSAneScpIHtcclxuICAgICAgICBtYXggPSBzY2FsZS5pbnZlcnQobW91c2VQb3NNaW4pO1xyXG4gICAgICAgIG1pbiA9IHNjYWxlLmludmVydChtb3VzZVBvc01heCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1pbiA9IHNjYWxlLmludmVydChtb3VzZVBvc01pbik7XHJcbiAgICAgICAgbWF4ID0gc2NhbGUuaW52ZXJ0KG1vdXNlUG9zTWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ2JhcicpIHtcclxuICAgICAgICBmb3IgKGF4aXNMYWJlbCBvZiBkYXRhLmxlZ2VuZERhdGEpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgZGF0YUVsZW1lbnQgb2YgZGF0YS5jaGFydERhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhRWxlbWVudFtheGlzTGFiZWxdID49IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscy5wdXNoKGRhdGFFbGVtZW50W2RhdGEuZGF0YVRhYmxlLmxhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdnYW50dCcpIHtcclxuICAgICAgICBtYXggPSBuZXcgRGF0ZShtYXgpO1xyXG4gICAgICAgIG1pbiA9IG5ldyBEYXRlKG1pbik7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlZ2VuZERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGNvdW50ID0gaSArIDEsXHJcbiAgICAgICAgICAgICAgICBzdGFydERhdGUsXHJcbiAgICAgICAgICAgICAgICBlbmREYXRlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBkYXRhRWxlbWVudCBvZiBkYXRhLmNoYXJ0RGF0YSkge1xyXG4gICAgICAgICAgICAgICAgc3RhcnREYXRlID0gbmV3IERhdGUoZGF0YUVsZW1lbnRbZGF0YS5kYXRhVGFibGVbJ3N0YXJ0ICcgKyBjb3VudF1dKTtcclxuICAgICAgICAgICAgICAgIGVuZERhdGUgPSBuZXcgRGF0ZShkYXRhRWxlbWVudFtkYXRhLmRhdGFUYWJsZVsnZW5kICcgKyBjb3VudF1dKTtcclxuICAgICAgICAgICAgICAgIGlmICgoc3RhcnREYXRlIDw9IG1heCAmJiBzdGFydERhdGUgPj0gbWluKSB8fCAoZW5kRGF0ZSA8PSBtYXggJiYgZW5kRGF0ZSA+PSBtaW4pIHx8IChzdGFydERhdGUgPD0gbWluICYmIGVuZERhdGUgPj0gbWF4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscy5wdXNoKGRhdGFFbGVtZW50W2RhdGEuZGF0YVRhYmxlLmdyb3VwXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsaW5lJyB8fCB0eXBlID09PSAnYXJlYScgfHwgdHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgZm9yIChheGlzTGFiZWwgb2YgZGF0YS5sZWdlbmREYXRhKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGRhdGFFbGVtZW50IG9mIGRhdGEuY2hhcnREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YUVsZW1lbnRbYXhpc0xhYmVsXSA8PSBtYXggJiYgZGF0YUVsZW1lbnRbYXhpc0xhYmVsXSA+PSBtaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEF4aXNMYWJlbHMucHVzaChkYXRhRWxlbWVudFtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnc2NhdHRlcnBsb3QnKSB7XHJcbiAgICAgICAgYXhpc0xhYmVsID0gZGF0YS5kYXRhVGFibGVbYXhpc107XHJcbiAgICAgICAgZm9yIChsZXQgZGF0YUVsZW1lbnQgb2YgZGF0YS5jaGFydERhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFFbGVtZW50W2F4aXNMYWJlbF0gPD0gbWF4ICYmIGRhdGFFbGVtZW50W2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEF4aXNMYWJlbHMucHVzaChkYXRhRWxlbWVudFtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICBheGlzTGFiZWwgPSBkYXRhLmRhdGFUYWJsZVtheGlzXTtcclxuICAgICAgICBmb3IgKGxldCBkYXRhRWxlbWVudCBvZiBkYXRhLmNoYXJ0RGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YUVsZW1lbnRbYXhpc0xhYmVsXSA8PSBtYXggJiYgZGF0YUVsZW1lbnRbYXhpc0xhYmVsXSA+PSBtaW4pIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscy5wdXNoKGRhdGFFbGVtZW50W2RhdGEuZGF0YVRhYmxlLmxhYmVsXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZmlsdGVyZWRBeGlzTGFiZWxzOiBmaWx0ZXJlZEF4aXNMYWJlbHMsIHNob3VsZFJlc2V0OiBmaWx0ZXJlZEF4aXNMYWJlbHMubGVuZ3RoID09PSAwIH07XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGNhbGN1bGF0ZUhlYXRtYXBCcnVzaFxyXG4qIEBkZXNjIGNhbGN1bGF0ZXMgdmFsdWVzIGluc2lkZSBvZiBicnVzaGVkIGFyZWEgb2YgYSBoZWF0bWFwXHJcbiogQHBhcmFtIHthcnJheX0gZSAtIG1vdXNlIGV4dGVudCBmb3IgbG9jYXRpb24gb2YgYnJ1c2hlZCBhcmVhXHJcbiogQHBhcmFtIHthcnJheX0gZGF0YSAtIGNoYXJ0IGRhdGFcclxuKiBAcGFyYW0ge2FycmF5fSBjaGFydCAtIGp2Q2hhcnRcclxuKiBAcmV0dXJuIHtvYmplY3R9IC0gZmlsdGVyZWQgZGF0YVxyXG4qL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVIZWF0bWFwQnJ1c2goZSwgZGF0YSwgY2hhcnQpIHtcclxuICAgIGxldCBtb3VzZVhtaW4gPSBlWzBdWzBdLFxyXG4gICAgICAgIG1vdXNlWW1pbiA9IGVbMF1bMV0sXHJcbiAgICAgICAgbW91c2VYbWF4ID0gZVsxXVswXSxcclxuICAgICAgICBtb3VzZVltYXggPSBlWzFdWzFdLFxyXG4gICAgICAgIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSBbXSxcclxuICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gW10sXHJcbiAgICAgICAgcmVzZXQgPSB0cnVlLFxyXG4gICAgICAgIHhCdWNrZXRNYXggPSBNYXRoLmZsb29yKG1vdXNlWG1heCAvIGNoYXJ0Ll92YXJzLmhlYXRHcmlkU2l6ZSkgKyAxLFxyXG4gICAgICAgIHlCdWNrZXRNYXggPSBNYXRoLmZsb29yKG1vdXNlWW1heCAvIGNoYXJ0Ll92YXJzLmhlYXRHcmlkU2l6ZSkgKyAxLFxyXG4gICAgICAgIHhCdWNrZXRNaW4gPSBNYXRoLmZsb29yKG1vdXNlWG1pbiAvIGNoYXJ0Ll92YXJzLmhlYXRHcmlkU2l6ZSksXHJcbiAgICAgICAgeUJ1Y2tldE1pbiA9IE1hdGguZmxvb3IobW91c2VZbWluIC8gY2hhcnQuX3ZhcnMuaGVhdEdyaWRTaXplKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhCdWNrZXRNYXg7IGkrKykge1xyXG4gICAgICAgIGlmIChpID49IHhCdWNrZXRNaW4pIHtcclxuICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscy5wdXNoKGRhdGEueEF4aXNEYXRhLnZhbHVlc1tpXSk7XHJcbiAgICAgICAgICAgIHJlc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB5QnVja2V0TWF4OyBpKyspIHtcclxuICAgICAgICBpZiAoaSA+PSB5QnVja2V0TWluKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkWUF4aXNMYWJlbHMucHVzaChkYXRhLnlBeGlzRGF0YS52YWx1ZXNbaV0pO1xyXG4gICAgICAgICAgICByZXNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL01pZ2h0IG5lZWQgd2hlbiBuZXcgUEtRTCBwaXhlbC4uLiBjb21lcyBvdXRcclxuICAgIC8vZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgLy92YXIgZCA9IGRhdGEuY2hhcnREYXRhW2ldO1xyXG4gICAgLy9pZihmaWx0ZXJlZFhBeGlzTGFiZWxzLmluY2x1ZGVzKGRbZGF0YS5kYXRhVGFibGUueF0pICYmIGZpbHRlcmVkWUF4aXNMYWJlbHMuaW5jbHVkZXMoZFtkYXRhLmRhdGFUYWJsZS55XSkpIHtcclxuICAgIC8vZmlsdGVyZWREYXRhWC5wdXNoKGRbZGF0YS5kYXRhVGFibGUueF0pO1xyXG4gICAgLy9maWx0ZXJlZERhdGFZLnB1c2goZFtkYXRhLmRhdGFUYWJsZS55XSk7XHJcbiAgICAvL31cclxuICAgIC8vfVxyXG5cclxuICAgIHJldHVybiB7IGZpbHRlcmVkWEF4aXNMYWJlbHM6IGZpbHRlcmVkWEF4aXNMYWJlbHMsIGZpbHRlcmVkWUF4aXNMYWJlbHM6IGZpbHRlcmVkWUF4aXNMYWJlbHMsIHNob3VsZFJlc2V0OiByZXNldCB9O1xyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBjYWxjdWxhdGVDbHVzdGVyZ3JhbUJydXNoXHJcbiogQGRlc2MgY2FsY3VsYXRlcyB2YWx1ZXMgaW5zaWRlIG9mIGJydXNoZWQgYXJlYSBvZiBhIGNsdXN0ZXJncmFtXHJcbiogQHBhcmFtIHthcnJheX0gZSAtIG1vdXNlIGV4dGVudCBmb3IgbG9jYXRpb24gb2YgYnJ1c2hlZCBhcmVhXHJcbiogQHBhcmFtIHthcnJheX0gZGF0YSAtIGNoYXJ0IGRhdGFcclxuKiBAcGFyYW0ge2FycmF5fSBjaGFydCAtIGp2Q2hhcnRcclxuKiBAcmV0dXJuIHtvYmplY3R9IC0gZmlsdGVyZWQgZGF0YVxyXG4qL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVDbHVzdGVyZ3JhbUJydXNoKGUsIGRhdGEsIGNoYXJ0KSB7XHJcbiAgICBsZXQgbW91c2VYbWluID0gZVswXVswXSxcclxuICAgICAgICBtb3VzZVltaW4gPSBlWzBdWzFdLFxyXG4gICAgICAgIG1vdXNlWG1heCA9IGVbMV1bMF0sXHJcbiAgICAgICAgbW91c2VZbWF4ID0gZVsxXVsxXSxcclxuICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gW10sXHJcbiAgICAgICAgZmlsdGVyZWRZQXhpc0xhYmVscyA9IFtdLFxyXG4gICAgICAgIHJlc2V0ID0gdHJ1ZSxcclxuICAgICAgICB4QnVja2V0TWF4ID0gTWF0aC5mbG9vcihtb3VzZVhtYXggLyBjaGFydC5fdmFycy5jbHVzdGVyZ3JhbUdyaWRXaWR0aCkgKyAxLFxyXG4gICAgICAgIHlCdWNrZXRNYXggPSBNYXRoLmZsb29yKG1vdXNlWW1heCAvIGNoYXJ0Ll92YXJzLmNsdXN0ZXJncmFtR3JpZEhlaWdodCkgKyAxLFxyXG4gICAgICAgIHhCdWNrZXRNaW4gPSBNYXRoLmZsb29yKG1vdXNlWG1pbiAvIGNoYXJ0Ll92YXJzLmNsdXN0ZXJncmFtR3JpZFdpZHRoKSxcclxuICAgICAgICB5QnVja2V0TWluID0gTWF0aC5mbG9vcihtb3VzZVltaW4gLyBjaGFydC5fdmFycy5jbHVzdGVyZ3JhbUdyaWRIZWlnaHQpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeEJ1Y2tldE1heDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgPj0geEJ1Y2tldE1pbikge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzLnB1c2goZGF0YS54QXhpc0RhdGFbaV0pO1xyXG4gICAgICAgICAgICByZXNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeUJ1Y2tldE1heDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGkgPj0geUJ1Y2tldE1pbikge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzLnB1c2goZGF0YS55QXhpc0RhdGFbaV0pO1xyXG4gICAgICAgICAgICByZXNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1ggQXhpc1xyXG4gICAgLy9EeW5hbWljYWxseSBjcmVhdGUgYXJyYXlzIGZvciBlYWNoIGxldmVsIG9mIHRoZSBoaWVyYXJjaHlcclxuICAgIHZhciB4TGV2ZWxzID0ge307XHJcbiAgICBpZihmaWx0ZXJlZFhBeGlzTGFiZWxzWzBdKSB7XHJcbiAgICAgICAgdmFyIHBhcmVudENvdW50WCA9IChmaWx0ZXJlZFhBeGlzTGFiZWxzWzBdLm1hdGNoKC9cXC4vZykgfHwgW10pLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcmVudENvdW50WCsxOyBpKyspIHtcclxuICAgICAgICAgICAgeExldmVsc1tpXSA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvL1BvcHVsYXRlIHRoZSBoaWVyYXJjaHkgYXJyYXlzIHdpdGggdGhlIGxhYmVscyBvZiB0aGF0IHJlc3BlY3RpdmUgaGllcmFyY2h5XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJlZFhBeGlzTGFiZWxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmKGZpbHRlcmVkWEF4aXNMYWJlbHNbaV0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB4RmllbGRzID0gZmlsdGVyZWRYQXhpc0xhYmVsc1tpXS5zcGxpdChcIi5cIik7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHhGaWVsZHMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZih4TGV2ZWxzW2tdLmluZGV4T2YoeEZpZWxkc1trXSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhMZXZlbHNba10ucHVzaCh4RmllbGRzW2tdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9ZIEF4aXNcclxuICAgIC8vRHluYW1pY2FsbHkgY3JlYXRlIGFycmF5cyBmb3IgZWFjaCBsZXZlbCBvZiB0aGUgaGllcmFyY2h5XHJcbiAgICB2YXIgeUxldmVscyA9IHt9O1xyXG4gICAgaWYoZmlsdGVyZWRZQXhpc0xhYmVsc1swXSkge1xyXG4gICAgICAgIHZhciBwYXJlbnRDb3VudFkgPSAoZmlsdGVyZWRZQXhpc0xhYmVsc1swXS5tYXRjaCgvXFwuL2cpIHx8IFtdKS5sZW5ndGg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnRDb3VudFkrMTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHlMZXZlbHNbaV0gPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vUG9wdWxhdGUgdGhlIGhpZXJhcmNoeSBhcnJheXMgd2l0aCB0aGUgbGFiZWxzIG9mIHRoYXQgcmVzcGVjdGl2ZSBoaWVyYXJjaHlcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbHRlcmVkWUF4aXNMYWJlbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYoZmlsdGVyZWRZQXhpc0xhYmVsc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHlGaWVsZHMgPSBmaWx0ZXJlZFlBeGlzTGFiZWxzW2ldLnNwbGl0KFwiLlwiKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgeUZpZWxkcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHlMZXZlbHNba10uaW5kZXhPZih5RmllbGRzW2tdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeUxldmVsc1trXS5wdXNoKHlGaWVsZHNba10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4geyBmaWx0ZXJlZFhBeGlzTGFiZWxzOiB4TGV2ZWxzLCBmaWx0ZXJlZFlBeGlzTGFiZWxzOiB5TGV2ZWxzLCBzaG91bGRSZXNldDogcmVzZXQgfTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkJydXNoO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbi8qKiogIGp2Q2hhcnRzICoqKi9cclxubGV0IGp2VGlwID0gcmVxdWlyZSgnLi9qdlRpcC5qcycpO1xyXG5cclxuLyoqQ3JlYXRlIGEganZDaGFydHMgb2JqZWN0XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqIC0gQ29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkIGludG8ganZDaGFydHMgY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ09iai50eXBlIC0gVGhlIHR5cGUgb2YgY2hhcnRcclxuICogQHBhcmFtIHtzdHJpbmd9IGNvbmZpZ09iai5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmouY29udGFpbmVyIC0gVGhlIGNvbnRhaW5lciBvZiB0aGUgY2hhcnRcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iai51c2VyT3B0aW9ucyAtIFVJIG9wdGlvbnMgZm9yIHRoZSBjaGFydFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqLnRpcENvbmZpZyAtIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBqdlRvb2x0aXBcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iai5jaGFydERpdiAtIEEgZGl2IHdyYXBwZXIgZm9yIHRoZSBjaGFydCBhbmQgb3RoZXIganYgZmVhdHVyZXNcclxuICovXHJcbmNsYXNzIGp2Q2hhcnRzIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ09iaikge1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgY29uZmlnT2JqLnR5cGUgPSBjb25maWdPYmoudHlwZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGNoYXJ0LmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgICAgIGNvbmZpZ09iai5vcHRpb25zID0gY2xlYW5Ub29sRGF0YShjb25maWdPYmoub3B0aW9ucywgY29uZmlnT2JqLmVkaXRPcHRpb25zKTtcclxuICAgICAgICBjaGFydC5fdmFycyA9IGNoYXJ0LmdldERlZmF1bHRPcHRpb25zKGNvbmZpZ09iai5vcHRpb25zKTtcclxuICAgICAgICBjaGFydC5tb2RlID0gY29uZmlnT2JqLm1vZGUgfHwgJ2RlZmF1bHQtbW9kZSc7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIHBpZWNlcyBmcm9tIGNvbmZpZyB0aGF0IGhhdmUgYmVlbiBjb3BpZWQgc29tZXdoZXJlIGVsc2VcclxuICAgICAgICBkZWxldGUgY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgICAgIGRlbGV0ZSBjb25maWdPYmoub3B0aW9ucztcclxuICAgICAgICBkZWxldGUgY29uZmlnT2JqLm1vZGU7XHJcblxyXG4gICAgICAgIGNoYXJ0LmNvbmZpZyA9IGNvbmZpZ09iajtcclxuICAgICAgICBjaGFydC5jcmVhdGVUb29sdGlwKCk7XHJcbiAgICAgICAgY2hhcnQuc2V0RGF0YSgpO1xyXG4gICAgICAgIGNoYXJ0LnBhaW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlVG9vbHRpcCgpIHtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIGNoYXJ0LnRpcCA9IG5ldyBqdlRpcCh7XHJcbiAgICAgICAgICAgIGNvbmZpZzogY2hhcnQuY29uZmlnLnRpcENvbmZpZyxcclxuICAgICAgICAgICAgY2hhcnREaXY6IGNoYXJ0LmNoYXJ0RGl2XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RGF0YSgpIHtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcuc2V0RGF0YSkge1xyXG4gICAgICAgICAgICBjaGFydC5kYXRhID0gY2hhcnQuY29uZmlnLnNldERhdGE7XHJcbiAgICAgICAgICAgIC8vcmVmZXIgdG8gbWFpbiBkYXRhIGFzIGNoYXJ0RGF0YSB0byBrZWVwIG5hbWluZyBzZXBhcmF0ZSBhbmQgdW5kZXJzdGFuZGFibGVcclxuICAgICAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBjaGFydC5jb25maWcuc2V0RGF0YS5kYXRhO1xyXG4gICAgICAgICAgICBkZWxldGUgY2hhcnQuZGF0YS5kYXRhO1xyXG5cclxuICAgICAgICAgICAgY2hhcnQuY29sb3JzID0gY2hhcnQuY29uZmlnLnNldERhdGEuY29sb3JzO1xyXG4gICAgICAgICAgICBjaGFydFtjaGFydC5jb25maWcudHlwZV0uc2V0RGF0YS5jYWxsKGNoYXJ0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tEaW1lbnNpb25zKCkge1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIGRpbWVuc2lvbnMgPSBjaGFydC5jaGFydERpdi5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgaWYgKGRpbWVuc2lvbnMuaGVpZ2h0ID4gNTAgJiYgZGltZW5zaW9ucy53aWR0aCA+IDEyMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0NoYXJ0IGNvbnRhaW5lciBpcyB0b28gc21hbGwgdG8gcGFpbnQnKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcGFpbnQoYW5uaW1hdGlvbikge1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNoZWNrRGltZW5zaW9ucygpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kYXRhICYmIHR5cGVvZiBjaGFydFtjaGFydC5jb25maWcudHlwZV0gPT09ICdvYmplY3QnICYmIHR5cGVvZiBjaGFydFtjaGFydC5jb25maWcudHlwZV0ucGFpbnQgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5wYWludC5jYWxsKGNoYXJ0LCBhbm5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmluaXRpYWxpemVNb2RlcygpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vIHBhaW50IGZ1bmN0aW9uIGZvcjogJyArIGNoYXJ0LmNvbmZpZy50eXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRBeGlzRGF0YShheGlzLCBkYXRhLCBrZXlzKSB7XHJcbiAgICAgICAgbGV0IGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgYXhpc0RhdGEgPSBbXSxcclxuICAgICAgICAgICAgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgICAgIGxhYmVsID0gJycsXHJcbiAgICAgICAgICAgIG1heFN0YWNrID0gMCxcclxuICAgICAgICAgICAgZGF0YVRhYmxlS2V5cyA9IGRhdGEuZGF0YVRhYmxlS2V5cyxcclxuICAgICAgICAgICAgZGF0YVR5cGU7XHJcblxyXG4gICAgICAgIGlmICghZGF0YVRhYmxlS2V5cykge1xyXG4gICAgICAgICAgICBkYXRhVGFibGVLZXlzID0ga2V5cztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU3RlcCAxOiBmaW5kIG91dCB3aGF0IHRoZSBsYWJlbCBpcyBmb3IgdGhlIGF4aXNcclxuICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdsYWJlbCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBkYXRhLmRhdGFUYWJsZS5sYWJlbDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkxhYmVsIGRvZXNuJ3QgZXhpc3QgaW4gZGF0YVRhYmxlXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFUYWJsZSBkb2VzIG5vdCBleGlzdCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhVHlwZSA9ICdTVFJJTkcnO1xyXG5cclxuICAgICAgICAgICAgLy9SZXBsYWNlIHVuZGVyc2NvcmVzIHdpdGggc3BhY2VzXHJcbiAgICAgICAgICAgIGxhYmVsID0gbGFiZWwucmVwbGFjZSgvXy9nLCAnICcpO1xyXG5cclxuICAgICAgICAgICAgLy9sb29wIHRocm91Z2ggZGF0YSB0byBwb3B1bGF0ZSBheGlzRGF0YVxyXG4gICAgICAgICAgICBmb3IgKGxldCBjaGFydEVsZSBvZiBjaGFydERhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydEVsZVtsYWJlbF0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKCdOVUxMX1ZBTFVFJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0RWxlW2xhYmVsXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKCdFTVBUWV9TVFJJTkcnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnRFbGVbbGFiZWxdIHx8IGNoYXJ0RWxlW2xhYmVsXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goY2hhcnRFbGVbbGFiZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGVLZXlzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2RhdGFUYWJsZUtleXMgZG8gbm90IGV4aXN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9GaW5kIHRoZSBtYXggdmFsdWUgZm9yIFkgRGF0YVxyXG4gICAgICAgICAgICBsZXQgY291bnQgPSAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQga2V5IG9mIGRhdGFUYWJsZUtleXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkudml6VHlwZSAhPT0gJ2xhYmVsJyAmJiBrZXkudml6VHlwZSAhPT0gJ3Rvb2x0aXAnICYmIGtleS52aXpUeXBlICE9PSAnc2VyaWVzJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0ga2V5LnZhcktleTtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gZ2V0RGF0YVR5cGVGcm9tS2V5cyhsYWJlbCwgZGF0YVRhYmxlS2V5cywgJ05VTUJFUicpO1xyXG5cclxuICAgICAgICAgICAgLy9BZGQgYWxsIHZhbHVlcyB0aGF0IGFyZSBvbiB5YXhpcyB0byBheGlzIGRhdGFcclxuICAgICAgICAgICAgZm9yIChsZXQgY2hhcnRFbGUgb2YgY2hhcnREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhY2sgPSAwOyAvL0tlZXBzIHRyYWNrIG9mIHRoZSBtYXhpbXVtIHNpemUgb2Ygc3RhY2tlZCBkYXRhIHNvIHRoYXQgYXhpcyBjYW4gYmUgc2NhbGVkIHRvIGZpdCBtYXggc2l6ZVxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayBpbiBkYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydEVsZS5oYXNPd25Qcm9wZXJ0eShkYXRhLmRhdGFUYWJsZVtrXSkgJiYgayAhPT0gJ2xhYmVsJyAmJiBrLmluZGV4T2YoJ3Rvb2x0aXAnKSA9PT0gLTEgJiYgayAhPT0gJ3NlcmllcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sgKz0gY2hhcnRFbGVbZGF0YS5kYXRhVGFibGVba11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RWxlW2RhdGEuZGF0YVRhYmxlW2tdXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHN0YWNrID4gbWF4U3RhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhTdGFjayA9IHN0YWNrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0lmIHRoZXJlIGFyZSBtdWx0aXBsZSB2YWx1ZXMgb24gdGhlIHlBeGlzLCBkb24ndCBzcGVjaWZ5IGEgbGFiZWxcclxuICAgICAgICAgICAgaWYgKGNvdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwgPSAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYWJlbCA9IGxhYmVsLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRmluZCB0aGUgbWluIGFuZCBtYXggb2YgbnVtZXJpYyBkYXRhIGZvciBidWlsZGluZyBheGVzIGFuZCBhZGQgaXQgdG8gdGhlIHJldHVybmVkIG9iamVjdFxyXG4gICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgbGV0IG1heCxcclxuICAgICAgICAgICAgICAgIG1pbixcclxuICAgICAgICAgICAgICAgIHRlbXAsXHJcbiAgICAgICAgICAgICAgICB0ZW1wTWluLFxyXG4gICAgICAgICAgICAgICAgdGVtcE1heDtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnN0YWNrVG9nZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICBtYXggPSBtYXhTdGFjaztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGF4aXNEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYXhpc0RhdGEpO1xyXG4gICAgICAgICAgICBtaW4gPSBNYXRoLm1pbigwLCBtaW4pO1xyXG5cclxuICAgICAgICAgICAgLy9DaGVjayBpZiB0aGVyZSdzIGFuIGF4aXMgbWluL21heCBzZXRcclxuICAgICAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnhNaW4gIT0gbnVsbCAmJiBjaGFydC5fdmFycy54TWluICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaGFydC5fdmFycy54TWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnhNYXggIT0gbnVsbCAmJiBjaGFydC5fdmFycy54TWF4ICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaGFydC5fdmFycy54TWF4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF4aXMgPT09ICd5Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnlNaW4gIT0gbnVsbCAmJiBjaGFydC5fdmFycy55TWluICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaGFydC5fdmFycy55TWluO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnlNYXggIT0gbnVsbCAmJiBjaGFydC5fdmFycy55TWF4ICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaGFydC5fdmFycy55TWF4O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YVR5cGUgPT09ICdOVU1CRVInICYmIGF4aXNEYXRhLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGF4aXNEYXRhWzBdID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS51bnNoaWZ0KDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0ZW1wTWluID0gcGFyc2VJbnQobWluLCAxMCk7XHJcbiAgICAgICAgICAgIHRlbXBNYXggPSBwYXJzZUludChtYXgsIDEwKTtcclxuICAgICAgICAgICAgLy9NYWtlIHN1cmUgdGhhdCBheGlzIG1pbiBhbmQgbWF4IGRvbid0IGdldCBmbGlwcGVkXHJcbiAgICAgICAgICAgIGlmICh0ZW1wTWluID4gdGVtcE1heCkge1xyXG4gICAgICAgICAgICAgICAgdGVtcCA9IG1pbjtcclxuICAgICAgICAgICAgICAgIG1pbiA9IG1heDtcclxuICAgICAgICAgICAgICAgIG1heCA9IHRlbXA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAnbGFiZWwnOiBsYWJlbCxcclxuICAgICAgICAgICAgICAgICd2YWx1ZXMnOiBheGlzRGF0YSxcclxuICAgICAgICAgICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlLFxyXG4gICAgICAgICAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAgICAgICAgICdtYXgnOiBtYXhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdsYWJlbCc6IGxhYmVsLFxyXG4gICAgICAgICAgICAndmFsdWVzJzogYXhpc0RhdGEsXHJcbiAgICAgICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqc2V0RmxpcHBlZFNlcmllc1xyXG4gICAgICogIGZsaXBzIHNlcmllcyBhbmQgcmV0dXJucyBmbGlwcGVkIGRhdGFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIGNoYXJ0RGF0YSwgZGF0YVRhYmxlLCBkYXRhTGFiZWxcclxuICAgICAqIEByZXR1cm5zIE9iamVjdCBvZiBkYXRhIGFuZCB0YWJsZSBmb3IgZmxpcHBlZCBzZXJpZXNcclxuICAgICAqL1xyXG4gICAgc2V0RmxpcHBlZFNlcmllcyhkYXRhVGFibGVLZXlzKSB7XHJcbiAgICAgICAgbGV0IGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgY2hhcnREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgICAgIGRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgICAgICBkYXRhTGFiZWwgPSBjaGFydC5kYXRhLnhBeGlzRGF0YS5sYWJlbCxcclxuICAgICAgICAgICAgZmxpcHBlZERhdGEgPSBbXSxcclxuICAgICAgICAgICAgZmxpcHBlZERhdGFUYWJsZSA9IHt9LFxyXG4gICAgICAgICAgICB2YWx1ZUNvdW50ID0gMSxcclxuICAgICAgICAgICAgZmlsdGVyZWREYXRhVGFibGVBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBrIGluIGRhdGFUYWJsZSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGspKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmxpcHBlZE9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFUYWJsZVtrXSAhPT0gZGF0YUxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxpcHBlZE9iamVjdFtkYXRhTGFiZWxdID0gZGF0YVRhYmxlW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGNoYXJ0RWxlIG9mIGNoYXJ0RGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGlwcGVkT2JqZWN0W2NoYXJ0RWxlW2RhdGFMYWJlbF1dID0gY2hhcnRFbGVbZGF0YVRhYmxlW2tdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkRGF0YVRhYmxlQXJyYXkuaW5kZXhPZihjaGFydEVsZVtkYXRhTGFiZWxdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaXBwZWREYXRhVGFibGVbJ3ZhbHVlICcgKyB2YWx1ZUNvdW50XSA9IGNoYXJ0RWxlW2RhdGFMYWJlbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERhdGFUYWJsZUFycmF5LnB1c2goY2hhcnRFbGVbZGF0YUxhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZmxpcHBlZERhdGEucHVzaChmbGlwcGVkT2JqZWN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmbGlwcGVkRGF0YVRhYmxlLmxhYmVsID0gZGF0YUxhYmVsO1xyXG4gICAgICAgIGNoYXJ0LmZsaXBwZWREYXRhID0geyBjaGFydERhdGE6IGZsaXBwZWREYXRhLCBkYXRhVGFibGU6IGZsaXBwZWREYXRhVGFibGUgfTtcclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5mbGlwcGVkRGF0YSwgZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmZsaXBwZWREYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd5JywgY2hhcnQuZmxpcHBlZERhdGEsIGRhdGFUYWJsZUtleXMpO1xyXG4gICAgICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS5sZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGEoY2hhcnQuZmxpcHBlZERhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBZGQgYWRkaXRpb25hbCBjaGFydCB0eXBlIHRvIHNldCBmbGlwcGVkIHNlcmllcycpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipvcmdhbml6ZUNoYXJ0RGF0YVxyXG4gICAgICogIHJlb3JkZXJzIGFsbCBkYXRhIGJhc2VkIG9uIHRoZSBzb3J0TGFiZWwgYW5kIHNvcnRUeXBlXHJcbiAgICAgKiAgLU9ubHkgZm9yIGNoYXJ0RGF0YSwgZG9lcyBub3Qgd29yayB3aXRoIGZsaXBwZWQgZGF0YVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbXMgc29ydExhYmVsICwgc29ydFR5cGVcclxuICAgICAqIEByZXR1cm5zIFtdIHNvcnRlZCBkYXRhXHJcbiAgICAgKi9cclxuICAgIG9yZ2FuaXplQ2hhcnREYXRhKHNvcnRQYXJhbSwgc29ydFR5cGUpIHtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhLFxyXG4gICAgICAgICAgICBkYXRhVHlwZSxcclxuICAgICAgICAgICAgZGF0YVRhYmxlS2V5cyA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlS2V5cyxcclxuICAgICAgICAgICAgc29ydExhYmVsID0gc29ydFBhcmFtO1xyXG5cclxuICAgICAgICAvL0lmIHNvcnRMYWJlbCBkb2Vzbid0IGV4aXN0LCBzb3J0IG9uIHRoZSB4IGF4aXMgbGFiZWwgYnkgZGVmYXVsdFxyXG4gICAgICAgIGlmIChzb3J0TGFiZWwgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgb2YgZGF0YVRhYmxlS2V5cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleS52aXpUeXBlID09PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ydExhYmVsID0ga2V5LnVyaTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9SZW1vdmUgdW5kZXJzY29yZXMgZnJvbSBzb3J0TGFiZWxcclxuICAgICAgICBpZiAoc29ydExhYmVsKSB7XHJcbiAgICAgICAgICAgIHNvcnRMYWJlbCA9IHNvcnRMYWJlbC5yZXBsYWNlKC9fL2csICcgJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNoYXJ0LmRhdGEuY2hhcnREYXRhWzBdW3NvcnRMYWJlbF0pIHtcclxuICAgICAgICAgICAgLy9DaGVjayBpZiB0aGUgc29ydCBsYWJlbCBpcyBhIGNhbGN1bGF0ZWRCeSBmaWVsZFxyXG4gICAgICAgICAgICBsZXQgaXNWYWxpZFNvcnRMYWJlbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgb2YgZGF0YVRhYmxlS2V5cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleS5vcGVyYXRpb24uaGFzT3duUHJvcGVydHkoJ2NhbGN1bGF0ZWRCeScpICYmIGtleS5vcGVyYXRpb24uY2FsY3VsYXRlZEJ5WzBdID09PSBzb3J0TGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3J0TGFiZWwgPSBrZXkudXJpLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkU29ydExhYmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL0lmIGl0J3Mgbm90IGEgdmFsaWQgc29ydCBsYWJlbCwgcmV0dXJuIGFuZCBkb24ndCBzb3J0IHRoZSBkYXRhXHJcbiAgICAgICAgICAgIGlmICghaXNWYWxpZFNvcnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm90IGEgdmFsaWQgc29ydCcpO1xyXG4gICAgICAgICAgICAgICAgLy90aHJvdyBuZXcgRXJyb3IoJ05vdCBhIHZhbGlkIHNvcnQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9DaGVjayB0aGUgZGF0YSB0eXBlIHRvIGRldGVybWluZSB3aGljaCBsb2dpYyB0byBmbG93IHRocm91Z2hcclxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgZGF0YVRhYmxlS2V5cykge1xyXG4gICAgICAgICAgICAvL0xvb3AgdGhyb3VnaCBkYXRhVGFibGVLZXlzIHRvIGZpbmQgc29ydExhYmVsXHJcbiAgICAgICAgICAgIGlmIChrZXkudXJpLnJlcGxhY2UoL18vZywgJyAnKSA9PT0gc29ydExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZSA9IGtleS50eXBlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRGF0ZSBzb3J0aW5nXHJcbiAgICAgICAgaWYgKGRhdGFUeXBlICE9IG51bGwgJiYgZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGFbc29ydExhYmVsXSkgLSBuZXcgRGF0ZShiW3NvcnRMYWJlbF0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFUeXBlICE9IG51bGwgJiYgZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIG9yZ2FuaXplZERhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YS5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGFbc29ydExhYmVsXSkgJiYgIWlzTmFOKGJbc29ydExhYmVsXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVtzb3J0TGFiZWxdIC0gYltzb3J0TGFiZWxdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEuc29ydCgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihhW3NvcnRMYWJlbF0pICYmICFpc05hTihiW3NvcnRMYWJlbF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQoYVtzb3J0TGFiZWxdKSA8IHBhcnNlRmxvYXQoYltzb3J0TGFiZWxdKSkgeyAvL3NvcnQgc3RyaW5nIGFzY2VuZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KGFbc29ydExhYmVsXSkgPiBwYXJzZUZsb2F0KGJbc29ydExhYmVsXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFbc29ydExhYmVsXS50b0xvd2VyQ2FzZSgpIDwgYltzb3J0TGFiZWxdLnRvTG93ZXJDYXNlKCkpIHsgLy9zb3J0IHN0cmluZyBhc2NlbmRpbmdcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYVtzb3J0TGFiZWxdLnRvTG93ZXJDYXNlKCkgPiBiW3NvcnRMYWJlbF0udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChzb3J0VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdzb3J0QXNjZW5kaW5nJzpcclxuICAgICAgICAgICAgY2FzZSAnYXNjZW5kaW5nJzpcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmRhdGEuY2hhcnREYXRhID0gb3JnYW5pemVkRGF0YTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzb3J0RGVzY2VuZGluZyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2Rlc2NlbmRpbmcnOlxyXG4gICAgICAgICAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBvcmdhbml6ZWREYXRhLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBvcmdhbml6ZWREYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipzZXRUaXBEYXRhXHJcbiAgICAgKlxyXG4gICAgICogY3JlYXRlcyBkYXRhIG9iamVjdCB0byBkaXNwbGF5IGluIHRvb2x0aXBcclxuICAgICAqIEBwYXJhbXNcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgc2V0VGlwRGF0YShkLCBpKSB7XHJcbiAgICAgICAgbGV0IGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgZGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICAgICAgLy9HZXQgQ29sb3IgZnJvbSBjaGFydERhdGEgYW5kIGFkZCB0byBvYmplY3RcclxuICAgICAgICAgICAgY29sb3IgPSBjaGFydC5fdmFycy5jb2xvcixcclxuICAgICAgICAgICAgdGl0bGUgPSBkW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXSxcclxuICAgICAgICAgICAgZGF0YVRhYmxlID0ge307XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3RyZWVtYXAnKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsICYmIGl0ZW0gIT09ICdQYXJlbnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGRhdGFbaV1bY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWxdO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIGluIGRhdGFbaV0pIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRhdGFbaV1baXRlbV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2dhbnR0Jykge1xyXG4gICAgICAgICAgICAvL0NhbGN1bGF0ZSBsZW5ndGggb2YgZGF0ZXNcclxuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBpbiBkYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShpdGVtKSAmJiBpdGVtICE9PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5ncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRhdGFbaV1baXRlbV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBzdGFydCxcclxuICAgICAgICAgICAgICAgIGVuZCxcclxuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2UsXHJcbiAgICAgICAgICAgICAgICAvL0NhbGN1bHRpbmcgZHVyYXRpb24gb2YgZGF0ZSByYW5nZXMgdG8gYWRkIHRvIHRvb2x0aXBcclxuICAgICAgICAgICAgICAgIG51bVBhaXJzID0gTWF0aC5mbG9vcihPYmplY3Qua2V5cyhjaGFydC5kYXRhLmRhdGFUYWJsZSkubGVuZ3RoIC8gMik7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMTsgaiA8PSBudW1QYWlyczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydCA9IG5ldyBEYXRlKGRhdGFbaV1bY2hhcnQuZGF0YS5kYXRhVGFibGVbJ3N0YXJ0ICcgKyBqXV0pO1xyXG4gICAgICAgICAgICAgICAgZW5kID0gbmV3IERhdGUoZGF0YVtpXVtjaGFydC5kYXRhLmRhdGFUYWJsZVsnZW5kICcgKyBqXV0pO1xyXG4gICAgICAgICAgICAgICAgZGlmZmVyZW5jZSA9IGVuZC5nZXRUaW1lKCkgLSBzdGFydC5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICBkYXRhVGFibGVbJ0R1cmF0aW9uICcgKyBqXSA9IE1hdGguY2VpbChkaWZmZXJlbmNlIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKSArICcgZGF5cyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRpdGxlID0gZGF0YVtpXVtjaGFydC5kYXRhLmRhdGFUYWJsZS5ncm91cF07XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3BpZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdyYWRpYWwnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC5sYWJlbDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBpbiBkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRbaXRlbV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhVGFibGUub3V0ZXJSYWRpdXM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2NpcmNsZXBhY2snIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc3VuYnVyc3QnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIGRhdGFUYWJsZVtjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV0gPSBkLnZhbHVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdjbG91ZCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgICAgICAgICAgZGF0YVRhYmxlW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLnZhbHVlXSA9IGRbY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGRbY2hhcnQuZGF0YS5kYXRhVGFibGVbJ3Rvb2x0aXAgMSddXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtjaGFydC5kYXRhLmRhdGFUYWJsZVsndG9vbHRpcCAxJ11dID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZVsndG9vbHRpcCAxJ11dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC55QXhpc05hbWUgKyAnIHRvICcgKyBkLnhBeGlzTmFtZTtcclxuICAgICAgICAgICAgaWYgKGQuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZS52YWx1ZSA9IGQudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgdG9vbHRpcCBpbiBkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodG9vbHRpcC5pbmRleE9mKCd0b29sdGlwJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtjaGFydC5kYXRhLmRhdGFUYWJsZVt0b29sdGlwXV0gPSBkW3Rvb2x0aXBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2NsdXN0ZXJncmFtJykge1xyXG4gICAgICAgICAgICAvL3RpdGxlID0gZC55X3BhdGgucmVwbGFjZSgvXFwuL2csICfihpInKSArICc8L2JyPicgKyBkLnhfcGF0aC5yZXBsYWNlKC9cXC4vZywgJ+KGkicpO1xyXG4gICAgICAgICAgICAvL0J1aWxkIHN0cmluZ3MgZm9yIHRvb2x0aXBcclxuICAgICAgICAgICAgbGV0IHlUZW1wID0gZC55X3BhdGguc3BsaXQoJy4nKSxcclxuICAgICAgICAgICAgICAgIHlUZW1wU3RyaW5nID0gJycsXHJcbiAgICAgICAgICAgICAgICB4VGVtcCA9IGQueF9wYXRoLnNwbGl0KCcuJyksXHJcbiAgICAgICAgICAgICAgICB4VGVtcFN0cmluZyA9ICcnO1xyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCB5VGVtcC5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgaWYoY2hhcnQuZGF0YS5kYXRhVGFibGVbJ3lfY2F0ZWdvcnkgJyArIChrICsgMSldKXtcclxuICAgICAgICAgICAgICAgICAgICB5VGVtcFN0cmluZyArPSB5VGVtcFtrXSArPSAnICgnICsgY2hhcnQuZGF0YS5kYXRhVGFibGVbJ3lfY2F0ZWdvcnkgJyArIChrICsgMSldICsgJyknO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB5VGVtcFN0cmluZyArPSB5VGVtcFtrXSArPSAnICgnICsgY2hhcnQuZGF0YS5kYXRhVGFibGVbJ3lfY2F0ZWdvcnknXSArICcpJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGsgIT09IHlUZW1wLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB5VGVtcFN0cmluZyArPSAnIOKGkiAnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgeFRlbXAubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgIGlmKGNoYXJ0LmRhdGEuZGF0YVRhYmxlWyd4X2NhdGVnb3J5ICcgKyAoayArIDEpXSl7XHJcbiAgICAgICAgICAgICAgICAgICAgeFRlbXBTdHJpbmcgKz0geFRlbXBba10gKz0gJyAoJyArIGNoYXJ0LmRhdGEuZGF0YVRhYmxlWyd4X2NhdGVnb3J5ICcgKyAoayArIDEpXSArICcpJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeFRlbXBTdHJpbmcgKz0geFRlbXBba10gKz0gJyAoJyArIGNoYXJ0LmRhdGEuZGF0YVRhYmxlWyd4X2NhdGVnb3J5J10gKyAnKSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChrICE9PSB4VGVtcC5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeFRlbXBTdHJpbmcgKz0gJyDihpIgJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGl0bGUgPSAnWSA+ICcgKyB5VGVtcFN0cmluZyArICc8YnI+JyArICdYID4gJyArIHhUZW1wU3RyaW5nO1xyXG4gICAgICAgICAgICBpZiAoZC5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVRhYmxlLnZhbHVlID0gZC52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKGxldCB0b29sdGlwIGluIGQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0b29sdGlwLmluZGV4T2YoJ3Rvb2x0aXAnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW3Rvb2x0aXBdXSA9IGRbdG9vbHRpcF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2Fua2V5Jykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGQuc291cmNlLm5hbWUuc2xpY2UoMCwgLTIpICsgJyB0byAnICsgZC50YXJnZXQubmFtZS5zbGljZSgwLCAtMik7XHJcblxyXG4gICAgICAgICAgICBpZiAoZC5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVRhYmxlLnZhbHVlID0gZC52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGQuZGF0YVtjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbF07XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpdGVtIGluIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtjaGFydC5kYXRhLmRhdGFUYWJsZVtpdGVtXV0gPSBkLmRhdGFbY2hhcnQuZGF0YS5kYXRhVGFibGVbaXRlbV1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaXRlbSBpbiBkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbaXRlbV0gPSBkW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiB7ICdkYXRhJzogZCwgJ3RpcERhdGEnOiBkYXRhVGFibGUsICdpbmRleCc6IGksICd0aXRsZSc6IHRpdGxlLCAnY29sb3InOiBjb2xvciwgJ3Zpeic6IGNoYXJ0LmNvbmZpZy50eXBlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBEcmF3IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgLyoqZ2VuZXJhdGVTVkdcclxuICAgICAqY3JlYXRlcyBhbiBTVkcgZWxlbWVudCBvbiB0aGUgcGFuZWxcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIGNvbnRhaW5lciwgbWFyZ2luLCBuYW1lXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZVNWRyhsZWdlbmREYXRhLCBjdXN0b21NYXJnaW5QYXJhbSwgY3VzdG9tU2l6ZVBhcmFtKSB7XHJcbiAgICAgICAgbGV0IGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgbWFyZ2luID0ge30sXHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IHt9LFxyXG4gICAgICAgICAgICBkaW1lbnNpb25zID0gY2hhcnQuY2hhcnREaXYubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgICBjdXN0b21NYXJnaW5zID0gY3VzdG9tTWFyZ2luUGFyYW0sXHJcbiAgICAgICAgICAgIGN1c3RvbVNpemUgPSBjdXN0b21TaXplUGFyYW0sXHJcbiAgICAgICAgICAgIHRleHRXaWR0aDtcclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmN1c3RvbU1hcmdpbnMpIHtcclxuICAgICAgICAgICAgY3VzdG9tTWFyZ2lucyA9IGNoYXJ0Ll92YXJzLmN1c3RvbU1hcmdpbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCBtYXJnaW5zXHJcbiAgICAgICAgaWYgKCFjdXN0b21NYXJnaW5zKSB7XHJcbiAgICAgICAgICAgIC8vZGVjbGFyZSBtYXJnaW5zIGlmIHRoZXkgYXJlbnQgcGFzc2VkIGluXHJcbiAgICAgICAgICAgIG1hcmdpbiA9IHtcclxuICAgICAgICAgICAgICAgIHRvcDogNTUsXHJcbiAgICAgICAgICAgICAgICByaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAxMDAsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IDcwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChsZWdlbmREYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmREYXRhLmxlbmd0aCA8PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDcwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZWdlbmREYXRhLmxlbmd0aCA8PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDg1O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gMTMwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWFyZ2luID0gY3VzdG9tTWFyZ2lucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcmVkdWNlIG1hcmdpbnMgaWYgbGVnZW5kIGlzIHRvZ2dsZWQgb2ZmXHJcbiAgICAgICAgLy9UT0RPIG1ha2UgdGhpcyBiZXR0ZXJcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMudG9nZ2xlTGVnZW5kID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdwaWUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAncmFkaWFsJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2NpcmNsZXBhY2snIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5sZWZ0ID0gNDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICd0cmVlbWFwJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2JhcicgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdnYW50dCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzY2F0dGVyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gNDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2NsdXN0ZXJncmFtJykge1xyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd5JywgY2hhcnQubGVmdExhYmVscywgY2hhcnQuX3ZhcnMsIGRpbWVuc2lvbnMsIG1hcmdpbiwgY2hhcnQuY2hhcnREaXYsIGNoYXJ0LmNvbmZpZy50eXBlKTtcclxuICAgICAgICAgICAgbWFyZ2luLmxlZnQgPSBNYXRoLmNlaWwodGV4dFdpZHRoKTtcclxuICAgICAgICAgICAgaWYgKG1hcmdpbi5sZWZ0IDwgMzApIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5sZWZ0ID0gMzA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRleHRXaWR0aCA9IGdldE1heFdpZHRoRm9yQXhpc0RhdGEoJ3knLCBjaGFydC5yaWdodExhYmVscywgY2hhcnQuX3ZhcnMsIGRpbWVuc2lvbnMsIG1hcmdpbiwgY2hhcnQuY2hhcnREaXYsIGNoYXJ0LmNvbmZpZy50eXBlKTtcclxuICAgICAgICAgICAgbWFyZ2luLnRvcCA9IE1hdGguY2VpbCh0ZXh0V2lkdGgpO1xyXG4gICAgICAgICAgICBpZiAobWFyZ2luLnRvcCA8IDMwKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4udG9wID0gMzA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vc2V0IHlBeGlzIG1hcmdpbnNcclxuICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEgJiYgY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhKSB7XHJcbiAgICAgICAgICAgIHRleHRXaWR0aCA9IGdldE1heFdpZHRoRm9yQXhpc0RhdGEoJ3knLCBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsIGNoYXJ0Ll92YXJzLCBkaW1lbnNpb25zLCBtYXJnaW4sIGNoYXJ0LmNoYXJ0RGl2LCBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgICAgIGlmICh0ZXh0V2lkdGggPiAxMDAgJiYgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoID0gMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmhlYXRtYXBZbWFyZ2luID0gdGV4dFdpZHRoO1xyXG4gICAgICAgICAgICBtYXJnaW4ubGVmdCA9IE1hdGguY2VpbCh0ZXh0V2lkdGgpICsgMzA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCB4QXhpcyB0b3AgbWFyZ2luc1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnICYmIGNoYXJ0LmN1cnJlbnREYXRhICYmIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSkge1xyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd4JywgY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLCBjaGFydC5fdmFycywgZGltZW5zaW9ucywgbWFyZ2luLCBjaGFydC5jaGFydERpdiwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICAvL3N1YnRyYWN0IHNwYWNlIGZvciB0aWx0XHJcbiAgICAgICAgICAgIHRleHRXaWR0aCA9IE1hdGguY2VpbCh0ZXh0V2lkdGgpO1xyXG4gICAgICAgICAgICBpZiAodGV4dFdpZHRoID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSAxMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9zcGVjaWZpYyB0byBoZWF0bWFwXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGV4dFdpZHRoID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dFdpZHRoID0gMTAwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0ZXh0V2lkdGggPCA4MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRXaWR0aCA9IDgwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmhlYXRtYXBYbWFyZ2luID0gdGV4dFdpZHRoO1xyXG4gICAgICAgICAgICBtYXJnaW4udG9wID0gdGV4dFdpZHRoO1xyXG4gICAgICAgICAgICBjdXN0b21TaXplID0ge307XHJcbiAgICAgICAgICAgIC8vc2V0IGNvbnRhaW5lclxyXG4gICAgICAgICAgICBjdXN0b21TaXplLndpZHRoID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcy5sZW5ndGggKiAyMDtcclxuICAgICAgICAgICAgY3VzdG9tU2l6ZS5oZWlnaHQgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAqIDIwO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjaGFydC5fdmFycy50b2dnbGVMZWdlbmQpIHtcclxuICAgICAgICAgICAgICAgIGxldCBkdW1teU9iaiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZHVtbXlPYmoudmFsdWVzID0gY2hhcnQuZGF0YS5oZWF0RGF0YTtcclxuICAgICAgICAgICAgICAgIGR1bW15T2JqLnZhbHVlcy5zb3J0KChhLCBiKSA9PiBhIC0gYik7XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5sYWJlbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZHVtbXlPYmoubWluID0gZHVtbXlPYmoudmFsdWVzWzBdO1xyXG4gICAgICAgICAgICAgICAgZHVtbXlPYmoubWF4ID0gZHVtbXlPYmoudmFsdWVzW2R1bW15T2JqLnZhbHVlcy5sZW5ndGggLSAxXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd5JywgZHVtbXlPYmosIGNoYXJ0Ll92YXJzLCBkaW1lbnNpb25zLCBtYXJnaW4sIGNoYXJ0LmNoYXJ0RGl2LCBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuaGVhdFdpZHRoID0gTWF0aC5jZWlsKHRleHRXaWR0aCkgKyAzMDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5sZWZ0ID0gbWFyZ2luLmxlZnQgKyBjaGFydC5jb25maWcuaGVhdFdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY3VzdG9tU2l6ZS53aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0IDwgZGltZW5zaW9ucy53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLnJpZ2h0ID0gcGFyc2VJbnQoZGltZW5zaW9ucy53aWR0aCwgMTApIC0gbWFyZ2luLmxlZnQgLSBjdXN0b21TaXplLndpZHRoIC0gMjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1c3RvbVNpemUuaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20gPCBkaW1lbnNpb25zLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IHBhcnNlSW50KGRpbWVuc2lvbnMuaGVpZ2h0LCAxMCkgLSBtYXJnaW4udG9wIC0gY3VzdG9tU2l6ZS5oZWlnaHQgLSAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXN0b21TaXplLndpZHRoICs9IG1hcmdpbi5yaWdodCArIG1hcmdpbi5sZWZ0O1xyXG4gICAgICAgICAgICBjdXN0b21TaXplLmhlaWdodCArPSBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vc2V0IGNvbnRhaW5lciBhdHRyaWJ1dGVzXHJcbiAgICAgICAgLy9TZXQgc3ZnIHNpemUgYmFzZWQgb24gY2FsY3VsYXRpb24gbWFyZ2lucyBvciBjdXN0b20gc2l6ZSBpZiBzcGVjaWZpZWRcclxuICAgICAgICBpZiAoY3VzdG9tU2l6ZSAmJiBjdXN0b21TaXplLmhhc093blByb3BlcnR5KCdoZWlnaHQnKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0ID0gY3VzdG9tU2l6ZS5oZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0ID0gcGFyc2VJbnQoZGltZW5zaW9ucy5oZWlnaHQsIDEwKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xyXG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmhlaWdodCA8PSA1MCkge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLnRvcCA9IDEwO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDEwO1xyXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmhlaWdodCA9IHBhcnNlSW50KGRpbWVuc2lvbnMuaGVpZ2h0LCAxMCkgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLnhMYWJlbEZvbnRTaXplID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGN1c3RvbVNpemUgJiYgY3VzdG9tU2l6ZS5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIud2lkdGggPSBjdXN0b21TaXplLndpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLndpZHRoID0gcGFyc2VJbnQoZGltZW5zaW9ucy53aWR0aCwgMTApIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2FkZCBtYXJnaW4gYW5kIGNvbnRhaW5lciB0byBjaGFydCBjb25maWcgb2JqZWN0XHJcbiAgICAgICAgY2hhcnQuY29uZmlnLm1hcmdpbiA9IG1hcmdpbjtcclxuICAgICAgICBjaGFydC5jb25maWcuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBvbGQgc3ZnIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgIGNoYXJ0LnN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnc3ZnJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vc3ZnIGxheWVyXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgICAgICBjaGFydC5zdmcgPSBjaGFydC5jaGFydERpdi5hcHBlbmQoJ3N2ZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZWRpdGFibGUtc3ZnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNvbnRhaW5lci53aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGNvbnRhaW5lci5oZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvbnRhaW5lcicpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgbWFyZ2luLmxlZnQgKyAnLCcgKyAobWFyZ2luLnRvcCkgKyAnKScpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdjbHVzdGVyZ3JhbScpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRhdGEuY2hhcnREYXRhWzJdLmxlbmd0aCAqIDEwID4gY29udGFpbmVyLndpZHRoIHx8IGNoYXJ0LmRhdGEuY2hhcnREYXRhWzJdLmxlbmd0aCAqIDEwID4gY29udGFpbmVyLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuc3ZnID0gY2hhcnQuY2hhcnREaXYuYXBwZW5kKCdzdmcnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdlZGl0YWJsZS1zdmcnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIChjaGFydC5kYXRhLmNoYXJ0RGF0YVsyXS5sZW5ndGggKiAxMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIChjaGFydC5kYXRhLmNoYXJ0RGF0YVsyXS5sZW5ndGggKiAxMCkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywnICsgKG1hcmdpbi50b3ApICsgJyknKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LmFwcGVuZCgnc3ZnJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZWRpdGFibGUtc3ZnJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCBjb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGNvbnRhaW5lci5oZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywnICsgKG1hcmdpbi50b3ApICsgJyknKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LmFwcGVuZCgnc3ZnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdlZGl0YWJsZS1zdmcnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgY29udGFpbmVyLndpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgY29udGFpbmVyLmhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgbWFyZ2luLmxlZnQgKyAnLCcgKyAobWFyZ2luLnRvcCkgKyAnKScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9UT0RPIG1vdmUgdG8gZWRpdCBtb2RlXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmJhY2tncm91bmRDb2xvciAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmNvbG9yQmFja2dyb3VuZChjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipnZW5lcmF0ZVhBeGlzXHJcbiAgICAgKiBjcmVhdGVzIHggYXhpcyBvbiB0aGUgc3ZnXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyB4QXhpc0RhdGFcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVYQXhpcyh4QXhpc0RhdGEsIHRpY2tzKSB7XHJcbiAgICAgICAgLy9kZWNsYXJlIHZhcmlhYmxlc1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHhBeGlzLFxyXG4gICAgICAgICAgICAvL05lZWQgdG8gZ2V0WEF4aXNTY2FsZSBlYWNoIHRpbWUgc28gdGhhdCBheGlzIHVwZGF0ZXMgb24gcmVzaXplXHJcbiAgICAgICAgICAgIHhBeGlzU2NhbGUgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIGNoYXJ0Ll92YXJzKSxcclxuICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgeEF4aXNDbGFzcyA9ICd4QXhpc0xhYmVscyBlZGl0YWJsZSBlZGl0YWJsZS14QXhpcyBlZGl0YWJsZS10ZXh0JyxcclxuICAgICAgICAgICAgdGlja1NpemUgPSAwLFxyXG4gICAgICAgICAgICBheGlzSGVpZ2h0ID0gY29udGFpbmVySGVpZ2h0LFxyXG4gICAgICAgICAgICB4Q29udGVudCxcclxuICAgICAgICAgICAgeEF4aXNHcm91cCxcclxuICAgICAgICAgICAgZm9ybWF0VmFsdWVUeXBlO1xyXG5cclxuICAgICAgICAvL2Fzc2lnbiBjc3MgY2xhc3MgZm9yIGVkaXQgbW9kZVxyXG4gICAgICAgIC8vaWYgdGhlIGF4aXMgaXMgbnVtYmVycyBhZGQgZWRpdGFibGUtbnVtXHJcbiAgICAgICAgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgeEF4aXNDbGFzcyArPSAnIGVkaXRhYmxlLW51bSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3JlbW92ZSBwcmV2aW91cyB4QXhpcyBjb250YWluZXIgaWYgaXRzIHRoZXJlXHJcbiAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnhBeGlzQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vU2F2ZSB0aGUgYXhpcyBzY2FsZSB0byBjaGFydCBvYmplY3RcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlID0geEF4aXNTY2FsZTtcclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgdGlja1NpemUgPSA1O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jcmVhdGUgeEF4aXMgZHJhd2luZyBmdW5jdGlvblxyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgIHhBeGlzID0gZDMuYXhpc1RvcCh4QXhpc1NjYWxlKVxyXG4gICAgICAgICAgICAgICAgLnRpY2tTaXplKHRpY2tTaXplKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeEF4aXNTY2FsZSlcclxuICAgICAgICAgICAgICAgIC50aWNrU2l6ZSh0aWNrU2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGlja3MpIHtcclxuICAgICAgICAgICAgeEF4aXMudGlja3ModGlja3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHsvL0ZvciBhbnkgYXhlcyB0aGF0IGFyZSBvbiB0b3Agb2YgdGhlIGRhdGFcclxuICAgICAgICAgICAgYXhpc0hlaWdodCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB4Q29udGVudCA9IGNoYXJ0LnN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneEF4aXNDb250YWluZXInKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCcgKyAoYXhpc0hlaWdodCkgKyAnKScpO1xyXG5cclxuICAgICAgICB4QXhpc0dyb3VwID0geENvbnRlbnQuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hBeGlzJylcclxuICAgICAgICAgICAgLmNhbGwoeEF4aXMpO1xyXG5cclxuICAgICAgICBmb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZSh4QXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBheGlzXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3QoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlV2lkdGgpO1xyXG5cclxuICAgICAgICAvL1N0eWxpbmcgZm9yIHRpY2tzXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJ2xpbmUnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBsYWJlbHMgZm9yIGVhY2ggcGllY2Ugb2YgZGF0YVxyXG4gICAgICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpLy9DdXN0b21pemUgdGhlIGNvbG9yIG9mIGF4aXMgbGFiZWxzXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIHhBeGlzQ2xhc3MpXHJcbiAgICAgICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAzKScpXHJcbiAgICAgICAgICAgIC50ZXh0KChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJyB8fCBjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBsYWJlbCBmb3IgdGhlIGVudGlyZSBheGlzXHJcbiAgICAgICAgeENvbnRlbnQuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hMYWJlbCcpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneExhYmVsIGVkaXRhYmxlIGVkaXRhYmxlLXRleHQgZWRpdGFibGUtY29udGVudCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB4QXhpc0RhdGEubGFiZWw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBjb250YWluZXJXaWR0aCAvIDIgKyAnLCAzMyknKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipGb3JtYXRYQXhpc0xhYmVsc1xyXG4gICAgICpcclxuICAgICAqIElmIHgtYXhpcyBsYWJlbHMgYXJlIHRvbyBsb25nL292ZXJsYXBwaW5nLCB0aGV5IHdpbGwgYmUgaGlkZGVuL3Nob3J0ZW5lZFxyXG4gICAgICovXHJcbiAgICBmb3JtYXRYQXhpc0xhYmVscyhkYXRhTGVuZ3RoLCByZWN1cnNpb24pIHtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzaG93QXhpc0xhYmVscyA9IHRydWUsXHJcbiAgICAgICAgICAgIHhBeGlzTGVuZ3RoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgdGV4dFdpZHRoID0gW10sXHJcbiAgICAgICAgICAgIGZvcm1hdFZhbHVlVHlwZSA9IG51bGwsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlLFxyXG4gICAgICAgICAgICBheGlzVmFsdWVzID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcztcclxuXHJcbiAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICBmb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZShheGlzVmFsdWVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY3JlYXRlIGR1bW15IHRleHQgdG8gZGV0ZXJtaW5lIGNvbXB1dGVkIHRleHQgbGVuZ3RoIGZvciB0aGUgYXhpcyBsYWJlbHNcclxuICAgICAgICAvL25lY2Vzc2FyeSB0byBkbyB0aGlzIGJlY2F1c2UgYXhpcyBsYWJlbHMgZ2V0QkJveCgpIGlzIHJldHVybmluZyAwIHNpbmNlIHRoZXkgZG8gbm90IHNlZW0gdG8gYmUgZHJhd24geWV0XHJcbiAgICAgICAgY2hhcnQuc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5kdW1teVRleHQnKVxyXG4gICAgICAgICAgICAuZGF0YShheGlzVmFsdWVzKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmV0dXJuVmFsID0gZDtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSBqdkZvcm1hdFZhbHVlKGQsIGZvcm1hdFZhbHVlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2FkZGluZyAxMHB4IGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgbGV0IHRoaXNXaWR0aCA9IHRoaXMuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgKyAxMDtcclxuICAgICAgICAgICAgICAgIHRleHRXaWR0aC5wdXNoKHRoaXNXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpOyAvL3JlbW92ZSB0aGVtIGp1c3QgYWZ0ZXIgZGlzcGxheWluZyB0aGVtXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB0ZXh0RWxlIG9mIHRleHRXaWR0aCkge1xyXG4gICAgICAgICAgICBpZiAodGV4dEVsZSA+IHhBeGlzTGVuZ3RoIC8gZGF0YUxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgc2hvd0F4aXNMYWJlbHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNob3dBeGlzTGFiZWxzKSB7XHJcbiAgICAgICAgICAgIGlmIChyZWN1cnNpb24pIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLCBkYXRhTGVuZ3RoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcueEF4aXNMYWJlbHMnKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YUxlbmd0aCA+IDEgJiYgY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAvL3JlY3Vyc2l2ZWx5IGtlZXAgZGVjcmVhc2luZyB0byBmaWd1cmUgb3V0IHRpY2tzIGxlbmd0aCB0byByZXBhaW50IHRoZSB4QXhpcyBpZiBpdHMgbnVtZXJpY1xyXG4gICAgICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscygoZGF0YUxlbmd0aCAtIDEpLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcueEF4aXMnKS5zZWxlY3RBbGwoJ3RleHQnKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKmdlbmVyYXRlWUF4aXNcclxuICAgICAqIGNyZWF0ZXMgeSBheGlzIG9uIHRoZSBzdmdcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIGdlbmVyYXRlWUF4aXNcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVZQXhpcyh5QXhpc0RhdGEpIHtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICB5QXhpc1NjYWxlID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyksXHJcbiAgICAgICAgICAgIHlBeGlzQ2xhc3MgPSAneUF4aXNMYWJlbHMgZWRpdGFibGUgZWRpdGFibGUteUF4aXMgZWRpdGFibGUtdGV4dCcsXHJcbiAgICAgICAgICAgIG1heFlBeGlzTGFiZWxXaWR0aCxcclxuICAgICAgICAgICAgbnVtYmVyT2ZUaWNrcyA9IE1hdGguZmxvb3IoY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQgLyAxNCksXHJcbiAgICAgICAgICAgIHlBeGlzLFxyXG4gICAgICAgICAgICB5Q29udGVudCxcclxuICAgICAgICAgICAgeUF4aXNHcm91cCxcclxuICAgICAgICAgICAgZm9yY2VGb3JtYXRUeXBlVG8gPSBudWxsLFxyXG4gICAgICAgICAgICB5bGFiZWwgPSAnJztcclxuXHJcbiAgICAgICAgLy9hc3NpZ24gY3NzIGNsYXNzIGZvciBlZGl0IG1vZGVcclxuICAgICAgICAvL2lmIHRoZSBheGlzIGlzIG51bWJlcnMgYWRkIGVkaXRhYmxlLW51bVxyXG4gICAgICAgIGlmICh5QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIHlBeGlzQ2xhc3MgKz0gJyBlZGl0YWJsZS1udW0nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TYXZlIHkgYXhpcyBzY2FsZSB0byBjaGFydCBvYmplY3RcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YS55QXhpc1NjYWxlID0geUF4aXNTY2FsZTtcclxuXHJcbiAgICAgICAgLy9yZW1vdmUgcHJldmlvdXMgc3ZnIGVsZW1lbnRzXHJcbiAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnlBeGlzQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgndGV4dC55TGFiZWwnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgaWYgKG51bWJlck9mVGlja3MgPiAxMCkge1xyXG4gICAgICAgICAgICBpZiAobnVtYmVyT2ZUaWNrcyA8IDIwKSB7XHJcbiAgICAgICAgICAgICAgICBudW1iZXJPZlRpY2tzID0gMTA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtYmVyT2ZUaWNrcyA8IDMwKSB7XHJcbiAgICAgICAgICAgICAgICBudW1iZXJPZlRpY2tzIC89IDI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBudW1iZXJPZlRpY2tzID0gMTU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vSWYgYWxsIHktYXhpcyB2YWx1ZXMgYXJlIHRoZSBzYW1lLCBvbmx5IHNob3cgYSB0aWNrIGZvciB0aGF0IHZhbHVlLiBJZiB2YWx1ZSBpcyAxLCBkb24ndCBzaG93IGFueSBkZWNpbWFsIHBsYWNlc1xyXG4gICAgICAgIGlmICh5QXhpc0RhdGEudmFsdWVzLmxlbmd0aCA+IDAgJiYgISF5QXhpc0RhdGEudmFsdWVzLnJlZHVjZSgoYSwgYikgPT4gYSA9PT0gYiA/IGEgOiBOYU4pKSB7XHJcbiAgICAgICAgICAgIG51bWJlck9mVGlja3MgPSAxO1xyXG4gICAgICAgICAgICBpZiAoeUF4aXNEYXRhLnZhbHVlc1swXSA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgZm9yY2VGb3JtYXRUeXBlVG8gPSAnbm9kZWNpbWFscyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgeUF4aXMgPSBkMy5heGlzTGVmdCgpXHJcbiAgICAgICAgICAgIC50aWNrcyhudW1iZXJPZlRpY2tzKS8vTGluayB0byBEMy5zdmcuYXhpcyBvcHRpb25zOiBodHRwczovL2dpdGh1Yi5jb20vbWJvc3RvY2svZDMvd2lraS9TVkctQXhlc1xyXG4gICAgICAgICAgICAuc2NhbGUoeUF4aXNTY2FsZSkvL1NldHMgdGhlIHNjYWxlIHRvIHVzZSBpbiB0aGUgYXhpc1xyXG4gICAgICAgICAgICAudGlja1NpemUoNSkvL1NldHMgdGhlIHRoaWNrbmVzcyBvZiB0aGUgYXhpcyBsaW5lXHJcbiAgICAgICAgICAgIC50aWNrUGFkZGluZyg1KTtcclxuXHJcbiAgICAgICAgLy9IaWRlIEF4aXMgdmFsdWVzIGlmIG5lY2Vzc2FyeVxyXG4gICAgICAgIGlmICh5QXhpc0RhdGEuaGlkZVZhbHVlcykge1xyXG4gICAgICAgICAgICB5QXhpcy50aWNrRm9ybWF0KCcnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmRpc3BsYXlZQXhpc0xhYmVsKSB7XHJcbiAgICAgICAgICAgIHlsYWJlbCA9IHlBeGlzRGF0YS5sYWJlbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHlDb250ZW50ID0gY2hhcnQuc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5QXhpc0NvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICB5Q29udGVudC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneUxhYmVsJylcclxuICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5TGFiZWwgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50JylcclxuICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICgtY2hhcnQuY29uZmlnLm1hcmdpbi5sZWZ0ICsgMTApICsgJywgLTEwKScpXHJcbiAgICAgICAgICAgIC50ZXh0KHlsYWJlbClcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwtb3BhY2l0eScsIDEpO1xyXG5cclxuICAgICAgICB5QXhpc0dyb3VwID0geUNvbnRlbnQuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3lBeGlzJyk7XHJcblxyXG5cclxuICAgICAgICB5QXhpc0dyb3VwXHJcbiAgICAgICAgICAgIC5jYWxsKHlBeGlzKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIGZvciBBeGlzXHJcbiAgICAgICAgeUF4aXNHcm91cC5zZWxlY3QoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlV2lkdGgpO1xyXG5cclxuICAgICAgICBtYXhZQXhpc0xhYmVsV2lkdGggPSAwO1xyXG5cclxuICAgICAgICBpZiAoeUF4aXNEYXRhLmhpZGVWYWx1ZXMpIHtcclxuICAgICAgICAgICAgLy9TdHlsaW5nIGZvciB0aWNrc1xyXG4gICAgICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGZvcm1hdFZhbHVlVHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKHlBeGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgICAgICAgICAvL1N0eWxpbmcgZm9yIHRpY2tzXHJcbiAgICAgICAgICAgIHlBeGlzR3JvdXAuc2VsZWN0QWxsKCdsaW5lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlKTtcclxuICAgICAgICAgICAgLy9TdHlsaW5nIGZvciBkYXRhIGxhYmVscyBvbiBheGlzXHJcbiAgICAgICAgICAgIHlBeGlzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuZm9udENvbG9yKS8vQ3VzdG9taXplIHRoZSBjb2xvciBvZiBheGlzIGxhYmVsc1xyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgeUF4aXNDbGFzcylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAncm90YXRlKDApJykvL0FkZCBsb2dpYyB0byByb3RhdGUgYXhpcyBiYXNlZCBvbiBzaXplIG9mIHRpdGxlXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKTtcclxuXHJcbiAgICAgICAgICAgIHlBeGlzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgIC50ZXh0KChkKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYXhMZW5ndGggPSAxMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkLmxlbmd0aCA+IG1heExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZC5zdWJzdHJpbmcoMCwgbWF4TGVuZ3RoKSArICcuLi4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcmNlRm9ybWF0VHlwZVRvICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlVHlwZSA9IGZvcmNlRm9ybWF0VHlwZVRvO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShjdXJyZW50LCBmb3JtYXRWYWx1ZVR5cGUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5lYWNoKChkLCBpLCBqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpbMF0uZ2V0QkJveCgpLndpZHRoID4gbWF4WUF4aXNMYWJlbFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFlBeGlzTGFiZWxXaWR0aCA9IGpbMF0uZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAobWF4WUF4aXNMYWJlbFdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMueUxhYmVsV2lkdGggPSBNYXRoLmNlaWwobWF4WUF4aXNMYWJlbFdpZHRoKSArIDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBMZWdlbmQgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICBnZW5lcmF0ZUxlZ2VuZChsZWdlbmREYXRhLCBkcmF3RnVuYykge1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICAgICAgbGVnZW5kRWxlbWVudHM7XHJcbiAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBsZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKTtcclxuXHJcbiAgICAgICAgLy9SZXR1cm5zIHRoZSBsZWdlbmQgcmVjdGFuZ2xlcyB0aGF0IGFyZSB0b2dnbGVkIG9uL29mZlxyXG4gICAgICAgIGlmIChkcmF3RnVuYykge1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMgIT09ICdub25lJyAmJiBjaGFydC5fdmFycy50aGVzaG9sZExlZ2VuZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0ID4gMzAwICYmIGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGggPiAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVRocmVzaG9sZExlZ2VuZChjaGFydCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2hhcnQuX3ZhcnMudG9nZ2xlTGVnZW5kKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZC1jYXJvdXNlbCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kXHJcbiAgICAgKlxyXG4gICAgICogY3JlYXRlcyBhbmQgZHJhd3MgYSB2ZXJ0aWNhbCBsZWdlbmQgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW1zIHN2ZywgbGVnZW5kRGF0YSwgb3B0aW9ucywgY29udGFpbmVyLCBjaGFydERhdGEsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjaGFydFR5cGVcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZChwYWludEZ1bmMpIHtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgICAgICBsZWdlbmRFbGVtZW50cztcclxuXHJcbiAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBwYWludEZ1bmMpO1xyXG5cclxuICAgICAgICAvL1JldHVybnMgdGhlIGxlZ2VuZCByZWN0YW5nbGVzIHRoYXQgYXJlIHRvZ2dsZWQgb24vb2ZmXHJcbiAgICAgICAgaWYgKHBhaW50RnVuYyAhPT0gJ2dlbmVyYXRlUGFjaycpIHtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIHBhaW50RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQtY2Fyb3VzZWwnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogR2VuZXJhdGVzIGEgY2xpcCBwYXRoIHRoYXQgY29udGFpbnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBjaGFydCBhcmVhIHRvIHRoZSB2aWV3IG9mIHRoZSBjaGFydCBhcmVhIGNvbnRhaW5lclxyXG4gICAgICogaS5lIC0gZG9uJ3Qgd2FudCBiYXJzIGdvaW5nIGJlbG93IHRoZSB4IGF4aXNcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVDbGlwUGF0aCgpIHtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIHR5cGUgPSBjaGFydC5jb25maWcudHlwZSxcclxuICAgICAgICAgICAgY29udGFpbmVyTmFtZSA9ICcuJyArIHR5cGUgKyAnLWNvbnRhaW5lcic7XHJcblxyXG4gICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAuYXBwZW5kKCdjbGlwUGF0aCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcclxuICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAwKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQpO1xyXG5cclxuICAgICAgICAvL0JyZWFrIHRoaXMgb3V0IGludG8gbG9naWMgZm9yIGFsbCBvdGhlciB2aXp6ZXMgdGhhdCBoYXZlIG92ZXJmbG93IGlzc3Vlc1xyXG4gICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAuc2VsZWN0KGNvbnRhaW5lck5hbWUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRocmVzaG9sZChkYXRhKSB7XHJcbiAgICAgICAgbGV0IGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgdGhyZXNob2xkcyA9IGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMsXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHRocmVzaG9sZHMgPyBPYmplY3Qua2V5cyh0aHJlc2hvbGRzKS5sZW5ndGggOiAwO1xyXG5cclxuICAgICAgICBpZiAodGhyZXNob2xkcyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBsZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHRocmVzaG9sZCA9IHRocmVzaG9sZHNbaV07XHJcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKHR5cGVvZiBkYXRhID09IFwiZGF0ZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhID49IE51bWJlcih0aHJlc2hvbGQudGhyZXNob2xkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAncmVjdC0nICsgaTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVMaW5lVGhyZXNob2xkKCkge1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICAgICAgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICAgICAgdGhyZXNob2xkcyA9IGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMsXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IE9iamVjdC5rZXlzKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMpLmxlbmd0aCxcclxuICAgICAgICAgICAgeCA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUsXHJcbiAgICAgICAgICAgIHkgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc1NjYWxlO1xyXG5cclxuICAgICAgICBpZiAodGhyZXNob2xkcyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCB0aHJlc2hvbGQgPSB0aHJlc2hvbGRzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHgodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHgodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHkodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbG9yQmFja2dyb3VuZChjb2xvcikge1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XHJcbiAgICAgICAgY2hhcnQuY2hhcnREaXYuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCAnJyArIGNvbG9yKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqZGlzcGxheVZhbHVlc1xyXG4gICAgICpcclxuICAgICAqIHRvZ2dsZXMgZGF0YSB2YWx1ZXMgdGhhdCBhcmUgZGlzcGxheWVkIG9uIHRoZSBzcGVjaWZpYyB0eXBlIG9mIGNoYXJ0IG9uIHRoZSBzdmdcclxuICAgICAqIEBwYXJhbXMgc3ZnLCBiYXJEYXRhLCBvcHRpb25zLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyXHJcbiAgICAgKiBAcmV0dXJucyB7e319XHJcbiAgICAgKi9cclxuICAgIGRpc3BsYXlWYWx1ZXMoKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgICAgICBjaGFydERhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgICAgIGxlZ2VuZE9wdGlvbnMgPSBjaGFydC5fdmFycy5sZWdlbmRPcHRpb25zLFxyXG4gICAgICAgICAgICBjbGVhbmVkQ2hhcnREYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydERhdGEpKSxcclxuICAgICAgICAgICAgZGF0YSA9IFtdLCAvL09ubHkgc3RvcmVzIHZhbHVlc1xyXG4gICAgICAgICAgICBwb3NDYWxjLFxyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICBkaXNwbGF5VmFsdWVzR3JvdXA7XHJcblxyXG4gICAgICAgIC8vSWYgc2VyaWVzIGlzIGZsaXBwZWQsIHVzZSBmbGlwcGVkIGRhdGE7IGluaXRpYWxpemUgd2l0aCB0aGUgZnVsbCBkYXRhIHNldFxyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0RGF0YSA9IGNoYXJ0LmZsaXBwZWREYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgbGVnZW5kT3B0aW9ucyA9IGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRPcHRpb25zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcuZGlzcGxheVZhbHVlQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGlmIChsZWdlbmRPcHRpb25zKSB7Ly9DaGVja2luZyB3aGljaCBsZWdlbmQgZWxlbWVudHMgYXJlIHRvZ2dsZWQgb24gcmVzaXplXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBjaGFydEVsZSBvZiBjbGVhbmVkQ2hhcnREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbGVnZW5kRWxlIG9mIGxlZ2VuZE9wdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY2hhcnRFbGVbbGVnZW5kRWxlLmVsZW1lbnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBjaGFydEVsZSBvZiBjbGVhbmVkQ2hhcnREYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsID0gZ2V0RGlzcGxheVZhbHVlc0VsZW1lbnQoY2hhcnRFbGUsIGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHBvc0NhbGMgPSBnZXRQb3NDYWxjdWxhdGlvbnMoY2xlYW5lZENoYXJ0RGF0YSwgY2hhcnQuX3ZhcnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0KTtcclxuICAgICAgICAgICAgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcbiAgICAgICAgICAgIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgIC8vQWRkIGEgY29udGFpbmVyIGZvciBkaXNwbGF5IHZhbHVlcyBvdmVyIGVhY2ggYmFyIGdyb3VwXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VmFsdWVzR3JvdXAgPVxyXG4gICAgICAgICAgICAgICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZXNHcm91cCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZXNHcm91cCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyYW5zbGF0ZSA9ICh5LnBhZGRpbmdPdXRlcigpICogeS5zdGVwKCkpICsgKHkuc3RlcCgpICogaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyB0cmFuc2xhdGUgKyAnKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKGQgPT4gZClcclxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgKGQsIGksIGopID0+IHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLndpZHRoKGQsIGksIGopICsgcG9zQ2FsYy54KGQsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSwgaikgPT4geyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy55KGQsIGksIGopICsgKHBvc0NhbGMuaGVpZ2h0KGQsIGksIGopIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoKGQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJldHVyblRleHQgPSBNYXRoLnJvdW5kKGQgKiAxMDApIC8gMTAwOy8vcm91bmQgdG8gMiBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShyZXR1cm5UZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL0FkZCBhIGRpc3BsYXkgdmFsdWVzIGNvbnRhaW5lciBvdmVyIGVhY2ggYmFyIGdyb3VwXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VmFsdWVzR3JvdXAgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZXNHcm91cCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0cmFuc2xhdGUgPSAoeC5wYWRkaW5nT3V0ZXIoKSAqIHguc3RlcCgpKSArICh4LnN0ZXAoKSAqIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgdHJhbnNsYXRlICsgJywwKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VmFsdWVzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShkID0+IGQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIChkLCBpLCBqKSA9PiB7IC8vc2V0cyB0aGUgeCBwb3NpdGlvbiBvZiB0aGUgYmFyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgocG9zQ2FsYy54KGQsIGksIGopICsgKHBvc0NhbGMud2lkdGgoZCwgaSwgaikgLyAyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSwgaikgPT4geyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChwb3NDYWxjLnkoZCwgaSwgaikpIC0gMzsvLysgcG9zQ2FsYy5oZWlnaHQoZCwgaSwgaikgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuZm9udENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KChkLCBpLCBqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zdGFja1RvZ2dsZSAmJiBjaGFydC5fdmFycy5kaXNwbGF5VmFsdWVzU3RhY2tBc1BlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgai5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSBqW2luZGV4XS5fX2RhdGFfXztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkZvcm1hdFZhbHVlKGQgLyB0b3RhbCwgJ3BlcmNlbnQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp2Rm9ybWF0VmFsdWUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zdGFja1RvZ2dsZSAmJiBjaGFydC5fdmFycy5kaXNwbGF5VmFsdWVzU3RhY2tUb3RhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFja0NvdW50ZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVN0YWNrVG90YWwnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAoZCwgaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyYW5zbGF0ZSA9ICh4LnBhZGRpbmdPdXRlcigpICogeC5zdGVwKCkpICsgKHguc3RlcCgpICogaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgdHJhbnNsYXRlICsgJywwKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZGF0YShkID0+IGQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIChkLCBpLCBqKSA9PiB7IC8vc2V0cyB0aGUgeCBwb3NpdGlvbiBvZiB0aGUgYmFyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKHBvc0NhbGMueChkLCBpLCBqKSArIChwb3NDYWxjLndpZHRoKGQsIGksIGopIC8gMikpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSwgaikgPT4geyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocG9zQ2FsYy55KGQsIGksIGopKSAtIDE4Oy8vKyBwb3NDYWxjLmhlaWdodChkLCBpLCBqKSAtIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KChkLCBpLCBqKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeUxlbmd0aCA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhMZW5ndGggPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleE1heCA9IHlMZW5ndGggLyB4TGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoaSArIDEpID09PSBpbmRleE1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBqIDwgaW5kZXhNYXg7IGsrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjayArPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzW2luZGV4TWF4ICogc3RhY2tDb3VudGVyICsga107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrQ291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkZvcm1hdFZhbHVlKHN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5kaXNwbGF5VmFsdWVDb250YWluZXInKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0dyaWRsaW5lcyhheGlzRGF0YSkge1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHNjYWxlRGF0YTtcclxuXHJcbiAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnZy5ncmlkTGluZXMnKS5yZW1vdmUoKTtcclxuICAgICAgICBjaGFydC5zdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2dyaWRMaW5lcycpO1xyXG5cclxuICAgICAgICAvL0RldGVybWluZSBpZiBncmlkbGluZXMgYXJlIGhvcml6b250YWwgb3IgdmVydGljYWwgYmFzZWQgb24gcm90YXRlQXhpc1xyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzID09PSB0cnVlIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICAgICAgbGV0IGdyaWRMaW5lSGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICB4QXhpc1NjYWxlID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgYXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IGF4aXNEYXRhLnZhbHVlcztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicgfHwgYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgc2NhbGVEYXRhID0geEF4aXNTY2FsZS50aWNrcygxMCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3QoJy5ncmlkTGluZXMnKS5zZWxlY3RBbGwoJy5ob3Jpem9udGFsR3JpZCcpXHJcbiAgICAgICAgICAgICAgICAuZGF0YShzY2FsZURhdGEpXHJcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnaG9yaXpvbnRhbEdyaWQnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgKGQsIGkpID0+IGkgPiAwID8geEF4aXNTY2FsZShkKSA6IDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDInLCAoZCwgaSkgPT4gaSA+IDAgPyB4QXhpc1NjYWxlKGQpIDogMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneTInLCAoZCwgaSkgPT4gaSA+IDAgPyBncmlkTGluZUhlaWdodCA6IDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzaGFwZS1yZW5kZXJpbmcnLCAnY3Jpc3BFZGdlcycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmdyaWRMaW5lU3Ryb2tlV2lkdGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxldCBncmlkTGluZVdpZHRoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgICAgIHlBeGlzU2NhbGUgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCBheGlzRGF0YSwgY2hhcnQuY29uZmlnLmNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGF4aXNEYXRhLmRhdGFUeXBlID09PSAnU1RSSU5HJykge1xyXG4gICAgICAgICAgICAgICAgc2NhbGVEYXRhID0gYXhpc0RhdGEudmFsdWVzO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJyB8fCBheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ0RBVEUnKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZURhdGEgPSB5QXhpc1NjYWxlLnRpY2tzKDEwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdCgnLmdyaWRMaW5lcycpLnNlbGVjdEFsbCgnLmhvcml6b250YWxHcmlkJykuZGF0YShzY2FsZURhdGEpLmVudGVyKClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2hvcml6b250YWxHcmlkJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDInLCAoZCwgaSkgPT4gaSA+IDAgPyBncmlkTGluZVdpZHRoIDogMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIChkLCBpKSA9PiBpID4gMCA/IHlBeGlzU2NhbGUoZCkgOiAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgKGQsIGkpID0+IGkgPiAwID8geUF4aXNTY2FsZShkKSA6IDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzaGFwZS1yZW5kZXJpbmcnLCAnY3Jpc3BFZGdlcycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmdyaWRMaW5lU3Ryb2tlV2lkdGgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipnZXRCYXJEYXRhRnJvbU9wdGlvbnNcclxuICAgICogXl4gbm90IGp1c3QgYSBiYXIgZnVuY3Rpb24sIGxpbmUgYW5kIGFyZWEgYWxzbyB1c2UgaXRcclxuICAgICpcclxuICAgICogQXNzaWducyB0aGUgY29ycmVjdCBjaGFydCBkYXRhIHRvIGN1cnJlbnQgZGF0YSB1c2luZyB0aGUgY2hhcnQub3B0aW9uc1xyXG4gICAgKi9cclxuICAgIGdldEJhckRhdGFGcm9tT3B0aW9ucygpIHtcclxuICAgICAgICBsZXQgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBkYXRhT2JqID0ge30sXHJcbiAgICAgICAgICAgIGRhdGEgPSBjaGFydC5kYXRhO1xyXG5cclxuICAgICAgICAvL3NldCBmbGlwcGVkIGRhdGEgaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgZGF0YSA9IGNoYXJ0LmZsaXBwZWREYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGF0YU9iai5jaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICBkYXRhT2JqLmxlZ2VuZERhdGEgPSBkYXRhLmxlZ2VuZERhdGE7XHJcbiAgICAgICAgZGF0YU9iai5kYXRhVGFibGUgPSBkYXRhLmRhdGFUYWJsZTtcclxuICAgICAgICBjaGFydC5fdmFycy5jb2xvciA9IGRhdGEuY29sb3I7XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgZGF0YU9iai54QXhpc0RhdGEgPSBkYXRhLnlBeGlzRGF0YTtcclxuICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBkYXRhLnhBeGlzRGF0YTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGRhdGEueEF4aXNEYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGFPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBVdGlsaXR5IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgLyoqaGlnaGxpZ2h0SXRlbXNcclxuICAgICAqXHJcbiAgICAgKiBoaWdobGlnaHRzIGl0ZW1zIG9uIHRoZSBzdmcgZWxlbWVudFxyXG4gICAgICogQHBhcmFtcyBpdGVtcywgc3ZnXHJcbiAgICAgKiBAcmV0dXJucyB7e319XHJcbiAgICAgKi9cclxuICAgIGhpZ2hsaWdodEl0ZW0oaXRlbXMsIHRhZywgaGlnaGxpZ2h0SW5kZXgsIGhpZ2hsaWdodFVyaSkge1xyXG4gICAgICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcbiAgICAgICAgLy9UT0RPIHJlbW92ZSBpZiBzdGF0ZW1lbnRzXHJcbiAgICAgICAgaWYgKGhpZ2hsaWdodEluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJykge1xyXG4gICAgICAgICAgICAgICAgLy9zZXQgYWxsIGNpcmNsZXMgc3Ryb2tlIHdpZHRoIHRvIDBcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5waWUtY29udGFpbmVyJykuc2VsZWN0QWxsKHRhZylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMucGllQm9yZGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBwaWUgc2xpY2VzXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcucGllLWNvbnRhaW5lcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCh0YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcignLmhpZ2hsaWdodC1jbGFzcy0nICsgaGlnaGxpZ2h0SW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlckNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2NhdHRlcnBsb3QnKSB7XHJcbiAgICAgICAgICAgICAgICAvL3NldCBhbGwgY2lyY2xlcyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnNjYXR0ZXItY29udGFpbmVyJykuc2VsZWN0QWxsKHRhZylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMCk7XHJcbiAgICAgICAgICAgICAgICAvL2hpZ2hsaWdodCBuZWNlc3Nhcnkgc2NhdHRlciBkb3RzXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuc2NhdHRlci1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKS5maWx0ZXIoJy5zY2F0dGVyLWNpcmNsZS0nICsgaGlnaGxpZ2h0SW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlckNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGhpZ2hsaWdodFVyaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInKSB7XHJcbiAgICAgICAgICAgICAgICAvL3NldCBhbGwgYmFycyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLmJhci1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBiYXJzXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgnLmhpZ2hsaWdodC1jbGFzcy0nICsgaGlnaGxpZ2h0VXJpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyV2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsbCBjaXJjbGVzIHN0cm9rZSB3aWR0aCB0byAwXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcubGluZS1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBjaXJsY2VzXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcubGluZS1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKS5maWx0ZXIoJy5oaWdobGlnaHQtY2xhc3MtJyArIGhpZ2hsaWdodFVyaSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCduZWVkIHRvIHBhc3MgaGlnaGxpZ2h0IGluZGV4IHRvIGhpZ2hsaWdodCBpdGVtJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKkBkZXNjIFJlbW92ZXMgaGlnaGxpZ2h0cyB0aGF0IHdlcmUgYXBwbGllZCB3aXRoIHJlbGF0ZWQgaW5zaWdodHNcclxuICAgICpcclxuICAgICovXHJcbiAgICByZW1vdmVIaWdobGlnaHQoKSB7XHJcbiAgICAgICAgbGV0IGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnO1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3BpZScpIHtcclxuICAgICAgICAgICAgLy9zZXQgYWxsIGNpcmNsZXMgc3Ryb2tlIHdpZHRoIHRvIDBcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnBpZS1jb250YWluZXInKS5zZWxlY3RBbGwoJ3BhdGgnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLnBpZUJvcmRlcilcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2NhdHRlcnBsb3QnKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5zY2F0dGVyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJykge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0KCcubGluZS1jb250YWluZXInKS5zZWxlY3RBbGwoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBqdkZvcm1hdFZhbHVlKHZhbCwgZm9ybWF0VHlwZSkge1xyXG4gICAgaWYgKCFpc05hTih2YWwpKSB7XHJcbiAgICAgICAgbGV0IGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLjBmJyk7XHJcblxyXG4gICAgICAgIGlmIChmb3JtYXRUeXBlID09PSAnYmlsbGlvbnMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWU5KSArICdCJztcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdFR5cGUgPT09ICdtaWxsaW9ucycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTYpICsgJ00nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ3Rob3VzYW5kcycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTMpICsgJ0snO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ2RlY2ltYWxzJykge1xyXG4gICAgICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJy4yZicpO1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXRUeXBlID09PSAnbm9kZWNpbWFscycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ3BlcmNlbnQnKSB7XHJcbiAgICAgICAgICAgIGxldCBwID0gTWF0aC5tYXgoMCwgZDMucHJlY2lzaW9uRml4ZWQoMC4wNSkgLSAyKSxcclxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJy4nICsgcCArICclJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBleHByZXNzaW9uKHZhbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXRUeXBlID09PSAnJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHZhbCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChNYXRoLmFicyh2YWwpID49IDEwMDAwMDAwMDApIHtcclxuICAgICAgICAgICAgLy9CaWxsaW9uc1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlOSkgKyAnQic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyh2YWwpID49IDEwMDAwMDApIHtcclxuICAgICAgICAgICAgLy9NaWxsaW9uc1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlNikgKyAnTSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyh2YWwpID49IDEwMDApIHtcclxuICAgICAgICAgICAgLy9UaG91c2FuZHNcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTMpICsgJ0snO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnModmFsKSA8PSAxMCkge1xyXG4gICAgICAgICAgICAvLzIgZGVjaW1hbHNcclxuICAgICAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KCcuMmYnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB0aGUgc2V0IG9mIHZhbHVlcyB0aGF0IHlvdSB3YW50IHRvIGZvcm1hdCB1bmlmb3JtbHlcclxuICogQHJldHVybiAnJyB0aGUgbGV2ZWwgb2YgZm9ybWF0dGluZyBmb3IgdGhlIGdyb3VwIG9mIGRhdGFcclxuICogUHJvYmxlbSB3aXRoIGp2Rm9ybWF0VmFsdWUgZnVuY3Rpb24gaXMgdGhhdCBpZiB5b3UgcGFzcyBpbiB2YWx1ZXMgMTAsIDIwLi4uIDkwLCAxMDAsIDExMjAsIDEyMFxyXG4gKiB5b3Ugd2lsbCBnZXQgdGhlIGZvcm1hdHMgMTAuMDAsIDIwLjAwIC4uLi4gMTAwLCAxMTAsIDEyMCB3aGVuIHlvdSB3YW50IDEwLCAyMCwgLi4uIDEwMCwgMTEwXHJcbiAqIC0tRm9ybWF0IHRoZSB2YWx1ZSBiYXNlZCBvZmYgb2YgdGhlIGhpZ2hlc3QgbnVtYmVyIGluIHRoZSBncm91cFxyXG4gKi9cclxuZnVuY3Rpb24ganZGb3JtYXRWYWx1ZVR5cGUodmFsdWVBcnJheSwgZGF0YVR5cGUpIHtcclxuICAgIGlmICh2YWx1ZUFycmF5ICE9IG51bGwgJiYgZGF0YVR5cGUgIT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgbGV0IG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlQXJyYXkpLFxyXG4gICAgICAgICAgICAvL0FmdGVyIGdldHRpbmcgdGhlIG1heCwgY2hlY2sgdGhlIG1pblxyXG4gICAgICAgICAgICBtaW4gPSBNYXRoLm1pbi5hcHBseShudWxsLCB2YWx1ZUFycmF5KSxcclxuICAgICAgICAgICAgcmFuZ2UgPSBtYXggLSBtaW4sXHJcbiAgICAgICAgICAgIGluY3JlbWVtbnQgPSBNYXRoLmFicyhNYXRoLnJvdW5kKHJhbmdlIC8gMTApKTsvLzEwIGJlaW5nIHRoZSBudW1iZXIgb2YgYXhpcyBsYWJlbHMgdG8gc2hvd1xyXG5cclxuICAgICAgICBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTAwMDAwMDAwMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2JpbGxpb25zJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpID49IDEwMDAwMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdtaWxsaW9ucyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbmNyZW1lbW50KSA+PSAxMDAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndGhvdXNhbmRzJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpIDw9IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZGVjaW1hbHMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdub2RlY2ltYWxzJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcbi8qKmdldEZvcm1hdEV4cHJlc3Npb25cclxuICpcclxuICogQGRlc2MgcmV0dXJucyB0aGUgZDMgZm9ybWF0IGV4cHJlc3Npb24gZm9yIGEgZ2l2ZW4gb3B0aW9uXHJcbiAqIEBwYXJhbXMgb3B0aW9uXHJcbiAqIEByZXR1cm5zIHN0cmluZyBleHByZXNzaW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGb3JtYXRFeHByZXNzaW9uKG9wdGlvbikge1xyXG4gICAgbGV0IGV4cHJlc3Npb24gPSAnJyxcclxuICAgICAgICBwO1xyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2N1cnJlbmN5Jykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJyQsJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnZml4ZWRDdXJyZW5jeScpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcoJC4yZicpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ3BlcmNlbnQnKSB7XHJcbiAgICAgICAgcCA9IE1hdGgubWF4KDAsIGQzLnByZWNpc2lvbkZpeGVkKDAuMDUpIC0gMik7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLicgKyBwICsgJyUnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdtaWxsaW9ucycpIHtcclxuICAgICAgICBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXRQcmVmaXgoJy4nICsgcCwgMS4zZTYpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2NvbW1hcycpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcsLjBmJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnbm9uZScgfHwgb3B0aW9uID09PSAnJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJycpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2Rpc3BsYXlWYWx1ZXMnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLC4yZicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBleHByZXNzaW9uO1xyXG59XHJcblxyXG4vKipnZXRUb2dnbGVkRGF0YVxyXG4gKlxyXG4gKiBHZXRzIHRoZSBoZWFkZXJzIG9mIHRoZSBkYXRhIHRvIGJlIGRyYXduIGFuZCBmaWx0ZXJzIHRoZSBkYXRhIGJhc2VkIG9uIHRoYXRcclxuICogQHBhcmFtcyBjaGFydERhdGEsIGRhdGFIZWFkZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUb2dnbGVkRGF0YShkYXRhLCBkYXRhSGVhZGVycykge1xyXG4gICAgbGV0IGxlZ2VuZFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBkYXRhLmxlZ2VuZERhdGEpLFxyXG4gICAgICAgIG5ld0RhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEuY2hhcnREYXRhKSk7XHJcbiAgICBpZiAobGVnZW5kVG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHRvZ2dsZUtleSBvZiBsZWdlbmRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvZ2dsZUtleS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG5ld0RhdGFbaV1bdG9nZ2xlS2V5LmVsZW1lbnRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld0RhdGE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlcclxuICogQGRlc2MgR2V0cyBhbiBhcnJheSBvZiBsZWdlbmQgZWxlbWVudHMgd2l0aCB0cnVlL2ZhbHNlIHRhZ3MgZm9yIGlmIHRvZ2dsZWRcclxuICogQHBhcmFtIHthbnl9IHNlbGVjdGVkSGVhZGVycyAtIGhlYWRlcnMgc2VsZWN0ZWQgYnkgdXNlclxyXG4gKiBAcGFyYW0ge2FueX0gYWxsSGVhZGVycyAtIGFsbCBhdmFpbGFibGUgaGVhZGVycyBpbiB0aGUgdmlzdWFsXHJcbiAqIEByZXR1cm5zIHthcnJheX0gLSBhcnJheSBvZiBsZWdlbmQgZWxlbWVudHNcclxuICovXHJcbmZ1bmN0aW9uIGdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheShzZWxlY3RlZEhlYWRlcnMsIGFsbEhlYWRlcnMpIHtcclxuICAgIGxldCBsZWdlbmRUb2dnbGVBcnJheSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaGVhZGVyIG9mIGFsbEhlYWRlcnMpIHtcclxuICAgICAgICBsZWdlbmRUb2dnbGVBcnJheS5wdXNoKHsgZWxlbWVudDogaGVhZGVyIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAobGV0IHRvZ2dsZUtleSBvZiBsZWdlbmRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAobGV0IGhlYWRlciBvZiBzZWxlY3RlZEhlYWRlcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRvZ2dsZUtleS5lbGVtZW50ID09PSBoZWFkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRvZ2dsZUtleS50b2dnbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRvZ2dsZUtleS50b2dnbGUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgdG9nZ2xlS2V5LnRvZ2dsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRUb2dnbGVBcnJheTtcclxufVxyXG5cclxuLyoqXHJcbiAqIGdlbmVyYXRlTGVnZW5kRWxlbWVudHNcclxuICpcclxuICogQHBhcmFtIHthbnl9IGNoYXJ0IC0gY2hhcnQgb2JqZWN0XHJcbiAqIEBwYXJhbSB7YW55fSBsZWdlbmREYXRhIC1sZWdlbmQgZGF0YSBmb3IgdmlzdWFsXHJcbiAqIEBwYXJhbSB7YW55fSBkcmF3RnVuYyAtIHJlZHJhdyBmdW5jdGlvbiBmb3IgdmlzdWFsXHJcbiAqIEByZXR1cm5zIHtvYmplY3R9IC0gbGVnZW5kIHJlY3RhbmdsZXNcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICBsZXQgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbGVnZW5kLFxyXG4gICAgICAgIGxlZ2VuZFJvdyA9IDAsXHJcbiAgICAgICAgbGVnZW5kQ29sdW1uID0gMCxcclxuICAgICAgICBsZWdlbmREYXRhTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5LFxyXG4gICAgICAgIGxlZ2VuZFJlY3RhbmdsZXMsXHJcbiAgICAgICAgbGVnZW5kVGV4dDtcclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4KSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXgpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA9IE1hdGguZmxvb3IobGVnZW5kRGF0YUxlbmd0aCAvIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAtIDAuMDEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaWYgbGVnZW5kIGhlYWRlcnMgZG9uJ3QgZXhpc3QsIHNldCB0aGVtIGVxdWFsIHRvIGxlZ2VuZCBkYXRhXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgJiYgIWNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsZWdlbmREYXRhKSk7XHJcbiAgICB9IGVsc2UgaWYgKCFjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycyAmJiBjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxlZ2VuZERhdGEpKTtcclxuICAgIH1cclxuICAgIC8vU2V0IGxlZ2VuZCBlbGVtZW50IHRvZ2dsZSBhcnJheSBiYXNlZCBvbiBpZiBzZXJpZXMgaXMgZmxpcHBlZFxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGxlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKTtcclxuXHJcbiAgICAvL0FkZGluZyBjb2xvcmVkIHJlY3RhbmdsZXMgdG8gdGhlIGxlZ2VuZFxyXG4gICAgbGVnZW5kUmVjdGFuZ2xlcyA9IGxlZ2VuZC5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kUmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAoZCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgbGVnZW5kUG9zO1xyXG4gICAgICAgICAgICBpZiAoaSAlIChjaGFydC5fdmFycy5sZWdlbmRNYXggLyAzKSA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQ29sdW1uID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZWdlbmRQb3MgPSAyMDAgKiBsZWdlbmRDb2x1bW47XHJcbiAgICAgICAgICAgIGxlZ2VuZENvbHVtbisrO1xyXG4gICAgICAgICAgICByZXR1cm4gbGVnZW5kUG9zO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaSAlIChjaGFydC5fdmFycy5sZWdlbmRNYXggLyAzKSA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgJSBjaGFydC5fdmFycy5sZWdlbmRNYXggPT09IDAgJiYgaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZFJvdyA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChjb250YWluZXIuaGVpZ2h0ICsgMTApICsgKDE1ICogKGxlZ2VuZFJvdyArIDEpKSAtIDU7IC8vSW5jcmVtZW50IHJvdyB3aGVuIGNvbHVtbiBsaW1pdCBpcyByZWFjaGVkXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAoZCwgaSkgPT4gZ2V0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBpLCBsZWdlbmREYXRhW2ldKSlcclxuICAgICAgICAuYXR0cignZGlzcGxheScsIChkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpID49IChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgJiYgaSA8PSAoKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSArIChjaGFydC5fdmFycy5sZWdlbmRNYXggLSAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAoZCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcxJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcxJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJzAuMic7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbGVnZW5kUm93ID0gMDtcclxuICAgIGxlZ2VuZENvbHVtbiA9IDA7XHJcblxyXG4gICAgLy9BZGRpbmcgdGV4dCBsYWJlbHMgZm9yIGVhY2ggcmVjdGFuZ2xlIGluIGxlZ2VuZFxyXG4gICAgbGVnZW5kVGV4dCA9IGxlZ2VuZC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAoZCwgaSkgPT4gJ2xlZ2VuZFRleHQgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50IGVkaXRhYmxlLWxlZ2VuZC0nICsgaSlcclxuICAgICAgICAuYXR0cigneCcsIChkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRDb2x1bW4gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBsZWdlbmRQb3MgPSAyMDAgKiBsZWdlbmRDb2x1bW47XHJcbiAgICAgICAgICAgIGxlZ2VuZENvbHVtbisrO1xyXG4gICAgICAgICAgICByZXR1cm4gbGVnZW5kUG9zICsgMTc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIChkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRSb3crKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5lci5oZWlnaHQgKyAxMCkgKyAoMTUgKiAobGVnZW5kUm93ICsgMSkpOyAvL0luY3JlbWVudCByb3cgd2hlbiBjb2x1bW4gbGltaXQgaXMgcmVhY2hlZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuYXR0cignZHknLCAnMC4zNWVtJykgLy9WZXJ0aWNhbGx5IGFsaWduIHdpdGggbm9kZVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuZm9udENvbG9yKVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAuYXR0cignZGlzcGxheScsIChkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChpID49IChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgJiYgaSA8PSAoKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSArIChjaGFydC5fdmFycy5sZWdlbmRNYXggLSAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoKGQsIGkpID0+IHtcclxuICAgICAgICAgICAgbGV0IGVsZW1lbnROYW1lID0gbGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50TmFtZSA9IGxlZ2VuZERhdGFbaV0uc2xpY2UoMCwgLTUpOy8vUmVtb3ZpbmcgbGFzdCA1IGNoYXJhY3RlcnMgb2YgbGVnZW5kIGxhYmVsLS0taS5lIHBsYW5uZWRTVEFSVCAtPiBwbGFubmVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnROYW1lLmxlbmd0aCA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWUuc3Vic3RyaW5nKDAsIDE5KSArICcuLi4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50TmFtZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0FkZGluZyBpbmZvIGJveCB0byBsZWdlbmQgZWxlbWVudHMgd2hlbiBob3ZlcmluZyBvdmVyXHJcbiAgICBsZWdlbmRUZXh0XHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKVxyXG4gICAgICAgIC50ZXh0KGQgPT4gZClcclxuXHJcblxyXG4gICAgLy9Pbmx5IGNyZWF0ZSBjYXJvdXNlbCBpZiB0aGUgbnVtYmVyIG9mIGVsZW1lbnRzIGV4Y2VlZHMgb25lIGxlZ2VuZCBcInBhZ2VcIlxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID4gMCkge1xyXG4gICAgICAgIGNyZWF0ZUNhcm91c2VsKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICB9XHJcbiAgICAvL0NlbnRlcnMgdGhlIGxlZ2VuZCBpbiB0aGUgcGFuZWxcclxuICAgIGlmIChsZWdlbmQpIHtcclxuICAgICAgICBsZXQgbGVnZW5kV2lkdGggPSBsZWdlbmQubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICBsZWdlbmQuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKChjb250YWluZXIud2lkdGggLSBsZWdlbmRXaWR0aCkgLyAyKSArICcsIDMwKScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZWdlbmRSZWN0YW5nbGVzO1xyXG59XHJcblxyXG4vKip1cGRhdGVEYXRhRnJvbUxlZ2VuZFxyXG4gKlxyXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBkYXRhIGhlYWRlcnMgdGhhdCBzaG91bGQgYmUgZGlzcGxheWVkIGluIHZpelxyXG4gKiBiYXNlZCBvZmYgd2hhdCBpcyB0b2dnbGVkIG9uL29mZiBpbiBsZWdlbmRcclxuICogQHBhcmFtcyBsZWdlbmREYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVEYXRhRnJvbUxlZ2VuZChsZWdlbmREYXRhKSB7XHJcbiAgICBsZXQgZGF0YSA9IFtdLFxyXG4gICAgICAgIGxlZ2VuZEVsZW1lbnQgPSBsZWdlbmREYXRhWzBdO1xyXG4gICAgZm9yIChsZXQgZWxlIG9mIGxlZ2VuZEVsZW1lbnQpIHtcclxuICAgICAgICBpZiAoZWxlLmF0dHJpYnV0ZXMub3BhY2l0eS52YWx1ZSAhPT0gJzAuMicpIHtcclxuICAgICAgICAgICAgLy9JZiBub3Qgd2hpdGUsIGFkZCBpdCB0byB0aGUgdXBkYXRlZCBkYXRhIGFycmF5XHJcbiAgICAgICAgICAgIGRhdGEucHVzaChlbGUuX19kYXRhX18pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG4vKipjcmVhdGVDYXJvdXNlbFxyXG4gKlxyXG4gKiBEcmF3cyB0aGUgaG9yaXpvbnRhbCBsZWdlbmQgY2Fyb3VzZWxcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcm91c2VsKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYykge1xyXG4gICAgbGV0IHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGxlZ2VuZFBvbHlnb247XHJcblxyXG4gICAgLy9BZGRpbmcgY2Fyb3VzZWwgdG8gbGVnZW5kXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kLWNhcm91c2VsJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCcjbGVnZW5kLXRleHQtaW5kZXgnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBsZWdlbmRQb2x5Z29uID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZC1jYXJvdXNlbCcpO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBsZWZ0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZnRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Ll92YXJzLmxlZ2VuZEFycm93Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwwKScpXHJcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsICcwLDcuNSwgMTUsMCwgMTUsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbGV0IGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9DcmVhdGVzIHBhZ2UgbnVtYmVyIGZvciBjYXJvdXNlbCBuYXZpZ2F0aW9uXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZ2VuZC10ZXh0LWluZGV4JylcclxuICAgICAgICAuYXR0cigneCcsIDM1KVxyXG4gICAgICAgIC5hdHRyKCd5JywgMTIuNSlcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC50ZXh0KCgpID0+IChjaGFydC5fdmFycy5sZWdlbmRJbmRleCArIDEpICsgJyAvICcgKyAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggKyAxKSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcmlnaHQgbmF2aWdhdGlvbiBhcnJvdyBmb3IgY2Fyb3VzZWxcclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCdwb2x5Z29uJylcclxuICAgICAgICAuYXR0cignaWQnLCAncmlnaHRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Ll92YXJzLmxlZ2VuZEFycm93Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoODUsMCknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMTUsNy41LCAwLDAsIDAsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA8IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbGV0IGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPT09IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ2VudGVycyB0aGUgbGVnZW5kIHBvbHlnb25zIGluIHRoZSBwYW5lbFxyXG4gICAgaWYgKGxlZ2VuZFBvbHlnb24pIHtcclxuICAgICAgICBsZXQgbGVnZW5kUG9seWdvbldpZHRoID0gbGVnZW5kUG9seWdvbi5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgIGxlZ2VuZFBvbHlnb24uYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKChjb250YWluZXIud2lkdGggLSBsZWdlbmRQb2x5Z29uV2lkdGgpIC8gMikgKyAnLCcgKyAoY29udGFpbmVyLmhlaWdodCArIDEwNSkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqZ2V0UGxvdERhdGFcclxuICpcclxuICogUmV0dXJucyBvbmx5IGRhdGEgdmFsdWVzIHRvIGJlIHBsb3R0ZWQ7IGlucHV0IGlzIHRoZSBkYXRhIG9iamVjdFxyXG4gKiBAcGFyYW1zIG9iamVjdERhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQbG90RGF0YShvYmplY3REYXRhLCBjaGFydCkge1xyXG4gICAgbGV0IGRhdGEgPSBbXSxcclxuICAgICAgICBvYmpEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3REYXRhKSk7Ly9Db3B5IG9mIGJhckRhdGFcclxuICAgIGZvciAobGV0IG9iakVsZSBvZiBvYmpEYXRhTmV3KSB7XHJcbiAgICAgICAgbGV0IGdyb3VwID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgbGVnZW5kRWxlIG9mIGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpFbGVbbGVnZW5kRWxlXSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGdyb3VwLnB1c2gob2JqRWxlW2xlZ2VuZEVsZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEucHVzaChncm91cCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqZ2V0UG9zQ2FsY3VsYXRpb25zXHJcbiAqSG9sZHMgdGhlIGxvZ2ljIGZvciBwb3NpdGlvbmluZyBhbGwgYmFycyBvbiBhIGJhciBjaGFydCAoZGVwZW5kcyBvbiB0b29sRGF0YSlcclxuICpcclxuICogQHBhcmFtcyBzdmcsIGNoYXJ0RGF0YSwgb3B0aW9ucywgeEF4aXNEYXRhLCB5QXhpc0RhdGEsIGNvbnRhaW5lclxyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQb3NDYWxjdWxhdGlvbnMoY2hhcnREYXRhLCBfdmFycywgeEF4aXNEYXRhLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQpIHtcclxuICAgIGxldCB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIF92YXJzKSxcclxuICAgICAgICB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIF92YXJzKSxcclxuICAgICAgICBzY2FsZUZhY3RvciA9IDEsXHJcbiAgICAgICAgZGF0YSA9IFtdLFxyXG4gICAgICAgIHNpemUgPSAwLFxyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zID0ge307XHJcblxyXG4gICAgZm9yIChsZXQgaXRlbSBpbiBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoaXRlbSAhPT0gJ2xhYmVsJyAmJiBpdGVtLmluZGV4T2YoJ3Rvb2x0aXAnKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgc2l6ZSsrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKGxldCBjaGFydEVsZSBvZiBjaGFydERhdGEpIHtcclxuICAgICAgICBsZXQgdmFsID0gW107XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGNoYXJ0RWxlKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydEVsZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwucHVzaChjaGFydEVsZVtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhLnB1c2godmFsLnNsaWNlKDEsIGNoYXJ0RWxlLmxlbmd0aCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChfdmFycy5yb3RhdGVBeGlzID09PSB0cnVlICYmIF92YXJzLnN0YWNrVG9nZ2xlID09PSB0cnVlKSB7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR4ID0gKCkgPT4gMDtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSAoKSA9PiAwO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0d2lkdGggPSAoKSA9PiAwO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0aGVpZ2h0ID0gKCkgPT4geS5iYW5kd2lkdGgoKSAqIDAuOTU7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueCA9IChkLCBpLCBqKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbmNyZW1lbnQgPSAwOy8vTW92ZSB0aGUgeCB1cCBieSB0aGUgdmFsdWVzIHRoYXQgY29tZSBiZWZvcmUgaXRcclxuICAgICAgICAgICAgZm9yIChsZXQgayA9IGkgLSAxOyBrID49IDA7IGstLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihqW2tdLl9fZGF0YV9fKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCArPSBqW2tdLl9fZGF0YV9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB4KGluY3JlbWVudCkgPT09IDAgPyAxIDogeChpbmNyZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueSA9ICgpID0+IDA7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBkID0+IE1hdGguYWJzKHgoMCkgLSB4KGQpKTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5oZWlnaHQgPSAoKSA9PiB5LmJhbmR3aWR0aCgpICogMC45NTtcclxuICAgIH0gZWxzZSBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSAmJiBfdmFycy5zdGFja1RvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHggPSAoKSA9PiAwO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eSA9IChkLCBpKSA9PiB5LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIGk7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9ICgpID0+IDA7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnRoZWlnaHQgPSAoKSA9PiAoeS5iYW5kd2lkdGgoKSAvIHNpemUgKiAwLjk1KSAqIHNjYWxlRmFjdG9yO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnggPSBkID0+IHgoMCkgLSB4KGQpID4gMCA/IHgoZCkgOiB4KDApO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSAoZCwgaSkgPT4geS5iYW5kd2lkdGgoKSAvIHNpemUgKiBpO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLndpZHRoID0gZCA9PiBNYXRoLmFicyh4KDApIC0geChkKSk7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gKCkgPT4gKHkuYmFuZHdpZHRoKCkgLyBzaXplICogMC45NSkgKiBzY2FsZUZhY3RvcjtcclxuICAgIH0gZWxzZSBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gZmFsc2UgJiYgX3ZhcnMuc3RhY2tUb2dnbGUgPT09IHRydWUpIHtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHggPSAoKSA9PiAwO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eSA9ICgpID0+IGNvbnRhaW5lci5oZWlnaHQ7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9ICgpID0+ICh4LmJhbmR3aWR0aCgpICogMC45NSkgKiBzY2FsZUZhY3RvcjtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydGhlaWdodCA9ICgpID0+IDA7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueCA9ICgpID0+IDA7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueSA9IChkLCBpLCBqKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpbmNyZW1lbnQgPSAwOy8vTW92ZSB0aGUgeSB1cCBieSB0aGUgdmFsdWVzIHRoYXQgY29tZSBiZWZvcmUgaXRcclxuICAgICAgICAgICAgZm9yIChsZXQgayA9IGkgLSAxOyBrID49IDA7IGstLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihqW2tdLl9fZGF0YV9fKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCArPSBqW2tdLl9fZGF0YV9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB5KHBhcnNlRmxvYXQoZCkgKyBpbmNyZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSAoKSA9PiAoeC5iYW5kd2lkdGgoKSAqIDAuOTUpICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gZCA9PiBjb250YWluZXIuaGVpZ2h0IC0geShkKTtcclxuICAgIH0gZWxzZSBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gZmFsc2UgJiYgX3ZhcnMuc3RhY2tUb2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR4ID0gKGQsIGkpID0+IHguYmFuZHdpZHRoKCkgLyBzaXplICogaTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSAoKSA9PiBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0d2lkdGggPSAoKSA9PiB4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIDAuOTU7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnRoZWlnaHQgPSAoKSA9PiAwO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnggPSAoZCwgaSkgPT4geC5iYW5kd2lkdGgoKSAvIHNpemUgKiBpO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSBkID0+IHkoMCkgLSB5KGQpID4gMCA/IHkoZCkgOiB5KDApO1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLndpZHRoID0gKCkgPT4geC5iYW5kd2lkdGgoKSAvIHNpemUgKiAwLjk1O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLmhlaWdodCA9IGQgPT4gTWF0aC5hYnMoeSgwKSAtIHkoZCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc2l0aW9uRnVuY3Rpb25zO1xyXG59XHJcblxyXG4vKipnZXRDb2xvcnNcclxuICpcclxuICogZ2V0cyB0aGUgY29sb3JzIHRvIGFwcGx5IHRvIHRoZSBzcGVjaWZpYyBjaGFydFxyXG4gKiBAcGFyYW1zIGNvbG9yT2JqLCBpbmRleCwgbGFiZWxcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q29sb3JzKGNvbG9yT2JqLCBwYXJhbUluZGV4LCBsYWJlbCkge1xyXG4gICAgbGV0IGluZGV4ID0gcGFyYW1JbmRleCxcclxuICAgICAgICBjbGVhbmVkQ29sb3JzO1xyXG5cclxuICAgIC8vbG9naWMgdG8gcmV0dXJuIHRoZSBjb2xvciBpZiB0aGUgY29sb3JPYmogcGFzc2VkIGluXHJcbiAgICAvL2lzIGFuIG9iamVjdCB3aXRoIHRoZSBsYWJlbCBiZWluZyB0aGUga2V5XHJcbiAgICBpZiAodHlwZW9mIGxhYmVsICE9PSAndW5kZWZpbmVkJyAmJiBjb2xvck9iai5oYXNPd25Qcm9wZXJ0eShsYWJlbCkgJiYgY29sb3JPYmpbbGFiZWxdKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbG9yT2JqW2xhYmVsXTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3JPYmopKSB7XHJcbiAgICAgICAgY2xlYW5lZENvbG9ycyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGsgaW4gY29sb3JPYmopIHtcclxuICAgICAgICAgICAgaWYgKGNvbG9yT2JqLmhhc093blByb3BlcnR5KGspKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JPYmpba10pIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbmVkQ29sb3JzLnB1c2goY29sb3JPYmpba10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjbGVhbmVkQ29sb3JzID0gY29sb3JPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLy9sb2dpYyB0byByZXR1cm4gYSByZXBlYXRpbmcgc2V0IG9mIGNvbG9ycyBhc3N1bWluZyB0aGF0XHJcbiAgICAvL3RoZSB1c2VyIGNoYW5nZWQgZGF0YSAoZXg6IGZsaXAgc2VyaWVzIG9uIGJhciBjaGFydClcclxuICAgIGlmICghY2xlYW5lZENvbG9yc1tpbmRleF0pIHtcclxuICAgICAgICB3aGlsZSAoaW5kZXggPiBjbGVhbmVkQ29sb3JzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgaW5kZXggPSBpbmRleCAtIGNsZWFuZWRDb2xvcnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjbGVhbmVkQ29sb3JzW2luZGV4XTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldEF4aXNTY2FsZSh3aGljaEF4aXMsIGF4aXNEYXRhLCBjb250YWluZXIsIF92YXJzLCBwYWRkaW5nVHlwZSkge1xyXG4gICAgbGV0IGxlZnRQYWRkaW5nID0gMC40LFxyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDAuMixcclxuICAgICAgICBheGlzU2NhbGUsXHJcbiAgICAgICAgYXhpcyxcclxuICAgICAgICBtaW5EYXRlLFxyXG4gICAgICAgIG1heERhdGU7XHJcblxyXG4gICAgaWYgKHBhZGRpbmdUeXBlID09PSAnbm8tcGFkZGluZycpIHtcclxuICAgICAgICBsZWZ0UGFkZGluZyA9IDA7XHJcbiAgICAgICAgcmlnaHRQYWRkaW5nID0gMDtcclxuICAgIH1cclxuXHJcbiAgICB3aGljaEF4aXMgPT09ICd4JyA/IGF4aXMgPSBjb250YWluZXIud2lkdGggOiBheGlzID0gY29udGFpbmVyLmhlaWdodDtcclxuXHJcbiAgICBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgIGZvciAobGV0IGF4aXNWYWx1ZSBvZiBheGlzRGF0YS52YWx1ZXMpIHtcclxuICAgICAgICAgICAgYXhpc1ZhbHVlID0gbmV3IERhdGUoYXhpc1ZhbHVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1heERhdGUgPSBNYXRoLm1heC5hcHBseShudWxsLCBheGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgICAgIG1pbkRhdGUgPSBNYXRoLm1pbi5hcHBseShudWxsLCBheGlzRGF0YS52YWx1ZXMpO1xyXG5cclxuICAgICAgICBheGlzU2NhbGUgPSBkMy5zY2FsZVRpbWUoKS5kb21haW4oW25ldyBEYXRlKG1pbkRhdGUpLCBuZXcgRGF0ZShtYXhEYXRlKV0pLnJhbmdlUm91bmQoWzAsIGF4aXNdKTtcclxuICAgIH0gZWxzZSBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgYXhpc1NjYWxlID0gZDMuc2NhbGVCYW5kKClcclxuICAgICAgICAgICAgLmRvbWFpbihheGlzRGF0YS52YWx1ZXMpXHJcbiAgICAgICAgICAgIC5yYW5nZShbMCwgYXhpc10pXHJcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIobGVmdFBhZGRpbmcpXHJcbiAgICAgICAgICAgIC5wYWRkaW5nT3V0ZXIocmlnaHRQYWRkaW5nKTtcclxuICAgIH0gZWxzZSBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgbGV0IGRvbWFpbjtcclxuICAgICAgICBpZiAoX3ZhcnMueFJldmVyc2VkIHx8IF92YXJzLnlSZXZlcnNlZCkge1xyXG4gICAgICAgICAgICBpZiAoKF92YXJzLnhSZXZlcnNlZCAmJiB3aGljaEF4aXMgPT09ICd4JykgfHwgKHdoaWNoQXhpcyA9PT0gJ3knICYmICFfdmFycy55UmV2ZXJzZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBkb21haW4gPSBbYXhpc0RhdGEubWF4LCBheGlzRGF0YS5taW5dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoX3ZhcnMueVJldmVyc2VkICYmIHdoaWNoQXhpcyA9PT0gJ3knKSB8fCAod2hpY2hBeGlzID09PSAneCcgJiYgIV92YXJzLnhSZXZlcnNlZCkpIHtcclxuICAgICAgICAgICAgICAgIGRvbWFpbiA9IFtheGlzRGF0YS5taW4sIGF4aXNEYXRhLm1heF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aGljaEF4aXMgPT09ICd4JyA/IGRvbWFpbiA9IFtheGlzRGF0YS5taW4sIGF4aXNEYXRhLm1heF0gOiBkb21haW4gPSBbYXhpc0RhdGEubWF4LCBheGlzRGF0YS5taW5dO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKF92YXJzLmhhc093blByb3BlcnR5KCdheGlzVHlwZScpICYmIF92YXJzLmF4aXNUeXBlID09PSAnTG9nYXJpdGhtaWMnKSB7XHJcbiAgICAgICAgICAgIGRvbWFpblsxXSA9IDAuMTtcclxuICAgICAgICAgICAgYXhpc1NjYWxlID0gZDMuc2NhbGVMb2coKS5iYXNlKDEwKS5kb21haW4oZG9tYWluKS5yYW5nZVJvdW5kKFswLCBheGlzXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXhpc1NjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oZG9tYWluKS5yYW5nZVJvdW5kKFswLCBheGlzXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBeGlzIGlzIG5vdCBhIHZhbGlkIGRhdGEgdHlwZScpO1xyXG4gICAgICAgIC8vdGhyb3cgbmV3IEVycm9yKCdBeGlzIGlzIG5vdCBhIHZhbGlkIGRhdGEgdHlwZScpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGF4aXNTY2FsZTtcclxufVxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBEYXRhIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCAtIFRoZSBmaWVsZCB0aGF0IGlzIGNoZWNrZWQgZm9yIHR5cGVcclxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFUYWJsZUtleXMgLSBPYmplY3QgdGhhdCBjb250YWlucyB0aGUgZGF0YSB0eXBlIGZvciBlYWNoIGNvbHVtbiBvZiBkYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXREYXRhVHlwZUZyb21LZXlzKGxhYmVsLCBkYXRhVGFibGVLZXlzLCBkZWZhdWx0VHlwZSA9ICdTVFJJTkcnKSB7XHJcbiAgICBsZXQgdHlwZSA9IGRlZmF1bHRUeXBlO1xyXG5cclxuICAgIGZvciAobGV0IGtleSBvZiBkYXRhVGFibGVLZXlzKSB7XHJcbiAgICAgICAgLy9SZXBsYWNlIHVuZGVyc2NvcmVzIHdpdGggc3BhY2VzXHJcbiAgICAgICAgaWYgKGtleS52YXJLZXkucmVwbGFjZSgvXy9nLCAnICcpID09PSBsYWJlbC5yZXBsYWNlKC9fL2csICcgJykpIHtcclxuICAgICAgICAgICAgaWYgKGtleS5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0ga2V5LnR5cGU7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ1NUUklORyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnREFURSc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdOVU1CRVInO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ05VTUJFUic7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0eXBlO1xyXG59XHJcblxyXG4vKipzZXRCYXJMaW5lTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRCYXJMaW5lTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICBsZXQgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAobGV0IGl0ZW0gaW4gZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gIT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGVbaXRlbV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKipzZXRDaGFydENvbG9yc1xyXG4gKiAgY2xlYW5zIGluY29taW5nIGNvbG9ycyBmb3IgY29uc2lzdGVuY3lcclxuICpcclxuICogQHBhcmFtcyBjb2xvckFycmF5LCBsZWdlbmREYXRhXHJcbiAqIEByZXR1cm5zIG9iamVjdCB3aXRoIGNvbG9yc1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHNldENoYXJ0Q29sb3JzKHRvb2xEYXRhLCBsZWdlbmREYXRhLCBkZWZhdWx0Q29sb3JBcnJheSkge1xyXG4gICAgLy9mdW5jdGlvbiBoYW5kbGVzIDMgY29sb3IgaW5wdXRzXHJcbiAgICAvL3Rvb2xEYXRhIGFzIGFuIGFycmF5IGluIHRvb2xEYXRhXHJcbiAgICAvL3Rvb2xEYXRhIGFzIGFuIG9iamVjdFxyXG4gICAgLy90b29sRGF0YSBhcyAnbm9uZSdcclxuICAgIC8vYW55IG90aGVyIGNhc2Ugd2lsbCByZXN1bHQgaW4gdXNpbmcgZGVmYXVsdENvbG9yQXJyYXlcclxuXHJcbiAgICBsZXQgY29sb3JzID0ge30sXHJcbiAgICAgICAgdXNlZENvbG9ycyA9IFtdLFxyXG4gICAgICAgIHVuYWNjb3VudGVkTGVnZW5kRWxlbWVudHMgPSBbXSxcclxuICAgICAgICB0b29sRGF0YUFzQXJyYXk7XHJcblxyXG4gICAgLy90b29sRGF0YSBpcyBhcnJheVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodG9vbERhdGEpKSB7XHJcbiAgICAgICAgaWYgKHRvb2xEYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgdG9vbERhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHRvb2xEYXRhID09PSBPYmplY3QodG9vbERhdGEpKSB7XHJcbiAgICAgICAgZm9yIChsZXQgbGVnZW5kRWxlIG9mIGxlZ2VuZERhdGEpIHtcclxuICAgICAgICAgICAgaWYgKHRvb2xEYXRhLmhhc093blByb3BlcnR5KGxlZ2VuZEVsZSkpIHtcclxuICAgICAgICAgICAgICAgIHVzZWRDb2xvcnMucHVzaCh0b29sRGF0YVtsZWdlbmRFbGVdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVuYWNjb3VudGVkTGVnZW5kRWxlbWVudHMucHVzaChsZWdlbmRFbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2hlY2sgaWYgb2JqZWN0IGhhcyBkZXNpcmVkIGtleXNcclxuICAgICAgICBpZiAodXNlZENvbG9ycy5sZW5ndGggPT09IGxlZ2VuZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IHRvb2xEYXRhO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodXNlZENvbG9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHRvb2xEYXRhQXNBcnJheSA9IE9iamVjdC52YWx1ZXModG9vbERhdGEpO1xyXG4gICAgICAgICAgICBpZiAodG9vbERhdGFBc0FycmF5Lmxlbmd0aCA+IGxlZ2VuZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCB0b29sRGF0YUFzQXJyYXkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgZGVmYXVsdENvbG9yQXJyYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdG9vbERhdGFBc0FycmF5ID0gT2JqZWN0LnZhbHVlcyh0b29sRGF0YSk7XHJcbiAgICAgICAgICAgIGlmICh0b29sRGF0YUFzQXJyYXkubGVuZ3RoID4gbGVnZW5kRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIHRvb2xEYXRhQXNBcnJheSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCBkZWZhdWx0Q29sb3JBcnJheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29sb3JzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCBjb2xvcnMpIHtcclxuICAgIGxldCBtYXBwZWRDb2xvcnMgPSB7fSxcclxuICAgICAgICBjb3VudCA9IDA7XHJcbiAgICBmb3IgKGxldCBsZWdlbmRFbGUgb2YgbGVnZW5kRGF0YSkge1xyXG4gICAgICAgIGlmIChjb3VudCA+IGNvbG9ycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGNvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWFwcGVkQ29sb3JzW2xlZ2VuZEVsZV0gPSBjb2xvcnNbY291bnRdO1xyXG4gICAgICAgIGNvdW50Kys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwcGVkQ29sb3JzO1xyXG59XHJcblxyXG4vKipjbGVhblRvb2xEYXRhXHJcbiAqICBjbGVhbnMgaW5jb21pbmcgdG9vbERhdGEgZm9yIGNvbnNpc3RlbmN5XHJcbiAqXHJcbiAqIEBwYXJhbSB0b29sRGF0YVxyXG4gKiBAcmV0dXJucyBvYmplY3Qgd2l0aCB0b29sZGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gY2xlYW5Ub29sRGF0YShvcHRpb25zID0ge30sIGVkaXRPcHRpb25zID0ge30pIHtcclxuICAgIGxldCBkYXRhID0gb3B0aW9ucztcclxuXHJcbiAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoJ3JvdGF0ZUF4aXMnKSkge1xyXG4gICAgICAgIGRhdGEucm90YXRlQXhpcyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ3N0YWNrVG9nZ2xlJykpIHtcclxuICAgICAgICBpZiAoZGF0YS5zdGFja1RvZ2dsZSA9PT0gJ3N0YWNrLWRhdGEnIHx8IGRhdGEuc3RhY2tUb2dnbGUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgZGF0YS5zdGFja1RvZ2dsZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGF0YS5zdGFja1RvZ2dsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YS5zdGFja1RvZ2dsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ2NvbG9ycycpKSB7XHJcbiAgICAgICAgZGF0YS5jb2xvciA9IGRhdGEuY29sb3JzO1xyXG4gICAgfVxyXG4gICAgaWYgKCFkYXRhLmhhc093blByb3BlcnR5KCd0aHJlc2hvbGRzJykpIHtcclxuICAgICAgICBkYXRhLnRocmVzaG9sZHMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvL1RoZXNlIGFyZSB1c2VkIGluIHNldHRpbmcgZHluYW1pYyBtYXJnaW5zIG9uIHRoZSB5IEF4aXMgaW4ganZDaGFydHNcclxuICAgIGlmIChlZGl0T3B0aW9ucyAmJiBlZGl0T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgneUF4aXMnKSAmJiBlZGl0T3B0aW9ucy55QXhpcy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtdGV4dC1zaXplJykpIHtcclxuICAgICAgICBkYXRhLnlMYWJlbEZvbnRTaXplID0gZWRpdE9wdGlvbnMueUF4aXNbJ2VkaXRhYmxlLXRleHQtc2l6ZSddO1xyXG4gICAgICAgIGRhdGEueUxhYmVsRm9ybWF0ID0gZWRpdE9wdGlvbnMueUF4aXNbJ2VkaXRhYmxlLW51bS1mb3JtYXQnXTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKGF4aXMsIGF4aXNEYXRhLCBfdmFycywgZGltZW5zaW9ucywgbWFyZ2luLCBjaGFydERpdikge1xyXG4gICAgbGV0IG1heEF4aXNUZXh0ID0gJycsXHJcbiAgICAgICAgZm9ybWF0VHlwZSxcclxuICAgICAgICBkdW1teVNWRyxcclxuICAgICAgICBheGlzRHVtbXksXHJcbiAgICAgICAgd2lkdGg7XHJcbiAgICAvL0R5bmFtaWMgbGVmdCBtYXJnaW4gZm9yIGNoYXJ0cyB3aXRoIHkgYXhpc1xyXG4gICAgaWYgKF92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAvL2dldCBsZW5ndGggb2YgbG9uZ2VzdCB0ZXh0IGxhYmVsIGFuZCBtYWtlIHRoZSBheGlzIGJhc2VkIG9mZiB0aGF0XHJcbiAgICAgICAgbGV0IG1heFN0cmluZyA9ICcnLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLmhlaWdodCwgMTApIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XHJcblxyXG4gICAgICAgIC8vY2hlY2sgaWYgbGFiZWxzIHNob3VsZCBiZSBzaG93blxyXG4gICAgICAgIGlmIChoZWlnaHQgIT09IDAgJiYgaGVpZ2h0IC8gYXhpc0RhdGEudmFsdWVzLmxlbmd0aCA8IHBhcnNlSW50KF92YXJzLmZvbnRTaXplLCAxMCkpIHtcclxuICAgICAgICAgICAgYXhpc0RhdGEuaGlkZVZhbHVlcyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgYXhpc1ZhbHVlIG9mIGF4aXNEYXRhLnZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRTdHIgPSBheGlzVmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RyLmxlbmd0aCA+IG1heFN0cmluZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhTdHJpbmcgPSBjdXJyZW50U3RyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gbWF4U3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoISFfdmFycy55TGFiZWxGb3JtYXQgfHwgISFfdmFycy54TGFiZWxGb3JtYXQpIHtcclxuICAgICAgICBsZXQgbGFiZWxGb3JtYXQgPSBfdmFycy55TGFiZWxGb3JtYXQsXHJcbiAgICAgICAgICAgIGV4cHJlc3Npb247XHJcbiAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgICAgICBsYWJlbEZvcm1hdCA9IF92YXJzLnhMYWJlbEZvcm1hdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcm1hdFR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZShheGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBnZXRGb3JtYXRFeHByZXNzaW9uKGxhYmVsRm9ybWF0KTtcclxuXHJcbiAgICAgICAgaWYgKGV4cHJlc3Npb24gIT09ICcnKSB7XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gZXhwcmVzc2lvbihheGlzRGF0YS5tYXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0ganZGb3JtYXRWYWx1ZShheGlzRGF0YS5tYXgpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9ybWF0VHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKGF4aXNEYXRhLnZhbHVlcyk7XHJcbiAgICAgICAgaWYgKCFheGlzRGF0YS5oYXNPd25Qcm9wZXJ0eSgnbWF4JykpIHtcclxuICAgICAgICAgICAgbGV0IG1heExlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGF4aXNWYWx1ZSBvZiBheGlzRGF0YS52YWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChheGlzVmFsdWUgJiYgYXhpc1ZhbHVlLmxlbmd0aCA+IG1heExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heExlbmd0aCA9IGF4aXNWYWx1ZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBheGlzVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXhBeGlzVGV4dCA9IGp2Rm9ybWF0VmFsdWUoYXhpc0RhdGEubWF4LCBmb3JtYXRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9pZiAodHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAvLy8vYWxzbyBuZWVkIHRvIGNoZWNrIHdpZHRoIG9mIGxhYmVsXHJcbiAgICAvL2lmIChtYXhBeGlzVGV4dC5sZW5ndGggPCBheGlzRGF0YS5sYWJlbC5sZW5ndGggKyA1KSB7XHJcbiAgICAvLy8vbmVlZCBhZGRlZCBzcGFjZVxyXG4gICAgLy9pZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAvL21heEF4aXNUZXh0ID0gYXhpc0RhdGEubGFiZWw7XHJcbiAgICAvL30gZWxzZSB7XHJcbiAgICAvL21heEF4aXNUZXh0ID0gYXhpc0RhdGEubGFiZWwgKyAnRXh0cmEnO1xyXG4gICAgLy99XHJcbiAgICAvL31cclxuICAgIC8vfVxyXG5cclxuICAgIC8vQ3JlYXRlIGR1bW15IHN2ZyB0byBwbGFjZSBtYXggc2l6ZWQgdGV4dCBlbGVtZW50IG9uXHJcbiAgICBkdW1teVNWRyA9IGNoYXJ0RGl2LmFwcGVuZCgnc3ZnJykuYXR0cignY2xhc3MnLCAnZHVtbXktc3ZnJyk7XHJcblxyXG4gICAgLy9DcmVhdGUgZHVtbXkgdGV4dCBlbGVtZW50XHJcbiAgICBheGlzRHVtbXkgPSBkdW1teVNWR1xyXG4gICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChheGlzID09PSAneScgJiYgX3ZhcnMueUxhYmVsRm9udFNpemUgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF92YXJzLnlMYWJlbEZvbnRTaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChheGlzID09PSAneCcgJiYgX3ZhcnMueExhYmVsRm9udFNpemUgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIF92YXJzLnhMYWJlbEZvbnRTaXplO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfdmFycy5mb250U2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAuYXR0cigneScsIDApXHJcbiAgICAgICAgLnRleHQobWF4QXhpc1RleHQpO1xyXG5cclxuICAgIC8vQ2FsY3VsYXRlIHRoZSB3aWR0aCBvZiB0aGUgZHVtbXkgdGV4dFxyXG4gICAgd2lkdGggPSBheGlzRHVtbXkubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgIC8vUmVtb3ZlIHRoZSBzdmcgYW5kIHRleHQgZWxlbWVudFxyXG4gICAgY2hhcnREaXYuc2VsZWN0KCcuZHVtbXktc3ZnJykucmVtb3ZlKCk7XHJcbiAgICByZXR1cm4gd2lkdGg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERpc3BsYXlWYWx1ZXNFbGVtZW50KG9iamVjdCwgZGF0YVRhYmxlQWxpZ24sIHR5cGUpIHtcclxuICAgIGxldCB2YWx1ZXNBcnJheSA9IFtdO1xyXG5cclxuICAgIGlmICh0eXBlID09PSAnYmFyJyB8fCB0eXBlID09PSAncGllJyB8fCB0eXBlID09PSAnbGluZScgfHwgdHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGRhdGFUYWJsZUFsaWduKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGVBbGlnbi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoJ3ZhbHVlJykgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc0FycmF5LnB1c2gob2JqZWN0W2RhdGFUYWJsZUFsaWduW2tleV1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yIChsZXQga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc0FycmF5LnB1c2gob2JqZWN0W2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlc0FycmF5O1xyXG59XHJcblxyXG4vKipnZXRaU2NhbGVcclxuICpcclxuICogZ2V0cyB0aGUgc2NhbGUgZm9yIHRoZSB6IGF4aXNcclxuICogQHBhcmFtcyB6QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRaU2NhbGUoekF4aXNEYXRhLCBjb250YWluZXIsIF92YXJzKSB7XHJcbiAgICBsZXQgekF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAuZG9tYWluKFtkMy5taW4oekF4aXNEYXRhLnZhbHVlcyksIGQzLm1heCh6QXhpc0RhdGEudmFsdWVzKV0pXHJcbiAgICAgICAgLnJhbmdlUm91bmQoW192YXJzLk5PREVfTUlOX1NJWkUsIF92YXJzLk5PREVfTUFYX1NJWkVdKVxyXG4gICAgICAgIC5uaWNlKCk7XHJcbiAgICByZXR1cm4gekF4aXNTY2FsZTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVFdmVudEdyb3Vwc1xyXG4gKlxyXG4gKlxyXG4gKiBAcGFyYW1zIGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydFxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVFdmVudEdyb3VwcyhjaGFydENvbnRhaW5lciwgYmFyRGF0YSwgY2hhcnQpIHtcclxuICAgIGxldCBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGRhdGFUb1Bsb3QgPSBqdkNoYXJ0cy5nZXRQbG90RGF0YShiYXJEYXRhLCBjaGFydCksXHJcbiAgICAgICAgZXZlbnRHcm91cHM7XHJcblxyXG4gICAgLy9JbnZpc2libGUgcmVjdGFuZ2xlcyBvbiBzY3JlZW4gdGhhdCByZXByZXNlbnQgYmFyIGdyb3Vwcy4gVXNlZCB0byBzaG93L2hpZGUgdG9vbCB0aXBzIG9uIGhvdmVyXHJcbiAgICBldmVudEdyb3VwcyA9IGNoYXJ0Q29udGFpbmVyXHJcbiAgICAgICAgLmRhdGEoZGF0YVRvUGxvdClcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdldmVudC1yZWN0JylcclxuICAgICAgICAvL3NldHMgdGhlIHggcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgIC5hdHRyKCd4JywgKGQsIGkpID0+IGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyAwIDogKGNvbnRhaW5lci53aWR0aCAvIGJhckRhdGEubGVuZ3RoICogaSkpXHJcbiAgICAgICAgLy9zZXRzIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICAuYXR0cigneScsIChkLCBpKSA9PiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gKGNvbnRhaW5lci5oZWlnaHQgLyBiYXJEYXRhLmxlbmd0aCAqIGkpIDogMClcclxuICAgICAgICAvL3NldHMgdGhlIHdpZHRoIHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICAuYXR0cignd2lkdGgnLCAoKSA9PiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gY29udGFpbmVyLndpZHRoIDogKGNvbnRhaW5lci53aWR0aCAvIGJhckRhdGEubGVuZ3RoKSlcclxuICAgICAgICAvL3NldHMgdGhlIGhlaWdodCBwb3NpdGlvbiBvZiB0aGUgYmFyXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsICgpID0+IGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyAoY29udGFpbmVyLmhlaWdodCAvIGJhckRhdGEubGVuZ3RoKSA6IGNvbnRhaW5lci5oZWlnaHQpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAndHJhbnNwYXJlbnQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIChkLCBpKSA9PiAnZXZlbnQtcmVjdCBlZGl0YWJsZS1iYXIgYmFyLWNvbC0nICsgU3RyaW5nKGJhckRhdGFbaV1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSkucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICdfZG90XycpKTtcclxuXHJcbiAgICByZXR1cm4gZXZlbnRHcm91cHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVGhyZXNob2xkTGVnZW5kKGNoYXJ0KSB7XHJcbiAgICBsZXQgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9yTGVnZW5kRGF0YSA9IFtdLFxyXG4gICAgICAgIGdMZWdlbmQsXHJcbiAgICAgICAgbGVnZW5kO1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMgIT09ICdub25lJykge1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgT2JqZWN0LmtleXMoY2hhcnQuX3ZhcnMudGhyZXNob2xkcykubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgY29sb3JMZWdlbmREYXRhLnB1c2goY2hhcnQuX3ZhcnMudGhyZXNob2xkc1tqXS50aHJlc2hvbGROYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ0xlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0aHJlc2hvbGRMZWdlbmRDb250YWluZXInKTtcclxuXHJcbiAgICBsZWdlbmQgPSBnTGVnZW5kLnNlbGVjdEFsbCgnLnRocmVzaG9sZExlZ2VuZCcpXHJcbiAgICAgICAgLmRhdGEoY29sb3JMZWdlbmREYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3RocmVzaG9sZExlZ2VuZCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIChkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBoZWlnaHQgPSAxOSxcclxuICAgICAgICAgICAgICAgIG9mZnNldCA9IDE5ICogY29sb3JMZWdlbmREYXRhLmxlbmd0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICBob3J6ID0gLTIgKiAxMixcclxuICAgICAgICAgICAgICAgIHZlcnQgPSBpICogaGVpZ2h0IC0gb2Zmc2V0O1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgaG9yeiArICcsJyArIHZlcnQgKyAnKSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbGVnZW5kLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgMTIpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDEyKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIChkLCBpKSA9PiBjaGFydC5fdmFycy50aHJlc2hvbGRzW2ldLnRocmVzaG9sZENvbG9yKTtcclxuXHJcbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cigneCcsIDI0KVxyXG4gICAgICAgIC5hdHRyKCd5JywgOClcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgJy43NWVtJylcclxuICAgICAgICAudGV4dChkID0+IGQpO1xyXG5cclxuICAgIC8vQ2VudGVycyB0aGUgbGVnZW5kIGluIHRoZSBwYW5lbFxyXG4gICAgaWYgKGdMZWdlbmQpIHtcclxuICAgICAgICBsZXQgbGVnZW5kV2lkdGggPSBnTGVnZW5kLm5vZGUoKS5nZXRCQm94KCkud2lkdGg7XHJcbiAgICAgICAgZ0xlZ2VuZC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAoY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCAtIGxlZ2VuZFdpZHRoKSArICcsJyArICgxMCAqIGNvbG9yTGVnZW5kRGF0YS5sZW5ndGgpICsgJyknKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIGRyYXdGdW5jKSB7XHJcbiAgICAvL0FkZGluZyB0aGUgY2xpY2sgZXZlbnQgdG8gbGVnZW5kIHJlY3RhbmdsZXMgZm9yIHRvZ2dsaW5nIG9uL29mZlxyXG4gICAgbGVnZW5kRWxlbWVudHNcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRSZWN0ID0gZDMuc2VsZWN0KHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgZGF0YUhlYWRlcnM7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSZWN0Ll9ncm91cHNbMF1bMF0uYXR0cmlidXRlcy5vcGFjaXR5LnZhbHVlICE9PSAnMC4yJykge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAnMC4yJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsICcxJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vR2V0cyB0aGUgaGVhZGVycyBvZiB0aGUgZGF0YSB0byBiZSBkcmF3blxyXG4gICAgICAgICAgICBkYXRhSGVhZGVycyA9IHVwZGF0ZURhdGFGcm9tTGVnZW5kKGxlZ2VuZEVsZW1lbnRzLl9ncm91cHMpO1xyXG4gICAgICAgICAgICAvL1NldHMgdGhlIGxlZ2VuZERhdGEgdG8gdGhlIHVwZGF0ZWQgaGVhZGVyc1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgPSBkYXRhSGVhZGVycztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBkYXRhSGVhZGVycztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9QbG90cyB0aGUgZGF0YVxyXG4gICAgICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IDgwMDsvL0tlZXAgdHJhbnNpdGlvbiBmb3IgdG9nZ2xpbmcgbGVnZW5kIGVsZW1lbnRzXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydFtkcmF3RnVuY10oY2hhcnQuZmxpcHBlZERhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnRbZHJhd0Z1bmNdKGNoYXJ0LmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5hcHBseUVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5hcHBseUVkaXRNb2RlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzXHJcbiAqXHJcbiAqIENyZWF0ZXMgdGhlIGxlZ2VuZCBlbGVtZW50cy0tcmVjdGFuZ2xlcyBhbmQgbGFiZWxzXHJcbiAqIEBwYXJhbXMgY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICBsZXQgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGxlZ2VuZCxcclxuICAgICAgICBsZWdlbmREYXRhTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5LFxyXG4gICAgICAgIGxlZ2VuZFJlY3RhbmdsZXMsXHJcbiAgICAgICAgbGVnZW5kVGV4dDtcclxuXHJcbiAgICBjaGFydC5fdmFycy5ncmlkU2l6ZSA9IDIwO1xyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXgpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID0gTWF0aC5mbG9vcihsZWdlbmREYXRhTGVuZ3RoIC8gY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMC4wMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9DaGVjayB0byBzZWUgaWYgbGVnZW5kIGVsZW1lbnQgdG9nZ2xlIGFycmF5IG5lZWRzIHRvIGJlIHNldFxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID49IDApIHtcclxuICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobGVnZW5kRGF0YSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGxlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAxOCArICcsJyArIDIwICsgJyknKTtcclxuXHJcbiAgICAvL0FkZGluZyBjb2xvcmVkIHJlY3RhbmdsZXMgdG8gdGhlIGxlZ2VuZFxyXG4gICAgbGVnZW5kUmVjdGFuZ2xlcyA9IGxlZ2VuZC5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kUmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAnMycpXHJcbiAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gKGNoYXJ0Ll92YXJzLmdyaWRTaXplKSAqIChpICUgY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSAqIDEuMSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAoZCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKCFsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgJiYgIWNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHx8IChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmICFsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBpLCBsZWdlbmREYXRhW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKCFjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IHRydWUpIHx8XHJcbiAgICAgICAgICAgICAgICAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgaSwgbGVnZW5kRGF0YVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLmVtcHR5TGVnZW5kU3F1YXJlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCAoZCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICYmIGkgPD0gKChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKyAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdvcGFjaXR5JywgJzEnKTtcclxuXHJcbiAgICAvL0FkZGluZyB0ZXh0IGxhYmVscyBmb3IgZWFjaCByZWN0YW5nbGUgaW4gbGVnZW5kXHJcbiAgICBsZWdlbmRUZXh0ID0gbGVnZW5kLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIChkLCBpKSA9PiAnbGVnZW5kVGV4dCBlZGl0YWJsZSBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLWNvbnRlbnQgZWRpdGFibGUtbGVnZW5kLScgKyBpKVxyXG4gICAgICAgIC5hdHRyKCd4JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUgKyA3KVxyXG4gICAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IChjaGFydC5fdmFycy5ncmlkU2l6ZSkgKiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKiAxLjEgKyAxMClcclxuICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5hdHRyKCdkeScsICcwLjM1ZW0nKSAvL1ZlcnRpY2FsbHkgYWxpZ24gd2l0aCBub2RlXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdkaXNwbGF5JywgKGQsIGkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGkgPj0gKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSAmJiBpIDw9ICgoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICsgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAtIDEpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dCgoZCwgaSkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZWxlbWVudE5hbWUgPSBsZWdlbmREYXRhW2ldO1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudE5hbWUubGVuZ3RoID4gMjApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50TmFtZS5zdWJzdHJpbmcoMCwgMTkpICsgJy4uLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnROYW1lO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQWRkaW5nIGluZm8gYm94IHRvIGxlZ2VuZCBlbGVtZW50cyB3aGVuIGhvdmVyaW5nIG92ZXJcclxuICAgIGxlZ2VuZFRleHRcclxuICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpXHJcbiAgICAgICAgLnRleHQoZCA9PiBkKTtcclxuXHJcbiAgICAvL09ubHkgY3JlYXRlIGNhcm91c2VsIGlmIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgZXhjZWVkcyBvbmUgbGVnZW5kIFwicGFnZVwiXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPiAwKSB7XHJcbiAgICAgICAgY3JlYXRlVmVydGljYWxDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZWdlbmRSZWN0YW5nbGVzO1xyXG59XHJcblxyXG4vKipjcmVhdGVWZXJ0aWNhbENhcm91c2VsXHJcbiAqXHJcbiAqIERyYXdzIHRoZSB2ZXJ0aWNhbCBsZWdlbmQgY2Fyb3VzZWxcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVZlcnRpY2FsQ2Fyb3VzZWwoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICBsZXQgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGxlZ2VuZFBvbHlnb247XHJcblxyXG4gICAgLy9BZGRpbmcgY2Fyb3VzZWwgdG8gbGVnZW5kXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kLWNhcm91c2VsJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCcjbGVnZW5kLXRleHQtaW5kZXgnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBsZWdlbmRQb2x5Z29uID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZC1jYXJvdXNlbCcpO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBsZWZ0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZnRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Ll92YXJzLmxlZ2VuZEFycm93Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgKChjaGFydC5fdmFycy5sZWdlbmRNYXggKiBjaGFydC5fdmFycy5ncmlkU2l6ZSkgKyA1MCkgKyAnKScpXHJcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsICcwLDcuNSwgMTUsMCwgMTUsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbGV0IGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBkcmF3RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcGFnZSBudW1iZXIgZm9yIGNhcm91c2VsIG5hdmlnYXRpb25cclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignaWQnLCAnbGVnZW5kLXRleHQtaW5kZXgnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgMzUpXHJcbiAgICAgICAgLmF0dHIoJ3knLCAyNDIuNSlcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC50ZXh0KCgpID0+IChjaGFydC5fdmFycy5sZWdlbmRJbmRleCArIDEpICsgJyAvICcgKyAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggKyAxKSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcmlnaHQgbmF2aWdhdGlvbiBhcnJvdyBmb3IgY2Fyb3VzZWxcclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCdwb2x5Z29uJylcclxuICAgICAgICAuYXR0cignaWQnLCAncmlnaHRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Ll92YXJzLmxlZ2VuZEFycm93Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoODUsJyArICgoY2hhcnQuX3ZhcnMubGVnZW5kTWF4ICogY2hhcnQuX3ZhcnMuZ3JpZFNpemUpICsgNTApICsgJyknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMTUsNy41LCAwLDAsIDAsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA8IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgbGV0IGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBkcmF3RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA9PT0gY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbi8vQmluZCBmdW5jdGlvbnMgdG8gcHJvdG90eXBlIG9yIGp2Q2hhcnRzIG9iamVjdFxyXG5qdkNoYXJ0cy5nZXRDb2xvcnMgPSBnZXRDb2xvcnM7XHJcbmp2Q2hhcnRzLnNldEJhckxpbmVMZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGE7XHJcbmp2Q2hhcnRzLmNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0ID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQ7XHJcbmp2Q2hhcnRzLmdldFpTY2FsZSA9IGdldFpTY2FsZTtcclxuanZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5O1xyXG5qdkNoYXJ0cy5nZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cztcclxuanZDaGFydHMudXBkYXRlRGF0YUZyb21MZWdlbmQgPSB1cGRhdGVEYXRhRnJvbUxlZ2VuZDtcclxuanZDaGFydHMuY3JlYXRlQ2Fyb3VzZWwgPSBjcmVhdGVDYXJvdXNlbDtcclxuanZDaGFydHMuZ2VuZXJhdGVUaHJlc2hvbGRMZWdlbmQgPSBnZW5lcmF0ZVRocmVzaG9sZExlZ2VuZDtcclxuanZDaGFydHMuYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZCA9IGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQ7XHJcbmp2Q2hhcnRzLmdlbmVyYXRlVmVydGljYWxMZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlVmVydGljYWxMZWdlbmRFbGVtZW50cztcclxuanZDaGFydHMuY3JlYXRlVmVydGljYWxDYXJvdXNlbCA9IGNyZWF0ZVZlcnRpY2FsQ2Fyb3VzZWw7XHJcbmp2Q2hhcnRzLmdldFRvZ2dsZWREYXRhID0gZ2V0VG9nZ2xlZERhdGE7XHJcbmp2Q2hhcnRzLmdldFBsb3REYXRhID0gZ2V0UGxvdERhdGE7XHJcbmp2Q2hhcnRzLmdldFBvc0NhbGN1bGF0aW9ucyA9IGdldFBvc0NhbGN1bGF0aW9ucztcclxuanZDaGFydHMuc2V0QmFyTGluZUxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YTtcclxuanZDaGFydHMuanZGb3JtYXRWYWx1ZSA9IGp2Rm9ybWF0VmFsdWU7XHJcbmp2Q2hhcnRzLmdldEZvcm1hdEV4cHJlc3Npb24gPSBnZXRGb3JtYXRFeHByZXNzaW9uO1xyXG5qdkNoYXJ0cy5nZW5lcmF0ZUV2ZW50R3JvdXBzID0gZ2VuZXJhdGVFdmVudEdyb3VwcztcclxuanZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZTtcclxuanZDaGFydHMuZ2V0QXhpc1NjYWxlID0gZ2V0QXhpc1NjYWxlO1xyXG5qdkNoYXJ0cy5zZXRDaGFydENvbG9ycyA9IHNldENoYXJ0Q29sb3JzO1xyXG5qdkNoYXJ0cy5nZXREYXRhVHlwZUZyb21LZXlzID0gZ2V0RGF0YVR5cGVGcm9tS2V5cztcclxuanZDaGFydHMuY2xlYW5Ub29sRGF0YSA9IGNsZWFuVG9vbERhdGE7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIvKioqICBqdkNvbW1lbnQgKioqL1xyXG4ndXNlLXN0cmljdCc7XHJcbi8qKlxyXG4qIEBuYW1lIGp2Q29tbWVudFxyXG4qIEBkZXNjIENvbnN0cnVjdG9yIGZvciBKViBDb21tZW50IC0gY3JlYXRlcyBjb21tZW50cyBmb3IgYSBqdiB2aXN1YWxpemF0aW9uIGFuZCBleGVjdXRlcyBhIGNhbGxiYWNrIGZvciB0aGUgY29tbWVudHMgdG8gYmUgc2F2ZWRcclxuKiBAcGFyYW0ge29iamVjdH0gY29uZmlnT2JqIC0gY29uc3RydWN0b3Igb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGp2Q2hhcnQgYW5kIG90aGVyIG9wdGlvbnNcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIGp2Q29tbWVudChjb25maWdPYmopIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcztcclxuICAgIGNvbW1lbnRPYmouY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICBjb21tZW50T2JqLnNob3dDb21tZW50cyA9IGZhbHNlO1xyXG4gICAgY29tbWVudE9iai5jb21tZW50cyA9IGNvbmZpZ09iai5jb21tZW50cyA/IGNvbmZpZ09iai5jb21tZW50cyA6IHt9O1xyXG4gICAgY29tbWVudE9iai5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgY29tbWVudE9iai5kcmF3Q29tbWVudE5vZGVzKCk7XHJcbiAgICBjb21tZW50T2JqLm9uU2F2ZUNhbGxiYWNrID0gY29uZmlnT2JqLm9uU2F2ZUNhbGxiYWNrO1xyXG4gICAgY29tbWVudE9iai5nZXRNb2RlID0gY29uZmlnT2JqLmdldE1vZGU7XHJcbn1cclxuXHJcbmp2Q29tbWVudC5wcm90b3R5cGUuY3JlYXRlTW92ZUxpc3RlbmVyID0gY3JlYXRlTW92ZUxpc3RlbmVyO1xyXG5qdkNvbW1lbnQucHJvdG90eXBlLnVwZGF0ZVBvc2l0aW9uID0gdXBkYXRlUG9zaXRpb247XHJcbmp2Q29tbWVudC5wcm90b3R5cGUubWFrZUNvbW1lbnQgPSBtYWtlQ29tbWVudDtcclxuanZDb21tZW50LnByb3RvdHlwZS5yZW1vdmVDb21tZW50ID0gcmVtb3ZlQ29tbWVudDtcclxuanZDb21tZW50LnByb3RvdHlwZS5kcmF3Q29tbWVudE5vZGVzID0gZHJhd0NvbW1lbnROb2RlcztcclxuanZDb21tZW50LnByb3RvdHlwZS5kcmF3Q29tbWVudCA9IGRyYXdDb21tZW50O1xyXG5qdkNvbW1lbnQucHJvdG90eXBlLmRvdWJsZUNsaWNrID0gZG91YmxlQ2xpY2s7XHJcbmp2Q29tbWVudC5wcm90b3R5cGUub3ZlcmxheURpdlBvc2l0aW9uID0gb3ZlcmxheURpdlBvc2l0aW9uO1xyXG5cclxuLyoqXHJcbiogQG5hbWUgY3JlYXRlTW92ZUxpc3RlbmVyXHJcbiogQGRlc2MgY3JlYXRlcyB0aGUgbW91c2Vtb3ZlIGxpc3RlbmVyIHRvIGRldGVybWluZSBpZiB0aGUgdXNlciBtb3ZlcyBvciByZXNpemVzIGEgY29tbWVudFxyXG4qIEBwYXJhbSB7b2JqZWN0fSBjb21tZW50Tm9kZSAtIGNvbW1lbnQgdGhhdCB0aGUgdXNlciBjbGlja2VkIG9uXHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5mdW5jdGlvbiBjcmVhdGVNb3ZlTGlzdGVuZXIoY29tbWVudE5vZGUpIHtcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcyxcclxuICAgICAgICB0aW1lTW91c2VEb3duID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2Lm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9tb3VzZSBtb3ZlIGhhcHBlbmQgdG9vIHF1aWNrbHksIGNocm9tZSBidWdcclxuICAgICAgICB2YXIgdGltZU1vdXNlTW92ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgICAgICAgICBub2RlID0gY29tbWVudE5vZGUubm9kZSgpLFxyXG4gICAgICAgICAgICBtb3VzZSA9IGQzLm1vdXNlKG5vZGUpLFxyXG4gICAgICAgICAgICBtb3VzZU9uQ2hhcnREaXYgPSBkMy5tb3VzZShjb21tZW50T2JqLmNoYXJ0RGl2Lm5vZGUoKSksXHJcbiAgICAgICAgICAgIHJlc2l6ZU5vZGU7XHJcbiAgICAgICAgaWYgKHRpbWVNb3VzZURvd24gKyAxMCA+IHRpbWVNb3VzZU1vdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3NldCB0aGUgbW92ZWQgbm9kZSwgc28gd2Uga25vdyB0byBkbyBhIG1vdXNlIHVwIGV2ZW50XHJcbiAgICAgICAgY29tbWVudE9iai5tb3ZlZCA9IGNvbW1lbnROb2RlO1xyXG5cclxuICAgICAgICAvL3Jlc2l6ZSBpbiB0aGUgcmlnaHQgY29ybmVyIG9mIHRoZSBjb21tZW50XHJcbiAgICAgICAgaWYgKGNvbW1lbnROb2RlLnNlbGVjdCgnLmNvbW1lbnQtcGFkZGluZycpLl9ncm91cHNbMF1bMF0gJiYgKChtb3VzZVswXSArIDE1ID4gbm9kZS5jbGllbnRXaWR0aCAmJiBtb3VzZVsxXSArIDE1ID4gbm9kZS5jbGllbnRIZWlnaHQpIHx8IGNvbW1lbnRPYmoubW92ZWQubW91c2UpKSB7XHJcbiAgICAgICAgICAgIGlmICghY29tbWVudE9iai5tb3ZlZC5tb3VzZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzaXplTm9kZSA9IGNvbW1lbnROb2RlLnNlbGVjdCgnLmNvbW1lbnQtcGFkZGluZycpO1xyXG4gICAgICAgICAgICAgICAgcmVzaXplTm9kZS5zdHlsZSgnd2lkdGgnLCAnYXV0bycpO1xyXG4gICAgICAgICAgICAgICAgcmVzaXplTm9kZS5zdHlsZSgnaGVpZ2h0JywgJ2F1dG8nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3NldCB0aGUgbW91c2UgZXZlbnQgc28gd2UgY2FuIHVwZGF0ZSB0aGUgbG9jYXRpb24gb24gbW91c2UgdXBcclxuICAgICAgICAgICAgY29tbWVudE9iai5tb3ZlZC5tb3VzZSA9IG1vdXNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vbW92ZSB0aGUgY29tbWVudCBub2RlIGFyb3VuZCB0aGUgdmlzdWFsXHJcbiAgICAgICAgICAgIGlmIChjb21tZW50Tm9kZS5fZ3JvdXBzWzBdWzBdLm5vZGVOYW1lID09PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1yZWFkb25seScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbW1lbnROb2RlXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoJ2xlZnQnLCBtb3VzZU9uQ2hhcnREaXZbMF0gKyAncHgnKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKCd0b3AnLCBtb3VzZU9uQ2hhcnREaXZbMV0gKyAncHgnKTtcclxuICAgICAgICAgICAgY29tbWVudE5vZGVcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgbW91c2VPbkNoYXJ0RGl2WzBdKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBtb3VzZU9uQ2hhcnREaXZbMV0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSB1cGRhdGVQb3NpdGlvblxyXG4qIEBkZXNjIGRldGVybWluZXMgd2hldGhlciB0aGUgdXNlciBkcmFnZ2VkIGEgY29tbWVudCBvbiB0aGUgc2NyZWVuIG9yIHVwZGF0ZWQgaXRzIHNpemUgYW5kIHRoZW4gY3JlYXRlcyB0aGUgYXBwcm9wcmlhdGUgc2F2ZSBmdW5jdGlvblxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oKSB7XHJcbiAgICBsZXQgY29tbWVudE9iaiA9IHRoaXMsXHJcbiAgICAgICAgbm9kZVRvVXBkYXRlID0gY29tbWVudE9iai5tb3ZlZC5fZ3JvdXBzWzBdWzBdLFxyXG4gICAgICAgIG5vZGVJZCA9IG5vZGVUb1VwZGF0ZS5pZC5zcGxpdCgnbm9kZScpWzFdLFxyXG4gICAgICAgIGNvbW1lbnQgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbbm9kZUlkXSxcclxuICAgICAgICB4LFxyXG4gICAgICAgIHk7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb21tZW50T2JqLm1vdmVkLm1vdXNlKSkge1xyXG4gICAgICAgIGNvbW1lbnQuYmluZGluZy53aWR0aCA9IGNvbW1lbnRPYmoubW92ZWQubW91c2VbMF07XHJcbiAgICAgICAgY29tbWVudC5iaW5kaW5nLmhlaWdodCA9IGNvbW1lbnRPYmoubW92ZWQubW91c2VbMV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHggPSBNYXRoLnJvdW5kKG5vZGVUb1VwZGF0ZS5nZXRBdHRyaWJ1dGUoJ3gnKSk7XHJcbiAgICAgICAgeSA9IE1hdGgucm91bmQobm9kZVRvVXBkYXRlLmdldEF0dHJpYnV0ZSgneScpKTtcclxuICAgICAgICBjb21tZW50LmJpbmRpbmcgPSB7XHJcbiAgICAgICAgICAgICd4JzogeCxcclxuICAgICAgICAgICAgJ3knOiB5LFxyXG4gICAgICAgICAgICAneENoYXJ0QXJlYSc6IGNvbW1lbnRPYmouY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgJ3lDaGFydEFyZWEnOiBjb21tZW50T2JqLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICAnY3VycmVudFgnOiB4LFxyXG4gICAgICAgICAgICAnY3VycmVudFknOiB5LFxyXG4gICAgICAgICAgICAnc2hvd0FzTWFya2VyJzogY29tbWVudC5iaW5kaW5nLnNob3dBc01hcmtlcixcclxuICAgICAgICAgICAgJ2hlaWdodCc6IGNvbW1lbnQuYmluZGluZy5oZWlnaHQsXHJcbiAgICAgICAgICAgICd3aWR0aCc6IGNvbW1lbnQuYmluZGluZy53aWR0aFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29tbWVudE9iai5vblNhdmVDYWxsYmFjayhjb21tZW50LCBub2RlSWQsICdlZGl0Jyk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIG1ha2VDb21tZW50XHJcbiogQGRlc2MgY3JlYXRlcyB0aGUgY29tbWVudCBlbnRyeSBib3ggb24gdGhlIHNjcmVlbiBhbmQgYXR0YWNoZXMgbGlzdGVuZXJzIHRvIHRoZSBzYXZlIGRlbGV0ZSBhbmQgY2FuY2VsIG9wdGlvbnNcclxuKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgLSBldmVudCB0aGF0IGhvbGRzIHRoZSBtb3VzZSBwb3NpdGlvbiBmb3Igd2hlcmUgdGhlIHVzZXIgd2FudHMgdG8gcGxhY2UgdGhlIGNvbW1lbnRcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIG1ha2VDb21tZW50KGV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5jaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94JykuX2dyb3Vwc1swXVswXSB8fCB0aGlzLmNoYXJ0RGl2LnNlbGVjdCgnLmNvbW1lbnRib3gtZWRpdCcpLl9ncm91cHNbMF1bMF0pIHtcclxuICAgICAgICAvL2RvbnQgY3JlYXRlIG5ldyBjb21tZW50XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb21tZW50T2JqID0gdGhpcyxcclxuICAgICAgICB4ID0gcGFyc2VJbnQoZDMubW91c2UoZXZlbnQpWzBdLCAxMCksXHJcbiAgICAgICAgeSA9IHBhcnNlSW50KGQzLm1vdXNlKGV2ZW50KVsxXSwgMTApLFxyXG4gICAgICAgIGNvbW1lbnRIZWlnaHQgPSAxNDUsXHJcbiAgICAgICAgY29tbWVudFdpZHRoID0gMjAwLFxyXG4gICAgICAgIC8vY2FsY3VsYXRlIHBvc2l0aW9uIG9mIG92ZXJsYXkgZGl2XHJcbiAgICAgICAgcG9zaXRpb24gPSBjb21tZW50T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihjb21tZW50V2lkdGgsIGNvbW1lbnRIZWlnaHQsIHgsIHkpLFxyXG4gICAgICAgIGNvbW1lbnRUeXBlID0gJ3N2Z01haW4nO1xyXG5cclxuICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCcuY29tbWVudGJveC1yZWFkb25seScpLnJlbW92ZSgpO1xyXG5cclxuICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnY29tbWVudGJveCcpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2NvbW1lbnRib3gnKVxyXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgLmh0bWwoXCI8ZGl2IGNsYXNzPSd0aXRsZSc+PGI+QWRkIE5ldyBDb21tZW50PC9iPjwvZGl2PlwiICtcclxuICAgICAgICBcIjx0ZXh0YXJlYSBwbGFjZWhvbGRlcj0nRW50ZXIgY29tbWVudC4uLicgZm9ybT0nY29tbWVudGZvcm0nIGNsYXNzPSdjb21tZW50LXRleHRhcmVhJyBzdHlsZT0nd2lkdGg6MTU1cHg7IGhlaWdodDogOTBweDsnIG5hbWU9J2NvbW1lbnQnIGlkID0gJ3RleHRhcmVhMSc+PC90ZXh0YXJlYT5cIiArXHJcbiAgICAgICAgXCI8YnI+PGlucHV0IHR5cGU9J2NoZWNrQm94JyBjbGFzcz0nY29tbWVudGJveC1kaXNwbGF5JyBpZCA9J2Rpc3BsYXknPiBEaXNwbGF5IGFzIG1hcmtlclwiICtcclxuICAgICAgICBcIjxicj48YnV0dG9uIGNsYXNzPSdjb21tZW50Ym94LWNsb3NlJyBpZCA9J2NhbmNlbCc+PGkgY2xhc3M9J2ZhIGZhLWNsb3NlJz48L2k+PC9idXR0b24+XCIgK1xyXG4gICAgICAgIFwiPGJ1dHRvbiBjbGFzcz0nc21zcy1idG4gY29tbWVudGJveC1zdWJtaXQnIGlkID0gJ3N1Ym1pdCc+U3VibWl0IENvbW1lbnQ8L2J1dHRvbj5cIilcclxuICAgICAgICAuc3R5bGUoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcclxuICAgICAgICAuc3R5bGUoJ2xlZnQnLCBwb3NpdGlvbi54ICsgJ3B4JylcclxuICAgICAgICAuc3R5bGUoJ3RvcCcsIHBvc2l0aW9uLnkgKyAncHgnKTtcclxuXHJcbiAgICAvL0F1dG9mb2N1cyBvbiB0aGUgdGV4dCBhcmVhXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dGFyZWExJykuZm9jdXMoKTtcclxuXHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbCgnLmNvbW1lbnRib3gnKS5zZWxlY3QoJyNjYW5jZWwnKVxyXG4gICAgICAgIC5vbignY2xpY2suZGVsZXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21tZW50T2JqLnJlbW92ZUNvbW1lbnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbCgnLmNvbW1lbnRib3gnKS5zZWxlY3QoJyNzdWJtaXQnKVxyXG4gICAgICAgIC5vbignY2xpY2suc2F2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IGNvbW1lbnRUZXh0ID0gY29tbWVudE9iai5jaGFydERpdi5zZWxlY3QoJyNjb21tZW50Ym94Jykuc2VsZWN0KCcjdGV4dGFyZWExJykuX2dyb3Vwc1swXVswXS52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dBc01hcmtlciA9IGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KCcjY29tbWVudGJveCcpLnNlbGVjdCgnI2Rpc3BsYXknKS5fZ3JvdXBzWzBdWzBdLmNoZWNrZWQsXHJcbiAgICAgICAgICAgICAgICBuZXdDb21tZW50T2JqO1xyXG5cclxuICAgICAgICAgICAgbmV3Q29tbWVudE9iaiA9IHtcclxuICAgICAgICAgICAgICAgICdjb21tZW50VGV4dCc6IGNvbW1lbnRUZXh0LFxyXG4gICAgICAgICAgICAgICAgJ2dyb3VwSUQnOiAnZ3JvdXAwJyxcclxuICAgICAgICAgICAgICAgICd0eXBlJzogY29tbWVudFR5cGUsXHJcbiAgICAgICAgICAgICAgICAnYmluZGluZyc6IHtcclxuICAgICAgICAgICAgICAgICAgICAneCc6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3knOiB5LFxyXG4gICAgICAgICAgICAgICAgICAgICd4Q2hhcnRBcmVhJzogY29tbWVudE9iai5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICd5Q2hhcnRBcmVhJzogY29tbWVudE9iai5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAnY3VycmVudFgnOiB4LFxyXG4gICAgICAgICAgICAgICAgICAgICdjdXJyZW50WSc6IHksXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Nob3dBc01hcmtlcic6IHNob3dBc01hcmtlciA/ICd0cnVlJyA6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oY29tbWVudE9iai5jb21tZW50cy5tYXhJZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouY29tbWVudHMubWF4SWQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21tZW50T2JqLm9uU2F2ZUNhbGxiYWNrKG5ld0NvbW1lbnRPYmosICsrY29tbWVudE9iai5jb21tZW50cy5tYXhJZCwgJ2FkZCcpO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSByZW1vdmVDb21tZW50XHJcbiogQGRlc2MgZnVuY3Rpb24gdG8gcmVtb3ZlIGNvbW1lbnQgZW50cnkgYm94XHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5mdW5jdGlvbiByZW1vdmVDb21tZW50KCkge1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSB0aGlzO1xyXG4gICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94JykucmVtb3ZlKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGRyYXdDb21tZW50Tm9kZXNcclxuKiBAZGVzYyBmdW5jdGlvbiB0byBkcmF3IGEgYWxsIGNvbW1lbnRzIG9uIHRoZSB2aXN1YWxcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIGRyYXdDb21tZW50Tm9kZXMoKSB7XHJcbiAgICB2YXIgY29tbWVudE9iaiA9IHRoaXMsXHJcbiAgICAgICAgY29tbWVudHMgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Q7XHJcblxyXG4gICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoJy5taW4tY29tbWVudCcpLnJlbW92ZSgpO1xyXG5cclxuICAgIGZvciAobGV0IGlkIGluIGNvbW1lbnRzKSB7XHJcbiAgICAgICAgaWYgKGNvbW1lbnRzLmhhc093blByb3BlcnR5KGlkKSkge1xyXG4gICAgICAgICAgICBjb21tZW50T2JqLmRyYXdDb21tZW50KGNvbW1lbnRzW2lkXSwgaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgZHJhd0NvbW1lbnRcclxuKiBAZGVzYyBmdW5jdGlvbiB0byBkcmF3IGEgc2luZ2xlIGNvbW1lbnQgb24gdGhlIHZpc3VhbFxyXG4qIEBwYXJhbSB7b2JqZWN0fSBjb21tZW50IC0gZGF0YSB1c2VkIHRvIHBhaW4gdGhlIGNvbW1lbnRcclxuKiBAcGFyYW0ge251bWJlcn0gaWQgLSBpZCBvZiB0aGUgc3BlY2lmaWMgY29tbWVudFxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gZHJhd0NvbW1lbnQoY29tbWVudCwgaWQpIHtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5jaGFydERpdi5fZ3JvdXBzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb21tZW50IGRhdGEgaXMgaW4gb2xkIGZvcm1hdCwgd2lsbCBub3QgZGlzcGxheSBvciBjaGFydCBkaXYgZG9lc250IGV4aXN0Jyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghY29tbWVudC5iaW5kaW5nIHx8ICF0aGlzLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0pIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29tbWVudCBkYXRhIGlzIGluIG9sZCBmb3JtYXQsIHdpbGwgbm90IGRpc3BsYXkgb3IgY2hhcnQgZGl2IGRvZXNudCBleGlzdCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY29tbWVudE9iaiA9IHRoaXMsXHJcbiAgICAgICAgY2hhcnREaXYgPSBjb21tZW50T2JqLmNoYXJ0RGl2LFxyXG4gICAgICAgIGJpbmRpbmcgPSBjb21tZW50LmJpbmRpbmcsXHJcbiAgICAgICAgY2hhcnRBcmVhV2lkdGggPSBjaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoLFxyXG4gICAgICAgIGNoYXJ0QXJlYUhlaWdodCA9IGNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgIHggPSAoYmluZGluZy54IC8gYmluZGluZy54Q2hhcnRBcmVhICogY2hhcnRBcmVhV2lkdGgpLFxyXG4gICAgICAgIHkgPSAoYmluZGluZy55IC8gYmluZGluZy55Q2hhcnRBcmVhICogY2hhcnRBcmVhSGVpZ2h0KSxcclxuICAgICAgICBzdHlsZVN0cmluZyA9ICcnLFxyXG4gICAgICAgIHRleHQgPSAnJyxcclxuICAgICAgICByZXNpemUgPSBmYWxzZTtcclxuXHJcbiAgICBiaW5kaW5nLmN1cnJlbnRYID0gKGJpbmRpbmcueCAvIGJpbmRpbmcueENoYXJ0QXJlYSAqIGNoYXJ0QXJlYVdpZHRoKTtcclxuICAgIGJpbmRpbmcuY3VycmVudFkgPSAoYmluZGluZy55IC8gYmluZGluZy55Q2hhcnRBcmVhICogY2hhcnRBcmVhSGVpZ2h0KTtcclxuXHJcbiAgICBpZiAoY29tbWVudC5iaW5kaW5nLnNob3dBc01hcmtlciA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgIGlmIChjb21tZW50LmJpbmRpbmcud2lkdGggJiYgY29tbWVudC5iaW5kaW5nLmhlaWdodCkge1xyXG4gICAgICAgICAgICBzdHlsZVN0cmluZyA9IFwic3R5bGU9J3dpZHRoOiBcIiArIGNvbW1lbnQuYmluZGluZy53aWR0aCArICdweDsgaGVpZ2h0OiAnICsgY29tbWVudC5iaW5kaW5nLmhlaWdodCArIFwicHgnXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21tZW50LmNvbW1lbnRUZXh0LmluZGV4T2YoJzxpZnJhbWUnKSA+IC0xIHx8IGNvbW1lbnQuY29tbWVudFRleHQuaW5kZXhPZignPGltZycpID4gLTEgfHwgY29tbWVudC5jb21tZW50VGV4dC5pbmRleE9mKCc8c3ZnJykgPiAtMSkge1xyXG4gICAgICAgICAgICAvL2NvbnRhaW5zIGVsZW50cyB0aGF0IHNob3VsZCByZXNpemVcclxuICAgICAgICAgICAgdGV4dCA9IFwiPGRpdiBjbGFzcz0nY29tbWVudC1wYWRkaW5nIHRleHQnXCIgKyBzdHlsZVN0cmluZyArIFwiPjxkaXYgY2xhc3M9J3VzZXItY29tbWVudCc+XCIgKyBjb21tZW50LmNvbW1lbnRUZXh0ICsgJzwvZGl2PjwvZGl2Pic7XHJcbiAgICAgICAgICAgIHJlc2l6ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGV4dCA9ICc8ZGl2IGNsYXNzPVwidGV4dCBlZGl0YWJsZSBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLWNvbW1lbnQtJyArIGlkICsgJ1wiPicgKyBjb21tZW50LmNvbW1lbnRUZXh0ICsgJzxkaXYvPic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYXJ0RGl2LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ21pbi1jb21tZW50JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ25vZGUnICsgaWQpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxyXG4gICAgICAgICAgICAvLy5zdHlsZShcImJvcmRlclwiLCBcIjFweCBzb2xpZCBibGFja1wiKVxyXG4gICAgICAgICAgICAuaHRtbCh0ZXh0KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2xlZnQnLCB4ICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKCd0b3AnLCB5ICsgJ3B4JylcclxuICAgICAgICAgICAgLm9uKCdkYmxjbGljay5jb21tZW50JywgZnVuY3Rpb24gKCkgey8vRWRpdCB0ZXh0IG9yIGRlbGV0ZSB0aGUgY29tbWVudFxyXG4gICAgICAgICAgICAgICAgY29tbWVudE9iai5kb3VibGVDbGljayh0aGlzLCB4LCB5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc2l6ZSkge1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gZDMuc2VsZWN0KCcudXNlci1jb21tZW50Jyk7XHJcbiAgICAgICAgICAgIHJlc2NhbGUocGFyZW50LCBwYXJlbnQubm9kZSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0RGl2LnNlbGVjdCgnc3ZnJykuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ21pbi1jb21tZW50JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ25vZGUnICsgaWQpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJyNlNmU2ZTYnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHgpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgeSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ0ZvbnRBd2Vzb21lJylcclxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdkYXJrZ3JheScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAnMTVweCcpXHJcbiAgICAgICAgICAgIC50ZXh0KCdcXHVmMGU1JylcclxuICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAxKVxyXG4gICAgICAgICAgICAub24oJ2RibGNsaWNrLmNvbW1lbnQnLCBmdW5jdGlvbiAoKSB7Ly9FZGl0IHRleHQgb3IgZGVsZXRlIHRoZSBjb21tZW50XHJcbiAgICAgICAgICAgICAgICBjb21tZW50T2JqLmRvdWJsZUNsaWNrKHRoaXMsIHgsIHkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ21vdXNlZW50ZXIuY29tbWVudCcsIGZ1bmN0aW9uICgpIHsvL1Nob3cgaG92ZXIgb3ZlciBib3ggd2hlbiBtb3VzZSBlbnRlcnMgbm9kZVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21tZW50VGV4dCA9ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50SGVpZ2h0ID0gODAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRXaWR0aCA9IDE4NSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogaW4gY29tbWVudE9iai5jb21tZW50cy5saXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5iaW5kaW5nLmN1cnJlbnRYKSA9PT0gTWF0aC5yb3VuZCh0aGlzLnguYmFzZVZhbFswXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5iaW5kaW5nLmN1cnJlbnRZKSA9PT0gTWF0aC5yb3VuZCh0aGlzLnkuYmFzZVZhbFswXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50VGV4dCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5jb21tZW50VGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdLmJpbmRpbmcuY3VycmVudFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5iaW5kaW5nLmN1cnJlbnRZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29tbWVudE9iai5vdmVybGF5RGl2UG9zaXRpb24oY29tbWVudFdpZHRoLCBjb21tZW50SGVpZ2h0LCB4LCB5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY29tbWVudGJveC1yZWFkb25seScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChcIjx0ZXh0YXJlYSByZWFkb25seSByb3dzPSc0JyBjb2xzPScyNycgY2xhc3M9J3RleHRhcmVhJyBuYW1lPSdjb21tZW50Jz5cIiArIGNvbW1lbnRUZXh0ICsgJzwvdGV4dGFyZWE+JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdsZWZ0JywgcG9zaXRpb24ueCArICdweCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgndG9wJywgcG9zaXRpb24ueSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ21vdXNlb3V0LmNvbW1lbnQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL1JlbW92ZSBob3ZlciBvdmVyIGJveCB3aGVuIG1vdXNlIG1vdmVzIGF3YXlcclxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50T2JqLnNob3dDb21tZW50cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94LXJlYWRvbmx5JykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSByZXNjYWxlXHJcbiogQGRlc2Mgc2V0cyB0aGUgY2hpbGRyZW4gb2YgdGhlIGVsZSBwYXJhbSB0byAxMDAgcGVyY2VudCBoZWlnaHQgYW5kIHdpZHRoXHJcbiogQHBhcmFtIHtkM25vZGV9IGVsZSAtIG5vZGUgdG8gc3RhcnQgcmVjdXJzaXZlIGZ1bmN0aW9uXHJcbiogQHBhcmFtIHtodG1sTm9kZX0gY29tbWVudE5vZGUgLSB1bnVzZWQgcGFyZW50IG5vZGUgdGhhdCBjYW4gYmUgdXNlZCB0byBjYWxjdWFsdGUgcGVyY2VudCBoZWlnaHQgYW5kIHdpZHRoc1xyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gcmVzY2FsZShlbGUsIGNvbW1lbnROb2RlKSB7XHJcbiAgICB2YXIgbm9kZSA9IGVsZS5ub2RlKCksXHJcbiAgICAgICAgd2lkdGggPSAxMDAsXHJcbiAgICAgICAgaGVpZ2h0ID0gMTAwO1xyXG4gICAgLy93aWR0aCA9IG5vZGUuY2xpZW50V2lkdGggLyBjb21tZW50Tm9kZS5jbGllbnRXaWR0aCAqIDEwMDtcclxuICAgIC8vaGVpZ2h0ID0gbm9kZS5jbGllbnRIZWlnaHQgLyBjb21tZW50Tm9kZS5jbGllbnRIZWlnaHQgKiAxMDA7XHJcbiAgICAvL2lmICh3aWR0aCA+IDEwMCkge1xyXG4gICAgLy93aWR0aCA9IDEwMDtcclxuICAgIC8vfVxyXG5cclxuICAgIC8vaWYgKGhlaWdodCA+IDEwMCkge1xyXG4gICAgLy9oZWlnaHQgPSAxMDA7XHJcbiAgICAvL31cclxuXHJcbiAgICBlbGUuc3R5bGUoJ3dpZHRoJywgd2lkdGggKyAnJScpO1xyXG4gICAgZWxlLnN0eWxlKCdoZWlnaHQnLCBoZWlnaHQgKyAnJScpO1xyXG4gICAgZm9yIChsZXQgY2hpbGQgb2Ygbm9kZS5jaGlsZE5vZGVzKSB7XHJcbiAgICAgICAgcmVzY2FsZShkMy5zZWxlY3QoY2hpbGQpLCBjb21tZW50Tm9kZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGRvdWJsZUNsaWNrXHJcbiogQGRlc2MgY2xpY2sgZnVuY3Rpb24gYWZ0ZXIgdGhlIHVzZXIgY2xpY2tzIG9uIGFuIGV4aXN0aW5nIGNvbW1lbnRcclxuKiBAcGFyYW0ge29iamVjdH0gY29tbWVudE5vZGUgLSBjdXJyZW50IGNvbW1lbnQgdGhhdCB0aGUgdXNlciBjbGlja2VkXHJcbiogQHBhcmFtIHtudW1iZXJ9IHggLSB4IHBvc2l0aW9uIG9mIHRoZSBjbGljayBldmVudFxyXG4qIEBwYXJhbSB7bnVtYmVyfSB5IC0geSBwb3NpdGlvbiBvZiB0aGUgY2xpY2sgZXZlbnRcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIGRvdWJsZUNsaWNrKGNvbW1lbnROb2RlLCB4LCB5KSB7XHJcbiAgICBpZiAodGhpcy5jaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94LWVkaXQnKS5fZ3JvdXBzWzBdWzBdIHx8IHRoaXMuZ2V0TW9kZSgpICE9PSAnY29tbWVudC1tb2RlJykge1xyXG4gICAgICAgIC8vZG9udCBjcmVhdGUgbmV3IGNvbW1lbnRcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgY29tbWVudE9iaiA9IHRoaXMsXHJcbiAgICAgICAgY2hhcnREaXYgPSBjb21tZW50T2JqLmNoYXJ0RGl2LFxyXG4gICAgICAgIGN1cnJlbnRDb21tZW50ID0gY29tbWVudE5vZGUuaWQuc3BsaXQoJ25vZGUnKVsxXSxcclxuICAgICAgICBjb21tZW50VGV4dCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtjdXJyZW50Q29tbWVudF0uY29tbWVudFRleHQsXHJcbiAgICAgICAgY29tbWVudEhlaWdodCA9IDE0NSxcclxuICAgICAgICBjb21tZW50V2lkdGggPSAyMDAsXHJcbiAgICAgICAgcG9zaXRpb24gPSBjb21tZW50T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihjb21tZW50V2lkdGgsIGNvbW1lbnRIZWlnaHQsIHgsIHkpO1xyXG5cclxuICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94LXJlYWRvbmx5JykucmVtb3ZlKCk7XHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94LWVkaXQnKS5yZW1vdmUoKTtcclxuICAgIGNoYXJ0RGl2LnNlbGVjdEFsbCgnLmNvbW1lbnRib3gnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBjaGFydERpdi5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvbW1lbnRib3gtZWRpdCcpXHJcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcclxuICAgICAgICAuc3R5bGUoJ2xlZnQnLCBwb3NpdGlvbi54ICsgJ3B4JylcclxuICAgICAgICAuc3R5bGUoJ3RvcCcsIHBvc2l0aW9uLnkgKyAncHgnKVxyXG4gICAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxyXG4gICAgICAgIC5odG1sKFwiPGRpdiBjbGFzcz0ndGl0bGUnPjxiPkVkaXQgQ29tbWVudDwvYj48L2Rpdj5cIiArXHJcbiAgICAgICAgXCI8dGV4dGFyZWEgaWQ9J2VkaXQnIGNsYXNzPSdjb21tZW50LXRleHRhcmVhJyBzdHlsZT0nd2lkdGg6MTU1cHg7IGhlaWdodDogOTBweDsnIG5hbWU9J2NvbW1lbnQnPlwiICsgY29tbWVudFRleHQgKyAnPC90ZXh0YXJlYT4nICtcclxuICAgICAgICBcIjxicj48aW5wdXQgdHlwZT0nY2hlY2tCb3gnIGNsYXNzPSdjb21tZW50Ym94LWRpc3BsYXknIGlkID0nZGlzcGxheSc+IERpc3BsYXkgYXMgbWFya2VyXCIgK1xyXG4gICAgICAgIFwiPGJyPjxidXR0b24gY2xhc3M9J2NvbW1lbnRib3gtY2xvc2UnIGlkID0nY2FuY2VsLWVkaXQnPjxpIGNsYXNzPSdmYSBmYS1jbG9zZSc+PC9pPjwvYnV0dG9uPlwiICtcclxuICAgICAgICBcIjxidXR0b24gY2xhc3M9J3Ntc3MtYnRuJyBpZCA9J2RlbGV0ZSc+RGVsZXRlPC9idXR0b24+XCIgK1xyXG4gICAgICAgIFwiPGJ1dHRvbiBjbGFzcz0nc21zcy1idG4nIGlkID0gJ3NhdmUnPlNhdmU8L2J1dHRvbj5cIik7XHJcblxyXG4gICAgY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1lZGl0Jykuc2VsZWN0KCcjZGlzcGxheScpLl9ncm91cHNbMF1bMF0uY2hlY2tlZCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtjdXJyZW50Q29tbWVudF0uYmluZGluZy5zaG93QXNNYXJrZXIgPT09ICd0cnVlJztcclxuXHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94LWVkaXQnKS5zZWxlY3QoJyNkZWxldGUnKVxyXG4gICAgICAgIC5vbignY2xpY2suZGVsZXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94LWVkaXQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1yZWFkb25seScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoJyNub2RlJyArIGN1cnJlbnRDb21tZW50KS5hdHRyKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgLy9yZWRyYXcgY29tbWVudCBub2RlcyB3aXRoIG5ldyBpbmRleGVzXHJcbiAgICAgICAgICAgIGNvbW1lbnRPYmoub25TYXZlQ2FsbGJhY2soY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XSwgY3VycmVudENvbW1lbnQsICdyZW1vdmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94LWVkaXQnKS5zZWxlY3QoJyNzYXZlJylcclxuICAgICAgICAub24oJ2NsaWNrLnNhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1lZGl0Jykuc2VsZWN0KCcjZWRpdCcpLl9ncm91cHNbMF1bMF0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICBzaG93QXNNYXJrZXIgPSBjaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94LWVkaXQnKS5zZWxlY3QoJyNkaXNwbGF5JykuX2dyb3Vwc1swXVswXS5jaGVja2VkO1xyXG4gICAgICAgICAgICBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbY3VycmVudENvbW1lbnRdLmNvbW1lbnRUZXh0ID0gdGV4dDtcclxuICAgICAgICAgICAgY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XS5iaW5kaW5nLnNob3dBc01hcmtlciA9IHNob3dBc01hcmtlciA/ICd0cnVlJyA6ICdmYWxzZSc7XHJcbiAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdCgnLmNvbW1lbnRib3gtcmVhZG9ubHknKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1lZGl0JykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGNvbW1lbnRPYmoub25TYXZlQ2FsbGJhY2soY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XSwgY3VycmVudENvbW1lbnQsICdlZGl0Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY2hhcnREaXYuc2VsZWN0QWxsKCcuY29tbWVudGJveC1lZGl0Jykuc2VsZWN0KCcjY2FuY2VsLWVkaXQnKVxyXG4gICAgICAgIC5vbignY2xpY2suY2FuY2VsLWVkaXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdCgnLmNvbW1lbnRib3gtcmVhZG9ubHknKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1lZGl0JykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBVdGlsaXR5IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4vKipcclxuKiBAbmFtZSBvdmVybGF5RGl2UG9zaXRpb25cclxuKiBAZGVzYyBmdW5jdGlvbiB0byBkZXRlcm1pbmUgdGhlIHBsYWNlbWVudCBvZiB0aGUgZGl2IG9uIHRoZSB2aXN1YWxcclxuKiBAcGFyYW0ge251bWJlcn0gZGl2V2lkdGggLSB3aWR0aCBvZiB0aGUgY29tbWVudCBlbnRyeSBib3hcclxuKiBAcGFyYW0ge251bWJlcn0gZGl2SGVpZ2h0IC0gaGVpZ2h0IG9mIHRoZSBjb21tZW50IGVudHJ5IGJveFxyXG4qIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVggLSB4IHBvc2l0aW9uIG9mIHRoZSBjbGljayBldmVudFxyXG4qIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVkgLSB5IHBvc2l0aW9uIG9mIHRoZSBjbGljayBldmVudFxyXG4qIEByZXR1cm4ge29iamVjdH0gLSBwb3NpdGlvbiBvZiBkaXZcclxuKi9cclxuZnVuY3Rpb24gb3ZlcmxheURpdlBvc2l0aW9uKGRpdldpZHRoLCBkaXZIZWlnaHQsIG1vdXNlWCwgbW91c2VZKSB7XHJcbiAgICBsZXQgZWRpdE9iaiA9IHRoaXMsXHJcbiAgICAgICAgcG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgIHg6IG1vdXNlWCxcclxuICAgICAgICAgICAgeTogbW91c2VZICsgMTBcclxuICAgICAgICB9O1xyXG4gICAgaWYgKG1vdXNlWCA+IHBhcnNlSW50KGVkaXRPYmouY2hhcnREaXYuc3R5bGUoJ3dpZHRoJyksIDEwKSAvIDIpIHtcclxuICAgICAgICBwb3NpdGlvbi54ID0gbW91c2VYIC0gZGl2V2lkdGg7XHJcbiAgICB9XHJcbiAgICBpZiAobW91c2VZIC0gZGl2SGVpZ2h0IC0gMTAgPiAwKSB7XHJcbiAgICAgICAgcG9zaXRpb24ueSA9IG1vdXNlWSAtIGRpdkhlaWdodCAtIDEwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q29tbWVudDtcclxuIiwiLyoqKiAganZFZGl0ICoqKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG52YXIgZWRpdFRlbXBsYXRlID0gcmVxdWlyZSgnLi9lZGl0T3B0aW9uc1RlbXBsYXRlLmpzJyk7XHJcblxyXG4vKipcclxuKiBAbmFtZSBqdkVkaXRcclxuKiBAZGVzYyBDb25zdHJ1Y3RvciBmb3IgSlYgRWRpdCAtIGNyZWF0ZXMgZWRpdHMgdG8gYSBqdiB2aXN1YWxpemF0aW9uIGFuZCBleGVjdXRlcyBhIGNhbGxiYWNrIGZvciB0aGUgZWRpdCBvcHRpb25zIHRvIGJlIHNhdmVkXHJcbiogQHBhcmFtIHtvYmplY3R9IGNvbmZpZ09iaiAtIGNvbnN0cnVjdG9yIG9iamVjdCBjb250YWluaW5nIHRoZSBqdkNoYXJ0IGFuZCBvdGhlciBvcHRpb25zXHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5mdW5jdGlvbiBqdkVkaXQoY29uZmlnT2JqKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcbiAgICBlZGl0T2JqLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgZWRpdE9iai52aXpPcHRpb25zID0gY29uZmlnT2JqLnZpek9wdGlvbnMgPyBjb25maWdPYmoudml6T3B0aW9ucyA6IHt9O1xyXG4gICAgZWRpdE9iai5jaGFydERpdi5zZWxlY3RBbGwoJy5lZGl0LWRpdicpLnJlbW92ZSgpO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2ID0gZWRpdE9iai5jaGFydERpdi5hcHBlbmQoJ2RpdicpLmF0dHIoJ2NsYXNzJywgJ2VkaXQtZGl2Jyk7XHJcbiAgICBlZGl0T2JqLm9uU2F2ZUNhbGxiYWNrID0gY29uZmlnT2JqLm9uU2F2ZUNhbGxiYWNrO1xyXG59XHJcblxyXG5qdkVkaXQucHJvdG90eXBlLmRpc3BsYXlFZGl0ID0gZGlzcGxheUVkaXQ7XHJcbmp2RWRpdC5wcm90b3R5cGUuY2hhbmdlRm9udFNpemUgPSBjaGFuZ2VGb250U2l6ZTtcclxuanZFZGl0LnByb3RvdHlwZS5zdWJtaXRFZGl0TW9kZSA9IHN1Ym1pdEVkaXRNb2RlO1xyXG5qdkVkaXQucHJvdG90eXBlLmFwcGx5RWRpdE1vZGUgPSBhcHBseUVkaXRNb2RlO1xyXG5qdkVkaXQucHJvdG90eXBlLmFwcGx5QWxsRWRpdHMgPSBhcHBseUFsbEVkaXRzO1xyXG5qdkVkaXQucHJvdG90eXBlLnJlbW92ZUVkaXQgPSByZW1vdmVFZGl0O1xyXG5qdkVkaXQucHJvdG90eXBlLm92ZXJsYXlEaXZQb3NpdGlvbiA9IG92ZXJsYXlEaXZQb3NpdGlvbjtcclxuXHJcbi8qKlxyXG4qIEBuYW1lIGRpc3BsYXlFZGl0XHJcbiogQGRlc2MgRGlzcGxheXMgdGhlIGVkaXQgZGl2LCBncmFiYmluZyBpdCBmcm9tIHRoZSB0ZW1wbGF0ZVxyXG4qIEBwYXJhbSB7YXJyYXl9IG1vdXNlIC0gbW91c2UgbG9jYXRpb24gb2YgdGhlIGNsaWNrIGV2ZW50LCB1c2VkIHRvIHBsYWNlIHRoZSBlZGl0IG1vZGUgZGl2IG9uIHRoZSB2aXN1YWxcclxuKiBAcGFyYW0ge3N0cmluZ30gb3B0aW9ucyAtIGNzcyBjbGFzcyBvZiBjbGlja2VkIGVsZW1lbnQsIHByb3ZpZGVzIHRoZSBvcHRpb25zIHRoYXQgYXJlIGVkaXRhYmxlIGJ5IGVkaXQgbW9kZVxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gZGlzcGxheUVkaXQobW91c2UsIG9wdGlvbnMpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcyxcclxuICAgICAgICBtb3VzZVggPSBtb3VzZVswXSxcclxuICAgICAgICBtb3VzZVkgPSBtb3VzZVsxXSxcclxuICAgICAgICBvcHRpb25WYWx1ZXMgPSBbXSxcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSAnJyxcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudCxcclxuICAgICAgICBlZGl0SGVpZ2h0ID0gcGFyc2VGbG9hdChlZGl0T2JqLmVkaXREaXYuc3R5bGUoJ2hlaWdodCcpKSxcclxuICAgICAgICBlZGl0V2lkdGggPSBwYXJzZUZsb2F0KGVkaXRPYmouZWRpdERpdi5zdHlsZSgnd2lkdGgnKSksXHJcbiAgICAgICAgcG9zaXRpb247XHJcblxyXG4gICAgLy9yZXR1cm4gaWYgeW91IGNsaWNrIG9uIHRoZSBzYW1lIGVsZW1lbnQgdHdpY2UsIG5vIG5lZWQgdG8gZGlzcGxheSBhIHNlY29uZCBlZGl0IGRpdiBpZiB0aGUgY3VycmVudCBvbmUgaXMgc3RpbGwgb3BlblxyXG4gICAgaWYgKGVkaXRPYmouZWRpdE9wdGlvbnMgPT09IG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlZGl0T2JqLmVkaXREaXYuaHRtbCgnJyk7XHJcbiAgICBlZGl0T2JqLmVkaXRPcHRpb25zID0gb3B0aW9ucztcclxuXHJcbiAgICAvL2Fzc2lnbiBodG1sIHRvIGVkaXREaXYgKGJhc2ljYWxseSBkaXNwbGF5cyB0aGUgZGl2KVxyXG4gICAgZWRpdE9iai5lZGl0RGl2Lmh0bWwoZWRpdFRlbXBsYXRlKTtcclxuXHJcbiAgICAvL29wdGlvblZhbHVlcyAtIGFuIGFycmF5IG9mIHN0cmluZ3MuXHJcbiAgICAvL1N0cmluZyBpcyB0aGUgaWQgdG8gdGhlIGVsZW1lbnQgaW4gdGhlIGVkaXREaXYgZm9ybS5cclxuICAgIC8vVGhpcyBzdHJpbmcgY29udGFpbnMgdGhlIHNwZWNpZmljIG9wdGlvbiB0aGF0IGlzIGJlaW5nIGNoYW5nZWRcclxuXHJcbiAgICAvL2l0ZW1Ub0NoYW5nZVxyXG4gICAgLy9TdHJpbmcgdGhhdCBpcyB0aGUgY2xhc3Mgb2YgdGhlIHN2ZyBlbGVtZW50IHRvIGJlIGNoYW5nZWQgb24gdGhlIHZpeiBpdHNlbGZcclxuICAgIGVkaXRPcHRpb25FbGVtZW50ID0gZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnI2VkaXQtb3B0aW9uLWVsZW1lbnQnKTtcclxuXHJcbiAgICAvL2lmIHN0YXRlbWVudHMgdG8gZGV0ZXJtaW5lIHdoaWNoIGVkaXQgb3B0aW9ucyB0byBkaXNwbGF5XHJcbiAgICBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS15QXhpcycpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgWSBBeGlzJyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9ICd5QXhpcyc7XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUteEF4aXMnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFggQXhpcycpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneEF4aXMnO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ3lMYWJlbCcpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgWSBMYWJlbCcpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneUxhYmVsJztcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCd4TGFiZWwnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFggTGFiZWwnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3hMYWJlbCc7XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignbGVnZW5kVGV4dCcpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgTGVnZW5kIEl0ZW0nKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1sZWdlbmQtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtYmFyJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBCYXIgQ2hhcnQnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnLmVkaXRhYmxlLWJhcicpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWJhcicpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignYmFyLWNvbC0nKSkuc3BsaXQoJyAnKVswXTtcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1waWUnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFBpZSBTbGljZScpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcuZWRpdGFibGUtcGllJykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtcGllJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdwaWUtc2xpY2UtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtc2NhdHRlcicpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgU2NhdHRlciBQbG90Jyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJy5lZGl0YWJsZS1zY2F0dGVyJykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtc2NhdHRlcicpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignc2NhdHRlci1jaXJjbGUtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtYnViYmxlJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBCdWJibGUgQ2hhcnQnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnLmVkaXRhYmxlLWJ1YmJsZScpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWJ1YmJsZScpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignYnViYmxlLScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWJveCcpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgQm94IGFuZCBXaGlza2VyIFBsb3QnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnLmVkaXRhYmxlLWJveCcpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWJveCcpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignYm94LScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWNvbW1lbnQnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIENvbW1lbnQnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1jb21tZW50LScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXN2ZycpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgQWxsIFRleHQnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnLmVkaXRhYmxlLXRleHQtc2l6ZS1idXR0b25zJykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtdGV4dC1zaXplJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3N2Zyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdGlsbCBuZWVkIHRvIGFkZCBvcHRpb24gdG8gZGlzcGxheSBlZGl0Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtbnVtJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJy5lZGl0YWJsZS1udW0tZm9ybWF0Jykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtbnVtLWZvcm1hdCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtdGV4dCcpID49IDApIHtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcuZWRpdGFibGUtdGV4dC1jb2xvcicpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLXRleHQtY29sb3InKTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcuZWRpdGFibGUtdGV4dC1zaXplJykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtdGV4dC1zaXplJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1jb250ZW50JykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJy5lZGl0YWJsZS1jb250ZW50Jykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtY29udGVudCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vcG9wdWxhdGUgZWRpdCBkaXYgd2l0aCBpbml0aWFsIHZhbHVlc1xyXG4gICAgaWYgKGVkaXRPYmoudml6T3B0aW9uc1tpdGVtVG9DaGFuZ2VdKSB7XHJcbiAgICAgICAgcG9wdWxhdGVTZWxlY3Rpb25zRWRpdE1vZGUoZWRpdE9iai5lZGl0RGl2LCBlZGl0T2JqLnZpek9wdGlvbnNbaXRlbVRvQ2hhbmdlXSk7XHJcbiAgICB9XHJcbiAgICBlZGl0T2JqLmVkaXREaXZcclxuICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKVxyXG4gICAgICAgIC5zdHlsZSgnbGVmdCcsIDAgKyAncHgnKVxyXG4gICAgICAgIC5zdHlsZSgndG9wJywgMCArICdweCcpO1xyXG5cclxuICAgIC8vY2FsY3VsYXRlIHBvc2l0aW9uIG9mIG92ZXJsYXkgZGl2XHJcbiAgICBlZGl0SGVpZ2h0ID0gcGFyc2VGbG9hdChlZGl0T2JqLmVkaXREaXYuc3R5bGUoJ2hlaWdodCcpKTtcclxuICAgIGVkaXRXaWR0aCA9IHBhcnNlRmxvYXQoZWRpdE9iai5lZGl0RGl2LnN0eWxlKCd3aWR0aCcpKTtcclxuICAgIHBvc2l0aW9uID0gZWRpdE9iai5vdmVybGF5RGl2UG9zaXRpb24oZWRpdFdpZHRoLCBlZGl0SGVpZ2h0LCBtb3VzZVgsIG1vdXNlWSk7XHJcblxyXG4gICAgLy9zaG93IHRoZSBuZXcgZWRpdCBkaXZcclxuICAgIGVkaXRPYmouZWRpdERpdlxyXG4gICAgICAgIC5zdHlsZSgnbGVmdCcsIHBvc2l0aW9uLnggKyAncHgnKVxyXG4gICAgICAgIC5zdHlsZSgndG9wJywgcG9zaXRpb24ueSArICdweCcpO1xyXG5cclxuICAgIC8vYWRkIHN1Ym1pdCwgZGVmYXVsdCwgYW5kIGV4aXQgbGlzdGVuZXJzIHRvIHRoZSBkaXZcclxuICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJyNzdWJtaXRFZGl0TW9kZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlZGl0T2JqLnN1Ym1pdEVkaXRNb2RlKG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlKTtcclxuICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnI3N1Ym1pdEVkaXRNb2RlRGVmYXVsdCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlZGl0T2JqLnN1Ym1pdEVkaXRNb2RlKG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlLCB0cnVlKTtcclxuICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnI2V4aXRFZGl0TW9kZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCA9IDA7XHJcblxyXG4gICAgLy9DbGljayBldmVudHMgZm9yIGluY3JlYXNlL2RlY3JlYXNlIGZvbnQgc2l6ZSBidXR0b25zXHJcbiAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcjaW5jcmVhc2VGb250U2l6ZScpLm9uKCdjbGljaycsIGluY3JlYXNlRm9udFNpemUuYmluZChlZGl0T2JqKSk7XHJcbiAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcjZGVjcmVhc2VGb250U2l6ZScpLm9uKCdjbGljaycsIGRlY3JlYXNlRm9udFNpemUuYmluZChlZGl0T2JqKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGluY3JlYXNlRm9udFNpemVcclxuKiBAZGVzYyBJbmNyZWFzZXMgZm9udCBzaXplIGJ5IGFuIGluY3JlbWVudFxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gaW5jcmVhc2VGb250U2l6ZSgpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcyxcclxuICAgICAgICBmb250SW5jcmVtZW50ID0gMSxcclxuICAgICAgICBtYXhTaXplID0gMjg7XHJcbiAgICBpZiAoZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCA8IG1heFNpemUpIHtcclxuICAgICAgICBlZGl0T2JqLmNoYW5nZUZvbnRTaXplKGZvbnRJbmNyZW1lbnQpO1xyXG4gICAgICAgIGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnQrKztcclxuICAgICAgICBlZGl0T2JqLnZpek9wdGlvbnMudGV4dCA9IHsgJ2VkaXRhYmxlLXRleHQtaW5jcmVtZW50JzogZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCB9O1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBkZWNyZWFzZUZvbnRTaXplXHJcbiogQGRlc2MgRGVjcmVhc2VzIGZvbnQgc2l6ZSBieSBhbiBpbmNyZW1lbnRcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIGRlY3JlYXNlRm9udFNpemUoKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXMsXHJcbiAgICAgICAgZm9udERlY3JlbWVudCA9IC0xLFxyXG4gICAgICAgIG1pblNpemUgPSAtMTI7XHJcbiAgICAvL21pbiBzaXplIGlzIG5lZyAxMiBiZWNhdXNlIGRlZmF1bHQgc2l6ZSBpcyAxMnB4IG9uIG91ciBjaGFydHNcclxuICAgIGlmIChlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID4gbWluU2l6ZSkge1xyXG4gICAgICAgIGVkaXRPYmouY2hhbmdlRm9udFNpemUoZm9udERlY3JlbWVudCk7XHJcbiAgICAgICAgZWRpdE9iai5mb250U2l6ZUluY3JlbWVudC0tO1xyXG4gICAgICAgIGVkaXRPYmoudml6T3B0aW9ucy50ZXh0ID0geyAnZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnOiBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50IH07XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGNoYW5nZUZvbnRTaXplXHJcbiogQGRlc2MgSW5jcmVhc2VzIG9yIGRlY3JlYXNlcyBmb250IHNpemUgYnkgYSBjZXJ0YWluIGluY3JlbWVudFxyXG4qIEBwYXJhbSB7aW50ZWdlcn0gaW5jcmVtZW50IC0gbnVtYmVyIG9mIGluY3JlbWVudFxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gY2hhbmdlRm9udFNpemUoaW5jcmVtZW50KSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcbiAgICBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbCgndGV4dCcpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVwZGF0ZUZvbnQodGhpcywgaW5jcmVtZW50KTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5jaGFydERpdi5zZWxlY3RBbGwoJy50ZXh0JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdXBkYXRlRm9udCh0aGlzLCBpbmNyZW1lbnQpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIHVwZGF0ZUZvbnRcclxuKiBAZGVzYyBjaGFuZ2VzIHRoZSBzaXplIG9mIHRoZSBmb250IGJ5IGEgZ2l2ZW4gaW5jcmVtZW50XHJcbiogQHBhcmFtIHtodG1sTm9kZX0gdGhpc0RpdiAtIG5vZGUgdG8gY2hhbmdlIGZvbnQgc2l6ZVxyXG4qIEBwYXJhbSB7aW50ZWdlcn0gaW5jcmVtZW50IC0gbnVtYmVyIG9mIGluY3JlbWVudFxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gdXBkYXRlRm9udCh0aGlzRGl2LCBpbmNyZW1lbnQpIHtcclxuICAgIHZhciBuZXdTaXplLFxyXG4gICAgICAgIHRleHRTaXplID0gMTI7XHJcbiAgICBpZiAodGhpc0RpdiAmJiB0aGlzRGl2LmdldEF0dHJpYnV0ZSgnZm9udC1zaXplJykpIHtcclxuICAgICAgICB0ZXh0U2l6ZSA9IHRoaXNEaXYuZ2V0QXR0cmlidXRlKCdmb250LXNpemUnKTtcclxuICAgICAgICBuZXdTaXplID0gcGFyc2VJbnQodGV4dFNpemUsIDEwKSArIGluY3JlbWVudDtcclxuICAgICAgICB0aGlzRGl2LnNldEF0dHJpYnV0ZSgnZm9udC1zaXplJywgbmV3U2l6ZSArICdweCcpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzRGl2KSB7XHJcbiAgICAgICAgdGV4dFNpemUgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzRGl2LCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCdmb250LXNpemUnKSwgMTApICsgaW5jcmVtZW50O1xyXG4gICAgICAgIHRoaXNEaXYuc3R5bGUuZm9udFNpemUgPSAgdGV4dFNpemUgKyAncHgnO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBwb3B1bGF0ZVNlbGVjdGlvbnNFZGl0TW9kZVxyXG4qIEBkZXNjIEluaXRpYWxseSBwb3B1bGF0ZXMgdGhlIGVkaXREaXYgaWYgdGhlcmUgYXJlIHZpek9wdGlvbnNcclxuKiBAcGFyYW0ge2h0bWxOb2RlfSBlZGl0RGl2IC0gZWRpdCBtb2RlIG9wdGlvbnMgZGl2XHJcbiogQHBhcmFtIHtvYmplY3R9IHZpek9wdGlvbnMgLSBjdXJyZW50IHVzZXIgb3B0aW9ucyB0byBhcHBseSB0byB0aGUgZWRpdCBkaXZcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIHBvcHVsYXRlU2VsZWN0aW9uc0VkaXRNb2RlKGVkaXREaXYsIHZpek9wdGlvbnMpIHtcclxuICAgIGZvciAobGV0IG9wdGlvbiBpbiB2aXpPcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKHZpek9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSkge1xyXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRPYmplY3QgPSBlZGl0RGl2LnNlbGVjdCgnIycgKyBvcHRpb24pLl9ncm91cHNbMF1bMF07XHJcbiAgICAgICAgICAgIC8vZGVmYXVsdCBjb2xvciBpbnB1dHMgdG8gZ3JheVxyXG4gICAgICAgICAgICBpZiAodml6T3B0aW9uc1tvcHRpb25dID09PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdC50eXBlID09PSAnY29sb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkT2JqZWN0LmlkLmluZGV4T2YoJ3RleHQnKSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3QudmFsdWUgPSAnIzAwMDAwMCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3QudmFsdWUgPSAnI2FhYWFhYSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3QudmFsdWUgPSB2aXpPcHRpb25zW29wdGlvbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIHN1Ym1pdEVkaXRNb2RlXHJcbiogQGRlc2MgY2FsbHMgc2F2ZSBjYWxsYmFjayBvbiBlZGl0IG1vZGUgd2l0aCBlZGl0IG9wdGlvbnNcclxuKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uVmFsdWVzIC0gbmV3IHVzZXIgb3B0aW9ucyB0byBzYXZlXHJcbiogQHBhcmFtIHtvYmplY3R9IHBvc3NpYmxlSXRlbVRvQ2hhbmdlIC0gaXRlbSB0aGF0IHRoZSB1c2VyIGNsaWNrZWQgKG1pZ2h0IG5vdCBiZSB0aGUgYWN0dWFsIGl0ZW0gdG8gdXBkYXRlKVxyXG4qIEBwYXJhbSB7b2JqZWN0fSBkZWZhdWx0QnRuQ2xpY2tlZCAtIHJlc2V0IHZpeiBvcHRpb24gdG8gZGVmYXVsdFxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gc3VibWl0RWRpdE1vZGUob3B0aW9uVmFsdWVzLCBwb3NzaWJsZUl0ZW1Ub0NoYW5nZSwgZGVmYXVsdEJ0bkNsaWNrZWQpIHtcclxuICAgIGxldCBlZGl0T2JqID0gdGhpcyxcclxuICAgICAgICBvcHRpb25BcnJheSA9IG9wdGlvblZhbHVlcyxcclxuICAgICAgICBzZWxlY3RlZEVkaXRPcHRpb25zID0ge30sXHJcbiAgICAgICAgZWRpdFZhbHVlLFxyXG4gICAgICAgIHNlbGVjdGVkT2JqLFxyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IHBvc3NpYmxlSXRlbVRvQ2hhbmdlO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb3B0aW9uQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAob3B0aW9uQXJyYXlbaV0uaW5kZXhPZignZWRpdGFibGUtbGVnZW5kJykgPiAwKSB7XHJcbiAgICAgICAgICAgIC8vY2hhbmdlIGl0ZW0gdG8gY2hhbmdlIGZvciBsZWdlbmQgZWxlbWVudHNcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9uQXJyYXlbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGVjdGVkT2JqID0gZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnIycgKyBvcHRpb25BcnJheVtpXSk7XHJcbiAgICAgICAgLy9zZWUgaWYgc2VsZWN0ZWQgb2JqZWN0IGV4aXN0c1xyXG4gICAgICAgIGlmIChzZWxlY3RlZE9iaiAmJiBzZWxlY3RlZE9iai5fZ3JvdXBzWzBdICYmIHNlbGVjdGVkT2JqLl9ncm91cHNbMF1bMF0pIHtcclxuICAgICAgICAgICAgZWRpdFZhbHVlID0gc2VsZWN0ZWRPYmouX2dyb3Vwc1swXVswXS52YWx1ZTtcclxuICAgICAgICAgICAgLy9nZXQgc2VsZWN0ZWQgb3B0aW9uIGZyb20gZWRpdCBkaXZcclxuICAgICAgICAgICAgaWYgKG9wdGlvbkFycmF5W2ldID09PSAnZWRpdGFibGUtY29udGVudCcgJiYgZWRpdFZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgLy9kb250IGFkZCBhbiBlbXB0eSBzdHJpbmcgdG8gdGhlIHZpeiBvcHRpb25zIGZvciBlZGl0YWJsZSBjb250ZW50XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxlY3RlZEVkaXRPcHRpb25zW29wdGlvbkFycmF5W2ldXSA9IGVkaXRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKCghc2VsZWN0ZWRFZGl0T3B0aW9uc1tvcHRpb25BcnJheVtpXV0pICYmIG9wdGlvbkFycmF5W2ldLmluZGV4T2YoJ2NvbnRlbnQnKSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRWRpdE9wdGlvbnNbb3B0aW9uQXJyYXlbaV1dID0gJ2RlZmF1bHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChkZWZhdWx0QnRuQ2xpY2tlZCkge1xyXG4gICAgICAgIGlmIChpdGVtVG9DaGFuZ2UgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBlZGl0T2JqLnZpek9wdGlvbnMudGV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRlIGVkaXRPYmoudml6T3B0aW9uc1tpdGVtVG9DaGFuZ2VdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBlZGl0T2JqLnZpek9wdGlvbnNbaXRlbVRvQ2hhbmdlXSA9IHNlbGVjdGVkRWRpdE9wdGlvbnM7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGl0ZW1Ub0NoYW5nZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgICBkZWxldGUgZWRpdE9iai52aXpPcHRpb25zLnN2ZztcclxuICAgIH1cclxuXHJcbiAgICAvL3NhdmUgdml6T3B0aW9uc1xyXG4gICAgZWRpdE9iai5vblNhdmVDYWxsYmFjayhlZGl0T2JqLnZpek9wdGlvbnMpO1xyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBhcHBseUVkaXRNb2RlXHJcbiogQGRlc2MgYXBwbGllcyBpbmRpdmlkdWFsIHZpeiBvcHRpb24gb24gdGhlIHZpc3VhbFxyXG4qIEBwYXJhbSB7c3RyaW5nfSBpdGVtVG9DaGFuZ2UgLSB2aXogb3B0aW9uIHRvIHVwZGF0ZVxyXG4qIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gdml6IG9wdGlvbiBwcm9wZXJ0aWVzXHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5mdW5jdGlvbiBhcHBseUVkaXRNb2RlKGl0ZW1Ub0NoYW5nZSwgb3B0aW9ucykge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzLFxyXG4gICAgICAgIG9iamVjdCA9IGVkaXRPYmouY2hhcnREaXYuc2VsZWN0KCcuJyArIGl0ZW1Ub0NoYW5nZSksXHJcbiAgICAgICAgb2JqZWN0R3JvdXBzID0gb2JqZWN0Ll9ncm91cHMsXHJcbiAgICAgICAgb2JqZWN0VGFnTmFtZSA9IG9iamVjdEdyb3Vwc1swXVswXSA/IG9iamVjdEdyb3Vwc1swXVswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xyXG5cclxuICAgIGlmIChpdGVtVG9DaGFuZ2UgPT09ICd0ZXh0Jykge1xyXG4gICAgICAgIC8vZG8gc29tZXRoaW5nIGlmIGl0IGlzIGFsbCB0aGUgdGV4dCB0aGF0IGlzIGJlaW5nIGNoYW5nZWRcclxuICAgICAgICBvYmplY3QgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbCgndGV4dCcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vb3B0aW9ucyBieSB0YWdOYW1lXHJcbiAgICBpZiAob2JqZWN0VGFnTmFtZSA9PT0gJ2cnKSB7XHJcbiAgICAgICAgb2JqZWN0ID0gZWRpdE9iai5jaGFydERpdi5zZWxlY3QoJy4nICsgaXRlbVRvQ2hhbmdlKS5zZWxlY3RBbGwoJ3RleHQnKTtcclxuICAgIH0gZWxzZSBpZiAob2JqZWN0VGFnTmFtZSA9PT0gJ3JlY3QnKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2VkaXRhYmxlLWJhciddKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5hdHRyKCdmaWxsJywgb3B0aW9uc1snZWRpdGFibGUtYmFyJ10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtYm94J10pIHtcclxuICAgICAgICAgICAgb2JqZWN0LmF0dHIoJ2ZpbGwnLCBvcHRpb25zWydlZGl0YWJsZS1ib3gnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChvYmplY3RUYWdOYW1lID09PSAnY2lyY2xlJykge1xyXG4gICAgICAgIGlmIChvcHRpb25zWydlZGl0YWJsZS1zY2F0dGVyJ10pIHtcclxuICAgICAgICAgICAgb2JqZWN0LmF0dHIoJ2ZpbGwnLCBvcHRpb25zWydlZGl0YWJsZS1zY2F0dGVyJ10pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtYnViYmxlJ10pIHtcclxuICAgICAgICAgICAgb2JqZWN0LmF0dHIoJ2ZpbGwnLCBvcHRpb25zWydlZGl0YWJsZS1idWJibGUnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChvYmplY3RUYWdOYW1lID09PSAncGF0aCcpIHtcclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtcGllJ10pIHtcclxuICAgICAgICAgICAgb2JqZWN0LmF0dHIoJ2ZpbGwnLCBvcHRpb25zWydlZGl0YWJsZS1waWUnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vc3RhbmRhcmQgb3B0aW9uc1xyXG4gICAgLy9JZiBhIHRleHQgaW5jcmVtZW50IGV4aXN0cywgYXBwbHkgaXQgYmFzZWQgb24gdGhlIHNpZ24gb2YgdGhlIHZhcmlhYmxlXHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnKSkge1xyXG4gICAgICAgIGVkaXRPYmouY2hhbmdlRm9udFNpemUob3B0aW9uc1snZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnXSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlLXRleHQtc2l6ZScpKSB7XHJcbiAgICAgICAgb2JqZWN0LnN0eWxlKCdmb250LXNpemUnLCBvcHRpb25zWydlZGl0YWJsZS10ZXh0LXNpemUnXSArICdweCcpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlLXRleHQtY29sb3InKSkge1xyXG4gICAgICAgIG9iamVjdC5zdHlsZSgnZmlsbCcsIG9wdGlvbnNbJ2VkaXRhYmxlLXRleHQtY29sb3InXSk7XHJcbiAgICAgICAgb2JqZWN0LnN0eWxlKCdjb2xvcicsIG9wdGlvbnNbJ2VkaXRhYmxlLXRleHQtY29sb3InXSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtbnVtLWZvcm1hdCcpKSB7XHJcbiAgICAgICAgbGV0IGV4cHJlc3Npb24gPSBnZXRGb3JtYXRFeHByZXNzaW9uKG9wdGlvbnNbJ2VkaXRhYmxlLW51bS1mb3JtYXQnXSk7XHJcbiAgICAgICAgb2JqZWN0XHJcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLnRleHQoKGQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oZCkgJiYgdHlwZW9mIGV4cHJlc3Npb24gPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGV4cHJlc3Npb24oZCkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlLWNvbnRlbnQnKSkge1xyXG4gICAgICAgIGlmIChvcHRpb25zWydlZGl0YWJsZS1jb250ZW50J10ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBvYmplY3QuaHRtbChvcHRpb25zWydlZGl0YWJsZS1jb250ZW50J10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVkaXRPYmoucmVtb3ZlRWRpdCgpO1xyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBhcHBseUFsbEVkaXRzXHJcbiogQGRlc2MgYXBwbGllcyBhbGwgdml6IG9wdGlvbnMgaW4gdGhlIGVkaXQgbW9kZSBvYmplY3RcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIGFwcGx5QWxsRWRpdHMoKSB7XHJcbiAgICBsZXQgZWRpdE9iaiA9IHRoaXM7XHJcbiAgICBmb3IgKGxldCBvcHRpb24gaW4gZWRpdE9iai52aXpPcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGVkaXRPYmoudml6T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pICYmIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgZWRpdE9iai5hcHBseUVkaXRNb2RlKG9wdGlvbiwgZWRpdE9iai52aXpPcHRpb25zW29wdGlvbl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgcmVtb3ZlRWRpdFxyXG4qIEBkZXNjIHJlbW92ZXMgZWRpdCBkaXYgZnJvbSB0aGUgdmlzdWFsXHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5mdW5jdGlvbiByZW1vdmVFZGl0KCkge1xyXG4gICAgbGV0IGVkaXRPYmogPSB0aGlzO1xyXG4gICAgaWYgKGVkaXRPYmouZWRpdERpdikge1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5odG1sKCcnKTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXZcclxuICAgICAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgIH1cclxuICAgIGVkaXRPYmouZWRpdE9wdGlvbnMgPSAnJztcclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgb3ZlcmxheURpdlBvc2l0aW9uXHJcbiogQGRlc2MgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHRoZSBwbGFjZW1lbnQgb2YgdGhlIGRpdiBvbiB0aGUgdmlzdWFsXHJcbiogQHBhcmFtIHtudW1iZXJ9IGRpdldpZHRoIC0gd2lkdGggb2YgdGhlIGNvbW1lbnQgZW50cnkgYm94XHJcbiogQHBhcmFtIHtudW1iZXJ9IGRpdkhlaWdodCAtIGhlaWdodCBvZiB0aGUgY29tbWVudCBlbnRyeSBib3hcclxuKiBAcGFyYW0ge251bWJlcn0gbW91c2VYIC0geCBwb3NpdGlvbiBvZiB0aGUgY2xpY2sgZXZlbnRcclxuKiBAcGFyYW0ge251bWJlcn0gbW91c2VZIC0geSBwb3NpdGlvbiBvZiB0aGUgY2xpY2sgZXZlbnRcclxuKiBAcmV0dXJuIHtvYmplY3R9IC0gcG9zaXRpb24gb2YgZGl2XHJcbiovXHJcbmZ1bmN0aW9uIG92ZXJsYXlEaXZQb3NpdGlvbihkaXZXaWR0aCwgZGl2SGVpZ2h0LCBtb3VzZVgsIG1vdXNlWSkge1xyXG4gICAgbGV0IGVkaXRPYmogPSB0aGlzLFxyXG4gICAgICAgIHBvc2l0aW9uID0ge1xyXG4gICAgICAgICAgICB4OiBtb3VzZVgsXHJcbiAgICAgICAgICAgIHk6IG1vdXNlWSArIDEwXHJcbiAgICAgICAgfTtcclxuICAgIGlmIChtb3VzZVggPiBwYXJzZUludChlZGl0T2JqLmNoYXJ0RGl2LnN0eWxlKCd3aWR0aCcpLCAxMCkgLyAyKSB7XHJcbiAgICAgICAgcG9zaXRpb24ueCA9IG1vdXNlWCAtIGRpdldpZHRoO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vdXNlWSAtIGRpdkhlaWdodCAtIDEwID4gMCkge1xyXG4gICAgICAgIHBvc2l0aW9uLnkgPSBtb3VzZVkgLSBkaXZIZWlnaHQgLSAxMDtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgZ2V0Rm9ybWF0RXhwcmVzc2lvblxyXG4qIEBkZXNjIHJldHVybnMgdGhlIGQzIGZvcm1hdCBleHByZXNzaW9uIGZvciBhIGdpdmVuIG9wdGlvblxyXG4qIEBwYXJhbSB7c3RyaW5nfSBvcHRpb24gLSB0eXBlIG9mIGRhdGEgZm9ybWF0XHJcbiogQHJldHVybiB7ZnVuY3Rpb259IC0gZXhwcmVzc2lvblxyXG4qL1xyXG5mdW5jdGlvbiBnZXRGb3JtYXRFeHByZXNzaW9uKG9wdGlvbikge1xyXG4gICAgbGV0IGV4cHJlc3Npb24gPSAnJyxcclxuICAgICAgICBwO1xyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2N1cnJlbmN5Jykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJyQsJyk7XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbiA9PT0gJ2ZpeGVkQ3VycmVuY3knKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnKCQuMmYnKTtcclxuICAgIH0gZWxzZSBpZiAob3B0aW9uID09PSAncGVyY2VudCcpIHtcclxuICAgICAgICBwID0gTWF0aC5tYXgoMCwgZDMucHJlY2lzaW9uRml4ZWQoMC4wNSkgLSAyKTtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcuJyArIHAgKyAnJScpO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb24gPT09ICdtaWxsaW9ucycpIHtcclxuICAgICAgICBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXRQcmVmaXgoJy4nICsgcCwgMS4zZTYpO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb24gPT09ICdjb21tYXMnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLC4wZicpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBleHByZXNzaW9uO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2RWRpdDtcclxuIiwiLyoqKmp2RXZlbnRzXHJcbiAqIEV2ZW50aW5nIGxheWVyIG9uIHRvcCBvZiBKViBDaGFydHMgdG8gYWxsb3cgY3VzdG9tIGNhbGxiYWNrcyB0byBiZSBhdHRhY2hlZCB0byBtb3VzZSBldmVudHNcclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4vanZDaGFydHMuanMnKSxcclxuICAgIGp2Q29tbWVudCA9IHJlcXVpcmUoJy4vanZDb21tZW50LmpzJyksXHJcbiAgICBqdkVkaXQgPSByZXF1aXJlKCcuL2p2RWRpdC5qcycpLFxyXG4gICAganZCcnVzaCA9IHJlcXVpcmUoJy4vanZCcnVzaC5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmluaXRpYWxpemVNb2RlcyA9IGluaXRpYWxpemVNb2RlcztcclxuanZDaGFydHMucHJvdG90eXBlLmNyZWF0ZURlZmF1bHRNb2RlID0gY3JlYXRlRGVmYXVsdE1vZGU7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jcmVhdGVDb21tZW50TW9kZSA9IGNyZWF0ZUNvbW1lbnRNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuY3JlYXRlRWRpdE1vZGUgPSBjcmVhdGVFZGl0TW9kZTtcclxuanZDaGFydHMucHJvdG90eXBlLmNyZWF0ZUJydXNoTW9kZSA9IGNyZWF0ZUJydXNoTW9kZTtcclxuanZDaGFydHMucHJvdG90eXBlLmNyZWF0ZVNlbGVjdE1vZGUgPSBjcmVhdGVTZWxlY3RNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUudG9nZ2xlTW9kZXMgPSB0b2dnbGVNb2RlcztcclxuanZDaGFydHMucHJvdG90eXBlLnRvZ2dsZURlZmF1bHRNb2RlID0gdG9nZ2xlRGVmYXVsdE1vZGU7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS50b2dnbGVDb21tZW50TW9kZSA9IHRvZ2dsZUNvbW1lbnRNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUudG9nZ2xlRWRpdE1vZGUgPSB0b2dnbGVFZGl0TW9kZTtcclxuanZDaGFydHMucHJvdG90eXBlLnRvZ2dsZUJydXNoTW9kZSA9IHRvZ2dsZUJydXNoTW9kZTtcclxuanZDaGFydHMucHJvdG90eXBlLnRvZ2dsZVNlbGVjdE1vZGUgPSB0b2dnbGVTZWxlY3RNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuYWRkQnJ1c2hFdmVudHMgPSBhZGRCcnVzaEV2ZW50cztcclxuXHJcbi8qKlxyXG4qIEBuYW1lIGluaXRpYWxpemVNb2Rlc1xyXG4qIEBkZXNjIGZ1bmN0aW9uIHRoYXQgaW5pdGlhbGl6ZXMgYW5kIGNyZWF0ZXMgdGhlIGNoYXJ0IHRvb2xiYXJcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVNb2RlcygpIHtcclxuICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgY2FsbGJhY2tzID0gY2hhcnQuY29uZmlnLmNhbGxiYWNrcztcclxuXHJcbiAgICAvL2NoZWNrIGlmIGNhbGxiYWNrcyBhcmUgbmVlZGVkXHJcbiAgICBpZiAoY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgZm9yIChsZXQgbW9kZSBpbiBjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgLy9sb29wIHRocm91Z2ggYWxsIHRoZSB0eXBlcyBvZiBtb2RlcyB0byBpbml0aWFsaXplIHRoZSBtb2RlIGFuZCByZWdpc3RlciB0aGUgYXBwcm9wcmlhdGUgZXZlbnRzXHJcbiAgICAgICAgICAgIGlmIChjYWxsYmFja3MuaGFzT3duUHJvcGVydHkobW9kZSkgJiYgY2FsbGJhY2tzW21vZGVdKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgY2FtZWxDYXNlTW9kZSA9IG1vZGUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBtb2RlLnNsaWNlKDEpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnRbbW9kZV0gPSBjaGFydFsnY3JlYXRlJyArIGNhbWVsQ2FzZU1vZGVdKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYXJ0LmVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmVkaXRNb2RlLmFwcGx5QWxsRWRpdHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hhcnQudG9nZ2xlTW9kZXMoY2hhcnQubW9kZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmNyZWF0ZURlZmF1bHRNb2RlKCk7XHJcbiAgICAgICAgLy91c2VyIGhhcyBub3QgZGVmaW5lZCBhbnkgb3RoZXIgbW9kZXMsIHNvIGp1c3QgdXNlIGRlZmF1bHQgbW9kZVxyXG4gICAgICAgIGNoYXJ0LnRvZ2dsZURlZmF1bHRNb2RlKCdkZWZhdWx0LW1vZGUnKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgY3JlYXRlRGVmYXVsdE1vZGVcclxuKiBAZGVzYyBmdW5jdGlvbiB0aGF0IGluaXRpYWxpemVzIGFuZCBjcmVhdGVzIHRoZSBkZWZhdWx0IG1vZGVcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIGNyZWF0ZURlZmF1bHRNb2RlKCkge1xyXG4gICAgbGV0IGNoYXJ0ID0gdGhpcztcclxuICAgIGlmIChjaGFydC5jb25maWcuY2FsbGJhY2tzICYmIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MuZGVmYXVsdE1vZGUub25CcnVzaCkge1xyXG4gICAgICAgIGNoYXJ0LmJydXNoTW9kZSA9IGNoYXJ0LmNyZWF0ZUJydXNoTW9kZShjaGFydC5jb25maWcuY2FsbGJhY2tzLmRlZmF1bHRNb2RlLm9uQnJ1c2gpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBjcmVhdGVDb21tZW50TW9kZVxyXG4qIEBkZXNjIGZ1bmN0aW9uIHRoYXQgaW5pdGlhbGl6ZXMgYW5kIGNyZWF0ZXMgdGhlIGNvbW1lbnQgbW9kZVxyXG4qIEByZXR1cm4ge2p2Q29tbWVudH0gLSBjcmVhdGVkIGNvbW1lbnQgbW9kZVxyXG4qL1xyXG5mdW5jdGlvbiBjcmVhdGVDb21tZW50TW9kZSgpIHtcclxuICAgIGxldCBjaGFydCA9IHRoaXM7XHJcbiAgICByZXR1cm4gbmV3IGp2Q29tbWVudCh7XHJcbiAgICAgICAgY2hhcnREaXY6IGNoYXJ0LmNoYXJ0RGl2LFxyXG4gICAgICAgIGNvbW1lbnRzOiBjaGFydC5jb25maWcuY29tbWVudHMgfHwge30sXHJcbiAgICAgICAgb25TYXZlQ2FsbGJhY2s6IGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MuY29tbWVudE1vZGUub25TYXZlLFxyXG4gICAgICAgIGdldE1vZGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Lm1vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGNyZWF0ZUVkaXRNb2RlXHJcbiogQGRlc2MgZnVuY3Rpb24gdGhhdCBpbml0aWFsaXplcyBhbmQgY3JlYXRlcyB0aGUgZWRpdCBtb2RlXHJcbiogQHJldHVybiB7anZFZGl0fSAtIGNyZWF0ZWQgZWRpdCBtb2RlIG9iamVjdFxyXG4qL1xyXG5mdW5jdGlvbiBjcmVhdGVFZGl0TW9kZSgpIHtcclxuICAgIGxldCBjaGFydCA9IHRoaXM7XHJcbiAgICByZXR1cm4gbmV3IGp2RWRpdCh7XHJcbiAgICAgICAgY2hhcnREaXY6IGNoYXJ0LmNoYXJ0RGl2LFxyXG4gICAgICAgIHZpek9wdGlvbnM6IGNoYXJ0LmNvbmZpZy5lZGl0T3B0aW9ucyB8fCB7fSxcclxuICAgICAgICBvblNhdmVDYWxsYmFjazogY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5lZGl0TW9kZS5vblNhdmVcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBjcmVhdGVCcnVzaE1vZGVcclxuKiBAZGVzYyBmdW5jdGlvbiB0aGF0IGluaXRpYWxpemVzIGFuZCBjcmVhdGVzIHRoZSBicnVzaCBtb2RlXHJcbiogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tQYXJhbSAtIGZ1bmN0aW9uIHRoYXQgaXMgYW4gb3B0aW9uYWwgY2FsbGJhY2sgZm9yIGJydXNoIG1vZGVcclxuKiBAcmV0dXJuIHtqdkJydXNofSAtIGNyZWF0ZWQgYnJ1c2ggbW9kZSBvYmplY3RcclxuKi9cclxuZnVuY3Rpb24gY3JlYXRlQnJ1c2hNb2RlKGNhbGxiYWNrUGFyYW0pIHtcclxuICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja1BhcmFtO1xyXG4gICAgaWYgKCFjYWxsYmFjaykge1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcuY2FsbGJhY2tzLmJydXNoTW9kZSAmJiB0eXBlb2YgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5icnVzaE1vZGUub25CcnVzaCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MuYnJ1c2hNb2RlLm9uQnJ1c2g7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vIGJydXNoIGNhbGxiYWNrLCBwYXNzIGl0IGludG8gdGhlIGNhbGxiYWNrcyBvcHRpb24nKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBqdkJydXNoKHtcclxuICAgICAgICBjaGFydERpdjogY2hhcnQuY2hhcnREaXYsXHJcbiAgICAgICAganZDaGFydDogY2hhcnQsXHJcbiAgICAgICAgb25CcnVzaENhbGxiYWNrOiBjYWxsYmFja1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGNyZWF0ZVNlbGVjdE1vZGVcclxuKiBAZGVzYyBmdW5jdGlvbiB0aGF0IGluaXRpYWxpemVzIGFuZCBjcmVhdGVzIHRoZSBzZWxlY3QgbW9kZVxyXG4qIEByZXR1cm4ge2Jvb2xlYW59IC0gdHJ1ZSBzaW5jZSB0aGUgY3JlYXRpb24gb2YgYSBtb2RlIGlzIG9ubHkgY2FsbGVkIHdoZW4gY2FsbGJhY2tzIGZvciB0aGUgbW9kZSBleGlzdFxyXG4qL1xyXG5mdW5jdGlvbiBjcmVhdGVTZWxlY3RNb2RlKCkge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIHRvZ2dsZU1vZGVzXHJcbiogQGRlc2Mgc2V0cyB0aGUgY29ycmVjdCBldmVudHMgZm9yIHRoZSBzcGVjaWZpYyBtb2RlIHBhcmFtXHJcbiogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBzcGVjaWZpZWQgbW9kZSB0byB0b2dnbGUgdG9cclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIHRvZ2dsZU1vZGVzKG1vZGUpIHtcclxuICAgIGxldCBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC50b2dnbGVEZWZhdWx0TW9kZShtb2RlKTtcclxuICAgIGNoYXJ0LmNvbW1lbnRNb2RlICYmIGNoYXJ0LnRvZ2dsZUNvbW1lbnRNb2RlKG1vZGUpO1xyXG4gICAgY2hhcnQuZWRpdE1vZGUgJiYgY2hhcnQudG9nZ2xlRWRpdE1vZGUobW9kZSk7XHJcbiAgICBjaGFydC5icnVzaE1vZGUgJiYgY2hhcnQudG9nZ2xlQnJ1c2hNb2RlKG1vZGUpO1xyXG4gICAgY2hhcnQuc2VsZWN0TW9kZSAmJiBjaGFydC50b2dnbGVTZWxlY3RNb2RlKG1vZGUpO1xyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSB0b2dnbGVEZWZhdWx0TW9kZVxyXG4qIEBkZXNjIHVwZGF0ZXMgZXZlbnQgbGlzdGVuZXJzIGZvciBkZWZhdWx0IG1vZGVcclxuKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIHNwZWNpZmllZCBtb2RlIHRvIHRvZ2dsZSB0b1xyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gdG9nZ2xlRGVmYXVsdE1vZGUobW9kZSkge1xyXG4gICAgbGV0IGNoYXJ0ID0gdGhpcztcclxuICAgIGlmIChtb2RlID09PSAnZGVmYXVsdC1tb2RlJykge1xyXG4gICAgICAgIGxldCBkZWZhdWx0TW9kZSA9IGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MgPyBjaGFydC5jb25maWcuY2FsbGJhY2tzLmRlZmF1bHRNb2RlIDogZmFsc2UsXHJcbiAgICAgICAgICAgIGVudGlyZVN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnc3ZnJyksXHJcbiAgICAgICAgICAgIGNhbGxiYWNrcztcclxuICAgICAgICAvL2NoYW5nZSBjdXJzb3IgYW5kIHNob3cgdG9vbHRpcHNcclxuICAgICAgICBjaGFydC5jaGFydERpdi5zdHlsZSgnY3Vyc29yJywgJ2RlZmF1bHQnKTtcclxuICAgICAgICBjaGFydC5zaG93VG9vbFRpcCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vcmV0dXJuIGlmIG5vIGNhbGxiYWNrcyBleGlzdFxyXG4gICAgICAgIGlmICghZGVmYXVsdE1vZGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYWxsYmFja3MgPSB7XHJcbiAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IChldmVudCwgbm9kZSwgbW91c2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVmYXVsdE1vZGUub25Eb3VibGVDbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXRydW5PYmogPSBjaGFydFtjaGFydC5jb25maWcudHlwZV0uZ2V0RXZlbnREYXRhLmNhbGwoY2hhcnQsIGV2ZW50LCBtb3VzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0cnVuT2JqLmV2ZW50VHlwZSA9ICdkb3VibGVDbGljayc7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdE1vZGUub25Eb3VibGVDbGljayhyZXRydW5PYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoZXZlbnQsIG5vZGUsIG1vdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRlZmF1bHRNb2RlLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV0cnVuT2JqID0gY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdLmdldEV2ZW50RGF0YS5jYWxsKGNoYXJ0LCBldmVudCwgbW91c2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHJ1bk9iai5ldmVudFR5cGUgPSAnY2xpY2snO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNb2RlLm9uQ2xpY2socmV0cnVuT2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChkZWZhdWx0TW9kZS5vbkJydXNoICYmIGNoYXJ0LmJydXNoTW9kZSkge1xyXG4gICAgICAgICAgICBjYWxsYmFja3MubW91c2Vkb3duID0gYWRkQnJ1c2hNb3VzZWRvd24uYmluZChjaGFydCk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrcy5tb3VzZXVwID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuY2hhcnREaXYuc2VsZWN0KCdzdmcnKS5vbignbW91c2Vtb3ZlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuY2hhcnREaXYuc2VsZWN0KCdzdmcnKS5zdHlsZSgnY3Vyc29yJywgJ2RlZmF1bHQnKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmJydXNoTW9kZS5yZW1vdmVCcnVzaCgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZWdpc3RlckNsaWNrRXZlbnRzKGVudGlyZVN2ZywgY2FsbGJhY2tzKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9yZW1vdmUgdG9vbHRpcHMgYW5kIGFueSBoaWdobGlnaHRzXHJcbiAgICAgICAgY2hhcnQuc2hvd1Rvb2xUaXAgPSBmYWxzZTtcclxuICAgICAgICBjaGFydC5yZW1vdmVIaWdobGlnaHQoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgdG9nZ2xlQ29tbWVudE1vZGVcclxuKiBAZGVzYyB1cGRhdGVzIGV2ZW50IGxpc3RlbmVycyBmb3IgY29tbWVudCBtb2RlXHJcbiogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBzcGVjaWZpZWQgbW9kZSB0byB0b2dnbGUgdG9cclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIHRvZ2dsZUNvbW1lbnRNb2RlKG1vZGUpIHtcclxuICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgY29tbWVudE9iaiA9IGNoYXJ0LmNvbW1lbnRNb2RlO1xyXG4gICAgaWYgKG1vZGUgPT09ICdjb21tZW50LW1vZGUnKSB7XHJcbiAgICAgICAgbGV0IGVudGlyZVN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnc3ZnJyksXHJcbiAgICAgICAgICAgIGNhbGxiYWNrcyA9IHtcclxuICAgICAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IChldmVudCwgbm9kZSwgbW91c2UpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb21tZW50T2JqLm1ha2VDb21tZW50KG5vZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5jb21tZW50TW9kZS5vbkRvdWJsZUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXRydW5PYmogPSBjaGFydFtjaGFydC5jb25maWcudHlwZV0uZ2V0RXZlbnREYXRhLmNhbGwoY2hhcnQsIGV2ZW50LCBtb3VzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ1bk9iai5ldmVudFR5cGUgPSAnZG91YmxlQ2xpY2snO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLmNvbW1lbnRNb2RlLm9uRG91YmxlQ2xpY2socmV0cnVuT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgb25DbGljazogKGV2ZW50LCBub2RlLCBtb3VzZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5jb21tZW50TW9kZS5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXRydW5PYmogPSBjaGFydFtjaGFydC5jb25maWcudHlwZV0uZ2V0RXZlbnREYXRhLmNhbGwoY2hhcnQsIGV2ZW50LCBtb3VzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHJ1bk9iai5ldmVudFR5cGUgPSAnY2xpY2snO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLmNvbW1lbnRNb2RlLm9uQ2xpY2socmV0cnVuT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgcmVnaXN0ZXJDbGlja0V2ZW50cyhlbnRpcmVTdmcsIGNhbGxiYWNrcyk7XHJcbiAgICAgICAgLy9zZXQgY3Vyc29yIGZvciBjb21tZW50IG1vZGVcclxuICAgICAgICBjaGFydC5jaGFydERpdi5zdHlsZSgnY3Vyc29yJywgJ3BvaW50ZXInKTtcclxuICAgICAgICAvL2FkZCBtb3ZlbWVudGxpc3RlbmVyc1xyXG4gICAgICAgIGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdEFsbCgnLm1pbi1jb21tZW50JylcclxuICAgICAgICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2xvZ2ljIHRvIG1vdmUgY29tbWVudHNcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouY3JlYXRlTW92ZUxpc3RlbmVyKGQzLnNlbGVjdCh0aGlzKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignbW91c2V1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50T2JqLm1vdmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudE9iai51cGRhdGVQb3NpdGlvbihjb21tZW50T2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmoubW92ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmNoYXJ0RGl2Lm9uKCdtb3VzZW1vdmUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb21tZW50T2JqLnJlbW92ZUNvbW1lbnQoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgdG9nZ2xlRWRpdE1vZGVcclxuKiBAZGVzYyB1cGRhdGVzIGV2ZW50IGxpc3RlbmVycyBmb3IgZWRpdCBtb2RlXHJcbiogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBzcGVjaWZpZWQgbW9kZSB0byB0b2dnbGUgdG9cclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIHRvZ2dsZUVkaXRNb2RlKG1vZGUpIHtcclxuICAgIGxldCBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgZWRpdE9iaiA9IGNoYXJ0LmVkaXRNb2RlLFxyXG4gICAgICAgIGVudGlyZVN2ZyA9IGVkaXRPYmouY2hhcnREaXYuc2VsZWN0KCdzdmcnKTtcclxuICAgIGlmIChtb2RlID09PSAnZWRpdC1tb2RlJykge1xyXG4gICAgICAgIGVkaXRPYmouY2hhcnREaXYuc3R5bGUoJ2N1cnNvcicsICdkZWZhdWx0Jyk7XHJcbiAgICAgICAgZW50aXJlU3ZnLnNlbGVjdEFsbCgnLmV2ZW50LXJlY3QnKVxyXG4gICAgICAgICAgICAuYXR0cignZGlzcGxheScsICdub25lJyk7XHJcblxyXG4gICAgICAgIGxldCBjYWxsYmFja3MgPSB7XHJcbiAgICAgICAgICAgIG9uRG91YmxlQ2xpY2s6IChldmVudCwgbm9kZSwgbW91c2UpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5lZGl0TW9kZS5vbkRvdWJsZUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ1bk9iaiA9IGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5nZXRFdmVudERhdGEuY2FsbChjaGFydCwgZXZlbnQsIG1vdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXRydW5PYmouZXZlbnRUeXBlID0gJ2RvdWJsZUNsaWNrJztcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLmVkaXRNb2RlLm9uRG91YmxlQ2xpY2socmV0cnVuT2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGljazogKGV2ZW50LCBub2RlLCBtb3VzZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy9lZGl0IG1vZGUgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICAvL2dvaW5nIHRvIGJlIG1vdXNlb3ZlciB0byBoaWdobGlnaHQgb3B0aW9ucyBmb3Igd2hhdGV2ZXIgcGllY2UgeW91IGhvdmVyIG92ZXJcclxuICAgICAgICAgICAgICAgIGxldCBjbGFzc1RleHQgPSBkMy5zZWxlY3QoZXZlbnQudGFyZ2V0KS5hdHRyKCdjbGFzcycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc1RleHQuaW5kZXhPZignZWRpdGFibGUnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRPYmouZGlzcGxheUVkaXQobW91c2UsIGNsYXNzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5lZGl0TW9kZS5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ1bk9iaiA9IGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5nZXRFdmVudERhdGEuY2FsbChjaGFydCwgZXZlbnQsIG1vdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXRydW5PYmouZXZlbnRUeXBlID0gJ2NsaWNrJztcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLmVkaXRNb2RlLm9uQ2xpY2socmV0cnVuT2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy9jbGVhciBzdmcgbGlzdGVuZXJzXHJcbiAgICAgICAgcmVnaXN0ZXJDbGlja0V2ZW50cyhlbnRpcmVTdmcpO1xyXG4gICAgICAgIC8vYWRkIGNoYXJ0IGRpdiBsZXZlbCBsaXN0ZW5lcnNcclxuICAgICAgICByZWdpc3RlckNsaWNrRXZlbnRzKGVkaXRPYmouY2hhcnREaXYsIGNhbGxiYWNrcyk7XHJcblxyXG4gICAgICAgIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCcuZWRpdGFibGUnKS5jbGFzc2VkKCdwb2ludGVyJywgdHJ1ZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vY2xlYXIgY2hhcnQgZGl2IGxldmVsIGxpc3RlbmVyc1xyXG4gICAgICAgIHJlZ2lzdGVyQ2xpY2tFdmVudHMoZWRpdE9iai5jaGFydERpdik7XHJcbiAgICAgICAgZWRpdE9iai5yZW1vdmVFZGl0KCk7XHJcbiAgICAgICAgZW50aXJlU3ZnLnNlbGVjdEFsbCgnLmVkaXRhYmxlJykuY2xhc3NlZCgncG9pbnRlcicsIGZhbHNlKTtcclxuICAgICAgICBlbnRpcmVTdmcuc2VsZWN0QWxsKCcuZXZlbnQtcmVjdCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIHRvZ2dsZUJydXNoTW9kZVxyXG4qIEBkZXNjIHVwZGF0ZXMgZXZlbnQgbGlzdGVuZXJzIGZvciBicnVzaCBtb2RlXHJcbiogQHBhcmFtIHtzdHJpbmd9IG1vZGUgLSBzcGVjaWZpZWQgbW9kZSB0byB0b2dnbGUgdG9cclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIHRvZ2dsZUJydXNoTW9kZShtb2RlKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgaWYgKG1vZGUgPT09ICdicnVzaC1tb2RlJyAmJiBjaGFydC5jb25maWcuY2FsbGJhY2tzLmJydXNoTW9kZSkge1xyXG4gICAgICAgIGNoYXJ0LmFkZEJydXNoRXZlbnRzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIHRvZ2dsZVNlbGVjdE1vZGVcclxuKiBAZGVzYyB1cGRhdGVzIGV2ZW50IGxpc3RlbmVycyBmb3Igc2VsZWN0IG1vZGVcclxuKiBAcGFyYW0ge3N0cmluZ30gbW9kZSAtIHNwZWNpZmllZCBtb2RlIHRvIHRvZ2dsZSB0b1xyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gdG9nZ2xlU2VsZWN0TW9kZShtb2RlKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgaWYgKG1vZGUgPT09ICdzZWxlY3QtbW9kZScpIHtcclxuICAgICAgICBsZXQgY2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICBvbkRvdWJsZUNsaWNrOiAoZXZlbnQsIG5vZGUsIG1vdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3Muc2VsZWN0TW9kZS5vbkRvdWJsZUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ1bk9iaiA9IGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5nZXRFdmVudERhdGEuY2FsbChjaGFydCwgZXZlbnQsIG1vdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXRydW5PYmouZXZlbnRUeXBlID0gJ2RvdWJsZUNsaWNrJztcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLnNlbGVjdE1vZGUub25Eb3VibGVDbGljayhyZXRydW5PYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoZXZlbnQsIG5vZGUsIG1vdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3Muc2VsZWN0TW9kZS5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ1bk9iaiA9IGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5nZXRFdmVudERhdGEuY2FsbChjaGFydCwgZXZlbnQsIG1vdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXRydW5PYmouZXZlbnRUeXBlID0gJ2NsaWNrJztcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLnNlbGVjdE1vZGUub25DbGljayhyZXRydW5PYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZWdpc3RlckNsaWNrRXZlbnRzKGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnc3ZnJyksIGNhbGxiYWNrcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGFkZEJydXNoRXZlbnRzXHJcbiogQGRlc2MgcmVnaXN0ZXJzIGV2ZW50cyBmb3IgYnJ1c2ggbW9kZVxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gYWRkQnJ1c2hFdmVudHMoKSB7XHJcbiAgICBsZXQgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIGVudGlyZVN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnc3ZnJyksXHJcbiAgICAgICAgY2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICBtb3VzZWRvd246IGFkZEJydXNoTW91c2Vkb3duLmJpbmQoY2hhcnQpLFxyXG4gICAgICAgICAgICBtb3VzZXVwOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5jaGFydERpdi5zZWxlY3QoJ3N2ZycpLm9uKCdtb3VzZW1vdmUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5icnVzaE1vZGUucmVtb3ZlQnJ1c2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICByZWdpc3RlckNsaWNrRXZlbnRzKGVudGlyZVN2ZywgY2FsbGJhY2tzKTtcclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgYWRkQnJ1c2hNb3VzZWRvd25cclxuKiBAZGVzYyBjcmVhdGVzIG1vdXNlZG93biBldmVudCBmb3IgYnJ1c2ggbW9kZVxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuZnVuY3Rpb24gYWRkQnJ1c2hNb3VzZWRvd24oKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIGJydXNoU3RhcnRlZCA9IGZhbHNlLFxyXG4gICAgICAgIGJydXNoQ29udGFpbmVyID0gY2hhcnQuY2hhcnREaXYuc2VsZWN0KCcuJyArIGNoYXJ0LmNvbmZpZy50eXBlICsgJy1jb250YWluZXInKS5ub2RlKCksXHJcbiAgICAgICAgZW50aXJlU3ZnID0gY2hhcnQuY2hhcnREaXYuc2VsZWN0KCdzdmcnKSxcclxuICAgICAgICB0aW1lTW91c2VEb3duID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcblxyXG4gICAgZW50aXJlU3ZnLm9uKCdtb3VzZW1vdmUnLCAoKSA9PiB7XHJcbiAgICAgICAgdmFyIHRpbWVNb3VzZU1vdmUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBpZiAodGltZU1vdXNlRG93biA+IHRpbWVNb3VzZU1vdmUgLSAxMCkge1xyXG4gICAgICAgICAgICAvL21vdXNlIG1vdmUgaGFwcGVuZCB0b28gcXVpY2tseSwgY2hyb21lIGJ1Z1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChicnVzaFN0YXJ0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY29udGFpbmVyQm94LFxyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICBtb3VzZTtcclxuICAgICAgICBpZiAoYnJ1c2hDb250YWluZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjaGFydC5icnVzaE1vZGUuc3RhcnRCcnVzaChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIGJydXNoU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyQm94ID0gYnJ1c2hDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIG1vdXNlID0gZDMubW91c2UoZW50aXJlU3ZnLm5vZGUoKSk7XHJcbiAgICAgICAgICAgIHggPSBtb3VzZVswXTtcclxuICAgICAgICAgICAgeSA9IG1vdXNlWzFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHggPCBjb250YWluZXJCb3gucmlnaHQgJiYgeSA8IGNvbnRhaW5lckJveC5ib3R0b20gJiYgeCA+IGNvbnRhaW5lckJveC5sZWZ0ICYmIHkgPiBjb250YWluZXJCb3gudG9wKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5icnVzaE1vZGUuc3RhcnRCcnVzaChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICBicnVzaFN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIHJlZ2lzdGVyQ2xpY2tFdmVudHNcclxuKiBAZGVzYyByZWdpc3RlciBoYW5kbGVyIGZvciBqdiBldmVudHNcclxuKiBAcGFyYW0ge2QzZWxlbWVudH0gc3ZnIC0gZDMgc2VsZWN0ZWQgZWxlbWVudCB0byBiaW5kIGV2ZW50cyBvblxyXG4qIEBwYXJhbSB7b2JqZWN0fSBsaXN0ZW5lcnMgLSBjYWxsYmFja3MgdG8gcnVuIGZvciBlYWNoIHR5cGUgb2YgY2xpY2sgZXZlbnRcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQ2xpY2tFdmVudHMoc3ZnLCB7IG9uQ2xpY2sgPSBudWxsLCBvbkRvdWJsZUNsaWNrID0gbnVsbCwgbW91c2Vkb3duID0gbnVsbCwgbW91c2V1cCA9IG51bGwgfSA9IHt9KSB7XHJcbiAgICAvL3VzaW5nIGRlZmF1bHQgcGFyYW1ldGVycyB0byBzaG93IGF2YWlsYWJsZSBwYXJ0cyBvZiB0aGUgY2FsbGJhY2tzIG9iamVjdFxyXG4gICAgdmFyIGRvd24sXHJcbiAgICAgICAgdG9sZXJhbmNlID0gNSxcclxuICAgICAgICB3YWl0ID0gbnVsbDtcclxuXHJcbiAgICBzdmcub24oJ21vdXNlZG93bicsIGZhbHNlKTtcclxuICAgIHN2Zy5vbignbW91c2V1cCcsIGZhbHNlKTtcclxuICAgIHN2Zy5vbignbW91c2Vtb3ZlJywgZmFsc2UpO1xyXG5cclxuICAgIHN2Zy5vbignbW91c2Vkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIGRvd24gPSBkMy5tb3VzZShzdmcubm9kZSgpKTtcclxuICAgICAgICBpZiAodHlwZW9mIG1vdXNlZG93biA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBtb3VzZWRvd24oKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBzdmcub24oJ21vdXNldXAnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBtb3VzZXVwID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG1vdXNldXAoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFvbkRvdWJsZUNsaWNrKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgb25DbGljayhkMy5ldmVudCwgdGhpcywgZDMubW91c2UodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpc3QoZG93biwgZDMubW91c2Uoc3ZnLm5vZGUoKSkpID4gdG9sZXJhbmNlKSB7XHJcbiAgICAgICAgICAgIC8vZHJhZyBub3QgY2xpY2sgc28gcmV0dXJuXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdhaXQpIHtcclxuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh3YWl0KTtcclxuICAgICAgICAgICAgd2FpdCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25Eb3VibGVDbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgb25Eb3VibGVDbGljayhkMy5ldmVudCwgdGhpcywgZDMubW91c2UodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2FpdCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgoZSwgbW91c2UpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2soZSwgdGhpcywgbW91c2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB3YWl0ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL2QzLmV2ZW50IGFuZCBkMy5tb3VzZSBib3RoIGxvc2UgdGhlaXIgc2NvcGUgaW4gYSB0aW1lb3V0IGFuZCBubyBsb25nZXIgcmV0dXJuIHRoZSBleHBlY3RlZCB2YWx1ZSwgc28gYmluZGluZyBpcyBuZWNlc3NhcnlcclxuICAgICAgICAgICAgfSkoZDMuZXZlbnQsIGQzLm1vdXNlKHRoaXMpKSwgMjUwKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiogQG5hbWUgZGlzdFxyXG4qIEBkZXNjIGV1Y2xpZGVhbiBkaXN0YW5jZSB0byBkZXRlcm1pbmUgaWYgdGhlIG1vdXNlIG1vdmVkIGluIGJldHdlZW4gY2xpY2tzIGZvciBkb3VibGUgY2xpY2tcclxuKiBAcGFyYW0ge2FycmF5fSBhIC0gcG9pbnQgYVxyXG4qIEBwYXJhbSB7YXJyYXl9IGIgLSBwb2ludCBiXHJcbiogQHJldHVybiB7bnVtYmVyfSAtIGRpc3RhbmNlIGJldHdlZW4gYSBhbmQgYlxyXG4qL1xyXG5mdW5jdGlvbiBkaXN0KGEsIGIpIHtcclxuICAgIGlmIChhICYmIGIgJiYgQXJyYXkuaXNBcnJheShhKSAmJiBBcnJheS5pc0FycmF5KGIpKSB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnBvdyhhWzBdIC0gYlswXSwgMiksIE1hdGgucG93KGFbMV0gLSBiWzFdLCAyKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG4iLCIvKioqICBqdkVkaXQgKioqL1xyXG5mdW5jdGlvbiBqdlNlbGVjdChjb25maWdPYmopIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBzZWxlY3RPYmogPSB0aGlzO1xyXG4gICAgc2VsZWN0T2JqLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgc2VsZWN0T2JqLmp2Q2hhcnQgPSBjb25maWdPYmouanZDaGFydDtcclxuICAgIHNlbGVjdE9iai5zaW5nbGVDbGlja0NhbGxiYWNrID0gY29uZmlnT2JqLnNpbmdsZUNsaWNrQ2FsbGJhY2s7XHJcbiAgICBzZWxlY3RPYmouZG91YmxlQ2xpY2tDYWxsYmFjayA9IGNvbmZpZ09iai5kb3VibGVDbGlja0NhbGxiYWNrO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gc2luZ2xlQ2xpY2soc2VsZWN0T2JqLCBldmVudCkge1xyXG4gICAgaWYgKHR5cGVvZiBzZWxlY3RPYmouc2luZ2xlQ2xpY2tDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHNlbGVjdE9iai5zaW5nbGVDbGlja0NhbGxiYWNrKGV2ZW50KTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBkYmxjbGljayhzZWxlY3RPYmosIGV2ZW50KSB7XHJcbiAgICBpZiAodHlwZW9mIHNlbGVjdE9iai5kb3VibGVDbGlja0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgc2VsZWN0T2JqLmRvdWJsZUNsaWNrQ2FsbGJhY2soZXZlbnQpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFNlbGVjdCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2U2VsZWN0O1xyXG4iLCIvKioqICBqdlRpcCAqKiovXHJcblxyXG5mdW5jdGlvbiBqdlRpcChjb25maWdPYmopIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIHRpcCA9IHRoaXMsXHJcbiAgICAgICAgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgICAgICAgICAgdHlwZTogJ3NpbXBsZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgIHRpcC50aXBDb25maWcgPSBjb25maWdPYmoudGlwQ29uZmlnIHx8IGRlZmF1bHRDb25maWc7XHJcbiAgICB0aXAuY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcblxyXG4gICAgLy9DcmVhdGUgaW5pdGlhbCBkaXZcclxuICAgIHRpcC5jaGFydERpdi5zZWxlY3QoJy5qdi10b29sdGlwJykucmVtb3ZlKCk7XHJcblxyXG4gICAgdGlwLmNoYXJ0RGl2LmFwcGVuZChcImRpdlwiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ0b29sdGlwIGp2LXRvb2x0aXBcIilcclxuICAgICAgICAuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLCBcIm5vbmVcIik7XHJcbn1cclxuXHJcbmp2VGlwLnByb3RvdHlwZS5zaG93VGlwID0gZnVuY3Rpb24gKHRyYW5zaXRpb25EdXJhdGlvbiA9IDUwKSB7XHJcbiAgICB2YXIgdGlwID0gdGhpcztcclxuICAgIHZhciBsZWZ0ID0gJ2F1dG8nLFxyXG4gICAgICAgIHRvcCA9ICdhdXRvJyxcclxuICAgICAgICBtb3VzZSA9IGQzLm1vdXNlKHRpcC5jaGFydERpdi5zZWxlY3QoJ3N2ZycpLm5vZGUoKSk7XHJcblxyXG4gICAgLy9Mb2dpYyB0byBkZXRlcm1pbmUgd2hlcmUgdG9vbHRpcCB3aWxsIGJlIHBsYWNlZCBvbiBwYWdlXHJcbiAgICB2YXIgbGVmdE9mTW91c2UgPSBtb3VzZVswXSA+ICh0aXAuY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aCAvIDIpLFxyXG4gICAgICAgIHRvcE9mTW91c2UgPSBtb3VzZVsxXSA8ICh0aXAuY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRIZWlnaHQgLyAyKSxcclxuICAgICAgICB0b29sdGlwSGVpZ2h0ID0gdGlwLnRvb2xUaXAuX2dyb3Vwc1swXVswXS5jbGllbnRIZWlnaHQgPT09IDAgPyA3NSA6IHRpcC50b29sVGlwLl9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgIHRvb2x0aXBXaWR0aCA9IHRpcC50b29sVGlwLl9ncm91cHNbMF1bMF0uY2xpZW50V2lkdGg7XHJcblxyXG4gICAgaWYgKGxlZnRPZk1vdXNlKSB7XHJcbiAgICAgICAgaWYgKHRvb2x0aXBXaWR0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0b29sdGlwV2lkdGggPSAyNTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxlZnQgPSBtb3VzZVswXSAtIHRvb2x0aXBXaWR0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGVmdCA9IG1vdXNlWzBdO1xyXG4gICAgfVxyXG4gICAgaWYgKHRvcE9mTW91c2UpIHtcclxuICAgICAgICB0b3AgPSBtb3VzZVsxXTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHRvb2x0aXBIZWlnaHQgPT09IDApIHtcclxuICAgICAgICAgICAgdG9vbHRpcEhlaWdodCA9IDc1O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0b3AgPSBtb3VzZVsxXSAtIHRvb2x0aXBIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFsZWZ0T2ZNb3VzZSAmJiB0b3BPZk1vdXNlKSB7XHJcbiAgICAgICAgbGVmdCA9IG1vdXNlWzBdICsgMTM7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vQ09PTCBDVVJTT1IsIGEgZnVuY3Rpb24gb2YgdGhlIGhlaWdodCBhbmQgd2lkdGggb2YgdGhlIGNvbnRhaW5lclxyXG4gICAgLy8gdmFyIGNvbnRhaW5lciA9IHRpcC5jaGFydERpdi5zZWxlY3QoJy5iYXItY29udGFpbmVyJykubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgLy8gc3ZnTW91c2UgPSBkMy5tb3VzZSh0aXAuY2hhcnREaXYuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLm5vZGUoKSk7XHJcblxyXG4gICAgLy8gdmFyIHRvb2x0aXBIZWlnaHQgPSB0aXAudG9vbFRpcC5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodCA9PT0gMCA/IDc1IDogdGlwLnRvb2xUaXAuX2dyb3Vwc1swXVswXS5jbGllbnRIZWlnaHQ7XHJcbiAgICAvLyB0b3AgPSBtb3VzZVsxXSAtICh0b29sdGlwSGVpZ2h0ICogc3ZnTW91c2VbMV0gLyBjb250YWluZXIuaGVpZ2h0KTtcclxuXHJcbiAgICAvLyB2YXIgdG9vbHRpcFdpZHRoID0gdGlwLnRvb2xUaXAuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aDtcclxuICAgIC8vIGxlZnQgPSBtb3VzZVswXSAtICh0b29sdGlwV2lkdGggKiBzdmdNb3VzZVswXSAvIGNvbnRhaW5lci53aWR0aCk7XHJcblxyXG4gICAgLy9TVElDS1kgQ1VSU09SIElOIFRIRSBCT1RUT00gUklHSFRcclxuICAgIC8vIHRvcCA9IG1vdXNlWzFdO1xyXG4gICAgLy8gbGVmdCA9IG1vdXNlWzBdO1xyXG4gICAgLy9zZXQgbWF4IGxlZnRcclxuICAgIC8vIGlmKGxlZnQgPiBjb250YWluZXIud2lkdGggLSB0b29sdGlwV2lkdGggKyBjb250YWluZXIubGVmdCkge1xyXG4gICAgLy8gICAgIGxlZnQgPSBjb250YWluZXIud2lkdGggLSB0b29sdGlwV2lkdGggKyBjb250YWluZXIubGVmdDtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyAvL3NldCBtYXggdG9wXHJcbiAgICAvLyBpZiAodG9wID4gY29udGFpbmVyLmhlaWdodCAtIHRvb2x0aXBIZWlnaHQgKyBjb250YWluZXIudG9wKSB7XHJcbiAgICAvLyAgICAgdG9wID0gY29udGFpbmVyLmhlaWdodCAtIHRvb2x0aXBIZWlnaHQgKyBjb250YWluZXIudG9wO1xyXG4gICAgLy8gfVxyXG5cclxuXHJcbiAgICB2YXIgdCA9IGQzLnRyYW5zaXRpb24oKVxyXG4gICAgICAgIC5kdXJhdGlvbih0cmFuc2l0aW9uRHVyYXRpb24pXHJcbiAgICAgICAgLmVhc2UoZDMuZWFzZUxpbmVhcik7XHJcblxyXG4gICAgdGlwLnRvb2xUaXBcclxuICAgICAgICAudHJhbnNpdGlvbih0KVxyXG4gICAgICAgIC5zdHlsZShcImxlZnRcIiwgbGVmdCArICdweCcpXHJcbiAgICAgICAgLnN0eWxlKFwidG9wXCIsICB0b3AgKyAncHgnKVxyXG4gICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgXCJibG9ja1wiKVxyXG4gICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XHJcbn07XHJcblxyXG5qdlRpcC5wcm90b3R5cGUuaGlkZVRpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aXAgPSB0aGlzO1xyXG4gICAgdmFyIHQgPSBkMy50cmFuc2l0aW9uKClcclxuICAgICAgICAuZHVyYXRpb24oJzEwMCcpXHJcbiAgICAgICAgLmVhc2UoZDMuZWFzZUxpbmVhcik7XHJcbiAgICBpZiAodGlwLnRvb2xUaXApIHtcclxuICAgICAgICB0aXAudG9vbFRpcC50cmFuc2l0aW9uKHQpLnN0eWxlKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICBEZWNsYXJlIGp2IHRpcCBjb21wb25lbnRzICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbnZhciBqdkhyID0gYDxociBzdHlsZT0nbWFyZ2luOjNweCAwIDNweCAwOycvPmA7XHJcblxyXG5mdW5jdGlvbiBnZXRWYWx1ZUNvbnRlbnQoaXRlbSwgdmFsdWUsIGNvbG9yVGlsZSkge1xyXG4gICAgdmFyIHZhbHVlU3RyaW5nID0gdmFsdWUgPyBgOiAke3ZhbHVlfWAgOiAnJztcclxuICAgIHZhciBjb2xvclRpbGVTdHJpbmcgPSBjb2xvclRpbGUgPyBjb2xvclRpbGUgOiAnJ1xyXG4gICAgcmV0dXJuIGA8c3BhbiBjbGFzcz0nanYtdGlwLWNvbnRlbnQganYtdGlwLXNpZGUtbWFyZ2lucyc+JHtjb2xvclRpbGVTdHJpbmd9JHtpdGVtfSR7dmFsdWVTdHJpbmd9PC9zcGFuPjxici8+YDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VGl0bGVUZW1wbGF0ZShkYXRhT2JqKSB7XHJcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9J3RpdGxlIGp2LXRvcC1tYXJnaW4ganYtaW5saW5lJz48Yj4ke2RhdGFPYmoudGl0bGV9PC9iPjwvZGl2PiR7anZIcn1gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb2xvclRpbGUoY29sb3IpIHtcclxuICAgIGlmKGNvbG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPSdkMy10b29sdGlwLWNpcmNsZSBqdi1pbmxpbmUganYtdGlwLXNpZGUtbWFyZ2lucycgc3R5bGU9J2JhY2tncm91bmQ6JHtjb2xvcn0nPjwvZGl2PmA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdqdi1pbmxpbmUganYtdGlwLXNpZGUtbWFyZ2lucyc+XCJcclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFZpeiBTcGVjaWZpYyBGdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG5qdlRpcC5wcm90b3R5cGUuZ2VuZXJhdGVTaW1wbGVUaXAgPSBmdW5jdGlvbiAoZGF0YU9iaiwgZGF0YVRhYmxlKSB7XHJcbiAgICB2YXIgdGlwID0gdGhpcztcclxuICAgIHZhciB0b29sdGlwSHRtbCA9ICcnO1xyXG4gICBcclxuICAgIGlmIChkYXRhT2JqLmhhc093blByb3BlcnR5KCd0aXRsZScpICYmIGRhdGFPYmoudGl0bGUgPT09ICcnKSB7XHJcbiAgICAgICAgZGF0YU9iai50aXRsZSA9ICdFbXB0eSc7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRhdGFPYmoudml6ID09PSAnY2x1c3RlcnMnIHx8IGRhdGFPYmoudml6ID09PSAnY2lyY2xldmlld3Bsb3QnIHx8IGRhdGFPYmoudml6ID09PSAnc2NhdHRlcnBsb3QnIHx8IGRhdGFPYmoudml6ID09PSAndHJlZW1hcCcgfHwgZGF0YU9iai52aXogPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgIHRvb2x0aXBIdG1sID0gZ2VuZXJhdGVTaW5nbGVDb2xvckhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgIH0gZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdyYWRpYWwnIHx8IGRhdGFPYmoudml6ID09PSAncGllJykge1xyXG4gICAgICAgIHRvb2x0aXBIdG1sID0gZ2VuZXJhdGVQaWVIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGFPYmoudml6ID09PSAnY2lyY2xlcGFjaycgfHwgZGF0YU9iai52aXogPT09ICdzdW5idXJzdCcpIHtcclxuICAgICAgICB0b29sdGlwSHRtbCA9IGdlbmVyYXRlUGFja0hUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgIH0gZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdoZWF0bWFwJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ2Nsb3VkJykge1xyXG4gICAgICAgIHRvb2x0aXBIdG1sID0gZ2VuZXJhdGVIZWF0bWFwSFRNTChkYXRhT2JqLCBkYXRhVGFibGUpO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ3NhbmtleScpIHtcclxuICAgICAgICB0b29sdGlwSHRtbCA9IGdlbmVyYXRlU2Fua2V5SFRNTChkYXRhT2JqLCBkYXRhVGFibGUpO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ2J1YmJsZScpIHtcclxuICAgICAgICB0b29sdGlwSHRtbCA9IGdlbmVyYXRlQnViYmxlSFRNTChkYXRhT2JqKTtcclxuICAgIH0gZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdib3h3aGlza2VyJykge1xyXG4gICAgICAgIHRvb2x0aXBIdG1sID0gZ2VuZXJhdGVCb3hIVE1MKGRhdGFPYmopO1xyXG4gICAgfSAgZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdjbHVzdGVyZ3JhbScpIHtcclxuICAgICAgICB0b29sdGlwSHRtbCA9IGdlbmVyYXRlQ2x1c3RlcmdyYW1IVE1MKGRhdGFPYmopO1xyXG4gICAgfSAgZWxzZSB7XHJcbiAgICAgICAgdG9vbHRpcEh0bWwgPSBnZW5lcmF0ZVNpbXBsZUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2FkZCBjb250ZW50IHRvIHRvb2x0aXBcclxuICAgIHRpcC50b29sVGlwID0gdGlwLmNoYXJ0RGl2LnNlbGVjdChcIi50b29sdGlwXCIpXHJcbiAgICAgICAgLmh0bWwodG9vbHRpcEh0bWwpO1xyXG5cclxuICAgIC8vcGFpbnQgdGhlIHRvb2x0aXBcclxuICAgIHRpcC5zaG93VGlwKDApO1xyXG5cclxuICAgIHJldHVybiB0aXAudG9vbHRpcDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlSFRNTChkYXRhT2JqKSB7XHJcbiAgICB2YXIgdG9vbHRpcFRleHQ7XHJcbiAgICB0b29sdGlwVGV4dCA9IGA8ZGl2PjxkaXYgY2xhc3M9J3RpdGxlIGp2LXRpcC1jb250YWluZXIganYtdGlwLXNpZGUtbWFyZ2lucyBqdi10b3AtbWFyZ2luJz48Yj4ke2RhdGFPYmoudGl0bGV9PC9iPjwvZGl2PiR7anZIcn1gO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuICAgICAgICB0b29sdGlwVGV4dCArPSBnZXRWYWx1ZUNvbnRlbnQoaXRlbSwgdmFsdWUsIGdldENvbG9yVGlsZShkYXRhT2JqLmNvbG9yW2l0ZW1dKSk7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVNpbmdsZUNvbG9ySFRNTChkYXRhT2JqLCBkYXRhVGFibGUpIHtcclxuICAgIHZhciB0b29sdGlwVGV4dCxcclxuICAgICAgICB0b29sdGlwQ29sb3IsXHJcbiAgICAgICAgc2hvd0NvbG9yQ2lyY2xlID0gdHJ1ZSxcclxuICAgICAgICBjb2xvckNpcmNsZSA9IFwiXCI7XHJcblxyXG4gICAgaWYgKCEhZGF0YU9iai5jb2xvcltkYXRhT2JqLmRhdGFbZGF0YVRhYmxlLnNlcmllc11dKSB7XHJcbiAgICAgICAgdG9vbHRpcENvbG9yID0gZGF0YU9iai5jb2xvcltkYXRhT2JqLmRhdGFbZGF0YVRhYmxlLnNlcmllc11dO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoISFkYXRhT2JqLmNvbG9yW2RhdGFUYWJsZS5sYWJlbF0gJiYgZGF0YU9iai52aXogIT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgIHRvb2x0aXBDb2xvciA9IGRhdGFPYmouY29sb3JbZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHNob3dDb2xvckNpcmNsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzaG93Q29sb3JDaXJjbGUpIHtcclxuICAgICAgICBjb2xvckNpcmNsZSA9IGdldENvbG9yVGlsZSh0b29sdGlwQ29sb3IpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29sb3JDaXJjbGUgPSBnZXRDb2xvclRpbGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPiR7Y29sb3JDaXJjbGV9PGRpdiBjbGFzcz0ndGl0bGUganYtdGlwLXNpZGUtbWFyZ2lucyBqdi1pbmxpbmUganYtdG9wLW1hcmdpbic+PGI+JHtkYXRhT2JqLnRpdGxlfTwvYj48L2Rpdj4ke2p2SHJ9YDtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gZ2V0VmFsdWVDb250ZW50KGl0ZW0sIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUGFja0hUTUwoZGF0YU9iaikge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSBgPGRpdiBjbGFzcz0nanYtaW5saW5lJz5cclxuICAgICAgICAke2dldENvbG9yVGlsZShkYXRhT2JqLmRhdGEuY29sb3IpfVxyXG4gICAgICAgICR7Z2V0VGl0bGVUZW1wbGF0ZShkYXRhT2JqKX1gO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuICAgICAgICB0b29sdGlwVGV4dCArPSBnZXRWYWx1ZUNvbnRlbnQoaXRlbSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdWJibGVIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXYgY2xhc3M9J2p2LWlubGluZSc+XHJcbiAgICAgICAgJHtnZXRDb2xvclRpbGUoZGF0YU9iai5kYXRhLmNvbG9yKX1cclxuICAgICAgICAke2dldFRpdGxlVGVtcGxhdGUoZGF0YU9iail9YDtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIGlmIChpdGVtID09PSAnY29sb3InKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSAnPC9kaXY+JztcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCb3hIVE1MKGRhdGFPYmopIHtcclxuICAgIGxldCB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gJzxkaXYgY2xhc3M9XCJqdi1pbmxpbmVcIj4nO1xyXG5cclxuICAgIGZvciAobGV0IGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGFPYmoudGlwRGF0YS5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgICAgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgICAgICB0b29sdGlwVGV4dCArPSBnZXRWYWx1ZUNvbnRlbnQoaXRlbSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9ICc8L2Rpdj4nO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUhlYXRtYXBIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIGlmIChkYXRhT2JqLnhBeGlzQ2F0KSB7XHJcbiAgICAgICAgdG9vbHRpcFRleHQgPSBgPGRpdiBjbGFzcz0nanYtaW5saW5lJz5cclxuICAgICAgICAgICAgJHtnZXRDb2xvclRpbGUoZGF0YU9iai5jb2xvcil9YCArIFxyXG4gICAgICAgICAgICBcIjxkaXYgY2xhc3M9J3RpdGxlIGp2LXRvcC1tYXJnaW4ganYtaW5saW5lJz48Yj5cIiArIGRhdGFPYmouZGF0YS54QXhpc05hbWUgKyBcIjwvYj48L2Rpdj48aHIgc3R5bGU9J21hcmdpbjozcHggMCAzcHggMDsnLz5cIjtcclxuXHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gXCI8c3BhbiBjbGFzcz0nanYtdGlwLWNvbnRlbnQganYtdGlwLXNpZGUtbWFyZ2lucyc+XCIgKyBkYXRhT2JqLnhBeGlzQ2F0ICsgXCI8L3NwYW4+PGJyLz5cIlxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG4gICAgfSBlbHNlIGlmKGRhdGFPYmoueUF4aXNDYXQpIHtcclxuICAgICAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPlxyXG4gICAgICAgICAgICAke2dldENvbG9yVGlsZShkYXRhT2JqLmNvbG9yKX1gICsgXHJcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0ndGl0bGUganYtdG9wLW1hcmdpbiBqdi1pbmxpbmUnPjxiPlwiICsgZGF0YU9iai5kYXRhLnlBeGlzTmFtZSArIFwiPC9iPjwvZGl2PjxociBzdHlsZT0nbWFyZ2luOjNweCAwIDNweCAwOycvPlwiO1xyXG5cclxuICAgICAgICB0b29sdGlwVGV4dCArPSBcIjxzcGFuIGNsYXNzPSdqdi10aXAtY29udGVudCBqdi10aXAtc2lkZS1tYXJnaW5zJz5cIiArIGRhdGFPYmoueUF4aXNDYXQgKyBcIjwvc3Bhbj48YnIvPlwiXHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgICAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ID0gYDxkaXYgY2xhc3M9J2p2LWlubGluZSc+XHJcbiAgICAgICAgICAgICR7Z2V0Q29sb3JUaWxlKGRhdGFPYmouY29sb3IpfVxyXG4gICAgICAgICAgICAke2dldFRpdGxlVGVtcGxhdGUoZGF0YU9iail9YDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuICAgICAgICAgICAgdG9vbHRpcFRleHQgKz0gZ2V0VmFsdWVDb250ZW50KGl0ZW0sIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgICAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ2x1c3RlcmdyYW1IVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuXHJcbiAgICBkYXRhT2JqLnRpdGxlID0gZGF0YU9iai50aXRsZS5yZXBsYWNlKC9fL2csXCIgXCIpO1xyXG5cclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXYgY2xhc3M9J2p2LWlubGluZSc+XHJcbiAgICAke2dldENvbG9yVGlsZShkYXRhT2JqLmNvbG9yKX1cclxuICAgICR7Z2V0VGl0bGVUZW1wbGF0ZShkYXRhT2JqKX1gO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuICAgICAgICB0b29sdGlwVGV4dCArPSBnZXRWYWx1ZUNvbnRlbnQoaXRlbSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgICAgICBcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQaWVIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSBgPGRpdiBjbGFzcz0nanYtaW5saW5lJz5cclxuICAgICR7Z2V0Q29sb3JUaWxlKGRhdGFPYmouY29sb3JbZGF0YU9iai5kYXRhLmxhYmVsXSl9XHJcbiAgICAke2dldFRpdGxlVGVtcGxhdGUoZGF0YU9iail9YDtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gZ2V0VmFsdWVDb250ZW50KGRhdGFUYWJsZVtpdGVtXSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVTYW5rZXlIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXYgY2xhc3M9J2p2LWlubGluZSc+JHtnZXRUaXRsZVRlbXBsYXRlKGRhdGFPYmopfWA7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChkYXRhT2JqLnZhbHVlTmFtZSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZm9ybWF0VmFsdWUodmFsKSB7XHJcbiAgICBpZiAoIWlzTmFOKHZhbCkpIHtcclxuICAgICAgICB2YXIgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KFwiLC4wZlwiKTtcclxuICAgICAgICBpZiAodmFsID49IDEwMDAwMDApIHtcclxuICAgICAgICAgICAgLy9taWxsaW9uc1xyXG4gICAgICAgICAgICAvLyB2YXIgcCA9IGQzLnByZWNpc2lvblByZWZpeCgxZTUsIDEuM2U2KTtcclxuICAgICAgICAgICAgLy8gZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0UHJlZml4KFwiLlwiICsgcCwgMS4zZTYpO1xyXG4gICAgICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoXCIsLjJmXCIpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmFsIDw9IDEwMCkge1xyXG4gICAgICAgICAgICAvLzIgZGVjaW1hbHNcclxuICAgICAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KFwiLC4yZlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbDtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdlRpcDsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZXREZWZhdWx0T3B0aW9ucyA9IGdldERlZmF1bHRPcHRpb25zO1xyXG5cclxuZnVuY3Rpb24gZ2V0RGVmYXVsdE9wdGlvbnModXNlck9wdGlvbnMgPSB7fSkge1xyXG4gICAgdmFyIF92YXJzID0ge307XHJcblxyXG4gICAgLy9HZW5lcmFsIFN0eWxlcy9BdHRyaWJ1dGVzXHJcbiAgICAvL0NPTlNUIHZhcmlhYmxlcyAtIHRyeSB0byBub3QgdXNlIGluIGp2Q2hhcnRzIGFzIHRoZXkgZG8gbm90IGhhdmUgbXVjaCBjb250ZXh0XHJcbiAgICBfdmFycy5HUkFZID0gXCIjY2NjY2NjXCI7XHJcbiAgICBfdmFycy5XSElURSA9ICcjRkZGRkZGJztcclxuICAgIF92YXJzLkJMQUNLID0gJyMwMDAwMDAnO1xyXG4gICAgX3ZhcnMuU01BTExfU1RST0tFX1dJRFRIID0gJzFweCc7XHJcbiAgICBfdmFycy5saWdodCA9ICcjQkJCQkJCJztcclxuICAgIF92YXJzLnN0cm9rZVdpZHRoID0gXCIycHhcIjtcclxuICAgIFxyXG4gICAgLy9BY3Rpb24gQXR0cmlidXRlc1xyXG4gICAgX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IgPSBfdmFycy5CTEFDSztcclxuICAgIF92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoID0gXCIycHhcIjtcclxuXHJcbiAgICAvL0NvbXBvbmVudCBTcGVjaWZpYyBTdHlsZXMvQXR0cmlidXRlc1xyXG4gICAgX3ZhcnMudGhyZXNob2xkcyA9ICdub25lJzsgLy9pZiBub3Qgbm9uZSwgZXhwZWN0ZWQgdG8gYmUgYW4gYXJyYXlcclxuICAgIF92YXJzLnRocmVzaG9sZExlZ2VuZCA9IGZhbHNlO1xyXG4gICAgX3ZhcnMuYmFja2dyb3VuZENvbG9yID0gJ25vbmUnO1xyXG4gICAgX3ZhcnMuYXhpc0NvbG9yID0gX3ZhcnMuR1JBWTtcclxuICAgIF92YXJzLmF4aXNXaWR0aCA9IF92YXJzLnN0cm9rZVdpZHRoO1xyXG4gICAgX3ZhcnMuZ3JpZExpbmVTdHJva2VXaWR0aCA9IF92YXJzLlNNQUxMX1NUUk9LRV9XSURUSDtcclxuICAgIF92YXJzLmRpc3BsYXlWYWx1ZXMgPSBmYWxzZTtcclxuICAgIF92YXJzLnRvZ2dsZUxlZ2VuZCA9IGZhbHNlO1xyXG4gICAgX3ZhcnMubGVnZW5kQXJyb3dDb2xvciA9ICdjMmMyZDYnO1xyXG4gICAgX3ZhcnMubGVnZW5kTWF4ID0gOTtcclxuICAgIF92YXJzLmdyaWRTaXplID0gMTI7XHJcbiAgICBfdmFycy54UmV2ZXJzZWQgPSBmYWxzZTtcclxuICAgIF92YXJzLnlSZXZlcnNlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vZm9udCBzdHlsZXNcclxuICAgIF92YXJzLmZvbnRTaXplID0gJzEycHgnO1xyXG4gICAgX3ZhcnMuZm9udENvbG9yID0gX3ZhcnMuQkxBQ0s7XHJcbiAgICBfdmFycy54TGFiZWxGb250U2l6ZSA9ICdub25lJztcclxuICAgIF92YXJzLnlMYWJlbEZvbnRTaXplID0gJ25vbmUnO1xyXG5cclxuICAgIC8vSGVhdG1hcCBTcGVjaWZpYyBTdHlsZXMvQXR0cmlidXRlc1xyXG4gICAgX3ZhcnMuY29sb3IgPSBcIiNmZjAwMDBcIjtcclxuICAgIF92YXJzLnRvZ2dsZUxlZ2VuZCA9IGZhbHNlO1xyXG4gICAgX3ZhcnMuYnVja2V0cyA9IFwiMTBcIjtcclxuICAgIF92YXJzLm9wYWNpdHkgPSBcIjEwXCI7XHJcbiAgICBfdmFycy5jb2xvckxhYmVsID0gJ25vbmUnO1xyXG4gICAgX3ZhcnMubWluID0gXCIwXCI7XHJcbiAgICBfdmFycy5tYXggPSBcIjEwXCI7XHJcbiAgICBfdmFycy5kb21haW5BcnJheSA9IFwiXCI7XHJcbiAgICBfdmFycy5zdGVwID0gXCIxXCI7XHJcbiAgICBfdmFycy5xdWFudGlsZXMgPSB0cnVlO1xyXG4gICAgX3ZhcnMuaGVhdExlZ2VuZFNwYWNpbmcgPSAyO1xyXG4gICAgX3ZhcnMuaGVhdEdyaWRTaXplID0gMjA7XHJcbiAgICBfdmFycy5jb2xvcnMgPSBbXHJcbiAgICAgIFwiI2ZiZjJkMlwiLFxyXG4gICAgICBcIiNmZGVkYjVcIixcclxuICAgICAgXCIjZmVlN2EwXCIsXHJcbiAgICAgIFwiI2ZmZGE4NFwiLFxyXG4gICAgICBcIiNmZmM2NjVcIixcclxuICAgICAgXCIjZmViNDRlXCIsXHJcbiAgICAgIFwiI2ZlYTc0M1wiLFxyXG4gICAgICBcIiNmZDliM2ZcIixcclxuICAgICAgXCIjZmQ4YzNjXCIsXHJcbiAgICAgIFwiI2ZkNzczNVwiLFxyXG4gICAgICBcIiNmZDYwMmZcIixcclxuICAgICAgXCIjZmI0YjI5XCIsXHJcbiAgICAgIFwiI2Y0MzcyM1wiLFxyXG4gICAgICBcIiNlYTI0MWVcIixcclxuICAgICAgXCIjZTAxNjFjXCIsXHJcbiAgICAgIFwiI2Q2MGIyMFwiLFxyXG4gICAgICBcIiNjODAzMjRcIixcclxuICAgICAgXCIjYjEwMDI2XCIsXHJcbiAgICAgIFwiIzg3MDAyNVwiLFxyXG4gICAgICBcIiM2MjAwMjNcIlxyXG4gICAgXTtcclxuICAgIF92YXJzLmNsdXN0ZXJDb2xvcnMgPSBbXHJcbiAgICAgIFwiIzAwMDA5Q1wiLFxyXG4gICAgICBcIiMwMDMzOTlcIixcclxuICAgICAgXCIjMDAyRkE3XCIsXHJcbiAgICAgIFwiIzJBNTJCRVwiLFxyXG4gICAgICBcIiMwMDAwRkZcIixcclxuICAgICAgXCIjOEM5MkFDXCIsXHJcbiAgICAgIFwiIzkyQTFDRlwiLFxyXG4gICAgICBcIiNDNEMzRDBcIixcclxuICAgICAgXCIjQ0NDQ0ZGXCIsXHJcbiAgICAgIFwiI0Y4RjhGRlwiLFxyXG4gICAgICBcIiNGRkZBRkFcIixcclxuICAgICAgXCIjRjRDMkMyXCIsXHJcbiAgICAgIFwiI0ZGNjk2MVwiLFxyXG4gICAgICBcIiNGRjVDNUNcIixcclxuICAgICAgXCIjRkYxQzAwXCIsXHJcbiAgICAgIFwiI0ZGMDgwMFwiLFxyXG4gICAgICBcIiNGRjAwMDBcIixcclxuICAgICAgXCIjQ0Q1QzVDXCIsXHJcbiAgICAgIFwiI0UzNDIzNFwiLFxyXG4gICAgICBcIiNENzNCM0VcIlxyXG4gICAgXTtcclxuXHJcbiAgICAvL3BpZSBzcGVjaWZpY1xyXG4gICAgX3ZhcnMucGllQm9yZGVyID0gX3ZhcnMuV0hJVEU7XHJcbiAgICBfdmFycy5waWVCb3JkZXJXaWR0aCA9IF92YXJzLlNNQUxMX1NUUk9LRV9XSURUSDtcclxuICAgIF92YXJzLnBpZVRleHRDb2xvciA9IF92YXJzLldISVRFO1xyXG4gICAgX3ZhcnMuZW1wdHlMZWdlbmRTcXVhcmUgPSBfdmFycy5XSElURTtcclxuXHJcbiAgICAvL2xpbmUgc3BlY2lmaWNcclxuICAgIF92YXJzLmxpbmVDdXJ2ZVR5cGUgPSAnTGluZWFyJztcclxuXHJcbiAgICAvL2JhciBzcGVjaWZpY1xyXG4gICAgX3ZhcnMuZGlzcGxheVZhbHVlc1N0YWNrQXNQZXJjZW50ID0gZmFsc2U7XHJcbiAgICBfdmFycy5kaXNwbGF5VmFsdWVzU3RhY2tUb3RhbCA9IGZhbHNlO1xyXG4gICAgX3ZhcnMuZGlzcGxheVlBeGlzTGFiZWwgPSB0cnVlO1xyXG5cclxuICAgIC8vc2NhdHRlciBzcGVjaWZpY1xyXG4gICAgX3ZhcnMudG9nZ2xlWiA9IHRydWU7XHJcbiAgICBfdmFycy5saW5lR3VpZGUgPSB0cnVlO1xyXG5cclxuICAgIC8vc2luZ2xlIGF4aXMgc3BlY2lmaWNcclxuICAgIF92YXJzLnNpbmdsZUF4aXNGaWxsSG92ZXJDb2xvciA9ICdyZWQnO1xyXG5cclxuXHJcbiAgICBPYmplY3QuYXNzaWduKF92YXJzLCB1c2VyT3B0aW9ucyk7XHJcbiAgICByZXR1cm4gX3ZhcnM7XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi92aXN1YWxzL2p2TGluZS5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmFyZWEgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5maWxsQXJlYSA9IGZpbGxBcmVhO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBMaW5lIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRMaW5lRGF0YVxyXG4gKiAgZ2V0cyBsaW5lIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIC8vc29ydCBjaGFydCBkYXRhIGlmIHRoZXJlIGlzIGEgc29ydCB0eXBlIGFuZCBsYWJlbCBpbiB0aGUgX3ZhcnNcclxuICAgIGlmIChjaGFydC5fdmFycy5zb3J0VHlwZSkge1xyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5zb3J0TGFiZWwgJiYgY2hhcnQuX3ZhcnMuc29ydFR5cGUgIT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICBjaGFydC5vcmdhbml6ZUNoYXJ0RGF0YShjaGFydC5fdmFycy5zb3J0TGFiZWwsIGNoYXJ0Ll92YXJzLnNvcnRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9yZW1vdmUgaWYgd2UgYWRkIG5vbiBsaW5lYXIgdG8gYXJlYSBjaGFydFxyXG4gICAgY2hhcnQuX3ZhcnMubGluZUN1cnZlVHlwZSA9ICdMaW5lYXInO1xyXG5cclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldEJhckxpbmVMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneCcsIGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS55QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneScsIGNoYXJ0LmRhdGEpO1xyXG5cclxuICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgY2hhcnQuc2V0RmxpcHBlZFNlcmllcyhjaGFydC5kYXRhLmRhdGFUYWJsZUtleXMpO1xyXG4gICAgICAgIGNoYXJ0LmZsaXBwZWREYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmZsaXBwZWREYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG4vKipzZXRCYXJMaW5lTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXhcclxuICovXHJcbmZ1bmN0aW9uIHNldEJhckxpbmVMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSAhPT0gJ2xhYmVsJyAmJiBpdGVtLmluZGV4T2YoJ3Rvb2x0aXAnKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGVbaXRlbV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcbi8qKiBwYWludExpbmVDaGFydFxyXG4gKlxyXG4gKiBUaGUgaW5pdGlhbCBzdGFydGluZyBwb2ludCBmb3IgbGluZSBjaGFydCwgYmVnaW5zIHRoZSBkcmF3aW5nIHByb2Nlc3MuIE11c3QgYWxyZWFkeSBoYXZlIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgY2hhcnRcclxuICogb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAvL1VzZXMgdGhlIG9yaWdpbmFsIGRhdGEgYW5kIHRoZW4gbWFuaXB1bGF0ZXMgaXQgYmFzZWQgb24gYW55IGV4aXN0aW5nIG9wdGlvbnNcclxuICAgIHZhciBkYXRhT2JqID0gY2hhcnQuZ2V0QmFyRGF0YUZyb21PcHRpb25zKCk7XHJcblxyXG4gICAgLy9hc3NpZ24gY3VycmVudCBkYXRhIHdoaWNoIGlzIHVzZWQgYnkgYWxsIGJhciBjaGFydCBvcGVyYXRpb25zXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGRhdGFPYmo7XHJcblxyXG4gICAgLy9PdmVyd3JpdGUgYW55IHByZS1leGlzdGluZyB6b29tXHJcbiAgICBjaGFydC5jb25maWcuem9vbUV2ZW50ID0gbnVsbDtcclxuXHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoZGF0YU9iai5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoZGF0YU9iai54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVZQXhpcyhkYXRhT2JqLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChkYXRhT2JqLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUxpbmUnKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcnQuZ2VuZXJhdGVMaW5lKGRhdGFPYmopO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoZXZlbnQpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5zcGxpdCgnYmFyLWNvbC0nKVsxXSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdOiBbZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5zcGxpdCgnYmFyLWNvbC0nKVsxXS5yZXBsYWNlKC9fL2csICcgJykucmVwbGFjZSgvX2RvdF8vZywgJy4nKV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm9kZTogZXZlbnQudGFyZ2V0XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5pbmRleE9mKCdhcmVhLWNvbnRhaW5lcicpID4gLTEpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IGZhbHNlXHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGZpbGxBcmVhKGxpbmVEYXRhKSB7XHJcblxyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICAvL2xpbmVEYXRhID0gY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgY29sb3JzID0gY2hhcnQuX3ZhcnMuY29sb3I7XHJcblxyXG4gICAgLy9JZiBhIGxlZ2VuZCBlbGVtZW50IGlzIHRvZ2dsZWQgb2ZmLCB1c2UgdGhlIG5ldyBsaXN0IG9mIGhlYWRlcnNcclxuICAgIGlmIChjaGFydC5fdmFycy5oYXNPd25Qcm9wZXJ0eSgnbGVnZW5kSGVhZGVycycpKSB7XHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy9HZXQgdGhlIFggYW5kIFkgU2NhbGVcclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzLCAnbm8tcGFkZGluZycpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMsICduby1wYWRkaW5nJyk7XHJcblxyXG4gICAgLy9JZiBheGlzIGFyZSBub3JtYWxcclxuICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIHZhciBhcmVhID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC54KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZC54ID09PSAnJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geCgnRU1QVFlfU1RSSU5HJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geChkLngpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueTAoY29udGFpbmVyLmhlaWdodClcclxuICAgICAgICAgICAgLnkxKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBhcmVhID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueDEoMClcclxuICAgICAgICAgICAgLngwKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geChkLngpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGRhdGEgPSB7fTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsZWdlbmREYXRhLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGVnZW5kRGF0YSAhPT0gXCJ1bmRlZmluZWRcIikgey8vQWNjb3VudGluZyBmb3IgbGVnZW5kIHRvZ2dsZXNcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmREYXRhW2tdLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0Rvbid0IHdyaXRlIGFueXRoaW5nIHRvIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IGxpbmVEYXRhW2ldW3lBeGlzRGF0YS5sYWJlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsvL0luaXRpYWwgY3JlYXRpb24gb2YgdmlzdWFsaXphdGlvbiB3L28gbGVnZW5kIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd4JzogbGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBsaW5lRGF0YVtpXVt5QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAneCc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5hcmVhXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGZvciAodmFyIGkgaW4gZGF0YSkge1xyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJwYXRoXCIpXHJcbiAgICAgICAgICAgIC5kYXR1bShkYXRhW2ldKVxyXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuY29sb3JMaW5lID09IHRydWUgJiYgY2hhcnQuX3ZhcnMudGhyZXNob2xkcyAhPSAnbm9uZScgJiYgY2hhcnQuX3ZhcnMuY29sb3JDaGFydCAhPSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFyZWEgYXJlYS10aHJlc2hvbGRcIlxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcmVhXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBhcmVhKVxyXG4gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaywgaSkpXHJcbiAgICAgICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjYpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IGNvbnRhaW5lci5oZWlnaHQgLyBsaW5lRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZSgwLCBcIiArIHRyYW5zbGF0aW9uICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBjb250YWluZXIud2lkdGggLyBsaW5lRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRyYW5zbGF0aW9uICsgXCIsIDApXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuYmFyID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVCYXJUaHJlc2hvbGQgPSBnZW5lcmF0ZUJhclRocmVzaG9sZDtcclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQmFycyA9IGdlbmVyYXRlQmFycztcclxuXHJcblxyXG4vKipwYWludFxyXG4gKlxyXG4gKiBUaGUgaW5pdGlhbCBzdGFydGluZyBwb2ludCBmb3IgYmFyIGNoYXJ0LCBiZWdpbnMgdGhlIGRyYXdpbmcgcHJvY2Vzcy4gTXVzdCBhbHJlYWR5IGhhdmUgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBjaGFydFxyXG4gKiBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIHBhaW50KHRyYW5zaXRpb25UaW1lID0gODAwKSB7XHJcbiAgICBsZXQgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIC8vVXNlcyB0aGUgb3JpZ2luYWwgZGF0YSBhbmQgdGhlbiBtYW5pcHVsYXRlcyBpdCBiYXNlZCBvbiBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xyXG4gICAgICAgIGRhdGFPYmogPSBjaGFydC5nZXRCYXJEYXRhRnJvbU9wdGlvbnMoKTtcclxuXHJcbiAgICBpZiAodHJhbnNpdGlvblRpbWUgfHwgdHJhbnNpdGlvblRpbWUgPT09IDApIHtcclxuICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IHRyYW5zaXRpb25UaW1lO1xyXG4gICAgfSBlbHNlIGlmICghY2hhcnQuX3ZhcnMudHJhbnNpdGlvblRpbWUpIHtcclxuICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IDgwMDtcclxuICAgIH1cclxuXHJcbiAgICAvL2Fzc2lnbiBjdXJyZW50IGRhdGEgd2hpY2ggaXMgdXNlZCBieSBhbGwgYmFyIGNoYXJ0IG9wZXJhdGlvbnNcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuXHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoZGF0YU9iai5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoZGF0YU9iai54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVZQXhpcyhkYXRhT2JqLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChkYXRhT2JqLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUJhcnMnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQmFycyhkYXRhT2JqKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcygpLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqU2V0cyB0aGUgZGF0YSBmb3IgdGhlIGJhciBjaGFydCBwcmlvciB0byBwYWludGluZ1xyXG4gKiAgQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbXMge09iamVjdH0gZGF0YSAtIERhdGEgcGFzc2VkIGludG8gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMge09iamVjdH0gZGF0YVRhYmxlIC0gU2hvd3Mgd2hpY2ggZGF0YSBjb2x1bW4gaXMgYXNzb2NpYXRlZCB3aXRoIGVhY2ggZmllbGQgaW4gdmlzdWFsIHBhbmVsXHJcbiAqIEBwYXJhbXMge09iamVjdH0gZGF0YVRhYmxlS2V5cyAtIENvbnRhaW5zIHRoZSBkYXRhIHR5cGUgZm9yIGVhY2ggY29sdW1uIG9mIGRhdGFcclxuICogQHBhcmFtcyB7T2JqZWN0fSBjb2xvcnMgLSBDb2xvcnMgb2JqZWN0IHVzZWQgdG8gY29sb3IgdGhlIGJhcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICBsZXQgY2hhcnQgPSB0aGlzO1xyXG4gICAgLy9zb3J0IGNoYXJ0IGRhdGEgaWYgdGhlcmUgaXMgYSBzb3J0IHR5cGUgYW5kIGxhYmVsIGluIHRoZSBfdmFyc1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmhhc093blByb3BlcnR5KCdzb3J0VHlwZScpICYmIGNoYXJ0Ll92YXJzLnNvcnRUeXBlKSB7XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNvcnRMYWJlbCAmJiBjaGFydC5fdmFycy5zb3J0VHlwZSAhPT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0Lm9yZ2FuaXplQ2hhcnREYXRhKGNoYXJ0Ll92YXJzLnNvcnRMYWJlbCwgY2hhcnQuX3ZhcnMuc29ydFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldEJhckxpbmVMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneCcsIGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS55QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneScsIGNoYXJ0LmRhdGEpO1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICBjaGFydC5zZXRGbGlwcGVkU2VyaWVzKGNoYXJ0LmRhdGEuZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZmxpcHBlZERhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoZXZlbnQpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5zcGxpdCgnYmFyLWNvbC0nKVsxXSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdOiBbZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5zcGxpdCgnYmFyLWNvbC0nKVsxXS5yZXBsYWNlKC9fL2csICcgJykucmVwbGFjZSgvX2RvdF8vZywgJy4nKV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm9kZTogZXZlbnQudGFyZ2V0XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5pbmRleE9mKCdiYXItY29udGFpbmVyJykgPiAtMSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHt9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YTogZmFsc2VcclxuICAgIH07XHJcbn1cclxuXHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldEJhckxpbmVMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaXRlbSBpbiBkYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSAhPT0gJ2xhYmVsJyAmJiBpdGVtLmluZGV4T2YoJ3Rvb2x0aXAnKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGVbaXRlbV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJhciBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUJhclRocmVzaG9sZCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIHdpZHRoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICB0aHJlc2hvbGRzID0gY2hhcnQuX3ZhcnMudGhyZXNob2xkcyxcclxuICAgICAgICBsZW5ndGggPSB0aHJlc2hvbGRzICE9PSAnbm9uZScgPyBPYmplY3Qua2V5cyh0aHJlc2hvbGRzKS5sZW5ndGggOiAwLFxyXG4gICAgICAgIHggPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLFxyXG4gICAgICAgIHkgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc1NjYWxlO1xyXG5cclxuICAgIGlmICh0aHJlc2hvbGRzICE9PSAnbm9uZScpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSB0aHJlc2hvbGRzW2ldO1xyXG4gICAgICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLnhBeGlzVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy55TWluID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHgodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aHJlc2hvbGQudGhyZXNob2xkID4gY2hhcnQuX3ZhcnMueU1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHgodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgaGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMueU1pbiA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aHJlc2hvbGQudGhyZXNob2xkID4gY2hhcnQuX3ZhcnMueU1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB5KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHkodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5jb2xvckNoYXJ0ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGRSZWN0cyA9IGQzLnNlbGVjdEFsbCgncmVjdC5yZWN0LScgKyBpKTtcclxuICAgICAgICAgICAgICAgIHRocmVzaG9sZFJlY3RzLmF0dHIoJ2ZpbGwnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipnZW5lcmF0ZUJhcnNcclxuICpcclxuICogRG9lcyB0aGUgYWN0dWFsIHBhaW50aW5nIG9mIGJhcnMgb24gdGhlIGJhciBjaGFydFxyXG4gKiBAcGFyYW1zIGJhckRhdGFcclxuICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJhcnMoYmFyRGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcblxyXG4gICAgLy9Vc2VkIHRvIGRyYXcgbGluZSB0aGF0IGFwcGVhcnMgd2hlbiB0b29sIHRpcHMgYXJlIHZpc2libGVcclxuICAgICAgICB0aXBMaW5lWCA9IDAsXHJcbiAgICAgICAgdGlwTGluZVdpZHRoID0gMCxcclxuICAgICAgICB0aXBMaW5lSGVpZ2h0ID0gMCxcclxuICAgICAgICB0aXBMaW5lWSA9IDAsXHJcbiAgICAgICAgLy9BZGQgbG9naWMgdG8gZmlsdGVyIGJhcmRhdGFcclxuICAgICAgICBkYXRhSGVhZGVycyA9IGJhckRhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICBiYXJzO1xyXG5cclxuICAgIC8vUmVtb3ZlcyBhbnkgZXhpc3RpbmcgYmFyIGNvbnRhaW5lcnMgYW5kIGNyZWF0ZXMgYSBuZXcgb25lXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLmJhci1jb250YWluZXInKS5yZW1vdmUoKTtcclxuXHJcbiAgICBiYXJzID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1jb250YWluZXInKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cnKTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCAmJiBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnM7XHJcbiAgICB9IGVsc2UgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGJhckRhdGFOZXcgPSBqdkNoYXJ0cy5nZXRUb2dnbGVkRGF0YShiYXJEYXRhLCBkYXRhSGVhZGVycyk7XHJcblxyXG4gICAgZ2VuZXJhdGVCYXJHcm91cHMoYmFycywgYmFyRGF0YU5ldywgY2hhcnQpO1xyXG5cclxuICAgIHZhciBldmVudEdyb3VwcyA9IGp2Q2hhcnRzLmdlbmVyYXRlRXZlbnRHcm91cHMoYmFycywgYmFyRGF0YU5ldywgY2hhcnQpO1xyXG5cclxuICAgIC8vQWRkIGxpc3RlbmVyc1xyXG5cclxuICAgIGV2ZW50R3JvdXBzXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL1RyYW5zaXRpb25zIGluIEQzIGRvbid0IHN1cHBvcnQgdGhlICdvbicgZnVuY3Rpb24gVGhleSBvbmx5IGV4aXN0IG9uIHNlbGVjdGlvbnMuIFNvIG5lZWQgdG8gbW92ZSB0aGF0IGV2ZW50IGxpc3RlbmVyIGFib3ZlIHRyYW5zaXRpb24gYW5kIGFmdGVyIGFwcGVuZFxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLnRpcC1saW5lJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG1vdXNlSXRlbSA9IGQzLnNlbGVjdCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRpcExpbmVYID0gbW91c2VJdGVtLm5vZGUoKS5nZXRCQm94KCkueDtcclxuICAgICAgICAgICAgICAgIHRpcExpbmVXaWR0aCA9IG1vdXNlSXRlbS5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGlwTGluZUhlaWdodCA9IG1vdXNlSXRlbS5ub2RlKCkuZ2V0QkJveCgpLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHRpcExpbmVZID0gbW91c2VJdGVtLm5vZGUoKS5nZXRCQm94KCkueTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgbGluZSBpbiBjZW50ZXIgb2YgZXZlbnQtcmVjdFxyXG4gICAgICAgICAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3RpcC1saW5lJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gMCA6IHRpcExpbmVYICsgdGlwTGluZVdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyB0aXBMaW5lV2lkdGggOiB0aXBMaW5lWCArIHRpcExpbmVXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gdGlwTGluZVkgKyB0aXBMaW5lSGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gdGlwTGluZVkgKyB0aXBMaW5lSGVpZ2h0IC8gMiA6IHRpcExpbmVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc2hhcGUtcmVuZGVyaW5nJywgJ2NyaXNwRWRnZXMnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAnMXB4Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnbGluZS50aXAtbGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY2hhcnQuZGlzcGxheVZhbHVlcygpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVDbGlwUGF0aCgpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVCYXJUaHJlc2hvbGQoKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVCYXJHcm91cHNcclxuICpcclxuICogUGFpbnRzIHRoZSBncm91cHMgb2YgdGhlIGJhcnNcclxuICogQHBhcmFtcyBjaGFydENvbnRhaW5lciwgYmFyRGF0YSwgY2hhcnRcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQmFyR3JvdXBzKGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcjtcclxuXHJcblxyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG5cclxuICAgIHZhciBwb3NDYWxjID0ganZDaGFydHMuZ2V0UG9zQ2FsY3VsYXRpb25zKGJhckRhdGEsIGNoYXJ0Ll92YXJzLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydCk7XHJcblxyXG5cclxuICAgIHZhciBkYXRhVG9QbG90ID0ganZDaGFydHMuZ2V0UGxvdERhdGEoYmFyRGF0YSwgY2hhcnQpO1xyXG5cclxuICAgIHZhciBiYXJHcm91cHM7XHJcbiAgICBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnU1RSSU5HJyB8fCAheEF4aXNEYXRhLmhhc093blByb3BlcnR5KCdtaW4nKSkge1xyXG4gICAgICAgIC8vQ3JlYXRlcyBiYXIgZ3JvdXBzXHJcbiAgICAgICAgYmFyR3JvdXBzID0gY2hhcnRDb250YWluZXJcclxuICAgICAgICAgICAgLmRhdGEoZGF0YVRvUGxvdClcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdiYXItZ3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIC8vVHJhbnNsYXRlIHRoZSBiYXIgZ3JvdXBzIGJ5IChvdXRlciBwYWRkaW5nICogc3RlcCkgYW5kIHRoZSB3aWR0aCBvZiB0aGUgYmFycyAoY29udGFpbmVyLndpZHRoIC8gYmFyRGF0YS5sZW5ndGggKiBpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArICgoeC5wYWRkaW5nT3V0ZXIoKSAqIHguc3RlcCgpKSArICh4LnN0ZXAoKSAqIGkpKSArICcsMCknO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgIC8vQ3JlYXRlcyBiYXIgZ3JvdXBzXHJcbiAgICAgICAgYmFyR3JvdXBzID0gY2hhcnRDb250YWluZXJcclxuICAgICAgICAgICAgLmRhdGEoZGF0YVRvUGxvdClcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdiYXItZ3JvdXAnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIC8vVHJhbnNsYXRlIHRoZSBiYXIgZ3JvdXBzIGJ5IChvdXRlciBwYWRkaW5nICogc3RlcCkgYW5kIHRoZSB3aWR0aCBvZiB0aGUgYmFycyAoY29udGFpbmVyLndpZHRoIC8gYmFyRGF0YS5sZW5ndGggKiBpKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoMCwnICsgKCh5LnBhZGRpbmdPdXRlcigpICogeS5zdGVwKCkpICsgKHkuc3RlcCgpICogaSkpICsgJyknO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy9DcmVhdGVzIGJhcnMgd2l0aGluIGJhciBncm91cHNcclxuICAgIHZhciBleHRlcm5hbENvdW50ZXJGb3JKID0gLTE7XHJcbiAgICB2YXIgYmFycyA9IGJhckdyb3Vwcy5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgIC5kYXRhKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxDb3VudGVyRm9ySisrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYmFyRGF0YVswXSk7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZEtleXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBrZXlzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5c1trXSAhPT0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRLZXlzLnB1c2goa2V5c1trXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxhYmVsID0gU3RyaW5nKGJhckRhdGFbZXh0ZXJuYWxDb3VudGVyRm9ySl1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSkucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICdfZG90XycpO1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kVmFsID0gU3RyaW5nKGZpbHRlcmVkS2V5c1tpXSkucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICdfZG90XycpO1xyXG4gICAgICAgICAgICB2YXIgdGhyZXNob2xkRGlyO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnhBeGlzVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGREaXIgPSBjaGFydC5zZXRUaHJlc2hvbGQoYmFyRGF0YVtleHRlcm5hbENvdW50ZXJGb3JKXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocmVzaG9sZERpciA9IGNoYXJ0LnNldFRocmVzaG9sZChkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICdlZGl0YWJsZSBlZGl0YWJsZS1iYXIgYmFyLWNvbC0nICsgbGFiZWwgKyAnLWluZGV4LScgKyBsZWdlbmRWYWwgKyAnIGhpZ2hsaWdodC1jbGFzcy0nICsgbGFiZWwgKyAnIHJlY3QgJyArIHRocmVzaG9sZERpcjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuc3RhcnR4KGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5zdGFydHkoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5zdGFydHdpZHRoKGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnN0YXJ0aGVpZ2h0KGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVyc1tpXSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigncngnLCAwKVxyXG4gICAgICAgIC5hdHRyKCdyeScsIDApXHJcbiAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAwLjkpXHJcbiAgICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID4gMzAwMDAwMDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndXJsKCNjbGlwLWFib3ZlKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICd1cmwoI2NsaXAtYmVsb3cpJztcclxuICAgICAgICB9KTtcclxuICAgIGlmIChjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA+IDApIHtcclxuICAgICAgICBiYXJzXHJcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDgwMClcclxuICAgICAgICAgICAgLmVhc2UoZDMuZWFzZVBvbHlPdXQpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLngoZCwgaSwgaik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnkoZCwgaSwgaik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy53aWR0aChkLCBpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5oZWlnaHQoZCwgaSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBiYXJzXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLngoZCwgaSwgaik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnkoZCwgaSwgaik7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy53aWR0aChkLCBpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5oZWlnaHQoZCwgaSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4gYmFyR3JvdXBzOy8vcmV0dXJucyB0aGUgYmFyIGNvbnRhaW5lcnNcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmJveHdoaXNrZXIgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUJveGVzID0gZ2VuZXJhdGVCb3hlcztcclxuLyoqc2V0Qm94RGF0YVxyXG4gKiAgZ2V0cyBjbG91ZCBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7ICAgICAgICBcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5kYXRhLCBjaGFydC5fdmFycyk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd5JywgY2hhcnQuZGF0YSwgY2hhcnQuX3ZhcnMpO1xyXG59O1xyXG5cclxuLyoqIHBhaW50Qm94Q2hhcnRcclxuICpcclxuICogIEBkZXNjIFRoZSBpbml0aWFsIHN0YXJ0aW5nIHBvaW50IGZvciBiYXIgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQodHJhbnNpdGlvblRpbWUpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBpZiAodHJhbnNpdGlvblRpbWUgfHwgdHJhbnNpdGlvblRpbWUgPT09IDApIHtcclxuICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IHRyYW5zaXRpb25UaW1lO1xyXG4gICAgfSBlbHNlIGlmICghY2hhcnQuX3ZhcnMudHJhbnNpdGlvblRpbWUpIHtcclxuICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IDgwMDtcclxuICAgIH1cclxuICAgIHZhciBkYXRhT2JqID0gZ2V0Qm94RGF0YUZyb21PcHRpb25zKGNoYXJ0KTtcclxuICAgIHZhciBheGlzRGF0YSA9IGNoYXJ0LmdldEJhckRhdGFGcm9tT3B0aW9ucygpO1xyXG4gICAgLy9hc3NpZ24gY3VycmVudCBkYXRhIHdoaWNoIGlzIHVzZWQgYnkgYWxsIGJhciBjaGFydCBvcGVyYXRpb25zXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEgPSBheGlzRGF0YTtcclxuICAgIH1cclxuICAgIC8vT3ZlcndyaXRlIGFueSBwcmUtZXhpc3Rpbmcgem9vbVxyXG4gICAgY2hhcnQuY29uZmlnLnpvb21FdmVudCA9IG51bGw7XHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoYXhpc0RhdGEueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWUF4aXMoYXhpc0RhdGEueUF4aXNEYXRhKTtcclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZUJveGVzKGRhdGFPYmopO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoKSB7XHJcbiAgICByZXR1cm4ge307XHJcbn1cclxuXHJcbi8qKiBnZXRCb3hEYXRhRnJvbU9wdGlvbnNcclxuICpcclxuICogIEBkZXNjIEFzc2lnbnMgdGhlIGNvcnJlY3QgY2hhcnQgZGF0YSB0byBjdXJyZW50IGRhdGEgdXNpbmcgdGhlIGNoYXJ0Ll92YXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRCb3hEYXRhRnJvbU9wdGlvbnMoY2hhcnQpIHtcclxuICAgIC8vY3JlYXRpbmcgdGhlc2UgdHdvIGRhdGEgdmFyaWFibGVzIHRvIGF2b2lkIGhhdmluZyB0byByZWZlcmVuY2UgdGhlIGNoYXJ0IG9iamVjdCBldmVyeXRpbWVcclxuICAgIHZhciBjc3YgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVGFibGUgPSBjaGFydC5kYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICBtaW4gPSBJbmZpbml0eSxcclxuICAgICAgICBtYXggPSAtSW5maW5pdHksXHJcbiAgICAgICAgeUF4aXMgPSBbXSxcclxuICAgICAgICBkYXRhT2JqID0ge30sXHJcbiAgICAgICAgaSA9IDAsXHJcbiAgICAgICAgZGF0YSA9IHt9LFxyXG4gICAgICAgIHlBeGlzTGFiZWwgPSBkYXRhVGFibGUubGFiZWwsXHJcbiAgICAgICAgeEF4aXNMYWJlbCA9IGRhdGFUYWJsZS52YWx1ZSxcclxuICAgICAgICB4QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhLFxyXG5cclxuICAgICAgICBrZXlzID0gY3N2Lm1hcChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZFt5QXhpc0xhYmVsXTtcclxuICAgICAgICB9KSxcclxuICAgICAgICBrZXlzMiA9IGNzdi5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRbeEF4aXNMYWJlbF07XHJcbiAgICAgICAgfSksXHJcbiAgICAgICAgdW5pcXVlID0ga2V5cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGksIGFyKXsgcmV0dXJuIGFyLmluZGV4T2YoaXRlbSkgPT09IGk7IH0pLFxyXG4gICAgICAgIHRlbXAgPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHVuaXF1ZS5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgIHZhciB0ZW1wRGF0YSA9IGNzdi5maWx0ZXIoZnVuY3Rpb24gKGQpIHtyZXR1cm4gZFt5QXhpc0xhYmVsXSA9PSB1bmlxdWVba119KTtcclxuICAgICAgICB2YXIgcmV0dXJuRGF0YSA9IHRlbXBEYXRhLm1hcChmdW5jdGlvbiAoZCkge3JldHVybiBkW3hBeGlzTGFiZWxdfSk7XHJcbiAgICAgICAgdGVtcC5wdXNoKFt1bmlxdWVba10sIHJldHVybkRhdGFdKTtcclxuICAgIH1cclxuXHJcbiAgICBtYXggPSBNYXRoLm1heC5hcHBseShNYXRoLCBrZXlzMik7XHJcbiAgICBtaW4gPSBNYXRoLm1pbi5hcHBseShNYXRoLCBrZXlzMik7XHJcbiAgICB5QXhpcy5wdXNoKG1pbik7XHJcbiAgICB5QXhpcy5wdXNoKG1heCk7XHJcblxyXG4gICAgeEF4aXNEYXRhICA9IHsgJ2xhYmVsJzogeUF4aXNMYWJlbCwgJ2RhdGFUeXBlJzogJ1NUUklORycsICd2YWx1ZXMnOiB1bmlxdWV9O1xyXG4gICAgeUF4aXNEYXRhICA9IHsgJ2xhYmVsJzogeEF4aXNMYWJlbCwgJ2RhdGFUeXBlJzogJ05VTUJFUicsICd2YWx1ZXMnOiB5QXhpc307XHJcblxyXG4gICAgZGF0YU9iai5jaGFydERhdGEgPSB0ZW1wO1xyXG4gICAgZGF0YU9iai5kYXRhVGFibGUgPSBkYXRhLmRhdGFUYWJsZTtcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gZGF0YS5jb2xvcjtcclxuXHJcbiAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IHhBeGlzRGF0YTtcclxuICAgIGRhdGFPYmoueUF4aXNEYXRhID0geUF4aXNEYXRhO1xyXG4gICAgZGF0YSA9IHtcclxuICAgICAgICB5QXhpc0RhdGE6IGRhdGFPYmoueUF4aXNEYXRhLFxyXG4gICAgICAgIHhBeGlzRGF0YTogZGF0YU9iai54QXhpc0RhdGFcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgICAgIGRhdGFPYmoueUF4aXNEYXRhID0gZGF0YS54QXhpc0RhdGE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZGF0YS54QXhpc0RhdGE7XHJcbiAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBkYXRhLnlBeGlzRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YU9iajtcclxufTtcclxuXHJcbi8qKiBnZW5lcmF0ZUJhcnNcclxuICpcclxuICogQGRlc2MgRG9lcyB0aGUgYWN0dWFsIHBhaW50aW5nIG9mIGJhcnMgb24gdGhlIGJhciBjaGFydFxyXG4gKiBAcGFyYW1zIGJveERhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQm94ZXMoYm94RGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Ll92YXJzLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICB3aWR0aCA9IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICB4LFxyXG4gICAgICAgIGJveENoYXJ0LFxyXG4gICAgICAgIG1hcmdpbiA9IHt0b3A6IDAsIHJpZ2h0OiA1MCwgYm90dG9tOiA3MCwgbGVmdDogNTB9O1xyXG5cclxuICAgIGlmIChvcHRpb25zLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICB4ID0gZDMuc2NhbGVCYW5kKCkgICAgXHJcbiAgICAgICAgICAgIC5kb21haW4oIGJveERhdGEuY2hhcnREYXRhLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFswXTsgfSApIClcclxuICAgICAgICAgICAgLnJhbmdlUm91bmQoWzAsIGhlaWdodF0pXHJcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIoMC43KVxyXG4gICAgICAgICAgICAucGFkZGluZ091dGVyKDAuMyk7XHJcbiAgICAgICAgYm94Q2hhcnQgPSBib3goKVxyXG4gICAgICAgICAgICAud2hpc2tlcnMoaXFyKDEuNSkpXHJcbiAgICAgICAgICAgIC5oZWlnaHQod2lkdGgpXHJcbiAgICAgICAgICAgIC5kb21haW4oW2JveERhdGEueEF4aXNEYXRhLnZhbHVlc1swXSwgYm94RGF0YS54QXhpc0RhdGEudmFsdWVzWzFdXSlcclxuICAgICAgICAgICAgLnNob3dMYWJlbHMob3B0aW9ucy5kaXNwbGF5VmFsdWVzKVxyXG4gICAgICAgICAgICAuZmxpcHBlZChvcHRpb25zLnJvdGF0ZUF4aXMpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbihvcHRpb25zLnRyYW5zaXRpb25UaW1lKVxyXG4gICAgICAgICAgICAuY2hhcnQoY2hhcnQpO1xyXG4gICAgfSBlbHNlICB7XHJcbiAgICAgICAgeCA9IGQzLnNjYWxlQmFuZCgpXHJcbiAgICAgICAgICAgIC5kb21haW4oIGJveERhdGEuY2hhcnREYXRhLm1hcChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFswXTsgfSApIClcclxuICAgICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcclxuICAgICAgICAgICAgLnBhZGRpbmdJbm5lcigwLjcpXHJcbiAgICAgICAgICAgIC5wYWRkaW5nT3V0ZXIoMC4zKTtcclxuICAgICAgICBib3hDaGFydCA9IGJveCgpXHJcbiAgICAgICAgICAgIC53aGlza2VycyhpcXIoMS41KSlcclxuICAgICAgICAgICAgLmhlaWdodChoZWlnaHQpXHJcbiAgICAgICAgICAgIC5kb21haW4oW2JveERhdGEueUF4aXNEYXRhLnZhbHVlc1swXSwgYm94RGF0YS55QXhpc0RhdGEudmFsdWVzWzFdXSlcclxuICAgICAgICAgICAgLnNob3dMYWJlbHMob3B0aW9ucy5kaXNwbGF5VmFsdWVzKVxyXG4gICAgICAgICAgICAuZmxpcHBlZChvcHRpb25zLnJvdGF0ZUF4aXMpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbihvcHRpb25zLnRyYW5zaXRpb25UaW1lKVxyXG4gICAgICAgICAgICAuY2hhcnQoY2hhcnQpO1xyXG4gICAgfVxyXG4gICAgLy9kcmF3IHRoZSBib3hwbG90c1xyXG4gICAgc3ZnLmF0dHIoJ2NsYXNzJywgJ2JveC1wbG90JylcclxuICAgICAgICAuc2VsZWN0QWxsKCcuYm94JylcclxuICAgICAgICAuZGF0YShib3hEYXRhLmNoYXJ0RGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdib3gtY29udGFpbmVyJylcclxuICAgICAgICAuYXR0cignc3R5bGUnLCAncG9pbnRlci1ldmVudHM6IGFsbDsnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgIG1hcmdpbi50b3AgICsgJywnICsgeChkWzBdKSArICcpJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArICB4KGRbMF0pICArICcsJyArIG1hcmdpbi50b3AgKyAnKSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2FsbChib3hDaGFydC53aWR0aCh4LmJhbmR3aWR0aCgpKSk7XHJcblxyXG4gICAgZDMuc2VsZWN0QWxsKCdyZWN0LmJveCcpLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4gJ2VkaXRhYmxlIGVkaXRhYmxlLWJveCBib3gtJyArIGkgKyAnIGhpZ2hsaWdodC1jbGFzcy0nICsgaSArICdib3gnO1xyXG4gICAgfSk7XHJcbiAgICBoaWRlTGFiZWxzT25PdmVybGFwKHgsIHdpZHRoLCBzdmcpO1xyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgaGlkZUxhYmVsc09uT3ZlcmxhcFxyXG4gKiBAZGVzYyBkZXRlcm1pbmVzIGlmIHRleHQgb24gZ3JhcGggc2hvdWxkIGJlIGRpc3BsYXllZCBvciBub3RcclxuICovXHJcbmZ1bmN0aW9uIGhpZGVMYWJlbHNPbk92ZXJsYXAoeCwgd2lkdGgsIHN2Zykge1xyXG4gICAgdmFyIG51bVNwYWNlc0JldHdlZW4gPSB4LmRvbWFpbigpLmxlbmd0aCAtIDEsXHJcbiAgICAgICAgdG90YWxCb3hXaWR0aCA9IHguYmFuZHdpZHRoKCkgKiB4LmRvbWFpbigpLmxlbmd0aCxcclxuICAgICAgICB3aWR0aE9mU3BhY2VzID0gKHdpZHRoIC0gdG90YWxCb3hXaWR0aCkgLyBudW1TcGFjZXNCZXR3ZWVuLFxyXG4gICAgICAgIHhBeGlzTGFiZWxMZW5ndGhMaW1pdCA9IHguYmFuZHdpZHRoKCkgKyB3aWR0aE9mU3BhY2VzLFxyXG4gICAgICAgIHRpY2tzID0gc3ZnLnNlbGVjdEFsbCgnLnhBeGlzIHRleHQnKTtcclxuXHJcbiAgICB0aWNrcy5lYWNoKGZ1bmN0aW9uICh0aWNrKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0QkJveCgpLndpZHRoID4geEF4aXNMYWJlbExlbmd0aExpbWl0KSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy54QXhpcyB0ZXh0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHlsZScsICdkaXNwbGF5Om5vbmUnKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgndGV4dC5ib3gnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpO1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCd0ZXh0LndoaXNrZXInKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgaXFyXHJcbiAqIEBkZXNjIFJldHVybnMgYSBmdW5jdGlvbiB0byBjb21wdXRlIHRoZSBpbnRlcnF1YXJ0aWxlIHJhbmdlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXFyKGspIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihkLCBpKSB7XHJcbiAgICAgICAgdmFyIHExID0gZC5xdWFydGlsZXNbMF0sXHJcbiAgICAgICAgICAgIHEzID0gZC5xdWFydGlsZXNbMl0sXHJcbiAgICAgICAgICAgIGlxciA9IChxMyAtIHExKSAqIGssXHJcbiAgICAgICAgICAgIGkgPSAtMSxcclxuICAgICAgICAgICAgaiA9IGQubGVuZ3RoO1xyXG4gICAgICAgIHdoaWxlIChkWysraV0gPCBxMSAtIGlxcik7XHJcbiAgICAgICAgd2hpbGUgKGRbLS1qXSA+IHEzICsgaXFyKTtcclxuICAgICAgICByZXR1cm4gW2ksIGpdO1xyXG4gICAgfTtcclxufVxyXG5cclxuLy9JbnNwaXJlZCBieSBodHRwOi8vaW5mb3JtYXRpb25hbmR2aXN1YWxpemF0aW9uLmRlL2Jsb2cvYm94LXBsb3RcclxudmFyIGJveCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB3aWR0aCA9IDEsXHJcbiAgICAgICAgaGVpZ2h0ID0gMSxcclxuICAgICAgICBkdXJhdGlvbiA9IDAsXHJcbiAgICAgICAgZG9tYWluID0gbnVsbCxcclxuICAgICAgICB2YWx1ZSA9IE51bWJlcixcclxuICAgICAgICB3aGlza2VycyA9IGJveFdoaXNrZXJzLFxyXG4gICAgICAgIHF1YXJ0aWxlcyA9IGJveFF1YXJ0aWxlcyxcclxuICAgICAgICBzaG93TGFiZWxzID0gdHJ1ZSwgLy93aGV0aGVyIG9yIG5vdCB0byBzaG93IHRleHQgbGFiZWxzXHJcbiAgICAgICAgbnVtQmFycyA9IDQsXHJcbiAgICAgICAgY3VyQmFyID0gMSxcclxuICAgICAgICB0aWNrRm9ybWF0ID0gbnVsbCxcclxuICAgICAgICBjaGFydCA9IHt9LFxyXG4gICAgICAgIGZsaXBwZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvL0ZvciBlYWNoIHNtYWxsIG11bHRpcGxl4oCmXHJcbiAgICBmdW5jdGlvbiBib3goZykge1xyXG4gICAgICAgIGcuZWFjaChmdW5jdGlvbiAoZGF0YSwgaSkge1xyXG4gICAgICAgICAgICB2YXIgZCA9IGRhdGFbMV0uc29ydChkMy5hc2NlbmRpbmcpO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGQzLnNlbGVjdCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIG4gPSBkLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIG1pbiA9IGRbMF0sXHJcbiAgICAgICAgICAgICAgICBtYXggPSBkW24gLSAxXSxcclxuICAgICAgICAgICAgICAgIG91dGxpZXJMYWJlbCA9IGRhdGFbMF07XHJcblxyXG4gICAgICAgICAgICAvL0NvbXB1dGUgcXVhcnRpbGVzLiBNdXN0IHJldHVybiBleGFjdGx5IDMgZWxlbWVudHMuXHJcbiAgICAgICAgICAgIHZhciBxdWFydGlsZURhdGEgPSBkLnF1YXJ0aWxlcyA9IHF1YXJ0aWxlcyhkKTtcclxuXHJcbiAgICAgICAgICAgIC8vQ29tcHV0ZSB3aGlza2Vycy4gTXVzdCByZXR1cm4gZXhhY3RseSAyIGVsZW1lbnRzLCBvciBudWxsLlxyXG4gICAgICAgICAgICB2YXIgd2hpc2tlckluZGljZXMgPSB3aGlza2VycyAmJiB3aGlza2Vycy5jYWxsKHRoaXMsIGQsIGkpLFxyXG4gICAgICAgICAgICAgICAgd2hpc2tlckRhdGEgPSB3aGlza2VySW5kaWNlcyAmJiB3aGlza2VySW5kaWNlcy5tYXAoZnVuY3Rpb24oaSkgeyByZXR1cm4gZFtpXTsgfSk7XHJcblxyXG4gICAgICAgICAgICAvL0NvbXB1dGUgb3V0bGllcnMuIElmIG5vIHdoaXNrZXJzIGFyZSBzcGVjaWZpZWQsIGFsbCBkYXRhIGFyZSAnb3V0bGllcnMnLlxyXG4gICAgICAgICAgICAvL1dlIGNvbXB1dGUgdGhlIG91dGxpZXJzIGFzIGluZGljZXMsIHNvIHRoYXQgd2UgY2FuIGpvaW4gYWNyb3NzIHRyYW5zaXRpb25zIVxyXG4gICAgICAgICAgICB2YXIgb3V0bGllckluZGljZXMgPSB3aGlza2VySW5kaWNlc1xyXG4gICAgICAgICAgICAgICAgPyBkMy5yYW5nZSgwLCB3aGlza2VySW5kaWNlc1swXSkuY29uY2F0KGQzLnJhbmdlKHdoaXNrZXJJbmRpY2VzWzFdICsgMSwgbikpXHJcbiAgICAgICAgICAgICAgICA6IGQzLnJhbmdlKG4pO1xyXG5cclxuICAgICAgICAgICAgLy9Db21wdXRlIHRoZSBuZXcgeC1zY2FsZS5cclxuICAgICAgICAgICAgaWYgKGZsaXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAgICAgICAgICAgICAuZG9tYWluKGRvbWFpbiAmJiBkb21haW4uY2FsbCh0aGlzLCBkLCBpKSB8fCBbbWluLCBtYXhdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbMCwgaGVpZ2h0XSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeDEgPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRvbWFpbihkb21haW4gJiYgZG9tYWluLmNhbGwodGhpcywgZCwgaSkgfHwgW21pbiwgbWF4XSlcclxuICAgICAgICAgICAgICAgICAgICAucmFuZ2UoW2hlaWdodCwgMF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL1JldHJpZXZlIHRoZSBvbGQgeC1zY2FsZSwgaWYgdGhpcyBpcyBhbiB1cGRhdGUuXHJcbiAgICAgICAgICAgIHZhciB4MCA9IHRoaXMuX19jaGFydF9fIHx8IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAgICAgICAgIC5kb21haW4oWzAsIEluZmluaXR5XSlcclxuICAgICAgICAgICAgICAgIC8vLmRvbWFpbihbMCwgbWF4XSlcclxuICAgICAgICAgICAgICAgIC5yYW5nZSh4MS5yYW5nZSgpKTtcclxuXHJcbiAgICAgICAgICAgIC8vU3Rhc2ggdGhlIG5ldyBzY2FsZS5cclxuICAgICAgICAgICAgdGhpcy5fX2NoYXJ0X18gPSB4MTtcclxuXHJcbiAgICAgICAgICAgIC8vTm90ZTogdGhlIGJveCwgbWVkaWFuLCBhbmQgYm94IHRpY2sgZWxlbWVudHMgYXJlIGZpeGVkIGluIG51bWJlcixcclxuICAgICAgICAgICAgLy9zbyB3ZSBvbmx5IGhhdmUgdG8gaGFuZGxlIGVudGVyIGFuZCB1cGRhdGUuIEluIGNvbnRyYXN0LCB0aGUgb3V0bGllcnNcclxuICAgICAgICAgICAgLy9hbmQgb3RoZXIgZWxlbWVudHMgYXJlIHZhcmlhYmxlLCBzbyB3ZSBuZWVkIHRvIGV4aXQgdGhlbSEgVmFyaWFibGVcclxuICAgICAgICAgICAgLy9lbGVtZW50cyBhbHNvIGZhZGUgaW4gYW5kIG91dC5cclxuXHJcbiAgICAgICAgICAgIC8vVXBkYXRlIG91dGxpZXJzLlxyXG4gICAgICAgICAgICB2YXIgb3V0bGllciA9IGcuc2VsZWN0QWxsKCdjaXJjbGUub3V0bGllcicpXHJcbiAgICAgICAgICAgICAgICAuZGF0YShvdXRsaWVySW5kaWNlcywgTnVtYmVyKTtcclxuXHJcbiAgICAgICAgICAgIG91dGxpZXIgPSBvdXRsaWVyLmVudGVyKCkuYXBwZW5kKCdnJyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgb3V0bGllci5pbnNlcnQoJ2NpcmNsZScsICd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnb3V0bGllcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnd2hpdGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3knLCB3aWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2N4JywgZnVuY3Rpb24gKGkpIHsgcmV0dXJuIHgwKGRbaV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3gnLCBmdW5jdGlvbiAoaSkgeyByZXR1cm4geDEoZFtpXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgb3V0bGllci5hcHBlbmQoJ3RleHQnKS50ZXh0KGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRbaV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgKHdpZHRoIC8gMikgKyA3KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGkpIHsgcmV0dXJuIHgxKGRbaV0pICsgNDsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnb3V0bGllci1sYWJlbCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICcxMHB4JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0xhYmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkaXNwbGF5Om5vbmU7JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgb3V0bGllci5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjeCcsIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIHgxKGRbaV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgb3V0bGllci5pbnNlcnQoJ2NpcmNsZScsICd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnb3V0bGllcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnd2hpdGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGggPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3gnLCB3aWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2N5JywgZnVuY3Rpb24gKGkpIHsgcmV0dXJuIHgwKGRbaV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3knLCBmdW5jdGlvbiAoaSkgeyByZXR1cm4geDEoZFtpXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgb3V0bGllci5hcHBlbmQoJ3RleHQnKS50ZXh0KGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRbaV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgKHdpZHRoIC8gMikgKyA3KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGkpIHsgcmV0dXJuIHgxKGRbaV0pICsgNDsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnb3V0bGllci1sYWJlbCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsICcxMHB4JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0xhYmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkaXNwbGF5Om5vbmU7JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIG91dGxpZXIudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjeScsIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIHgxKGRbaV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIG91dGxpZXIuZXhpdCgpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3knLCBmdW5jdGlvbihpKSB7IHJldHVybiB4MShkW2ldKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3V0bGllclxyXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRsaWVyICA9IFtkW2ldXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSAgICAgPSB7IE91dGxpZXI6IG91dGxpZXIsIExhYmVsOiBvdXRsaWVyTGFiZWx9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXBEYXRhICA9IGNoYXJ0LnNldFRpcERhdGEoZGF0YSwgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0bGllciAgPSBbZFtpXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgICAgID0geyBPdXRsaWVyOiBvdXRsaWVyLCBMYWJlbDogb3V0bGllckxhYmVsIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpcERhdGEgID0gY2hhcnQuc2V0VGlwRGF0YShkYXRhLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vc2V0IHNlcGFyYXRlIHRvb2x0aXBzIGZvciBxdWFydGlsZXMgYW5kIHdoaXNrZXJzXHJcbiAgICAgICAgICAgIGcgPSBnLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ2lubmVyLWJveC1jb250YWluZXInKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1YXJ0aWxlczogZC5xdWFydGlsZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaGlza2Vyczogd2hpc2tlckRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMYWJlbDogbGFiZWxbMF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZGF0YSwgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBRdWFydGlsZXM6IGQucXVhcnRpbGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hpc2tlcnM6IHdoaXNrZXJEYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTGFiZWw6IGxhYmVsWzBdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGRhdGEsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9VcGRhdGUgY2VudGVyIGxpbmU6IHRoZSB2ZXJ0aWNhbCBsaW5lIHNwYW5uaW5nIHRoZSB3aGlza2Vycy5cclxuICAgICAgICAgICAgdmFyIGNlbnRlciA9IGcuc2VsZWN0QWxsKCdsaW5lLmNlbnRlcicpXHJcbiAgICAgICAgICAgICAgICAuZGF0YSh3aGlza2VyRGF0YSA/IFt3aGlza2VyRGF0YV0gOiBbXSk7XHJcbiAgICAgICAgICAgIC8vdmVydGljYWwgbGluZVxyXG4gICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgY2VudGVyLmVudGVyKCkuaW5zZXJ0KCdsaW5lJywgJ3JlY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdjZW50ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIHdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDAoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgd2lkdGggLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MChkWzFdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjZW50ZXIudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzFdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2VudGVyLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNlbnRlci5lbnRlcigpLmluc2VydCgnbGluZScsICdyZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2VudGVyJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB3aWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgwKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDAoZFsxXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzFdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2VudGVyLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFsxXSk7IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNlbnRlci5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzFdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBob3ZlckFyZWEgPSBnLnNlbGVjdEFsbCgnbGluZS5ob3Zlci1hcmVhJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKHdoaXNrZXJEYXRhID8gW3doaXNrZXJEYXRhXSA6IFtdKTsgXHJcbiAgICAgICAgICAgIC8vdmVydGljYWwgbGluZVxyXG4gICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJBcmVhLmVudGVyKCkuaW5zZXJ0KCdsaW5lJywgJ3JlY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdob3Zlci1hcmVhJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB3aWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgwKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDAoZFsxXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBob3ZlckFyZWEudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzFdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaG92ZXJBcmVhLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhvdmVyQXJlYS5lbnRlcigpLmluc2VydCgnbGluZScsICdyZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnaG92ZXItYXJlYScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgd2lkdGggLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MChkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB3aWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgwKGRbMV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCB3aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzFdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaG92ZXJBcmVhLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFsxXSk7IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGhvdmVyQXJlYS5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzFdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9VcGRhdGUgaW5uZXJxdWFydGlsZSBib3guXHJcbiAgICAgICAgICAgIHZhciBib3ggPSBnLnNlbGVjdEFsbCgncmVjdC5ib3gnKVxyXG4gICAgICAgICAgICAgICAgLmRhdGEoW3F1YXJ0aWxlRGF0YV0pO1xyXG4gICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgYm94LmVudGVyKCkuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdzdGVlbGJsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdib3gnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MChkWzJdKSAtIE1hdGguYWJzKHgwKGRbMF0pIC0geDAoZFsyXSkpOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCB3aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gTWF0aC5hYnMoeDAoZFswXSkgLSB4MChkWzJdKSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzJdKSAtIE1hdGguYWJzKHgxKGRbMF0pIC0geDEoZFsyXSkpOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBNYXRoLmFicyh4MShkWzBdKSAtIHgxKGRbMl0pKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYm94LnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzJdKSAtIE1hdGguYWJzKHgxKGRbMF0pIC0geDEoZFsyXSkpOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBNYXRoLmFicyh4MShkWzBdKSAtIHgxKGRbMl0pKTsgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBib3guZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ3N0ZWVsYmx1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JveCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgwKGRbMl0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDAoZFswXSkgLSB4MChkWzJdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMl0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSkgLSB4MShkWzJdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYm94LnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzJdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pIC0geDEoZFsyXSk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vVXBkYXRlIG1lZGlhbiBsaW5lLlxyXG4gICAgICAgICAgICB2YXIgbWVkaWFuTGluZSA9IGcuc2VsZWN0QWxsKCdsaW5lLm1lZGlhbicpXHJcbiAgICAgICAgICAgICAgICAuZGF0YShbcXVhcnRpbGVEYXRhWzFdXSk7XHJcbiAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBtZWRpYW5MaW5lLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbWVkaWFuJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIG1lZGlhbkxpbmUudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHgxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1lZGlhbkxpbmUuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdtZWRpYW4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB4MSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbWVkaWFuTGluZS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vVXBkYXRlIHdoaXNrZXJzLlxyXG4gICAgICAgICAgICB2YXIgd2hpc2tlciA9IGcuc2VsZWN0QWxsKCdsaW5lLndoaXNrZXInKVxyXG4gICAgICAgICAgICAgICAgLmRhdGEod2hpc2tlckRhdGEgfHwgW10pO1xyXG4gICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgd2hpc2tlci5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmluc2VydCgnbGluZScsICdjaXJjbGUsIHRleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd3aGlza2VyJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIDAgKyB3aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlci50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlci5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2hpc2tlci5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmluc2VydCgnbGluZScsICdjaXJjbGUsIHRleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd3aGlza2VyJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIDAgKyB3aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlci50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlci5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vQ29tcHV0ZSB0aGUgdGljayBmb3JtYXQuXHJcbiAgICAgICAgICAgIHZhciBmb3JtYXQgPSB0aWNrRm9ybWF0IHx8IHgxLnRpY2tGb3JtYXQoOCk7XHJcblxyXG4gICAgICAgICAgICAvL1VwZGF0ZSBib3ggdGlja3MuXHJcbiAgICAgICAgICAgIHZhciBib3hUaWNrID0gZy5zZWxlY3RBbGwoJ3RleHQuYm94JylcclxuICAgICAgICAgICAgICAgIC5kYXRhKHF1YXJ0aWxlRGF0YSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgYm94VGljay5lbnRlcigpLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JveCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2R4JywgJy4zZW0nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkeScsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIGkgJiAxID8gNiA6IC02IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBpICYgMSA/ICArIHdpZHRoIDogMCB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gaSAmIDEgPyAnc3RhcnQnIDogJ2VuZCc7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3dMYWJlbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZGlzcGxheTogbm9uZTsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAudGV4dChmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIHgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBib3hUaWNrLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAudGV4dChmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCB4MSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBib3hUaWNrLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYm94JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHknLCAnLjNlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2R4JywgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gaSAmIDEgPyA2IDogLTYgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIGkgJiAxID8gICsgd2lkdGggOiAwIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBpICYgMSA/ICdzdGFydCcgOiAnZW5kJzsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0xhYmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkaXNwbGF5OiBub25lOyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgeDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJveFRpY2sudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIHgxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL1VwZGF0ZSB3aGlza2VyIHRpY2tzLiBUaGVzZSBhcmUgaGFuZGxlZCBzZXBhcmF0ZWx5IGZyb20gdGhlIGJveFxyXG4gICAgICAgICAgICAvL3RpY2tzIGJlY2F1c2UgdGhleSBtYXkgb3IgbWF5IG5vdCBleGlzdCwgYW5kIHdlIHdhbnQgZG9uJ3Qgd2FudFxyXG4gICAgICAgICAgICAvL3RvIGpvaW4gYm94IHRpY2tzIHByZS10cmFuc2l0aW9uIHdpdGggd2hpc2tlciB0aWNrcyBwb3N0LS5cclxuICAgICAgICAgICAgdmFyIHdoaXNrZXJUaWNrID0gZy5zZWxlY3RBbGwoJ3RleHQud2hpc2tlcicpXHJcbiAgICAgICAgICAgICAgICAuZGF0YSh3aGlza2VyRGF0YSB8fCBbXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgd2hpc2tlclRpY2suZW50ZXIoKS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd3aGlza2VyJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHgnLCAnLjNlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2R5JywgNilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3dMYWJlbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZGlzcGxheTpub25lOyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyVGljay50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlclRpY2suZXhpdCgpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2hpc2tlclRpY2suZW50ZXIoKS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd3aGlza2VyJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHknLCAnLjNlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2R4JywgNilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3dMYWJlbHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZGlzcGxheTpub25lOyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyVGljay50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgd2hpc2tlclRpY2suZXhpdCgpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9kMy50aW1lci5mbHVzaCgpO1xyXG4gICAgICAgIGQzLnRpbWVyRmx1c2goKTtcclxuICAgIH1cclxuXHJcbiAgICBib3gud2lkdGggPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgIHdpZHRoID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3guaGVpZ2h0ID0gZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgaGVpZ2h0ID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3gudGlja0Zvcm1hdCA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gdGlja0Zvcm1hdDtcclxuICAgICAgICB0aWNrRm9ybWF0ID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3guZHVyYXRpb24gPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGR1cmF0aW9uO1xyXG4gICAgICAgIGR1cmF0aW9uID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb25zdGFudCh4KSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHg7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGJveC5kb21haW4gPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGRvbWFpbjtcclxuICAgICAgICAvL2RvbWFpbiA9IHggPT0gbnVsbCA/IHggOiBkMy5mdW5jdG9yKHgpO1xyXG4gICAgICAgIGRvbWFpbiA9IHggPT0gbnVsbCA/IHggOiBjb25zdGFudCh4KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGJveDtcclxuICAgIH07XHJcblxyXG4gICAgYm94LnZhbHVlID0gZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB2YWx1ZSA9IHg7XHJcbiAgICAgICAgcmV0dXJuIGJveDtcclxuICAgIH07XHJcblxyXG4gICAgYm94LndoaXNrZXJzID0gZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB3aGlza2VycztcclxuICAgICAgICB3aGlza2VycyA9IHg7XHJcbiAgICAgICAgcmV0dXJuIGJveDtcclxuICAgIH07XHJcblxyXG4gICAgYm94LnNob3dMYWJlbHMgPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHNob3dMYWJlbHM7XHJcbiAgICAgICAgc2hvd0xhYmVscyA9IHg7XHJcbiAgICAgICAgcmV0dXJuIGJveDtcclxuICAgIH07XHJcblxyXG4gICAgYm94LmZsaXBwZWQgPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGZsaXBwZWQ7XHJcbiAgICAgICAgZmxpcHBlZCA9IHg7XHJcbiAgICAgICAgcmV0dXJuIGJveDtcclxuICAgIH07XHJcblxyXG4gICAgYm94LmNoYXJ0ID0gZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBjaGFydDtcclxuICAgICAgICBjaGFydCA9IHg7XHJcbiAgICAgICAgcmV0dXJuIGJveDtcclxuICAgIH07XHJcblxyXG4gICAgYm94LnF1YXJ0aWxlcyA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gcXVhcnRpbGVzO1xyXG4gICAgICAgIHF1YXJ0aWxlcyA9IHg7XHJcbiAgICAgICAgcmV0dXJuIGJveDtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIGJveDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGJveFdoaXNrZXJzKGQpIHtcclxuICAgIHJldHVybiBbMCwgZC5sZW5ndGggLSAxXTtcclxufVxyXG5cclxuZnVuY3Rpb24gYm94UXVhcnRpbGVzKGQpIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgZDMucXVhbnRpbGUoZCwgMC4yNSksXHJcbiAgICAgICAgZDMucXVhbnRpbGUoZCwgMC41KSxcclxuICAgICAgICBkMy5xdWFudGlsZShkLCAwLjc1KVxyXG4gICAgXTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmJ1YmJsZSA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQnViYmxlID0gZ2VuZXJhdGVCdWJibGU7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJ1YmJsZSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuZnVuY3Rpb24gcGFpbnQodHJhbnNpdGlvblRpbWUpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgYnViYmxlTWFyZ2lucyA9IHtcclxuICAgICAgICAgICAgdG9wOiAxNSxcclxuICAgICAgICAgICAgcmlnaHQ6IDE1LFxyXG4gICAgICAgICAgICBsZWZ0OiAxNSxcclxuICAgICAgICAgICAgYm90dG9tOiAxNVxyXG4gICAgICAgIH07XHJcbiAgICBpZiAodHJhbnNpdGlvblRpbWUgfHwgdHJhbnNpdGlvblRpbWUgPT09IDApIHtcclxuICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IHRyYW5zaXRpb25UaW1lO1xyXG4gICAgfSBlbHNlIGlmICghY2hhcnQuX3ZhcnMudHJhbnNpdGlvblRpbWUpIHtcclxuICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IDgwMDtcclxuICAgIH1cclxuICAgIGlmICghY2hhcnQuc21hbGxlckZvbnRSZXBhaW50KSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuZm9udFNpemVNYXggPSA4MDtcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydC5kYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgYnViYmxlTWFyZ2lucyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZUJ1YmJsZScpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVCdWJibGUoY2hhcnQuY3VycmVudERhdGEpO1xyXG59XHJcblxyXG4vKipzZXREYXRhXHJcbiAqICBnZXRzIEJ1YmJsZSBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0QnViYmxlTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoKSB7XHJcbiAgICByZXR1cm4ge307XHJcbn1cclxuXHJcbi8qKnNldEJ1YmJsZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QnViYmxlTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXSxcclxuICAgICAgICBpdGVtID0gZGF0YS5kYXRhVGFibGUubGFiZWw7XHJcblxyXG4gICAgZm9yICh2YXIgdmFsdWUgaW4gZGF0YS5jaGFydERhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YS5jaGFydERhdGEuaGFzT3duUHJvcGVydHkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRFbGVtZW50ID0gZGF0YS5jaGFydERhdGFbdmFsdWVdW2l0ZW1dO1xyXG4gICAgICAgICAgICBpZiAobGVnZW5kQXJyYXkuaW5kZXhPZihsZWdlbmRFbGVtZW50KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2gobGVnZW5kRWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5cclxuLyoqIGdlbmVyYXRlQnViYmxlXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgYnViYmxlICBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyBidWJibGUgRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVCdWJibGUoYnViYmxlRGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ICAgICAgICAgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyAgICAgICAgICAgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyICAgICA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgd2lkdGggICAgICAgICA9IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoZWlnaHQgICAgICAgID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICBwYWNrICAgICAgICAgID0gZDMucGFjaygpLnNpemUoW3dpZHRoLCBoZWlnaHRdKS5wYWRkaW5nKDEuNSksXHJcbiAgICAgICAgbGVnZW5kRGF0YSAgICA9IGNoYXJ0LmRhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICB2YWx1ZUtleSAgICAgID0gY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWUsXHJcbiAgICAgICAgbGFiZWxLZXkgICAgICA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsLFxyXG4gICAgICAgIGNvbG9ycyAgICAgICAgPSBjaGFydC5fdmFycy5jb2xvcjtcclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID0gbGVnZW5kRGF0YTtcclxuICAgIH1cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID0gbGVnZW5kRGF0YTtcclxuICAgIH1cclxuICAgIHZhciBidWJibGVEYXRhTmV3ID0ganZDaGFydHMuZ2V0VG9nZ2xlZERhdGEoYnViYmxlRGF0YSwgZGF0YUhlYWRlcnMpLFxyXG4gICAgICAgIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IGp2Q2hhcnRzLmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheShkYXRhSGVhZGVycywgbGVnZW5kRGF0YSlcclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJ1YmJsZURhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gYnViYmxlRGF0YU5ld1tqXVtsYWJlbEtleV0gJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWJibGVEYXRhTmV3LnNwbGljZShqLDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3ZnLnNlbGVjdEFsbCgnLmJ1YmJsZScpLnJlbW92ZSgpO1xyXG4gICAgLy9hc3NpZ25zIHRoZSBkYXRhIHRvIGEgaGllcmFyY2h5IHVzaW5nIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXBzXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeSh7Y2hpbGRyZW46IGJ1YmJsZURhdGFOZXd9KVxyXG4gICAgICAgICAgICAuc3VtKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkW3ZhbHVlS2V5XTsgfSksXHJcblxyXG4gICAgICAgIGJ1YmJsZSA9IHN2Zy5zZWxlY3RBbGwoJy5idWJibGUnKVxyXG4gICAgICAgICAgICAuZGF0YShwYWNrKHJvb3QpLmxlYXZlcygpKVxyXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYnViYmxlJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7IFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsJyArIGQueSArICcpJzsgXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIGJ1YmJsZS5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IGxlZ2VuZERhdGEuaW5kZXhPZihkLmRhdGFbbGFiZWxLZXldKTtcclxuICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIG5hbWUsIGQuZGF0YVtsYWJlbEtleV0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdlZGl0YWJsZSBlZGl0YWJsZS1idWJibGUgYnViYmxlLScgKyBpICsgJyBoaWdobGlnaHQtY2xhc3MtJyArIGk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLmRhdGEsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICB0aXBEYXRhLmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCB0aXBEYXRhLmluZGV4LCBkLmRhdGFbbGFiZWxLZXldKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQuZGF0YTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCxpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGJ1YmJsZS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdidWJibGUtdGV4dCcpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQuZGF0YVtsYWJlbEtleV07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZmlsbCcsICd3aGl0ZScpXHJcbiAgICAgICAgLy9oaWRlIHRleHQgaWYgaXRzIHRvbyB3aWRlXHJcbiAgICAgICAgLmF0dHIoJ3N0eWxlJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50V2lkdGggPiBkLnIgKiAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Rpc3BsYXk6IG5vbmUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL2NlbnRlciB0aGUgdGV4dCBvbiB0aGUgYnViYmxlXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWFtZXRlciAgID0gZC5yICogMixcclxuICAgICAgICAgICAgICAgIHRleHRXaWR0aCAgPSB0aGlzLmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgZW1wdHlTcGFjZSA9IGRpYW1ldGVyIC0gdGV4dFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVtcHR5U3BhY2UgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgtJyArIChkLnIgLSAoZW1wdHlTcGFjZSAvIDIpKSArICcsIDApJztcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICB0aXBEYXRhLmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCB0aXBEYXRhLmluZGV4LCBkLmRhdGFbbGFiZWxLZXldKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQuZGF0YTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLmRhdGEsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICBidWJibGUuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIGQuZGF0YVt2YWx1ZUtleV07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZmlsbCcsICd3aGl0ZScpXHJcbiAgICAgICAgLy9oaWRlIHRleHQgaWYgaXRzIHRvbyB3aWRlXHJcbiAgICAgICAgLmF0dHIoJ3N0eWxlJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50V2lkdGggPiBkLnIgKiAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2Rpc3BsYXk6IG5vbmUnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvL2NlbnRlciB0aGUgdGV4dCBvbiB0aGUgYnViYmxlXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWFtZXRlciAgID0gZC5yICogMixcclxuICAgICAgICAgICAgICAgIHRleHRXaWR0aCAgPSB0aGlzLmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgZW1wdHlTcGFjZSA9IGRpYW1ldGVyIC0gdGV4dFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVtcHR5U3BhY2UgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKC0nICsgKGQuciAtIChlbXB0eVNwYWNlIC8gMikpICsgJywnICsgMTUgKyAnKSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLmRhdGEsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgdGlwRGF0YS5kYXRhLmNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgdGlwRGF0YS5pbmRleCwgZC5kYXRhW2xhYmVsS2V5XSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkLmRhdGE7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcCgwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZC5kYXRhLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jbHVzdGVyZ3JhbSA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IG51bGxcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUNsdXN0ZXJncmFtID0gZ2VuZXJhdGVDbHVzdGVyZ3JhbTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQ2x1c3RlcmdyYW0gZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldENsdXN0ZXJncmFtRGF0YVxyXG4gKiAgZ2V0cyBoZWF0bWFwIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuXHJcbiAgICB2YXIgbGVmdFRyZWVEYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGFbMF07XHJcbiAgICB2YXIgcmlnaHRUcmVlRGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhWzFdO1xyXG5cclxuICAgIGNoYXJ0LmxlZnRMYWJlbHMgPSB7fTtcclxuICAgIGNoYXJ0LmxlZnRMYWJlbHMudmFsdWVzID0gW107XHJcbiAgICBmb3IodmFyIGsgPSAwOyBrIDwgbGVmdFRyZWVEYXRhLmNoaWxkcmVuLmxlbmd0aDsgaysrKXtcclxuICAgICAgICBpZihsZWZ0VHJlZURhdGEuY2hpbGRyZW5ba10ubmFtZSl7XHJcbiAgICAgICAgICAgIGNoYXJ0LmxlZnRMYWJlbHMudmFsdWVzLnB1c2gobGVmdFRyZWVEYXRhLmNoaWxkcmVuW2tdLm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5yaWdodExhYmVscyA9IHt9O1xyXG4gICAgY2hhcnQucmlnaHRMYWJlbHMudmFsdWVzID0gW107XHJcbiAgICBmb3IodmFyIGsgPSAwOyBrIDwgcmlnaHRUcmVlRGF0YS5jaGlsZHJlbi5sZW5ndGg7IGsrKyl7XHJcbiAgICAgICAgaWYocmlnaHRUcmVlRGF0YS5jaGlsZHJlbltrXS5uYW1lKXtcclxuICAgICAgICAgICAgY2hhcnQucmlnaHRMYWJlbHMudmFsdWVzLnB1c2gocmlnaHRUcmVlRGF0YS5jaGlsZHJlbltrXS5uYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuICAgIHZhciBjdXN0b21NYXJnaW4gPSB7XHJcbiAgICAgICAgdG9wOiAyMCxcclxuICAgICAgICByaWdodDogNDAsXHJcbiAgICAgICAgbGVmdDogMCxcclxuICAgICAgICBib3R0b206IDIwXHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgY3VzdG9tTWFyZ2luKTtcclxuICAgIC8vY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlQ2x1c3RlcmdyYW0nKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQ2x1c3RlcmdyYW0oKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVDbHVzdGVyZ3JhbVxyXG4gKlxyXG4gKiBwYWludHMgdGhlIENsdXN0ZXJncmFtIG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIENsdXN0ZXJncmFtRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVDbHVzdGVyZ3JhbSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXI7XHJcbiAgICBcclxuICAgIHZhciBsZWZ0VHJlZURhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YVswXTtcclxuICAgIHZhciByaWdodFRyZWVEYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGFbMV07XHJcbiAgICB2YXIgZ3JpZERhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YVsyXTtcclxuXHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IFtdO1xyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBbXTtcclxuXHJcbiAgICB2YXIgc2l6ZSA9IGdyaWREYXRhLmxlbmd0aCAqIDEwO1xyXG4gICAgaWYoY29udGFpbmVyLndpZHRoID4gY29udGFpbmVyLmhlaWdodCkge1xyXG4gICAgICAgIGlmKHNpemUgPCBjb250YWluZXIud2lkdGgpIHtcclxuICAgICAgICAgICAgc2l6ZSA9IGNvbnRhaW5lci53aWR0aDtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKHNpemUgPCBjb250YWluZXIuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHNpemUgPSBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL3JlbW92ZSBzdmcgZWxlbWVudHNcclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIC8vIHN2Zy5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAvLyAgICAgLmF0dHIoXCJ3aWR0aFwiLCBzaXplKVxyXG4gICAgLy8gICAgIC5hdHRyKFwiaGVpZ2h0XCIsIHNpemUpXHJcbiAgICAvLyAgICAgLnN0eWxlKFwiZmlsbFwiLCBcIm5vbmVcIilcclxuICAgIC8vICAgICAuc3R5bGUoXCJwb2ludGVyLWV2ZW50c1wiLCBcImFsbFwiKVxyXG4gICAgLy8gICAgIC5jYWxsKGQzLnpvb20oKVxyXG4gICAgLy8gICAgICAgICAuc2NhbGVFeHRlbnQoWzEsIDhdKVxyXG4gICAgLy8gICAgICAgICAub24oXCJ6b29tXCIsIHpvb21lZCkpO1xyXG5cclxuICAgIHZhciB2aXMgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgMCArICcsJyArIDAgKyAnKScpLmF0dHIoJ2NsYXNzJywgJ2hlYXRtYXAnKSxcclxuICAgICAgICBsZWZ0RyA9IHZpcy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJpZFwiLCBcImxlZnQtdHJlZVwiKSxcclxuICAgICAgICBib3R0b21HID0gdmlzLmFwcGVuZChcImdcIikuYXR0cihcImlkXCIsIFwiYm90dG9tLXRyZWVcIiksXHJcbiAgICAgICAgaGVhdEcgPSB2aXMuYXBwZW5kKFwiZ1wiKS5hdHRyKCdjbGFzcycsICdjbHVzdGVyZ3JhbS1jb250YWluZXInKS5hdHRyKFwiaWRcIiwgXCJoZWF0XCIpO1xyXG5cclxuICAgIHZhciBkaXYgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3Rvb2x0aXAnKVxyXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApO1xyXG5cclxuICAgIC8vY2FsYyBuZXcgd2lkdGggYW5kIGhlaWdodFxyXG4gICAgdmFyIG5ld1dpZHRoID0gc2l6ZSAvIDQ7XHJcbiAgICB2YXIgbmV3SGVpZ2h0ID0gc2l6ZSAvIDQ7XHJcblxyXG4gICAgdmFyIGxlZnRUcmVlID0gZDMuY2x1c3RlcigpXHJcbiAgICAgICAgLnNpemUoW25ld0hlaWdodCwgbmV3V2lkdGhdKTtcclxuXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeShsZWZ0VHJlZURhdGEpO1xyXG4gICAgICAgIGxlZnRUcmVlKHJvb3QpO1xyXG5cclxuICAgIHZhciBjbGFzc05hbWUgPSBcIlwiO1xyXG4gICAgdmFyIGxlZnRMaW5rID0gbGVmdEcuc2VsZWN0QWxsKFwiLmNsdXN0ZXItbGlua1wiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKS5zbGljZSgxKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbihkKSB7ICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gXCJjbHVzdGVyLWxpbmsgXCIgKyBjbGFzc05hbWU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIFwibm9uZVwiKVxyXG4gICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcImJsYWNrXCIpXHJcbiAgICAgICAgLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTVwiICsgZC55LzQgKyBcIixcIiArIGQueFxyXG4gICAgICAgICAgICAgICAgKyBcIlZcIiArIGQucGFyZW50LnggKyBcIkhcIiArIGQucGFyZW50LnkvNDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL2NoaWxkQ291bnRcclxuICAgIHZhciBsZWZ0Q2hpbGRDb3VudCA9IDA7XHJcbiAgICB2YXIgbGVmdE5vZGUgPSBsZWZ0Ry5zZWxlY3RBbGwoXCIuY2x1c3Rlci1ub2RlXCIpXHJcbiAgICAgICAgLmRhdGEocm9vdC5kZXNjZW5kYW50cygpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBcImNsdXN0ZXItbm9kZVwiICsgKGQuY2hpbGRyZW4gPyBcIiBjbHVzdGVyLW5vZGUtLWludGVybmFsXCIgOiBcIiBjbHVzdGVyLW5vZGUtLWxlYWZcIik7IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC55LzQgKyBcIixcIiArIGQueCArIFwiKVwiOyBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWZ0Tm9kZS5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiYmxhY2tcIilcclxuICAgICAgICAuYXR0cihcIngxXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVuID8gIDAgOiAwOyBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieDJcIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gPyAwIDogMTU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbGVmdE5vZGUuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgMylcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gPyAtOCA6IDA7IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIFwiZW5kXCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICBpZighZC5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuZGF0YS55QXhpc0RhdGEucHVzaChmaW5kUGF0aChkKSk7XHJcbiAgICAgICAgICAgICAgICBsZWZ0Q2hpbGRDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHJldHVybiBkLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgaWYoZC5kYXRhLm5hbWUgPT09IFwicm9vdFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IGQuZGF0YS5uYW1lLnJlcGxhY2UoL18vZywgJyAnKSA6IFwiXCI7XHJcblxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAvL3RvcCBUcmVlXHJcbiAgICB2YXIgdG9wVHJlZSA9IGQzLmNsdXN0ZXIoKVxyXG4gICAgICAgIC5zaXplKFtuZXdXaWR0aCwgbmV3SGVpZ2h0XSk7XHJcblxyXG4gICAgICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KHJpZ2h0VHJlZURhdGEpO1xyXG4gICAgICAgIHRvcFRyZWUocm9vdCk7XHJcblxyXG4gICAgICAgIHZhciB0b3BMaW5rID0gYm90dG9tRy5zZWxlY3RBbGwoXCIuY2x1c3Rlci1saW5rXCIpXHJcbiAgICAgICAgLmRhdGEocm9vdC5kZXNjZW5kYW50cygpLnNsaWNlKDEpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcInBhdGhcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiY2x1c3Rlci1saW5rXCIpXHJcbiAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBcIm5vbmVcIilcclxuICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgXCJibGFja1wiKVxyXG4gICAgICAgIC5hdHRyKFwiZFwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJNXCIgKyBkLnggKyBcIixcIiArIGQueS80XHJcbiAgICAgICAgICAgICAgICArIFwiVlwiICsgZC5wYXJlbnQueS80ICsgXCJIXCIgKyBkLnBhcmVudC54O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vY2hpbGRDb3VudFxyXG4gICAgdmFyIHJpZ2h0Q2hpbGRDb3VudCA9IDA7XHJcbiAgICB2YXIgcmlnaHROb2RlID0gYm90dG9tRy5zZWxlY3RBbGwoXCIuY2x1c3Rlci1ub2RlXCIpXHJcbiAgICAgICAgLmRhdGEocm9vdC5kZXNjZW5kYW50cygpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBcImNsdXN0ZXItbm9kZVwiICsgKGQuY2hpbGRyZW4gPyBcIiBjbHVzdGVyLW5vZGUtLWludGVybmFsXCIgOiBcIiBjbHVzdGVyLW5vZGUtLWxlYWZcIik7IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsXCIgKyBkLnkvNCArIFwiKXJvdGF0ZSgzMClcIjsgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcmlnaHROb2RlLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAuYXR0cihcImR5XCIsIDgpXHJcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gPyBcImVuZFwiIDogXCJzdGFydFwiOyBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IC04IDogODsgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICBpZighZC5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuZGF0YS54QXhpc0RhdGEucHVzaChmaW5kUGF0aChkKSk7XHJcbiAgICAgICAgICAgICAgICByaWdodENoaWxkQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihkLmRhdGEubmFtZSA9PT0gXCJyb290XCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVuID8gZC5kYXRhLm5hbWUucmVwbGFjZSgvXy9nLCAnICcpIDogXCJcIjsgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIGhlYXRTY29yZXMgPSBbXTtcclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBncmlkRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjZWxsID0gZ3JpZERhdGFbaV07XHJcbiAgICAgICAgaGVhdFNjb3Jlcy5wdXNoKGNlbGwudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaGVhdCB2YXJpYWJsZXNcclxuICAgIHZhciBjb2xvciA9IGQzLnNjYWxlVGhyZXNob2xkKClcclxuICAgICAgICAuZG9tYWluKGhlYXRTY29yZXMpXHJcbiAgICAgICAgLnJhbmdlKFtcIiNmYmYyZDJcIiwgXCIjZmVlN2EwXCIsIFwiI2ZmYzY2NVwiLCBcIiNmZWE3NDNcIiwgXCIjZmQ4YzNjXCIsIFwiI2ZiNGIyOVwiLCBcIiNlYTI0MWVcIiwgXCIjZDYwYjIwXCIsIFwiI2IxMDAyNlwiLCBcIiM2MjAwMjNcIl0pO1xyXG5cclxuICAgIHZhciBncmlkSGVpZ2h0ID0gbmV3SGVpZ2h0IC8gbGVmdENoaWxkQ291bnQ7XHJcbiAgICB2YXIgZ3JpZFdpZHRoID0gbmV3V2lkdGggLyByaWdodENoaWxkQ291bnQ7XHJcblxyXG4gICAgY2hhcnQuX3ZhcnMuY2x1c3RlcmdyYW1HcmlkV2lkdGggPSBncmlkV2lkdGg7XHJcbiAgICBjaGFydC5fdmFycy5jbHVzdGVyZ3JhbUdyaWRIZWlnaHQgPSBncmlkSGVpZ2h0O1xyXG5cclxuICAgIC8vZ3JpZFxyXG4gICAgdmFyIGhlYXQgPSBoZWF0Ry5zZWxlY3RBbGwoXCIuaGVhdFwiKVxyXG4gICAgICAgIC5kYXRhKGdyaWREYXRhKVxyXG4gICAgLmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24oZCkgeyAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBcInJlY3RcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZC54X2luZGV4ICogZ3JpZFdpZHRoO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueV9pbmRleCAqIGdyaWRIZWlnaHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBncmlkV2lkdGg7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZ3JpZEhlaWdodDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBcIiNFNkU2RTZcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBcIjFweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gY29sb3IoZC52YWx1ZSk7IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpcERhdGEuY29sb3IgPSBjb2xvcihkLnZhbHVlKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICBjaGFydC56b29tZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzdmcuYXR0cihcInRyYW5zZm9ybVwiLCBkMy5ldmVudC50cmFuc2Zvcm0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1zdmdcIikuY2FsbChkMy56b29tKClcclxuICAgICAgICAuc2NhbGVFeHRlbnQoWzEgLyAyLCA4XSlcclxuICAgICAgICAub24oXCJ6b29tXCIsIGNoYXJ0Lnpvb21lZCkpO1xyXG5cclxuICAgIC8vIGFsaWduIEcgdGFnc1xyXG4gICAgY2hhcnQuX3ZhcnMubGVmdFRyZWVXaWR0aCA9IGxlZnRHLm5vZGUoKS5nZXRCQm94KCkud2lkdGg7XHJcbiAgICBjaGFydC5fdmFycy50b3BUcmVlSGVpZ2h0ID0gYm90dG9tRy5ub2RlKCkuZ2V0QkJveCgpLmhlaWdodDtcclxuICAgIHZhciBoZWF0V2lkdGggPSBoZWF0Ry5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgdmFyIGhlYXRIZWlnaHQgPSBoZWF0Ry5ub2RlKCkuZ2V0QkJveCgpLmhlaWdodDtcclxuICAgIGxlZnRHLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAwICsgXCIsXCIgKyAoY2hhcnQuX3ZhcnMudG9wVHJlZUhlaWdodCkgKyBcIilcIik7XHJcbiAgICBib3R0b21HLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAoY2hhcnQuX3ZhcnMubGVmdFRyZWVXaWR0aCkgKyBcIixcIiArIDAgKyBcIilcIik7XHJcbiAgICBoZWF0Ry5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgY2hhcnQuX3ZhcnMubGVmdFRyZWVXaWR0aCArIFwiLFwiICsgKGNoYXJ0Ll92YXJzLnRvcFRyZWVIZWlnaHQpICsgXCIpXCIpO1xyXG5cclxuICAgIGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0ID0gaGVhdEhlaWdodCxcclxuICAgIGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGggPSBoZWF0V2lkdGg7XHJcblxyXG4gICAgXHJcblxyXG4gICAgZnVuY3Rpb24gZmluZFBhdGgoY2hpbGQpIHtcclxuICAgICAgICB2YXIgc3RyID0gXCJcIjtcclxuICAgICAgICB3aGlsZSAoY2hpbGQucGFyZW50KSB7XHJcbiAgICAgICAgICAgIHN0ciArPSBjaGlsZC5kYXRhLm5hbWUgKyBcIi5cIlxyXG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLnBhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0ci5zbGljZSgwLCAtMSk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG5cclxuXHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nYW50dCA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlR2FudHRCYXJzID0gZ2VuZXJhdGVHYW50dEJhcnM7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zZXRHYW50dExlZ2VuZERhdGEgPSBzZXRHYW50dExlZ2VuZERhdGE7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zZXRHYW50dEF4aXNEYXRhID0gc2V0R2FudHRBeGlzRGF0YTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogR2FudHQgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvKipcclxuICpcclxuICogQHBhcmFtIGRhdGFcclxuICogQHBhcmFtIGRhdGFUYWJsZVxyXG4gKiBAcGFyYW0gY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IGNoYXJ0LnNldEdhbnR0TGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0R2FudHRBeGlzRGF0YShjaGFydCwgJ3gnKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0R2FudHRBeGlzRGF0YShjaGFydCwgJ3knKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKGV2ZW50KSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIGVsZSA9IGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuc3BsaXQoJ2Jhci1jb2wtJylbMV07XHJcbiAgICBpZiAoZWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5ncm91cF06IFtlbGUucmVwbGFjZSgvXy9nLCAnICcpLnJlcGxhY2UoL19kb3RfL2csICcuJyldXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vZGU6IGV2ZW50LnRhcmdldFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge307XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEdhbnR0TGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IE9iamVjdC5rZXlzKGRhdGEuZGF0YVRhYmxlKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShbXCJzdGFydCBcIiArIGldKSkge1xyXG4gICAgICAgICAgICAvL2NoZWNrIHRvIG1ha2Ugc3VyZSBpdCBoYXMgYSBtYXRjaGluZyBlbmQgZGF0ZVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoW1wiZW5kIFwiICsgaV0pKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW1wic3RhcnQgXCIgKyBpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRHYW50dEF4aXNEYXRhKGNoYXJ0LCBheGlzKSB7XHJcbiAgICB2YXIgYXhpc0RhdGEgPSBbXSxcclxuICAgICAgICBkYXRhID0gY2hhcnQuZGF0YSxcclxuICAgICAgICBjaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVHlwZTtcclxuXHJcbiAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gZGF0YS5kYXRhVGFibGUuZ3JvdXA7XHJcbiAgICAgICAgZGF0YVR5cGUgPSAnREFURSc7XHJcblxyXG4gICAgICAgIHZhciBudW1CYXJzID0gZGF0YS5sZWdlbmREYXRhLmxlbmd0aDtcclxuICAgICAgICAvL0xvb3AgdGhyb3VnaCBkYXRhVGFibGUgYW5kIGFzc2lnbiBsYWJlbHMgYmFzZWQgb24gaG93IG1hbnkgZ3JvdXBzIHRoZXJlIGFyZVxyXG4gICAgICAgIHZhciB2YWx1ZUNvbnRhaW5lciA9IFtdO1xyXG4gICAgICAgIHZhbHVlQ29udGFpbmVyLnB1c2goZGF0YS5kYXRhVGFibGVbXCJzdGFydCAxXCJdKTtcclxuICAgICAgICB2YWx1ZUNvbnRhaW5lci5wdXNoKGRhdGEuZGF0YVRhYmxlW1wiZW5kIDFcIl0pO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbnVtQmFyczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhbHVlQ29udGFpbmVyLnB1c2goZGF0YS5kYXRhVGFibGVbXCJzdGFydCBcIiArIChpICsgMSldKTtcclxuICAgICAgICAgICAgdmFsdWVDb250YWluZXIucHVzaChkYXRhLmRhdGFUYWJsZVtcImVuZCBcIiArIChpICsgMSldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vR2V0IGFsbCB0aGUgc3RhcnQgYW5kIGVuZCBkYXRlcyBhbmQgYWRkIHRoZW0gdG8gYXhpcyBkYXRhXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZUNvbnRhaW5lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgY2hhcnREYXRhLmxlbmd0aDsgaWkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGF0YVtpaV1bdmFsdWVDb250YWluZXJbaV1dICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpaV1bdmFsdWVDb250YWluZXJbaV1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9BZGQgYW55IGF4aXMgZm9ybWF0dGluZyB0byB0aGlzIG9iamVjdCwgbmVlZCB0byB1c2Ugd2hlbiBwYWludGluZ1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnhBeGlzRm9ybWF0dGluZyA9IHt9O1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YVR5cGUgPSBcIlNUUklOR1wiO1xyXG4gICAgICAgIHZhciBsYWJlbCA9IGRhdGEuZGF0YVRhYmxlLmdyb3VwO1xyXG5cclxuICAgICAgICAvL0FkZCBhbnkgYXhpcyBmb3JtYXR0aW5nIHRvIHRoaXMgb2JqZWN0LCBuZWVkIHRvIHVzZSB3aGVuIHBhaW50aW5nXHJcbiAgICAgICAgY2hhcnQuX3ZhcnMueUF4aXNGb3JtYXR0aW5nID0ge307XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goY2hhcnREYXRhW2ldW2xhYmVsXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ2xhYmVsJzogbGFiZWwsXHJcbiAgICAgICAgJ3ZhbHVlcyc6IGF4aXNEYXRhLFxyXG4gICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcblxyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTtcclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWUF4aXMoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUdhbnR0QmFycycpO1xyXG4gICAgY2hhcnQuZHJhd0dyaWRsaW5lcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVHYW50dEJhcnMoY2hhcnQuY3VycmVudERhdGEpO1xyXG4gICAgaWYgKHR5cGVvZiBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUdhbnR0QmFycyhnYW50dERhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IGdhbnR0RGF0YS5jb2xvcixcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGdhbnR0RGF0YS55QXhpc0RhdGE7XHJcblxyXG4gICAgLy9SZW1vdmUgZXhpc3RpbmcgYmFycyBmcm9tIHBhZ2VcclxuICAgIHN2Zy5zZWxlY3RBbGwoXCJnLmdhbnR0LWNvbnRhaW5lclwiKS5yZW1vdmUoKTtcclxuICAgIHZhciBiYXJzID0gc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZ2FudHQtY29udGFpbmVyXCIpLFxyXG4gICAgICAgIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA/IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgOiBnYW50dERhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICBnYW50dERhdGFOZXcgPSBqdkNoYXJ0cy5nZXRUb2dnbGVkRGF0YShnYW50dERhdGEsIGRhdGFIZWFkZXJzKSxcclxuICAgICAgICB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgZ2FudHREYXRhLnhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyksXHJcbiAgICAgICAgeSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIGdhbnR0RGF0YS55QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpLFxyXG4gICAgICAgIHNhbXBsZURhdGEgPSBnYW50dERhdGFOZXc7XHJcblxyXG4gICAgY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA9IHRydWU7XHJcblxyXG4gICAgdmFyIG51bUJhcnMgPSBnYW50dERhdGEubGVnZW5kRGF0YS5sZW5ndGg7XHJcbiAgICB2YXIgZ2FudHRCYXJzID0gW107XHJcbiAgICAvL2NyZWF0ZSBhcnJheSBvZiBzdGFydCBkYXRlcyBhbmQgZW5kIGRhdGVzIHRvIGl0ZXJhdGUgdGhyb3VnaFxyXG4gICAgdmFyIHN0YXJ0RGF0ZXMgPSBbXTtcclxuICAgIHZhciBlbmREYXRlcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbnVtQmFyczsgaSsrKSB7XHJcbiAgICAgICAgc3RhcnREYXRlcy5wdXNoKGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZVtcInN0YXJ0IFwiICsgaV0pO1xyXG4gICAgICAgIGVuZERhdGVzLnB1c2goY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlW1wiZW5kIFwiICsgaV0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgbnVtQmFyczsgaWkrKykge1xyXG4gICAgICAgIHZhciBleHRlcm5hbENvdW50ZXJGb3JKID0gLTE7XHJcbiAgICAgICAgZ2FudHRCYXJzW2lpXSA9IGJhcnMuc2VsZWN0QWxsKFwiLmdhbnR0LWJhclwiICsgaWkpXHJcbiAgICAgICAgICAgIC5kYXRhKHNhbXBsZURhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICBleHRlcm5hbENvdW50ZXJGb3JKKys7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBTdHJpbmcoc2FtcGxlRGF0YVtleHRlcm5hbENvdW50ZXJGb3JKXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUuZ3JvdXBdKS5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJ19kb3RfJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdnYW50dC1iYXInICsgaWkgKyAnIGVkaXRhYmxlIGVkaXRhYmxlLWJhciBiYXItY29sLScgKyBsYWJlbCArICctaW5kZXgtJyArIGlpICsgJyBoaWdobGlnaHQtY2xhc3MtJyArIGxhYmVsICsgJyByZWN0ICc7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgeS5iYW5kd2lkdGgoKSAvIG51bUJhcnMpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRbc3RhcnREYXRlc1tpaV1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgobmV3IERhdGUoZFtzdGFydERhdGVzW2lpXV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB5KGRbeUF4aXNEYXRhLmxhYmVsXSkgKyAoeS5iYW5kd2lkdGgoKSAvIG51bUJhcnMgKiBpaSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwicnhcIiwgMylcclxuICAgICAgICAgICAgLmF0dHIoXCJyeVwiLCAzKVxyXG4gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlVmFsID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlW1wiVHlwZVwiICsgKGlpICsgMSldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCAwLCBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzW2lpXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIDAsIGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGFbaWldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBnYW50dEJhcnNbaWldLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAuZHVyYXRpb24oNDAwKVxyXG4gICAgICAgICAgICAuZGVsYXkoMTAwKVxyXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSB4KG5ldyBEYXRlKGRbZW5kRGF0ZXNbaWldXSkpIC0geChuZXcgRGF0ZShkW3N0YXJ0RGF0ZXNbaWldXSkpOy8vKHgoZC5TdGFydERhdGUpIC0geChkLkVuZERhdGUpKTtcclxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdmFyIGV4dGVybmFsQ291bnRlckZvckpKID0gLTE7XHJcbiAgICB2YXIgZGF0YVRvUGxvdCA9IGp2Q2hhcnRzLmdldFBsb3REYXRhKGdhbnR0RGF0YU5ldywgY2hhcnQpO1xyXG4gICAgdmFyIGV2ZW50R3JvdXBzID0gYmFycy5zZWxlY3RBbGwoXCIuZXZlbnQtcmVjdFwiKVxyXG4gICAgICAgIC5kYXRhKGRhdGFUb1Bsb3QpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZXZlbnQtcmVjdFwiKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGV4dGVybmFsQ291bnRlckZvckpKKys7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IFN0cmluZyhzYW1wbGVEYXRhW2V4dGVybmFsQ291bnRlckZvckpKXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUuZ3JvdXBdKS5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJ19kb3RfJyk7XHJcbiAgICAgICAgICAgIHJldHVybiAnZXZlbnQtcmVjdCBiYXItY29sLScgKyBsYWJlbDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCAwKVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmhlaWdodCAvIGdhbnR0RGF0YU5ldy5sZW5ndGggKiBpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBjb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQgLyBnYW50dERhdGFOZXcubGVuZ3RoO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwidHJhbnNwYXJlbnRcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLDApXCIpO1xyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGksIGopIHsgLy8gVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXBcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHZhciBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB2YXIgZGF0ZURhdGEgPSBbY3VycmVudERhdGVdO1xyXG4gICAgLy9EcmF3cyBhIGxpbmUgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGRhdGVcclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIuY3VycmVudERhdGVMaW5lXCIpXHJcbiAgICAgICAgLmRhdGEoZGF0ZURhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKFwibGluZVwiKVxyXG4gICAgICAgIC5hdHRyKFwieDFcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIngyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5MVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCIwcHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieTJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImN1cnJlbnREYXRlTGluZVwiKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcilcclxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCBjaGFydC5fdmFycy5TVFJPS0VfV0lEVEgpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2UtZGFzaGFycmF5XCIsIChcIjMsIDNcIikpO1xyXG5cclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiLmN1cnJlbnREYXRlTGFiZWxcIilcclxuICAgICAgICAuZGF0YShkYXRlRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICB2YXIgZGQgPSB0b2RheS5nZXREYXRlKCk7XHJcbiAgICAgICAgICAgIHZhciBtbSA9IHRvZGF5LmdldE1vbnRoKCkgKyAxOyAvL0phbnVhcnkgaXMgMCFcclxuXHJcbiAgICAgICAgICAgIHZhciB5eXl5ID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgaWYgKGRkIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIGRkID0gJzAnICsgZGRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW0gPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgbW0gPSAnMCcgKyBtbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0b2RheSA9IG1tICsgJy8nICsgZGQgKyAnLycgKyB5eXl5O1xyXG4gICAgICAgICAgICByZXR1cm4gdG9kYXk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiLTEwcHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0Ll92YXJzLmZvbnRDb2xvcik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmhlYXRtYXAgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUhlYXRNYXAgPSBnZW5lcmF0ZUhlYXRNYXA7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEhlYXRNYXAgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmZ1bmN0aW9uIHF1YW50aXplZChjaGFydCwgbWluLCBtYXgpIHtcclxuICAgIHZhciBidWNrZXRDb3VudCA9IGNoYXJ0Ll92YXJzLmJ1Y2tldHM7XHJcbiAgICB2YXIgc2VjdGlvblZhbHVlID0gKG1heCAtIG1pbikgLyBidWNrZXRDb3VudDtcclxuICAgIHZhciBxdWFudGl6ZWRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWNrZXRDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgcXVhbnRpemVkQXJyYXlbaV0gPSBtaW4gKyBpICogc2VjdGlvblZhbHVlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHF1YW50aXplZEFycmF5O1xyXG59XHJcblxyXG4vKipzZXRIZWF0TWFwRGF0YVxyXG4gKiAgZ2V0cyBoZWF0bWFwIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBheGlzTmFtZXMgPSBzZXRIZWF0QXhpc05hbWVzKGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBheGlzTmFtZXMueEF4aXNEYXRhO1xyXG4gICAgY2hhcnQuZGF0YS55QXhpc0RhdGEgPSBheGlzTmFtZXMueUF4aXNEYXRhO1xyXG4gICAgY2hhcnQuZGF0YS5wcm9jZXNzZWREYXRhID0gc2V0UHJvY2Vzc2VkRGF0YShjaGFydCwgY2hhcnQuZGF0YSwgY2hhcnQuZGF0YS54QXhpc0RhdGEudmFsdWVzLCBjaGFydC5kYXRhLnlBeGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEueEF4aXNEYXRhLnZhbHVlcywgY2hhcnQuY29sb3JzKTtcclxuICAgIGNoYXJ0LmRhdGEuaGVhdERhdGEgPSBzZXRIZWF0bWFwTGVnZW5kRGF0YShjaGFydCwgY2hhcnQuZGF0YSk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoZXZlbnQsIG1vdXNlKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG5cclxuICAgIC8vZGV0ZXJtaW5lIGlmIHRoZSBjbGljayBldmVudCBoYXBwZW5zIGluc2lkZSB0aGUgY29udGFpbmVyXHJcbiAgICBsZXQgYnJ1c2hDb250YWluZXIgPSBjaGFydC5jaGFydERpdi5zZWxlY3QoJy4nICsgY2hhcnQuY29uZmlnLnR5cGUgKyAnLWNvbnRhaW5lcicpLm5vZGUoKSxcclxuICAgICAgICBjb250YWluZXJCb3ggPSBicnVzaENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuICAgICAgICB4ID0gbW91c2VbMF0sXHJcbiAgICAgICAgeSA9IG1vdXNlWzFdLFxyXG4gICAgICAgIGluc2lkZUNvbnRhaW5lciA9IGZhbHNlO1xyXG5cclxuICAgIGlmICh4IDwgY29udGFpbmVyQm94LnJpZ2h0ICYmIHkgPCBjb250YWluZXJCb3guYm90dG9tICYmIHggPiBjb250YWluZXJCb3gubGVmdCAmJiB5ID4gY29udGFpbmVyQm94LnRvcCkge1xyXG4gICAgICAgIGluc2lkZUNvbnRhaW5lciA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGluc2lkZUNvbnRhaW5lciAmJiBldmVudC50YXJnZXQuX19kYXRhX18pIHtcclxuICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LnRhcmdldC5fX2RhdGFfXztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBbY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmhlYXRdOiBbZGF0YS52YWx1ZV0sXHJcbiAgICAgICAgICAgICAgICBbY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLnhdOiBbZGF0YS54QXhpc05hbWVdLFxyXG4gICAgICAgICAgICAgICAgW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS55XTogW2RhdGEueUF4aXNOYW1lXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub2RlOiBldmVudC50YXJnZXRcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChpbnNpZGVDb250YWluZXIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IGZhbHNlXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRIZWF0bWFwTGVnZW5kRGF0YShjaGFydCwgZGF0YSkge1xyXG4gICAgdmFyIGhlYXREYXRhO1xyXG4gICAgdmFyIGJ1Y2tldE1hcHBlciA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF07XHJcbiAgICB2YXIgYnVja2V0Q291bnQ7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvcnMgPSBvcmdhbml6ZUNvbG9ycyhjaGFydCk7XHJcblxyXG4gICAgZGF0YS5oZWF0U2NvcmVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICByZXR1cm4gYSAtIGI7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yU2NhbGUgPSBkMy5zY2FsZVF1YW50aWxlKClcclxuICAgICAgICAuZG9tYWluKGRhdGEuaGVhdFNjb3JlcylcclxuICAgICAgICAucmFuZ2UoY2hhcnQuX3ZhcnMuY29sb3JzKTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMucXVhbnRpbGVzID09PSB0cnVlKSB7XHJcbiAgICAgICAgdmFyIHRlbXAgPSBjaGFydC5kYXRhLmNvbG9yU2NhbGUucXVhbnRpbGVzKCk7XHJcbiAgICAgICAgaWYgKHRlbXBbMF0gPT09IDApIHtcclxuICAgICAgICAgICAgaGVhdERhdGEgPSBjaGFydC5kYXRhLmNvbG9yU2NhbGUucXVhbnRpbGVzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaGVhdERhdGEgPSBbMF0uY29uY2F0KGNoYXJ0LmRhdGEuY29sb3JTY2FsZS5xdWFudGlsZXMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBidWNrZXRDb3VudCA9IGJ1Y2tldE1hcHBlcltjaGFydC5fdmFycy5idWNrZXRzIC0gMV07XHJcbiAgICAgICAgaGVhdERhdGEgPSBxdWFudGl6ZWQoY2hhcnQsIGRhdGEuaGVhdFNjb3Jlc1swXSwgZGF0YS5oZWF0U2NvcmVzW2RhdGEuaGVhdFNjb3Jlcy5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGhlYXREYXRhO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcmdhbml6ZUNvbG9ycyhjaGFydCkge1xyXG4gICAgdmFyIGNvbG9yU2VsZWN0ZWRCdWNrZXQgPSBbXTtcclxuICAgIGZvciAodmFyIGMgaW4gY2hhcnQuX3ZhcnMuY29sb3JzKSB7XHJcbiAgICAgICAgY29sb3JTZWxlY3RlZEJ1Y2tldC5wdXNoKGNoYXJ0Ll92YXJzLmNvbG9yc1tjXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNWYWx1ZSA9IGNoYXJ0Ll92YXJzLmJ1Y2tldHM7XHJcbiAgICB2YXIgbmV3Q29sb3JzID0gW107XHJcbiAgICB2YXIgYnVja2V0TWFwcGVyID0gWzEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwXTtcclxuICAgIHZhciBidWNrZXRDb3VudCA9IGJ1Y2tldE1hcHBlcltzVmFsdWUgLSAxXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVja2V0Q291bnQ7IGkrKykge1xyXG4gICAgICAgIGlmIChpID49IGJ1Y2tldENvdW50IC8gMikge1xyXG4gICAgICAgICAgICBuZXdDb2xvcnNbaV0gPSBjb2xvclNlbGVjdGVkQnVja2V0W01hdGgucm91bmQoKGkgKyAxKSAvIGJ1Y2tldENvdW50ICogMjApIC0gMV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmV3Q29sb3JzW2ldID0gY29sb3JTZWxlY3RlZEJ1Y2tldFtNYXRoLnJvdW5kKChpKSAvIGJ1Y2tldENvdW50ICogMjApXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgY29sb3JzID0gbmV3Q29sb3JzLnNsaWNlKDApO1xyXG4gICAgcmV0dXJuIGNvbG9ycztcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0SGVhdEF4aXNOYW1lcyhkYXRhKSB7XHJcbiAgICB2YXIgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGE7XHJcbiAgICB2YXIgeEF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueDtcclxuICAgIHZhciB5QXhpc05hbWUgPSBkYXRhLmRhdGFUYWJsZS55O1xyXG4gICAgdmFyIHhBeGlzQXJyYXkgPSBbXTtcclxuICAgIHZhciB5QXhpc0FycmF5ID0gW107XHJcbiAgICB2YXIgcmV0dXJuT2JqID0ge307XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZUtleXNbaV0udml6VHlwZSA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEgPSB7fTtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5kYXRhVHlwZSA9IGRhdGEuZGF0YVRhYmxlS2V5c1tpXS50eXBlO1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhLmxhYmVsID0gZGF0YS5kYXRhVGFibGUueDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlS2V5c1tpXS52aXpUeXBlID09PSAneScpIHtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YSA9IHt9O1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLmRhdGFUeXBlID0gZGF0YS5kYXRhVGFibGVLZXlzW2ldLnR5cGU7XHJcbiAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEubGFiZWwgPSBkYXRhLmRhdGFUYWJsZS55O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh4QXhpc0FycmF5LmluZGV4T2YoY2hhcnREYXRhW2ldW3hBeGlzTmFtZV0pID09PSAtMSkge1xyXG4gICAgICAgICAgICB4QXhpc0FycmF5LnB1c2goY2hhcnREYXRhW2ldW3hBeGlzTmFtZV0pO1xyXG4gICAgICAgICAgICAvL1RPRE8gbWFrZSBpbnRvIDEgZnVuY3Rpb24gZm9yIG1pbiBtYXguLi4gd2FzdGUgb2Ygc3BhY2VcclxuICAgICAgICAgICAgaWYgKHJldHVybk9iai54QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgICAgICAvL3B1c2ggbWluIGFuZCBtYXggaW5mb1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXR1cm5PYmoueEF4aXNEYXRhLm1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEubWluID0gY2hhcnREYXRhW2ldW3hBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdIDwgcmV0dXJuT2JqLnhBeGlzRGF0YS5taW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhLm1pbiA9IGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghcmV0dXJuT2JqLnhBeGlzRGF0YS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhLm1heCA9IGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1beEF4aXNOYW1lXSA8IHJldHVybk9iai54QXhpc0RhdGEubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5tYXggPSBjaGFydERhdGFbaV1beEF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeUF4aXNBcnJheS5pbmRleE9mKGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgeUF4aXNBcnJheS5wdXNoKGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdKTtcclxuICAgICAgICAgICAgaWYgKHJldHVybk9iai55QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgICAgICAvL3B1c2ggbWluIGFuZCBtYXggaW5mb1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXR1cm5PYmoueUF4aXNEYXRhLm1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEubWluID0gY2hhcnREYXRhW2ldW3lBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdIDwgcmV0dXJuT2JqLnlBeGlzRGF0YS5taW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLm1pbiA9IGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICghcmV0dXJuT2JqLnlBeGlzRGF0YS5tYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLm1heCA9IGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1beUF4aXNOYW1lXSA8IHJldHVybk9iai55QXhpc0RhdGEubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5tYXggPSBjaGFydERhdGFbaV1beUF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybk9iai54QXhpc0RhdGEudmFsdWVzID0geEF4aXNBcnJheTtcclxuICAgIHJldHVybk9iai55QXhpc0RhdGEudmFsdWVzID0geUF4aXNBcnJheTtcclxuXHJcbiAgICByZXR1cm4gcmV0dXJuT2JqO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRQcm9jZXNzZWREYXRhKGNoYXJ0LCBkYXRhLCB4QXhpc0FycmF5LCB5QXhpc0FycmF5KSB7XHJcbiAgICB2YXIgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGE7XHJcbiAgICB2YXIgeEF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueDtcclxuICAgIHZhciB5QXhpc05hbWUgPSBkYXRhLmRhdGFUYWJsZS55O1xyXG4gICAgdmFyIGhlYXQgPSBkYXRhLmRhdGFUYWJsZS5oZWF0O1xyXG4gICAgdmFyIHhDYXQgPSBkYXRhLmRhdGFUYWJsZS54X2NhdGVnb3J5O1xyXG4gICAgdmFyIHlDYXQgPSBkYXRhLmRhdGFUYWJsZS55X2NhdGVnb3J5O1xyXG4gICAgdmFyIGRhdGFBcnJheSA9IFtdO1xyXG4gICAgZGF0YS5oZWF0U2NvcmVzID0gW107XHJcbiAgICAvKkFzc2lnbiBlYWNoIG5hbWUgYSBudW1iZXIgYW5kIHBsYWNlIG1hdHJpeCBjb29yZGluYXRlcyBpbnNpZGUgb2YgZGF0YUFycmF5ICovXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRhdGFBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgdmFsdWU6IGNoYXJ0RGF0YVtpXVtoZWF0XSxcclxuICAgICAgICAgICAgeEF4aXNOYW1lOiBjaGFydERhdGFbaV1beEF4aXNOYW1lXSxcclxuICAgICAgICAgICAgeUF4aXNOYW1lOiBjaGFydERhdGFbaV1beUF4aXNOYW1lXVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGtleXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgaWYgKGtleXNba10uaW5kZXhPZigndG9vbHRpcCcpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFBcnJheVtpXVtrZXlzW2tdXSA9IGNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZVtrZXlzW2tdXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy9UaGlzIGFycmF5IHN0b3JlcyB0aGUgdmFsdWVzIGFzIG51bWJlcnNcclxuICAgICAgICBkYXRhLmhlYXRTY29yZXMucHVzaChjaGFydERhdGFbaV1baGVhdF0pO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgeEF4aXNBcnJheS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoeEF4aXNBcnJheVtqXSA9PT0gZGF0YUFycmF5W2ldLnhBeGlzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YUFycmF5W2ldLnhBeGlzID0gajtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgeUF4aXNBcnJheS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoeUF4aXNBcnJheVtqXSA9PT0gZGF0YUFycmF5W2ldLnlBeGlzTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YUFycmF5W2ldLnlBeGlzID0gajtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhQXJyYXk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTsvL01pZ2h0IGhhdmUgdG8gbW92ZSBpbnRvIG1ldGhvZCBiYyBvZiByZWZlcmVuY2UvdmFsdWUgcmVsYXRpb25zaGlwXHJcbiAgICB2YXIgY3VzdG9tTWFyZ2luID0ge1xyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICByaWdodDogNDAsXHJcbiAgICAgICAgbGVmdDogMCxcclxuICAgICAgICBib3R0b206IDIwXHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgY3VzdG9tTWFyZ2luKTtcclxuICAgIC8vY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlSGVhdE1hcCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVIZWF0TWFwKCk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlSGVhdE1hcFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIEhlYXRNYXAgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgSGVhdE1hcERhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlSGVhdE1hcCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9ycyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIG1pbkNvbnRhaW5lciA9IDMwMCxcclxuICAgICAgICBxdWFudGlsZXMgPSBjaGFydC5fdmFycy5xdWFudGlsZXMsXHJcbiAgICAgICAgZGF0YSA9IGNoYXJ0LmRhdGEucHJvY2Vzc2VkRGF0YSxcclxuICAgICAgICB0b2dnbGVMZWdlbmQgPSAhY2hhcnQuX3ZhcnMudG9nZ2xlTGVnZW5kLFxyXG4gICAgICAgIGhlYXRNYXBEYXRhID0gY2hhcnQuY3VycmVudERhdGEsXHJcbiAgICAgICAgZ3JpZFNpemUgPSBjaGFydC5fdmFycy5oZWF0R3JpZFNpemUsXHJcbiAgICAgICAgbGVnZW5kU3BhY2luZyA9IGNoYXJ0Ll92YXJzLmhlYXRMZWdlbmRTcGFjaW5nO1xyXG5cclxuICAgIHZhciBkaXYgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3Rvb2x0aXAnKVxyXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApO1xyXG5cclxuICAgIHZhciB2aXMgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLDApJykuYXR0cignY2xhc3MnLCAnaGVhdG1hcCcpO1xyXG5cclxuICAgIHZhciB5QXhpc1RpdGxlID0gdmlzLnNlbGVjdEFsbCgnLmhlYXRtYXAnKVxyXG4gICAgICAgIC5kYXRhKFtoZWF0TWFwRGF0YS5kYXRhVGFibGUueV0pO1xyXG5cclxuICAgIHlBeGlzVGl0bGUuZW50ZXIoKS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdheGlzTGFiZWxzIGJvbGQnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgLTIxKVxyXG4gICAgICAgIC5hdHRyKCd5JywgLTUpXHJcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKC0nICsgKGNoYXJ0Ll92YXJzLmhlYXRtYXBZbWFyZ2luICsgMTApICsgJywnICsgMCArICcpcm90YXRlKC05MCknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgeUF4aXNUaXRsZS5leGl0KCkucmVtb3ZlKCk7XHJcbiAgICB2YXIgZm9ybWF0VHlwZSA9IGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWVUeXBlKGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXMsIGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS5kYXRhVHlwZSk7XHJcblxyXG4gICAgdmFyIHlBeGlzU2VjdGlvbiA9IHZpcy5hcHBlbmQoJ3N2ZzpnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAneUF4aXNTZWN0aW9uJyk7XHJcblxyXG4gICAgdmFyIHlBeGlzID0geUF4aXNTZWN0aW9uLnNlbGVjdEFsbCgnLnhBeGlzJylcclxuICAgICAgICAuZGF0YShoZWF0TWFwRGF0YS55QXhpc0RhdGEudmFsdWVzKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnc3ZnOmcnKTtcclxuXHJcbiAgICB5QXhpcy5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHIgPSBqdkNoYXJ0cy5qdkZvcm1hdFZhbHVlKGQsIGZvcm1hdFR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA+IDE1KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCAxNCkgKyAnLi4uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAwKVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGkgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnZW5kJylcclxuICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKC02LCcgKyBncmlkU2l6ZSAvIDEuNSArICcpJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gJ3Jvd0xhYmVsIHBvaW50ZXInOyB9KVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAvL3JlbW92aW5nIHN0eWxpbmdcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcucm93TGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuY29sTGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1ib3JkZXInLCBmYWxzZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgdmFyIHBhaW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGQgPT09IGNoYXJ0Ll92YXJzLnNlbGVjdGVkWCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMuc2VsZWN0ZWRYID0gJyc7XHJcbiAgICAgICAgICAgICAgICBwYWludCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMuc2VsZWN0ZWRYID0gZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9mYWRlIGFsbCByZWN0cyBleGNlcHQgaW4gdGhpcyByb3dcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLnZhbHVlc1tpXSA9PT0gZCAmJiBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLnlBeGlzICE9IGkgJiYgcGFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG5cclxuICAgIHlBeGlzLmFwcGVuZCgndGl0bGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICB2YXIgeEF4aXNUaXRsZSA9IHZpcy5zZWxlY3RBbGwoJy54QXhpc1RpdGxlJylcclxuICAgICAgICAuZGF0YShbaGVhdE1hcERhdGEuZGF0YVRhYmxlLnhdKTtcclxuXHJcbiAgICB4QXhpc1RpdGxlLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpc0xhYmVscyBib2xkJylcclxuICAgICAgICAuYXR0cigneCcsIDYpXHJcbiAgICAgICAgLmF0dHIoJ3knLCA5KVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgMCArICcsIC0nICsgKGNoYXJ0Ll92YXJzLmhlYXRtYXBYbWFyZ2luIC0gMTApICsgJyknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgeEF4aXNUaXRsZS5leGl0KCkucmVtb3ZlKCk7XHJcblxyXG4gICAgdmFyIHhBeGlzU2VjdGlvbiA9IHZpcy5hcHBlbmQoJ3N2ZzpnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAneEF4aXNTZWN0aW9uJyk7XHJcblxyXG4gICAgdmFyIHhBeGlzID0geEF4aXNTZWN0aW9uLnNlbGVjdEFsbCgnLnhBeGlzJylcclxuICAgICAgICAuZGF0YShoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnc3ZnOmcnKTtcclxuXHJcbiAgICBmb3JtYXRUeXBlID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcywgY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlKTtcclxuXHJcbiAgICB4QXhpcy5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHZhciBzdHIgPSBqdkNoYXJ0cy5qdkZvcm1hdFZhbHVlKGQsIGZvcm1hdFR5cGUpO1xyXG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA+IDE1KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCAxNCkgKyAnLi4uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCA2KVxyXG4gICAgICAgIC5hdHRyKCd5JywgNylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gJ2NvbExhYmVsIHBvaW50ZXInOyB9KVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgKChpICogZ3JpZFNpemUpKSArICcsIC02KXJvdGF0ZSgtNDUpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd0aXRsZScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWludCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChkID09PSBjaGFydC5fdmFycy5zZWxlY3RlZFgpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLnNlbGVjdGVkWCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgcGFpbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLnNlbGVjdGVkWCA9IGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9mYWRlIGFsbCByZWN0cyBleGNlcHQgaW4gdGhpcyBjb2x1bW5cclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlc1tpXSA9PT0gZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoci54QXhpcyAhPT0gaSAmJiBwYWludCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHhBeGlzLmFwcGVuZCgndGl0bGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHZhciB3aWR0aCA9IGhlYXRNYXBEYXRhLnhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICogZ3JpZFNpemU7XHJcbiAgICB2YXIgaGVpZ2h0ID0gaGVhdE1hcERhdGEueUF4aXNEYXRhLnZhbHVlcy5sZW5ndGggKiBncmlkU2l6ZTtcclxuICAgIHZhciBmb3JtYXRWYWx1ZVR5cGUgPSBqdkNoYXJ0cy5qdkZvcm1hdFZhbHVlVHlwZShjaGFydC5kYXRhLmhlYXREYXRhKTtcclxuXHJcbiAgICAvL3ZlcnRpY2FsIGxpbmVzXHJcbiAgICB2YXIgdkxpbmUgPSB2aXMuYXBwZW5kKCdzdmc6ZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3ZMaW5lU2VjdGlvbicpO1xyXG5cclxuICAgIHZMaW5lLnNlbGVjdEFsbCgnLnZMaW5lU2VjdGlvbicpXHJcbiAgICAgICAgLmRhdGEoZDMucmFuZ2UoaGVhdE1hcERhdGEueEF4aXNEYXRhLnZhbHVlcy5sZW5ndGggKyAxKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaGVpZ2h0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCBjaGFydC5fdmFycy5heGlzQ29sb3IpO1xyXG5cclxuICAgIC8vaG9yaXpvbnRhbCBsaW5lc1xyXG4gICAgdmFyIGhMaW5lID0gdmlzLmFwcGVuZCgnc3ZnOmcnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdoZWF0bWFwLWNvbnRhaW5lcicpO1xyXG5cclxuICAgIGhMaW5lLnNlbGVjdEFsbCgnLmhlYXRtYXAtY29udGFpbmVyJylcclxuICAgICAgICAuZGF0YShkMy5yYW5nZShoZWF0TWFwRGF0YS55QXhpc0RhdGEudmFsdWVzLmxlbmd0aCArIDEpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKTtcclxuXHJcbiAgICB2YXIgaGVhdE1hcCA9IHZpcy5hcHBlbmQoJ3N2ZzpnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnaGVhdFNlY3Rpb24nKTtcclxuXHJcbiAgICBoZWF0TWFwLnNlbGVjdEFsbCgnLmhlYXRTZWN0aW9uJylcclxuICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGQueEF4aXMpICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZC55QXhpcykgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdyeCcsIDIpXHJcbiAgICAgICAgLmF0dHIoJ3J5JywgMilcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnaGVhdCcpXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgZ3JpZFNpemUgLSAxKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBncmlkU2l6ZSAtIDEpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKHF1YW50aWxlcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmRvbWFpbkFycmF5Lmxlbmd0aCA9PT0gMCB8fCAoZC52YWx1ZSA+PSBjaGFydC5fdmFycy5kb21haW5BcnJheVswXSAmJiBkLnZhbHVlIDw9IGNoYXJ0Ll92YXJzLmRvbWFpbkFycmF5WzFdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5kYXRhLmNvbG9yU2NhbGUoZC52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3doaXRlJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZG9tYWluQXJyYXkubGVuZ3RoID09IDAgfHwgKGQudmFsdWUgPj0gY2hhcnQuX3ZhcnMuZG9tYWluQXJyYXlbMF0gJiYgZC52YWx1ZSA8PSBjaGFydC5fdmFycy5kb21haW5BcnJheVsxXSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRRdWFudGl6ZWRDb2xvcihjaGFydC5kYXRhLmhlYXREYXRhLCBkLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ3doaXRlJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICB0aXBEYXRhLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvclNjYWxlKGQudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgLy9EcmF3IHRpcFxyXG4gICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmNsaWNrZWQgPSAhY2hhcnQuY2xpY2tlZDtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vYm9yZGVyIGFyb3VuZCBzZWxlY3RlZCByZWN0XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgncmVjdC1ib3JkZXInLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZhZGUgcm93IGxhYmVsc1xyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcucm93TGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJpID09IChkLnlBeGlzKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9mYWRlIGNvbHVtbiBsYWJlbHNcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmdW5jdGlvbiAociwgcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShyaSA9PSAoZC54QXhpcykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZmFkZSBhbGwgcmVjdHMgZXhjZXB0IHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmdW5jdGlvbiAociwgcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoci55QXhpcyAhPSBkLnlBeGlzIHx8IHIueEF4aXMgIT0gZC54QXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vcmVtb3Zpbmcgc3R5bGluZ1xyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcucm93TGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1ib3JkZXInLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgY2hhcnQuY2hhcnREaXYuc2VsZWN0KFwic3ZnLmhlYXRMZWdlbmRcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgaWYgKHRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgIHZhciBsZWdlbmRDb250YWluZXIgPSBjaGFydC5jaGFydERpdi5hcHBlbmQoJ3N2ZycpXHJcbiAgICAgICAgICAgIC5zdHlsZSgndG9wJywgY2hhcnQuY29uZmlnLm1hcmdpbi50b3AgKyAncHgnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2JhY2tncm91bmQnLCBjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3IpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdoZWF0TGVnZW5kJylcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgY2hhcnQuY29uZmlnLmhlYXRXaWR0aCk7XHJcblxyXG4gICAgICAgIHZhciBsZWdlbmQgPSBsZWdlbmRDb250YWluZXIuc2VsZWN0QWxsKCcubGVnZW5kJylcclxuICAgICAgICAgICAgLmRhdGEoY2hhcnQuZGF0YS5oZWF0RGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gZ3JpZFNpemUgKyBsZWdlbmRTcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IGhlaWdodCAqIGNoYXJ0LmRhdGEuY29sb3JTY2FsZS5kb21haW4oKS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhvcnogPSAtMiAqIGdyaWRTaXplO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZlcnQgPSBpICogaGVpZ2h0IC0gb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIDAgKyAnLCcgKyAoZ3JpZFNpemUgKiBpKSArICcpJztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgZ3JpZFNpemUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBncmlkU2l6ZSlcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcnNbaV07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgICAgICAvL2ZhZGUgYWxsIHJlY3RzIGV4Y2VwdCBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIudmFsdWUgPCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGVnZW5kLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmRUZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBncmlkU2l6ZSArIGxlZ2VuZFNwYWNpbmcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgZ3JpZFNpemUgLSBsZWdlbmRTcGFjaW5nKVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganZDaGFydHMuanZGb3JtYXRWYWx1ZShkLCBmb3JtYXRWYWx1ZVR5cGUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBjaGFydC5fdmFycy5ibGFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UXVhbnRpemVkQ29sb3IocXVhbnRpemVkQXJyYXksIHZhbHVlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBxdWFudGl6ZWRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCBxdWFudGl6ZWRBcnJheVtpXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yc1tpIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbG9yc1txdWFudGl6ZWRBcnJheS5sZW5ndGggLSAxXTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuXHJcblxyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmxpbmUgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUxpbmUgPSBnZW5lcmF0ZUxpbmU7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zZXRMaW5lVGhyZXNob2xkRGF0YSA9IHNldExpbmVUaHJlc2hvbGREYXRhO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBMaW5lIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRMaW5lRGF0YVxyXG4gKiAgZ2V0cyBsaW5lIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIC8vc29ydCBjaGFydCBkYXRhIGlmIHRoZXJlIGlzIGEgc29ydCB0eXBlIGFuZCBsYWJlbCBpbiB0aGUgX3ZhcnNcclxuICAgIGlmIChjaGFydC5fdmFycy5zb3J0VHlwZSkge1xyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5zb3J0TGFiZWwgJiYgY2hhcnQuX3ZhcnMuc29ydFR5cGUgIT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICBjaGFydC5vcmdhbml6ZUNoYXJ0RGF0YShjaGFydC5fdmFycy5zb3J0TGFiZWwsIGNoYXJ0Ll92YXJzLnNvcnRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5kYXRhKTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIGNoYXJ0LnNldEZsaXBwZWRTZXJpZXMoY2hhcnQuZGF0YS5kYXRhVGFibGVLZXlzKTtcclxuICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5mbGlwcGVkRGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjaGFydC5kYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnc2VyaWVzJykpIHtcclxuICAgICAgICBjaGFydC5kYXRhLmNoYXJ0RGF0YSA9IHNldFNlcmllc0RhdGEoY2hhcnQuZGF0YS5jaGFydERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKGV2ZW50KSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuc3BsaXQoJ2Jhci1jb2wtJylbMV0pIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBbY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXTogW2V2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuc3BsaXQoJ2Jhci1jb2wtJylbMV0ucmVwbGFjZSgvXy9nLCAnICcpLnJlcGxhY2UoL19kb3RfL2csICcuJyldXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vZGU6IGV2ZW50LnRhcmdldFxyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuaW5kZXhPZignbGluZS1jb250YWluZXInKSA+IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge31cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiBmYWxzZVxyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuYW1lIHNldFNlcmllc0RhdGFcclxuICogQGRlc2MgU2V0cyBjaGFydERhdGEgdG8gY29udGFpbiBhIHNlcmllcyBkYXRhIGlmIHRoZSBzZXJpZXMgZmllbGQgZXhpc3RzIGluIHZpc3VhbCBwYW5lbFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0U2VyaWVzRGF0YShkYXRhLCBkYXRhVGFibGUsIGxlZ2VuZERhdGFBcnJheSkge1xyXG4gICAgdmFyIG5ld0NoYXJ0RGF0YSA9IFtdO1xyXG4gICAgLy9HZXQgdW5pcXVlIGxhYmVsIGxpc3RcclxuICAgIHZhciBsYWJlbExpc3QgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBhZGQgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGFiZWxMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhW2ldW2RhdGFUYWJsZS5sYWJlbF0gPT09IGxhYmVsTGlzdFtqXSkge1xyXG4gICAgICAgICAgICAgICAgYWRkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFkZCkge1xyXG4gICAgICAgICAgICBsYWJlbExpc3QucHVzaChkYXRhW2ldW2RhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vSXRlcmF0ZSBvdmVyIGxhYmVsIGxpc3RcclxuICAgIHZhciBuZXdEYXRhID0gW107XHJcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGFiZWxMaXN0Lmxlbmd0aDsgaSsrKXtcclxuICAgICAgICB2YXIgZGF0YU9iaiA9IHt9O1xyXG4gICAgICAgIGRhdGFPYmpbZGF0YVRhYmxlLmxhYmVsXSA9IGxhYmVsTGlzdFtpXTtcclxuICAgICAgICBmb3IobGV0IGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKyl7XHJcbiAgICAgICAgICAgIGlmKGRhdGFbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gbGFiZWxMaXN0W2ldKXtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdFbnRyeSA9IGRhdGFbal1bZGF0YVRhYmxlLnNlcmllc10gKyAnICcgKyBkYXRhVGFibGVbJ3ZhbHVlIDEnXTtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmpbbmV3RW50cnldID0gZGF0YVtqXVtkYXRhVGFibGVbJ3ZhbHVlIDEnXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbmV3RGF0YS5wdXNoKGRhdGFPYmopO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld0RhdGE7XHJcbn1cclxuXHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcblxyXG4gICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzZXJpZXMnKSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGFkZFRvTGVnZW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZWdlbmRBcnJheS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudHJ5ID0gZGF0YS5jaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSArICcgJyArIGRhdGEuZGF0YVRhYmxlWyd2YWx1ZSAxJ107XHJcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkgPT09IGxlZ2VuZEFycmF5W2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9MZWdlbmQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWRkVG9MZWdlbmQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdFbnRyeSA9IGRhdGEuY2hhcnREYXRhW2ldW2RhdGEuZGF0YVRhYmxlLnNlcmllc10gKyAnICcgKyBkYXRhLmRhdGFUYWJsZVsndmFsdWUgMSddO1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChuZXdFbnRyeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09ICdsYWJlbCcgJiYgaXRlbS5pbmRleE9mKCd0b29sdGlwJykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZVtpdGVtXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG4vKipwYWludExpbmVDaGFydFxyXG4gKlxyXG4gKiBUaGUgaW5pdGlhbCBzdGFydGluZyBwb2ludCBmb3IgbGluZSBjaGFydCwgYmVnaW5zIHRoZSBkcmF3aW5nIHByb2Nlc3MuIE11c3QgYWxyZWFkeSBoYXZlIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgY2hhcnRcclxuICogb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAvL1VzZXMgdGhlIG9yaWdpbmFsIGRhdGEgYW5kIHRoZW4gbWFuaXB1bGF0ZXMgaXQgYmFzZWQgb24gYW55IGV4aXN0aW5nIG9wdGlvbnNcclxuICAgIHZhciBkYXRhT2JqID0gY2hhcnQuZ2V0QmFyRGF0YUZyb21PcHRpb25zKCk7XHJcblxyXG4gICAgLy9hc3NpZ24gY3VycmVudCBkYXRhIHdoaWNoIGlzIHVzZWQgYnkgYWxsIGJhciBjaGFydCBvcGVyYXRpb25zXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGRhdGFPYmo7XHJcblxyXG4gICAgLy9nZW5lcmF0ZSBzdmcgZHluYW1pY2FsbHkgYmFzZWQgb24gbGVnZW5kIGRhdGFcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKGRhdGFPYmoubGVnZW5kRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGRhdGFPYmoueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWUF4aXMoZGF0YU9iai55QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVMZWdlbmQoZGF0YU9iai5sZWdlbmREYXRhLCAnZ2VuZXJhdGVMaW5lJyk7XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcygpLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LmdlbmVyYXRlTGluZShkYXRhT2JqKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVMaW5lXHJcbiAqXHJcbiAqIFBhaW50cyB0aGUgbGluZXNcclxuICogQHBhcmFtcyBsaW5lRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVMaW5lKGxpbmVEYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbCgnZy4nICsgY2hhcnQuY29uZmlnLnR5cGUgKyAnLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG4gICAgdmFyIGxpbmVzID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgY2hhcnQuY29uZmlnLnR5cGUgKyAnLWNvbnRhaW5lcicpXHJcbiAgICAgICAgLnNlbGVjdEFsbCgnZycpO1xyXG5cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGxpbmVEYXRhLmxlZ2VuZERhdGE7XHJcblxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQgJiYgY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzO1xyXG4gICAgfSBlbHNlIGlmIChjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBsaW5lRGF0YU5ldyA9IGp2Q2hhcnRzLmdldFRvZ2dsZWREYXRhKGxpbmVEYXRhLCBkYXRhSGVhZGVycyk7XHJcblxyXG4gICAgLy9JZiBpdCdzIGFuIGFyZWEgY2hhcnQsIGFkZCB0aGUgYXJlYVxyXG4gICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICBjaGFydC5maWxsQXJlYShsaW5lRGF0YU5ldyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVMaW5lR3JvdXBzKGxpbmVzLCBsaW5lRGF0YU5ldywgY2hhcnQpO1xyXG4gICAgdmFyIGV2ZW50R3JvdXBzID0ganZDaGFydHMuZ2VuZXJhdGVFdmVudEdyb3VwcyhsaW5lcywgbGluZURhdGFOZXcsIGNoYXJ0KTtcclxuXHJcbiAgICBldmVudEdyb3Vwc1xyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGksIGopIHsgLy9UcmFuc2l0aW9ucyBpbiBEMyBkb24ndCBzdXBwb3J0IHRoZSAnb24nIGZ1bmN0aW9uIFRoZXkgb25seSBleGlzdCBvbiBzZWxlY3Rpb25zLiBTbyBuZWVkIHRvIG1vdmUgdGhhdCBldmVudCBsaXN0ZW5lciBhYm92ZSB0cmFuc2l0aW9uIGFuZCBhZnRlciBhcHBlbmRcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXBcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcudGlwLWxpbmUnKS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjaGFydC5kaXNwbGF5VmFsdWVzKCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUNsaXBQYXRoKCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxpbmVUaHJlc2hvbGQoKTtcclxuXHJcbiAgICByZXR1cm4gbGluZXM7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlTGluZUdyb3Vwc1xyXG4gKlxyXG4gKiBQYWludHMgdGhlIGdyb3VwcyBvZiB0aGUgbGluZXNcclxuICogQHBhcmFtcyBjaGFydENvbnRhaW5lciwgYmFyRGF0YSwgY2hhcnRcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTGluZUdyb3VwcyhsaW5lQ29udGFpbmVyLCBsaW5lRGF0YSwgY2hhcnQpIHtcclxuICAgIHZhciBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgY29sb3JzID0gY2hhcnQuX3ZhcnMuY29sb3IsXHJcbiAgICAgICAgbGluZXMsXHJcbiAgICAgICAgbGluZUxlbmd0aCA9IGxpbmVEYXRhLmxlbmd0aCxcclxuICAgICAgICBsZWdlbmRMZW5ndGggPSBsZWdlbmREYXRhLmxlbmd0aDtcclxuXHJcbiAgICAvL0dldCBQb3NpdGlvbiBDYWxjdWxhdGlvbnNcclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzLCAnbm8tcGFkZGluZycpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMsICduby1wYWRkaW5nJyk7XHJcblxyXG4gICAgdmFyIHhUcmFuc2xhdGUsXHJcbiAgICAgICAgeVRyYW5zbGF0ZTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHhUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoZCA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB4KCdFTVBUWV9TVFJJTkcnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geChkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHlUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHkobGluZURhdGFbaV1beUF4aXNEYXRhLmxhYmVsXSkpICsgKGNvbnRhaW5lci5oZWlnaHQgLyAobGluZUxlbmd0aCkgLyAyKTsvLysgY29udGFpbmVyLmhlaWdodCAvIChsaW5lTGVuZ3RoKSAvIDIgIC0geS5wYWRkaW5nSW5uZXIoKSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeFRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgbGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSA9ICdFTVBUWV9TVFJJTkcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoeChsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdKSkgKyAoY29udGFpbmVyLndpZHRoIC8gKGxpbmVMZW5ndGgpIC8gMik7Ly8rIGNvbnRhaW5lci53aWR0aCAvIChsaW5lTGVuZ3RoKSAvIDIgLSB4LnBhZGRpbmdJbm5lcigpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHlUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geShkKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vQXBwZW5kIGxpbmVzIGFuZCBjaXJjbGVzXHJcblxyXG4gICAgdmFyIHVuaXF1ZVhBeGlzRGF0YSA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGFydC5kYXRhLnhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgYWRkID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHVuaXF1ZVhBeGlzRGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZGF0YS54QXhpc0RhdGEudmFsdWVzW2ldID09PSB1bmlxdWVYQXhpc0RhdGFbal0pIHtcclxuICAgICAgICAgICAgICAgIGFkZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFkZCkge1xyXG4gICAgICAgICAgICB1bmlxdWVYQXhpc0RhdGEucHVzaChjaGFydC5kYXRhLnhBeGlzRGF0YS52YWx1ZXNbaV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIHZhciBkYXRhID0ge307XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmVMZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgbGVnZW5kTGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFydC5fdmFycy5sZWdlbmRPcHRpb25zICE9PSAndW5kZWZpbmVkJykgey8vQWNjb3VudGluZyBmb3IgbGVnZW5kIHRvZ2dsZXNcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRPcHRpb25zW2tdLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0Rvbid0IHdyaXRlIGFueXRoaW5nIHRvIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Xcml0ZSBzb21ldGhpbmcgdG8gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaChwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7Ly9Jbml0aWFsIGNyZWF0aW9uIG9mIHZpc3VhbGl6YXRpb24gdy9vIGxlZ2VuZCBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtsZWdlbmREYXRhW2tdXS5sZW5ndGggPCBsaW5lTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcubGluZXMnKS5yZW1vdmUoKTtcclxuICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy5saW5lJykucmVtb3ZlKCk7XHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcuY2lyY2xlJykucmVtb3ZlKCk7XHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcjbGluZS1ncmFkaWVudCcpLnJlbW92ZSgpO1xyXG5cclxuICAgIGxpbmVzID0gY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLicgKyBjaGFydC5jb25maWcudHlwZSArICctY29udGFpbmVyJyk7XHJcblxyXG4gICAgLy9jdXJ2ZXMgb2JqZWN0XHJcbiAgICB2YXIgY3VydmVzID0ge1xyXG4gICAgICAgICdMaW5lYXInOiBkMy5jdXJ2ZUxpbmVhcixcclxuICAgICAgICAnU3RlcCc6IGQzLmN1cnZlU3RlcCxcclxuICAgICAgICAnU3RlcCBCZWZvcmUnOiBkMy5jdXJ2ZVN0ZXBCZWZvcmUsXHJcbiAgICAgICAgJ1N0ZXAgQWZ0ZXInOiBkMy5jdXJ2ZVN0ZXBBZnRlcixcclxuICAgICAgICAnQmFzaXMnOiBkMy5jdXJ2ZUJhc2lzLFxyXG4gICAgICAgICdDYXJkaW5hbCc6IGQzLmN1cnZlQ2FyZGluYWwsXHJcbiAgICAgICAgJ01vbm90b25lIFgnOiBkMy5jdXJ2ZU1vbm90b25lWCxcclxuICAgICAgICAnQ2F0bXVsbCBSb20nOiBkMy5jdXJ2ZUNhdG11bGxSb21cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHZhbHVlbGluZSA9IHt9O1xyXG4gICAgdmFyIGNpcmNsZXMgPSB7fTtcclxuICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICB2YXIgbGluZUNvbG9ycyA9IFtdO1xyXG4gICAgdmFyIHRocmVzaG9sZGluZyA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIgayBpbiBkYXRhKSB7XHJcbiAgICAgICAgLy9DcmVhdGUgcGF0aCBnZW5lcmF0b3IgZm9yIGVhY2ggc2VyaWVzXHJcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoaykpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFba10gPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhW2tdID0gJ0VNUFRZX1NUUklORyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhbHVlbGluZVtrXSA9IGQzLmxpbmUoKS8vbGluZSBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAuY3VydmUoY3VydmVzW2NoYXJ0Ll92YXJzLmxpbmVDdXJ2ZVR5cGVdKVxyXG4gICAgICAgICAgICAgICAgLmRlZmluZWQoZnVuY3Rpb24oZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpc05hTihkKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAueChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlUcmFuc2xhdGUoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL0FkZCBsaW5lcyB0byB0aGUgY2hhcnQuY29uZmlnLnR5cGUgKyAnLWNvbnRhaW5lcidcclxuICAgICAgICAgICAgbGluZXNcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmUgJyArIChrKSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3BhdGgnKS8vZHJhd3MgdGhlIGxpbmVcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvck9iaiA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGspO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVDb2xvcnMucHVzaChjb2xvck9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yT2JqO1xyXG4gICAgICAgICAgICAgICAgfSkgICAvL2ZpbGxzIHRoZSBiYXIgd2l0aCBjb2xvclxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcyJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZWxpbmVba10oZGF0YVtrXSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vQ29sb3IgVGhyZXNob2xkaW5nIGZvciBlYWNoIHRpZXJcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMgIT0gJ25vbmUnICYmIGNoYXJ0Ll92YXJzLmNvbG9yQ2hhcnQgIT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5jb2xvckxpbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkUGVyY2VudHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkTGVuZ3RoID0gT2JqZWN0LmtleXMoY2hhcnQuX3ZhcnMudGhyZXNob2xkcykubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHplcm8gPSB7IHBlcmNlbnQ6IDAsIGNvbG9yOiBsaW5lQ29sb3JzW2luZGV4XSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRQZXJjZW50cy5wdXNoKHplcm8pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCB0aHJlc2hvbGRMZW5ndGg7IHorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBDZW50ID0gKChjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZCkgKiAxMDApIC8gKHhBeGlzRGF0YS5tYXggLSB4QXhpc0RhdGEubWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0geyBwZXJjZW50OiBwQ2VudCwgY29sb3I6IGNoYXJ0Ll92YXJzLnRocmVzaG9sZHNbel0udGhyZXNob2xkQ29sb3IgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZFBlcmNlbnRzLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgemVybyA9IHsgcGVyY2VudDogMCwgY29sb3I6IGxpbmVDb2xvcnNbaW5kZXhdIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZFBlcmNlbnRzLnB1c2goemVybyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB6ID0gMDsgeiA8IHRocmVzaG9sZExlbmd0aDsgeisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcENlbnQgPSAoKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHNbel0udGhyZXNob2xkKSAqIDEwMCkgLyAoeUF4aXNEYXRhLm1heCAtIHlBeGlzRGF0YS5taW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB7IHBlcmNlbnQ6IHBDZW50LCBjb2xvcjogY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XS50aHJlc2hvbGRDb2xvciB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkUGVyY2VudHMucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGREYXRhID0gY2hhcnQuc2V0TGluZVRocmVzaG9sZERhdGEoY2hhcnQsIHRocmVzaG9sZFBlcmNlbnRzLCBsaW5lQ29sb3JzW2luZGV4XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzLnNlbGVjdEFsbCgncGF0aCcpLmF0dHIoJ2NsYXNzJywgJ2xpbmUtdGhyZXNob2xkJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnN2Zy5hcHBlbmQoJ2xpbmVhckdyYWRpZW50JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsICdsaW5lLWdyYWRpZW50JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdncmFkaWVudFVuaXRzJywgJ3VzZXJTcGFjZU9uVXNlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHhUcmFuc2xhdGUoeEF4aXNEYXRhLm1pbikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeFRyYW5zbGF0ZSh4QXhpc0RhdGEubWF4KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdzdG9wJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKHRocmVzaG9sZERhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3N0b3AnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ29mZnNldCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm9mZnNldDsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdG9wLWNvbG9yJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29sb3I7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnN2Zy5hcHBlbmQoJ2xpbmVhckdyYWRpZW50JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdpZCcsICdsaW5lLWdyYWRpZW50JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdncmFkaWVudFVuaXRzJywgJ3VzZXJTcGFjZU9uVXNlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB5VHJhbnNsYXRlKHlBeGlzRGF0YS5taW4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHlUcmFuc2xhdGUoeUF4aXNEYXRhLm1heCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdzdG9wJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKHRocmVzaG9sZERhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3N0b3AnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ29mZnNldCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm9mZnNldDsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdG9wLWNvbG9yJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29sb3I7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRocmVzaG9sZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vQWRkIGNpcmNsZXMgYXQgam9pbnRzIGluIHRoZSBsaW5lc1xyXG4gICAgICAgICAgICBjaXJjbGVzW2tdID0gbGluZXNcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NpcmNsZSAnICsgKGspKVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKGRhdGFba10pXHJcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnY2lyY2xlJykvL0NpcmNsZXMgZm9yIHRoZSBqb2ludHMgaW4gdGhlIGxpbmVcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjaXJjbGUtJyArIGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YVtpXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdICsgJyBoaWdobGlnaHQtY2xhc3MtJyArIGk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2N4JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjeScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geVRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhyZXNob2xkaW5nID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IE9iamVjdC5rZXlzKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMpLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gbGVuZ3RoOyB6ID4gLTE7IHotLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID49IHRocmVzaG9sZC50aHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gbGVuZ3RoOyB6ID4gLTE7IHotLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID49IHRocmVzaG9sZC50aHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBrKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cigncicsIDIuNSk7XHJcblxyXG4gICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1JldHVybiBsaW5lIGdyb3Vwc1xyXG4gICAgcmV0dXJuIGxpbmVzLnNlbGVjdEFsbCgnLmNpcmNsZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaW5lVGhyZXNob2xkRGF0YShjaGFydCwgdGhyZXNob2xkcykge1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIHZhciB0aHJlc2hvbGRMZW5ndGggPSB0aHJlc2hvbGRzLmxlbmd0aDtcclxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhyZXNob2xkTGVuZ3RoOyBrKyspIHtcclxuICAgICAgICB2YXIgZ3JhZGllbnRPbmUgPSB7IG9mZnNldDogdGhyZXNob2xkc1trXS5wZXJjZW50ICsgJyUnLCBjb2xvcjogdGhyZXNob2xkc1trXS5jb2xvciB9O1xyXG4gICAgICAgIGRhdGEucHVzaChncmFkaWVudE9uZSk7XHJcblxyXG4gICAgICAgIGlmIChrICsgMSA8IHRocmVzaG9sZExlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgZ3JhZGllbnRUd28gPSB7IG9mZnNldDogdGhyZXNob2xkc1trICsgMV0ucGVyY2VudCArICclJywgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGdyYWRpZW50VHdvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChrID09IHRocmVzaG9sZExlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3QgPSB7IG9mZnNldDogJzEwMCUnLCBjb2xvcjogdGhyZXNob2xkc1trXS5jb2xvciB9O1xyXG4gICAgICAgICAgICBkYXRhLnB1c2gobGFzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmNpcmNsZXBhY2sgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVBhY2sgPSBnZW5lcmF0ZVBhY2s7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFBhY2sgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldFBhY2tDaGFydERhdGFcclxuICogIGdldHMgcGFjayBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRQYWNrTGVnZW5kRGF0YShjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGNoYXJ0LmNvbG9ycztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG59XHJcblxyXG4vKipzZXRQYWNrTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRQYWNrTGVnZW5kRGF0YShkYXRhVGFibGUpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgdmFyIGxhYmVsID0gJydcclxuICAgIGZvciAodmFyIGtleSBpbiBkYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3ZhbHVlJykge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwgPSBkYXRhVGFibGVba2V5XTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmKGtleSAhPT0gJ3Rvb2x0aXAgMScpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGFUYWJsZVtrZXldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxlZ2VuZEFycmF5LnVuc2hpZnQobGFiZWwpO1xyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgcGFja01hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiAzMCxcclxuICAgICAgICByaWdodDogMjAsXHJcbiAgICAgICAgYm90dG9tOiAxNSxcclxuICAgICAgICBsZWZ0OiAyMFxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIHBhY2tNYXJnaW5zKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlVmVydGljYWxMZWdlbmQoJ2dlbmVyYXRlUGFjaycpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVQYWNrKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxufTtcclxuXHJcbi8qKiBnZW5lcmF0ZVBhY2tcclxuICpcclxuICogcGFpbnRzIHRoZSBwYWNrIG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHBhY2tEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVBhY2soKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIHcgPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaCA9IGNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgciA9IE1hdGgubWluKGggLyAyLCB3IC8gMyksXHJcbiAgICAgICAgbWFyZ2luID0gMjAsXHJcbiAgICAgICAgZGlhbWV0ZXIgPSByICogMjtcclxuXHJcbiAgICBjaGFydC5jaGlsZHJlbiA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG5cclxuICAgIHZhciBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbCgpXHJcbiAgICAgICAgLnJhbmdlKGNoYXJ0LmRhdGEuY29sb3JcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYykgeyBjID0gZDMucmdiKGMpOyBjLm9wYWNpdHkgPSAwLjg7IHJldHVybiBjOyB9KSk7XHJcblxyXG4gICAgLy8gIGFzc2lnbnMgdGhlIGRhdGEgdG8gYSBoaWVyYXJjaHkgdXNpbmcgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcHNcclxuICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KGNoYXJ0LmNoaWxkcmVuLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLmNoaWxkcmVuO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHBhY2sgPSBkMy5wYWNrKClcclxuICAgICAgICAuc2l6ZShbY29udGFpbmVyLndpZHRoLCBjb250YWluZXIuaGVpZ2h0XSlcclxuICAgICAgICAucGFkZGluZygyKTtcclxuXHJcbiAgICBwYWNrKHJvb3RcclxuICAgICAgICAuc3VtKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLmhhc093blByb3BlcnR5KCdjaGlsZHJlbicpID8gMCA6IGQubmFtZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiLmhlaWdodCAtIGEuaGVpZ2h0IHx8IGIudmFsdWUgLSBhLnZhbHVlO1xyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5kZXNjZW5kYW50cygpO1xyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIucGFja1wiKS5yZW1vdmUoKTtcclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwicGFja1wiKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgKHcgLyAyKSArIFwiLFwiICsgciArIFwiKVwiKTtcclxuXHJcbiAgICB2YXIgY2lyY2xlID0gdmlzLnNlbGVjdEFsbChcImNpcmNsZVwiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnBhcmVudCA/IGQuY2hpbGRyZW4gPyBcIm5vZGVcIiA6IFwibm9kZSBub2RlLS1sZWFmXCIgOiBcIm5vZGUgbm9kZS0tcm9vdFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBkLmNvbG9yID0gY29sb3IoZC5kZXB0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVuID8gY29sb3IoZC5kZXB0aCkgOiBudWxsO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGZvY3VzICE9PSBkKSB7XHJcbiAgICAgICAgICAgICAgICB6b29tKGQpLCBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgIC8vIHZhciB0RGF0YSA9IGNoYXJ0LmRhdGEudGlwRGF0YS5nZXQoZC5kYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICAvLyB0RGF0YS5uYW1lID0gZC5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIC8vIHREYXRhLmNvbG9yID0gZC5jb2xvcjtcclxuICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24gKGQsaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvLyB2YXIgdGV4dCA9IHZpcy5zZWxlY3RBbGwoXCJ0ZXh0XCIpXHJcbiAgICAvLyAgICAgLmRhdGEocm9vdC5kZXNjZW5kYW50cygpKVxyXG4gICAgLy8gICAgIC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcclxuICAgIC8vICAgICAuYXR0cihcImNsYXNzXCIsIFwibGFiZWxcIilcclxuICAgIC8vICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuIGQucGFyZW50ID09PSByb290ID8gXCJpbmxpbmVcIiA6IFwibm9uZVwiO1xyXG4gICAgLy8gICAgIH0pO1xyXG5cclxuICAgIHZhciBub2RlID0gc3ZnLnNlbGVjdEFsbChcImNpcmNsZSx0ZXh0XCIpO1xyXG5cclxuICAgIGQzLnNlbGVjdChcImJvZHlcIilcclxuICAgICAgICAub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHpvb20ocm9vdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgem9vbVRvKFtyb290LngsIHJvb3QueSwgcm9vdC5yICogMiArIG1hcmdpbl0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHpvb20oZCkge1xyXG4gICAgICAgIHZhciBmb2N1cyA9IGQ7XHJcblxyXG4gICAgICAgIGQzLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAuZHVyYXRpb24oZDMuZXZlbnQuYWx0S2V5ID8gNzUwMCA6IDc1MClcclxuICAgICAgICAgICAgLnR3ZWVuKFwiem9vbVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGkgPSBkMy5pbnRlcnBvbGF0ZVpvb20odmlldywgW2ZvY3VzLngsIGZvY3VzLnksIGZvY3VzLnIgKiAyICsgbWFyZ2luXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB6b29tVG8oaSh0KSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gdHJhbnNpdGlvbi5zZWxlY3RBbGwoXCJ0ZXh0XCIpXHJcbiAgICAgICAgLy8gICAgIC5maWx0ZXIoZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGQucGFyZW50ID09PSBmb2N1cyB8fCB0aGlzLnN0eWxlLmRpc3BsYXkgPT09IFwiaW5saW5lXCI7XHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZShcImZpbGwtb3BhY2l0eVwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gZC5wYXJlbnQgPT09IGZvY3VzID8gMSA6IDA7XHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC5zdHlsZShcImRpc3BsYXlcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGQucGFyZW50ID09PSBmb2N1cyA/IFwiaW5saW5lXCIgOiBcIm5vbmVcIjtcclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyAgICAgLmVhY2goXCJzdGFydFwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoZC5wYXJlbnQgPT09IGZvY3VzKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSBcImlubGluZVwiO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuZWFjaChcImVuZFwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoZC5wYXJlbnQgIT09IGZvY3VzKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgIHRoaXMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9KTtcclxuICAgIH1cclxuICAgIHZhciB2aWV3O1xyXG4gICAgZnVuY3Rpb24gem9vbVRvKHYpIHtcclxuICAgICAgICB2YXIgayA9IGRpYW1ldGVyIC8gdlsyXTtcclxuXHJcbiAgICAgICAgLy9zZXQgZ2xvYmFsIHpvb21cclxuICAgICAgICB2aWV3ID0gdjtcclxuXHJcbiAgICAgICAgbm9kZS5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkICYmIGQueCAmJiBkLnkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIChkLnggLSB2WzBdKSAqIGsgKyBcIixcIiArIChkLnkgLSB2WzFdKSAqIGsgKyBcIilcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjaXJjbGUuYXR0cihcInJcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQuciAqIGs7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxuIHZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUucGllID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVQaWUgPSBnZW5lcmF0ZVBpZTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUGllIERhdGEgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldFBpZURhdGFcclxuICogIGdldHMgcGllIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldFBpZUxlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YShldmVudCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBlbGUgPSBldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLnNwbGl0KCdwaWUtZGF0YS0nKVsxXTtcclxuICAgIGlmIChlbGUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBbY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXTogW2VsZS5yZXBsYWNlKC9fL2csICcgJykucmVwbGFjZSgvX2RvdF8vZywgJy4nKV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm9kZTogZXZlbnQudGFyZ2V0XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5pbmRleE9mKCdwaWUtY29udGFpbmVyJykgPiAtMSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHt9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YTogZmFsc2VcclxuICAgIH07XHJcbn1cclxuXHJcbi8qKnNldFBpZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0UGllTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSBkYXRhLmNoYXJ0RGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGxlZ2VuZEFycmF5LnB1c2goKGRhdGEuY2hhcnREYXRhW2ldW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICB2YXIgY3VzdG9tTWFyZ2lucyA9IHtcclxuICAgICAgICB0b3A6IDQwLFxyXG4gICAgICAgIHJpZ2h0OiAyMCxcclxuICAgICAgICBib3R0b206IDIwLFxyXG4gICAgICAgIGxlZnQ6IDIwXHJcbiAgICB9O1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTtcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuICAgIGNoYXJ0LmxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGE7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGN1c3RvbU1hcmdpbnMpO1xyXG5cclxuICAgIC8vSWYgdGhlIGNvbnRhaW5lciBzaXplIGlzIHNtYWxsLCBkb24ndCBnZW5lcmF0ZSBhIGxlZ2VuZFxyXG4gICAgaWYgKGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGggPiA1NTApIHtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZVBpZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LmdlbmVyYXRlUGllKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVQaWVcclxuICpcclxuICogY3JlYXRlcyBhbmQgZHJhd3MgYSBwaWUgY2hhcnQgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAqIEBwYXJhbXMgc3ZnLCBwaWVEYXRhLCBfdmFycywgY29udGFpbmVyXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUGllKGN1cnJlbnREYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBwaWVEYXRhID0gY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGE7XHJcblxyXG4gICAgLy9kZWZpbmUgdmFyaWFibGVzIHRvIGNoYW5nZSBhdHRyJ3NcclxuICAgIHN2Zy5zZWxlY3QoJ2cucGllLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcjtcclxuXHJcbiAgICB2YXIgdyA9IGNvbnRhaW5lci53aWR0aDtcclxuICAgIHZhciBoID0gY29udGFpbmVyLmhlaWdodDtcclxuICAgIHZhciByID0gTWF0aC5taW4oaCAvIDIsIHcgLyAzKTtcclxuXHJcbiAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgdmFyIHRvdGFsID0gMDtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpZURhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgb2JqID0ge307XHJcbiAgICAgICAgZm9yKGxldCBqIGluIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgIG9ialtqXSA9IHBpZURhdGFbaV1bY2hhcnQuZGF0YS5kYXRhVGFibGVbal1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhW2ldID0gb2JqO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBwaWVEYXRhTmV3ID0gZGF0YTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IGxlZ2VuZERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuXHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuXHJcbiAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwaWVEYXRhTmV3Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnQgPT09IHBpZURhdGFOZXdbal0ubGFiZWwgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3BpZURhdGFOZXcuc3BsaWNlKGosMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGllRGF0YU5ld1tqXS52YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGllRGF0YU5ldy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRvdGFsICs9IHBhcnNlRmxvYXQocGllRGF0YU5ld1tpXS52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Z1xyXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5kYXRhKFtwaWVEYXRhTmV3XSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncGllLWNvbnRhaW5lcicpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDIwMClcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKHcgLyAyKSArICcsJyArIHIgKyAnKScpO1xyXG5cclxuICAgIHZhciBwaWUgPSBkMy5waWUoKS52YWx1ZShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9kZWNsYXJlIGFuIGFyYyBnZW5lcmF0b3IgZnVuY3Rpb25cclxuICAgIHZhciBhcmMgPSBkMy5hcmMoKVxyXG4gICAgICAgIC5pbm5lclJhZGl1cygwKS8vTm9ybWFsIHBpZSBjaGFydCB3aGVuIHRoaXMgPSAwLCBjYW4gYmUgY2hhbmdlZCB0byBjcmVhdGUgZG9udXQgY2hhcnRcclxuICAgICAgICAub3V0ZXJSYWRpdXMocik7XHJcblxyXG4gICAgLy8gdmFyIGFyY092ZXIgPSBkMy5hcmMoKVxyXG4gICAgLy8gICAgIC5pbm5lclJhZGl1cygwKVxyXG4gICAgLy8gICAgIC5vdXRlclJhZGl1cyhyICsgMTUpO1xyXG5cclxuICAgIC8vc2VsZWN0IHBhdGhzLCB1c2UgYXJjIGdlbmVyYXRvciB0byBkcmF3XHJcbiAgICB2YXIgYXJjcyA9IHZpc1xyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cuc2xpY2UnKVxyXG4gICAgICAgIC5kYXRhKHBpZSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdzbGljZScpO1xyXG5cclxuICAgIGFyY3MuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBkLmRhdGEubGFiZWwpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2QnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJjKGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGxhYmVsID0gZC5kYXRhLmxhYmVsLnJlcGxhY2UoL1xccy9nLCAnXycpLnJlcGxhY2UoL1xcLi9nLCAnX2RvdF8nKTtcclxuICAgICAgICAgICAgcmV0dXJuICdlZGl0YWJsZSBlZGl0YWJsZS1waWUgcGllLXNsaWNlLScgKyBpICsgJyBoaWdobGlnaHQtY2xhc3MtJyArIGkgKyAnIHBpZS1kYXRhLScgKyBsYWJlbDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5waWVCb3JkZXIpXHJcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLnBpZUJvcmRlcldpZHRoKVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcbiAgICAgICAgICAgICAgICAvLyBEcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBhcmNzLmFwcGVuZCgnc3ZnOnRleHQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdzbGljZUxhYmVsJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgdmFyIHRlc3QgPSBhcmMuY2VudHJvaWQoZCk7XHJcbiAgICAgICAgICAgIHRlc3RbMF0gPSB0ZXN0WzBdICogMS42O1xyXG4gICAgICAgICAgICB0ZXN0WzFdID0gdGVzdFsxXSAqIDEuNjtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIHRlc3QgKyAnKSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBwZXJjZW50ID0gcGllRGF0YU5ld1tpXS52YWx1ZSAvIHRvdGFsICogMTAwO1xyXG4gICAgICAgICAgICBwZXJjZW50ID0gZDMuZm9ybWF0KCcuMWYnKShwZXJjZW50KTtcclxuICAgICAgICAgICAgaWYgKHBlcmNlbnQgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVyY2VudCArICclJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMucGllVGV4dENvbG9yKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5yYWRpYWwgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVJhZGlhbCA9IGdlbmVyYXRlUmFkaWFsO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBSYWRpYWwgRGF0YSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4vKipzZXRSYWRpYWxDaGFydERhdGFcclxuICogIGdldHMgYmFyIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldFJhZGlhbExlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG5cclxuICAgIHZhciByYWRpYWxNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogNDAsXHJcbiAgICAgICAgcmlnaHQ6IDIwLFxyXG4gICAgICAgIGJvdHRvbTogMjAsXHJcbiAgICAgICAgbGVmdDogMjBcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCByYWRpYWxNYXJnaW5zKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlVmVydGljYWxMZWdlbmQoJ2dlbmVyYXRlUmFkaWFsJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVJhZGlhbCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoZXZlbnQpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgZWxlID0gZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5zcGxpdCgncmFkaWFsLWRhdGEtJylbMV07XHJcbiAgICBpZiAoZWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF06IFtlbGUucmVwbGFjZSgvXy9nLCAnICcpLnJlcGxhY2UoL19kb3RfL2csICcuJyldXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vZGU6IGV2ZW50LnRhcmdldFxyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuaW5kZXhPZigncmFkaWFsLWNvbnRhaW5lcicpID4gLTEpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IGZhbHNlXHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipzZXRSYWRpYWxMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldFJhZGlhbExlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YoZGF0YS5jaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGUubGFiZWxdKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlUmFkaWFsXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgcmFkaWwgYmFyIGNoYXJ0IG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHJhZGlhbERhdGFcclxuICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVJhZGlhbCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmRhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICByYWRpYWxEYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgdGlja051bWJlciA9IDMsXHJcbiAgICAgICAgYmFySGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCAvIDIgLSA0MCxcclxuICAgICAgICB3aWR0aCA9IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHIgPSBNYXRoLm1pbihoZWlnaHQgLyAyLCB3aWR0aCAvIDMpLFxyXG4gICAgICAgIGRhdGEgPSBbXSxcclxuICAgICAgICBhbGxLZXlzID0gW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsLCBjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV0sXHJcbiAgICAgICAgcmFkaWFsRGF0YU5ldyxcclxuICAgICAgICBkYXRhSGVhZGVycyxcclxuICAgICAgICBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBbXSxcclxuICAgICAgICByYWRpYWxEYXRhRmlsdGVyZWQ7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYWRpYWxEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgIGZvciAobGV0IGogaW4gY2hhcnQuZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgb2JqW2pdID0gcmFkaWFsRGF0YVtpXVtjaGFydC5kYXRhLmRhdGFUYWJsZVtqXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGFbaV0gPSBvYmo7XHJcbiAgICAgICAgLy90b3RhbCArPSBwYXJzZUZsb2F0KHBpZURhdGFbaV1ba2V5c1sxXV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJhZGlhbERhdGFOZXcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IGxlZ2VuZERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzO1xyXG4gICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIHJhZGlhbERhdGFGaWx0ZXJlZCA9IFtdO1xyXG5cclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJhZGlhbERhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gcmFkaWFsRGF0YU5ld1tqXS5sYWJlbCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhZGlhbERhdGFOZXdbal0udmFsdWUgPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJhZGlhbERhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAocmFkaWFsRGF0YU5ld1tqXS52YWx1ZSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmFkaWFsRGF0YUZpbHRlcmVkLnB1c2gocmFkaWFsRGF0YU5ld1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vUmVtb3ZlIGV4aXN0aW5nIGJhcnMgZnJvbSBwYWdlXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnJhZGlhbC1jb250YWluZXInKS5yZW1vdmUoKTtcclxuXHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Z1xyXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyYWRpYWwtY29udGFpbmVyJylcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAod2lkdGggLyAyKSArICcsJyArIHIgKyAnKScpO1xyXG5cclxuICAgIHZhciBleHRlbnQgPSBkMy5leHRlbnQocmFkaWFsRGF0YUZpbHRlcmVkLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9jb21tYXMgYW5kIDAgZGVjaW1hbHNcclxuICAgIHZhciBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJywuMGYnKTtcclxuICAgIGlmIChleHRlbnRbMV0gPj0gMTAwMDAwMCkge1xyXG4gICAgICAgIC8vbWlsbGlvbnNcclxuICAgICAgICB2YXIgcCA9IGQzLnByZWNpc2lvblByZWZpeCgxZTUsIDEuM2U2KTtcclxuICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXRQcmVmaXgoJy4nICsgcCwgMS4zZTYpO1xyXG4gICAgfSBlbHNlIGlmIChleHRlbnRbMV0gPD0gMTAwKSB7XHJcbiAgICAgICAgLy8yIGRlY2ltYWxzXHJcbiAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KCcsLjJmJyk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGlmIChleHRlbnRbMF0gIT09IDApIHtcclxuICAgICAgICBleHRlbnRbMF0gPSAwO1xyXG4gICAgfVxyXG4gICAgdmFyIGJhclNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKVxyXG4gICAgICAgIC5kb21haW4oZXh0ZW50KVxyXG4gICAgICAgIC5yYW5nZShbMCwgYmFySGVpZ2h0XSk7XHJcblxyXG4gICAgdmFyIGtleXMgPSByYWRpYWxEYXRhRmlsdGVyZWQubWFwKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgcmV0dXJuIGQubGFiZWw7XHJcbiAgICB9KTtcclxuICAgIHZhciBudW1CYXJzID0ga2V5cy5sZW5ndGg7XHJcblxyXG4gICAgdmFyIHggPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgLmRvbWFpbihleHRlbnQpXHJcbiAgICAgICAgLnJhbmdlKFswLCAtYmFySGVpZ2h0XSk7XHJcblxyXG4gICAgLy9jcmVhdGUgeEF4aXMgZHJhd2luZyBmdW5jdGlvblxyXG4gICAgdmFyIHhBeGlzID0gZDMuYXhpc0xlZnQoKVxyXG4gICAgICAgIC5zY2FsZSh4KVxyXG4gICAgICAgIC50aWNrcyh0aWNrTnVtYmVyKVxyXG4gICAgICAgIC50aWNrRm9ybWF0KGZvcm1hdE51bWJlcik7XHJcblxyXG4gICAgdmlzLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAuZGF0YSh4LnRpY2tzKDMpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnY2lyY2xlJylcclxuICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiYXJTY2FsZShkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgJzIsMicpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnLjVweCcpO1xyXG5cclxuICAgIHZhciBhcmMgPSBkMy5hcmMoKVxyXG4gICAgICAgIC5zdGFydEFuZ2xlKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoaSAqIDIgKiBNYXRoLlBJKSAvIG51bUJhcnM7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZW5kQW5nbGUoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgoaSArIDEpICogMiAqIE1hdGguUEkpIC8gbnVtQmFycztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5pbm5lclJhZGl1cygwKTtcclxuXHJcbiAgICB2YXIgc2VnbWVudHMgPSB2aXMuc2VsZWN0QWxsKCdwYXRoJylcclxuICAgICAgICAuZGF0YShyYWRpYWxEYXRhRmlsdGVyZWQpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcclxuICAgICAgICAvLy5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxyXG4gICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIChkKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGQubGFiZWwucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICdfZG90XycpO1xyXG4gICAgICAgICAgICByZXR1cm4gJ3JhZGlhbC1kYXRhLScgKyBsYWJlbDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lYWNoKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGQub3V0ZXJSYWRpdXMgPSAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGQubGFiZWwpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2QnLCBhcmMpXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIC8vY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCdsaW5lLnRpcC1saW5lJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICBzZWdtZW50cy50cmFuc2l0aW9uKCkuZHVyYXRpb24oODAwKS5lYXNlKGQzLmVhc2VFbGFzdGljKS5kZWxheShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgIHJldHVybiA3NTAgLSA1MCAqIGk7XHJcbiAgICB9KVxyXG4gICAgICAgIC5hdHRyVHdlZW4oJ2QnLCBmdW5jdGlvbiAoZCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSBkMy5pbnRlcnBvbGF0ZShkLm91dGVyUmFkaXVzLCBiYXJTY2FsZSgrZC52YWx1ZSkpO1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHtcclxuICAgICAgICAgICAgICAgIGQub3V0ZXJSYWRpdXMgPSBpKHQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFyYyhkLCBpbmRleCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmlzLmFwcGVuZCgnY2lyY2xlJylcclxuICAgICAgICAuYXR0cigncicsIGJhckhlaWdodClcclxuICAgICAgICAuY2xhc3NlZCgnb3V0ZXInLCB0cnVlKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICdub25lJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCAnMS41cHgnKTtcclxuXHJcbiAgICB2aXMuc2VsZWN0QWxsKCdsaW5lJylcclxuICAgICAgICAuZGF0YShrZXlzKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xhYmVsJylcclxuICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuYXR0cigneTInLCAtYmFySGVpZ2h0IC0gMjApXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJy41cHgnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3JvdGF0ZSgnICsgKGkgKiAzNjAgLyBudW1CYXJzKSArICcpJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgYXhpc0dyb3VwID0gdmlzLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hBeGlzJylcclxuICAgICAgICAuc3R5bGUoJ3BvaW50ZXItZXZlbnRzJywgJ25vbmUnKVxyXG4gICAgICAgIC5jYWxsKHhBeGlzKTtcclxuICAgIHZhciB5QXhpc0NsYXNzID0gJ3lBeGlzTGFiZWxzIGVkaXRhYmxlIGVkaXRhYmxlLXlBeGlzIGVkaXRhYmxlLXRleHQgZWRpdGFibGUtbnVtJztcclxuXHJcbiAgICBheGlzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignZmlsbCcsICdibGFjaycpLy9DdXN0b21pemUgdGhlIGNvbG9yIG9mIGF4aXMgbGFiZWxzXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgeUF4aXNDbGFzcylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQgPT09IHhBeGlzLnNjYWxlKCkudGlja3ModGlja051bWJlcilbdGlja051bWJlcl0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsIDEwKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoMCwwKSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnNhbmtleSA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVTYW5rZXkgPSBnZW5lcmF0ZVNhbmtleTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogU2Fua2V5IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0YVxyXG4gKiBAcGFyYW0gZGF0YVRhYmxlXHJcbiAqIEBwYXJhbSBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIHNhbmtleURhdGEgPSB7fSxcclxuICAgICAgICBkYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuZGF0YS5kYXRhVGFibGU7XHJcblxyXG4gICAgc2Fua2V5RGF0YS5saW5rcyA9IFtdO1xyXG4gICAgc2Fua2V5RGF0YS5ub2RlcyA9IFtdO1xyXG5cclxuICAgIC8vSXRlcmF0ZSB0aHJvdWdoIHNvdXJjZXMgYW5kIHRhcmdldHMgdG8gbWFrZSBhIG5vZGUgbGlzdFxyXG4gICAgdmFyIG5vZGVMaXN0ID0gW107XHJcbiAgICB2YXIgbm9kZUdyb3VwID0gMTtcclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgdmFyIG5vZGVMaXN0Rm9yTGFiZWwgPSBbXTtcclxuICAgICAgICBpZiAoaXRlbSA9PT0gJ3ZhbHVlJykgeyBjb250aW51ZTsgfTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHBvdGVudGlhbE5vZGUgPSBkYXRhW2ldW2RhdGFUYWJsZVtpdGVtXV0gKyBcIi1cIiArIG5vZGVHcm91cDtcclxuICAgICAgICAgICAgdmFyIGFkZFRvTGlzdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbm9kZUxpc3RGb3JMYWJlbC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvdGVudGlhbE5vZGUgPT09IG5vZGVMaXN0Rm9yTGFiZWxbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRUb0xpc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWRkVG9MaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBub2RlTGlzdEZvckxhYmVsLnB1c2gocG90ZW50aWFsTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbm9kZUdyb3VwKys7XHJcbiAgICAgICAgbm9kZUxpc3QgPSBub2RlTGlzdC5jb25jYXQobm9kZUxpc3RGb3JMYWJlbCk7XHJcbiAgICB9XHJcbiAgICAvL0NyZWF0ZSBub2RlcyBvYmplY3RcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZUxpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzYW5rZXlEYXRhLm5vZGVzLnB1c2goe1xyXG4gICAgICAgICAgICAnbmFtZSc6IG5vZGVMaXN0W2ldXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9TZWUgaG93IG1hbnkgc2V0cyBvZiBsaW5rcyB5b3UgbmVlZFxyXG4gICAgdmFyIGxpbmtHcm91cHMgPSAwO1xyXG5cclxuICAgIGZvciAobGV0IGl0ZW0gaW4gZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0uaW5kZXhPZignbGFiZWwnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgbGlua0dyb3VwcysrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaW5rR3JvdXBzOyBpKyspIHtcclxuICAgICAgICB2YXIgbGlua0dyb3VwID0gW107XHJcbiAgICAgICAgbGlua0dyb3VwID0gZGF0YS5tYXAoZnVuY3Rpb24gKHgpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBsYWJlbDEgPSBcImxhYmVsIFwiICsgaTtcclxuICAgICAgICAgICAgdmFyIGxhYmVsMiA9IFwibGFiZWwgXCIgKyAoaSArIDEpO1xyXG4gICAgICAgICAgICBsZXQgc291cmNlID0gZGF0YVRhYmxlW2xhYmVsMV07XHJcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSBkYXRhVGFibGVbbGFiZWwyXTtcclxuICAgICAgICAgICAgbGV0IHZhbHVlID0gZGF0YVRhYmxlLnZhbHVlO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICdzb3VyY2UnOiB4W3NvdXJjZV0gKyBcIi1cIiArIGksXHJcbiAgICAgICAgICAgICAgICAndGFyZ2V0JzogeFt0YXJnZXRdICsgXCItXCIgKyAoaSArIDEpLFxyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlJzogeFt2YWx1ZV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHNhbmtleURhdGEubGlua3MgPSBzYW5rZXlEYXRhLmxpbmtzLmNvbmNhdChsaW5rR3JvdXApO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBub2RlTWFwID0ge307XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgc2Fua2V5RGF0YS5ub2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHNhbmtleURhdGEubm9kZXNbaV0ubm9kZSA9IGk7XHJcbiAgICAgICAgbm9kZU1hcFtzYW5rZXlEYXRhLm5vZGVzW2ldLm5hbWVdID0gaTtcclxuICAgIH1cclxuICAgIHNhbmtleURhdGEubGlua3MgPSBzYW5rZXlEYXRhLmxpbmtzLm1hcChmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHNvdXJjZTogbm9kZU1hcFt4LnNvdXJjZV0sXHJcbiAgICAgICAgICAgIHRhcmdldDogbm9kZU1hcFt4LnRhcmdldF0sXHJcbiAgICAgICAgICAgIHZhbHVlOiB4LnZhbHVlXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vR3JvdXAgY29tbW9uIHNhbmtleSBsaW5rcyB0b2dldGhlciBhbmQgYWRkIHRoZSB2YWx1ZXNcclxuICAgIHZhciBhZ2dyZWdhdGVTYW5rZXlMaW5rcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW5rZXlEYXRhLmxpbmtzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRMaW5rID0ge307XHJcbiAgICAgICAgY3VycmVudExpbmsuc291cmNlID0gc2Fua2V5RGF0YS5saW5rc1tpXS5zb3VyY2U7XHJcbiAgICAgICAgY3VycmVudExpbmsudGFyZ2V0ID0gc2Fua2V5RGF0YS5saW5rc1tpXS50YXJnZXQ7XHJcbiAgICAgICAgY3VycmVudExpbmsudmFsdWUgPSBzYW5rZXlEYXRhLmxpbmtzW2ldLnZhbHVlO1xyXG5cclxuICAgICAgICAvL01ha2Ugc3VyZSB0aGF0IG9ubHkgdW5pcXVlIGxpbmtzIGFyZSBwdXNoZWQgdG8gdGhlIGFnZ3JlZ2F0ZWQgYXJyYXlcclxuICAgICAgICBsZXQgYWRkVG9BZ2dyZWdhdGUgPSB0cnVlO1xyXG4gICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgYWdncmVnYXRlU2Fua2V5TGlua3MubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgaWYgKGFnZ3JlZ2F0ZVNhbmtleUxpbmtzW2tdLnNvdXJjZSA9PT0gY3VycmVudExpbmsuc291cmNlICYmIGFnZ3JlZ2F0ZVNhbmtleUxpbmtzW2tdLnRhcmdldCA9PT0gY3VycmVudExpbmsudGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBhZGRUb0FnZ3JlZ2F0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmKCFhZGRUb0FnZ3JlZ2F0ZSl7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TdW0gdGhlIHZhbHVlIG9mIGlkZW50aWNhbCBsaW5rc1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2Fua2V5RGF0YS5saW5rcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoc2Fua2V5RGF0YS5saW5rc1tpXS5zb3VyY2UgPT09IHNhbmtleURhdGEubGlua3Nbal0uc291cmNlICYmIHNhbmtleURhdGEubGlua3NbaV0udGFyZ2V0ID09PSBzYW5rZXlEYXRhLmxpbmtzW2pdLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudExpbmsudmFsdWUgPSBjdXJyZW50TGluay52YWx1ZSArIHNhbmtleURhdGEubGlua3Nbal0udmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFnZ3JlZ2F0ZVNhbmtleUxpbmtzLnB1c2goY3VycmVudExpbmspO1xyXG4gICAgfVxyXG5cclxuICAgIHNhbmtleURhdGEubGlua3MgPSBhZ2dyZWdhdGVTYW5rZXlMaW5rcztcclxuXHJcbiAgICBjaGFydC5kYXRhLmNoYXJ0RGF0YSA9IHNhbmtleURhdGE7XHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MjApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICB2YXIgZGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgU1ZHXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlU2Fua2V5KGRhdGEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoKSB7XHJcbiAgICByZXR1cm4ge307XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBzYW5rZXkgY2hhcnQgd2l0aCB0aGUgZ2l2ZW4gZGF0YVxyXG4gKiBAcGFyYW0gc2Fua2V5RGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVTYW5rZXkoc2Fua2V5RGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29sb3IgPSBjaGFydC5fdmFycy5jb2xvcjtcclxuXHJcbiAgICB2YXIgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoO1xyXG4gICAgdmFyIGhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0O1xyXG5cclxuICAgIHZhciBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJywuMGYnKSwgICAgLy8gemVybyBkZWNpbWFsIHBsYWNlc1xyXG4gICAgICAgIGZvcm1hdCA9IGZ1bmN0aW9uIChkKSB7IHJldHVybiBmb3JtYXROdW1iZXIoZCkgKyAnICcgKyAnV2lkZ2V0cyc7IH0sXHJcbiAgICAgICAgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkyMCk7XHJcblxyXG4gICAgdmFyIHNhbmtleSA9IGQzLnNhbmtleSgpXHJcbiAgICAgICAgLm5vZGVXaWR0aCgxMClcclxuICAgICAgICAubm9kZVBhZGRpbmcoMTUpXHJcbiAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKTtcclxuXHJcbiAgICB2YXIgcGF0aCA9IHNhbmtleS5saW5rKCk7XHJcblxyXG4gICAgLy8gLy9BZGRpbmcgem9vbSB2NCBiZWhhdmlvciB0byBzYW5rZXlcclxuICAgIGQzLnNlbGVjdEFsbCgnc3ZnJylcclxuICAgICAgICAuY2FsbChkMy56b29tKClcclxuICAgICAgICAgICAgLnNjYWxlRXh0ZW50KFsuMSwgMTBdKVxyXG4gICAgICAgICAgICAub24oJ3pvb20nLCB6b29tKSk7Ly96b29tIGV2ZW50IGxpc3RlbmVyXHJcblxyXG4gICAgc2Fua2V5XHJcbiAgICAgICAgLm5vZGVzKHNhbmtleURhdGEubm9kZXMpXHJcbiAgICAgICAgLmxpbmtzKHNhbmtleURhdGEubGlua3MpXHJcbiAgICAgICAgLmxheW91dCgzMik7XHJcblxyXG4gICAgdmFyIGxpbmsgPSBzdmcuYXBwZW5kKCdnJykuc2VsZWN0QWxsKCcuc2Fua2V5LWxpbmsnKVxyXG4gICAgICAgIC5kYXRhKHNhbmtleURhdGEubGlua3MpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlID4gMDsgfSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc2Fua2V5LWxpbmsnKVxyXG4gICAgICAgIC5hdHRyKCdkJywgcGF0aClcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgxLCBkLmR5KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiLmR5IC0gYS5keTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIG5vZGUgPSBzdmcuYXBwZW5kKCdnJykuc2VsZWN0QWxsKCcubm9kZScpXHJcbiAgICAgICAgLmRhdGEoc2Fua2V5RGF0YS5ub2RlcylcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudmFsdWUgPiAwOyB9KVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdub2RlJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsICcgKyBkLnkgKyAnKSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2FsbChkMy5kcmFnKClcclxuICAgICAgICAgICAgLnN1YmplY3QoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ3N0YXJ0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJlbnROb2RlLmFwcGVuZENoaWxkKHRoaXMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ2RyYWcnLCBkcmFnbW92ZSkpO1xyXG5cclxuICAgIG5vZGUuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9yZXR1cm4gZC5keTtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKGQuZHkpO1xyXG4gICAgICAgICAgICAvL3JldHVybiBNYXRoLm1heChkLmR5LCAyKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIHNhbmtleS5ub2RlV2lkdGgoKSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5jb2xvciA9IGNvbG9yKGQubmFtZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkMy5yZ2IoZC5jb2xvcikuZGFya2VyKDIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIG5vZGUuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cigneCcsIC02KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQuZHkgLyAyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJylcclxuICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnZW5kJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgbnVsbClcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgbnVsbClcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAvL1JlbW92ZSB0aGUgdGhlIG5vZGVHcm91cCB0YWcgYW5kIGh5cGhlbiBmcm9tIHRoZSBlbmQgb2YgdGhlIGxhYmVsXHJcbiAgICAgICAgICAgIHJldHVybiBkLm5hbWUuc2xpY2UoMCwgLTIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC54IDwgd2lkdGggLyAyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gnLCA2ICsgc2Fua2V5Lm5vZGVXaWR0aCgpKVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyYWdtb3ZlKGQpIHtcclxuICAgICAgICBkMy5zZWxlY3QodGhpcykuYXR0cigndHJhbnNmb3JtJyxcclxuICAgICAgICAgICAgJ3RyYW5zbGF0ZSgnICsgKFxyXG4gICAgICAgICAgICAgICAgZC54ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4od2lkdGggLSBkLmR4LCBkMy5ldmVudC54KSlcclxuICAgICAgICAgICAgKSArICcsJyArIChcclxuICAgICAgICAgICAgICAgIGQueSA9IE1hdGgubWF4KDAsIE1hdGgubWluKGhlaWdodCAtIGQuZHksIGQzLmV2ZW50LnkpKVxyXG4gICAgICAgICAgICApICsgJyknKTtcclxuICAgICAgICBzYW5rZXkucmVsYXlvdXQoKTtcclxuICAgICAgICBsaW5rLmF0dHIoJ2QnLCBwYXRoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB6b29tKCkgeyAvL0ltcGxlbWVudGluZyB0aGUgdjQgem9vbWluZyBmZWF0dXJlXHJcbiAgICAgICAgc3ZnLmF0dHIoJ3RyYW5zZm9ybScsIGQzLmV2ZW50LnRyYW5zZm9ybSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zY2F0dGVycGxvdCA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlU2NhdHRlciA9IGdlbmVyYXRlU2NhdHRlcjtcclxuanZDaGFydHMucHJvdG90eXBlLmNyZWF0ZUxpbmVHdWlkZSA9IGNyZWF0ZUxpbmVHdWlkZTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogU2NhdHRlciBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0U2NhdHRlckRhdGFcclxuICogIGdldHMgc2NhdHRlciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRTY2F0dGVyTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gc2V0U2NhdHRlckF4aXNEYXRhKGNoYXJ0LmRhdGEsICd4JywgY2hhcnQuX3ZhcnMpO1xyXG4gICAgY2hhcnQuZGF0YS55QXhpc0RhdGEgPSBzZXRTY2F0dGVyQXhpc0RhdGEoY2hhcnQuZGF0YSwgJ3knLCBjaGFydC5fdmFycyk7XHJcbiAgICBjaGFydC5kYXRhLnpBeGlzRGF0YSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCd6JykgPyBzZXRTY2F0dGVyQXhpc0RhdGEoY2hhcnQuZGF0YSwgJ3onLCBjaGFydC5fdmFycykgOiB7fTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKGV2ZW50LCBtb3VzZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBlbGUgPSBldmVudC50YXJnZXQuX19kYXRhX187XHJcblxyXG4gICAgLy9kZXRlcm1pbmUgaWYgdGhlIGNsaWNrIGV2ZW50IGhhcHBlbnMgaW5zaWRlIHRoZSBjb250YWluZXJcclxuICAgIGxldCBicnVzaENvbnRhaW5lciA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnLicgKyBjaGFydC5jb25maWcudHlwZSArICctY29udGFpbmVyJykubm9kZSgpLFxyXG4gICAgICAgIGNvbnRhaW5lckJveCA9IGJydXNoQ29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgIHggPSBtb3VzZVswXSxcclxuICAgICAgICB5ID0gbW91c2VbMV0sXHJcbiAgICAgICAgaW5zaWRlQ29udGFpbmVyID0gZmFsc2U7XHJcblxyXG4gICAgaWYgKHggPCBjb250YWluZXJCb3gucmlnaHQgJiYgeSA8IGNvbnRhaW5lckJveC5ib3R0b20gJiYgeCA+IGNvbnRhaW5lckJveC5sZWZ0ICYmIHkgPiBjb250YWluZXJCb3gudG9wKSB7XHJcbiAgICAgICAgaW5zaWRlQ29udGFpbmVyID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaW5zaWRlQ29udGFpbmVyICYmIGVsZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdOiBbZWxlW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF0ucmVwbGFjZSgvXy9nLCAnICcpLnJlcGxhY2UoL19kb3RfL2csICcuJyldXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vZGU6IGV2ZW50LnRhcmdldFxyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKGluc2lkZUNvbnRhaW5lcikge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHt9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YTogZmFsc2VcclxuICAgIH07XHJcbn1cclxuXHJcbi8qKnNldFNjYXR0ZXJMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldFNjYXR0ZXJMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzZXJpZXMnKSkge1xyXG4gICAgICAgIHZhciBpdGVtID0gZGF0YS5kYXRhVGFibGUuc2VyaWVzO1xyXG4gICAgICAgIGZvciAodmFyIHZhbHVlIGluIGRhdGEuY2hhcnREYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRFbGVtZW50ID0gZGF0YS5jaGFydERhdGFbdmFsdWVdW2l0ZW1dO1xyXG4gICAgICAgICAgICBpZiAobGVnZW5kQXJyYXkuaW5kZXhPZihsZWdlbmRFbGVtZW50KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2gobGVnZW5kRWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdsYWJlbCcpKSB7XHJcbiAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZS5sYWJlbCk7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGxlZ2VuZEFycmF5WzBdID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZS5sYWJlbCk7XHJcbiAgICB9XHJcbiAgICAvL29yZGVyIGxlZ2VuZCBkYXRhIGluIGFscGhhYmV0aWNhbCBvcmRlclxyXG4gICAgbGVnZW5kQXJyYXkuc29ydCgpO1xyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKipzZXRTY2F0dGVyQXhpc0RhdGFcclxuICogIGdldHMgeiBheGlzIGRhdGEgYmFzZWQgb24gdGhlIGNoYXJ0RGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZVxyXG4gKiBAcmV0dXJucyBvYmplY3Qgd2l0aCBsYWJlbCBhbmQgdmFsdWVzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRTY2F0dGVyQXhpc0RhdGEoZGF0YSwgYXhpcywgX3ZhcnMpIHtcclxuICAgIC8vZGVjbGFyZSB2YXJzXHJcbiAgICB2YXIgYXhpc0RhdGEgPSBbXSxcclxuICAgICAgICBjaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBzY2F0dGVyTGFiZWwgPSBkYXRhLmRhdGFUYWJsZVtheGlzXSxcclxuICAgICAgICBtaW4gPSBzY2F0dGVyTGFiZWwgPyBjaGFydERhdGFbMF1bc2NhdHRlckxhYmVsXSA6IDAsXHJcbiAgICAgICAgbWF4ID0gc2NhdHRlckxhYmVsID8gY2hhcnREYXRhWzBdW3NjYXR0ZXJMYWJlbF0gOiAwLFxyXG4gICAgICAgIGRhdGFUeXBlO1xyXG5cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5kYXRhVGFibGVLZXlzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlS2V5c1tqXS52aXpUeXBlID09PSBheGlzKSB7XHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gZGF0YS5kYXRhVGFibGVLZXlzW2pdLnR5cGU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vbG9vcCBvdmVyIGRhdGEgdG8gZmluZCBtYXggYW5kIG1pblxyXG4gICAgLy9hbHNvIGRldGVybWluZXMgdGhlIHkgYXhpcyB0b3RhbCBpZiB0aGUgZGF0YSBpcyBzdGFja2VkXHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChjaGFydERhdGFbaV0uaGFzT3duUHJvcGVydHkoc2NhdHRlckxhYmVsKSkge1xyXG4gICAgICAgICAgICB2YXIgbnVtID0gY2hhcnREYXRhW2ldW3NjYXR0ZXJMYWJlbF07XHJcbiAgICAgICAgICAgIGlmICghaXNOYU4obnVtKSkge1xyXG4gICAgICAgICAgICAgICAgbnVtID0gcGFyc2VGbG9hdChudW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bSA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IG51bTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtIDwgbWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gbnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGF4aXMgIT09ICd6Jykge1xyXG4gICAgICAgIG1pbiAqPSAwLjk7XHJcbiAgICAgICAgbWF4ICo9IDEuMTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3ZhcnMueU1pbiAmJiAhaXNOYU4oX3ZhcnMueU1pbikgJiYgYXhpcyA9PT0gJ3knKSB7XHJcbiAgICAgICAgbWluID0gX3ZhcnMueU1pbjtcclxuICAgIH1cclxuICAgIGlmIChfdmFycy55TWF4ICYmICFpc05hTihfdmFycy55TWF4KSAmJiBheGlzID09PSAneScpIHtcclxuICAgICAgICBtYXggPSBfdmFycy55TWF4O1xyXG4gICAgfVxyXG4gICAgaWYgKF92YXJzLnhNaW4gJiYgIWlzTmFOKF92YXJzLnhNaW4pICYmIGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgIG1pbiA9IF92YXJzLnhNaW47XHJcbiAgICB9XHJcbiAgICBpZiAoX3ZhcnMueE1heCAmJiAhaXNOYU4oX3ZhcnMueE1heCkgJiYgYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgbWF4ID0gX3ZhcnMueE1heDtcclxuICAgIH1cclxuXHJcbiAgICBheGlzRGF0YS5wdXNoKG1pbik7XHJcbiAgICBheGlzRGF0YS5wdXNoKG1heCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgICdsYWJlbCc6IHNjYXR0ZXJMYWJlbCxcclxuICAgICAgICAndmFsdWVzJzogYXhpc0RhdGEsXHJcbiAgICAgICAgJ2RhdGFUeXBlJzogJ05VTUJFUicsXHJcbiAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAnbWF4JzogbWF4XHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICB2YXIgZGF0YU9iaiA9IHt9O1xyXG5cclxuICAgIGRhdGFPYmouY2hhcnREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcbiAgICBkYXRhT2JqLmxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGE7XHJcbiAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlO1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG4gICAgZGF0YU9iai54QXhpc0RhdGEgPSBjaGFydC5kYXRhLnhBeGlzRGF0YTtcclxuICAgIGRhdGFPYmoueUF4aXNEYXRhID0gY2hhcnQuZGF0YS55QXhpc0RhdGE7XHJcbiAgICBkYXRhT2JqLnpBeGlzRGF0YSA9IGNoYXJ0LmRhdGEuekF4aXNEYXRhO1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG5cclxuXHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoZGF0YU9iai5sZWdlbmREYXRhKTtcclxuXHJcbiAgICAvL1RPRE8gcmVtb3ZlIHRoZXNlIGZyb20gZHJhdyBvYmplY3RcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWUF4aXMoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZVNjYXR0ZXInKTtcclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNjYXR0ZXIoKTtcclxuICAgIGNoYXJ0LmNyZWF0ZUxpbmVHdWlkZSgpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlTWVhbihkYXRhLCB0eXBlKSB7XHJcbiAgICByZXR1cm4gZDMubWVhbihkYXRhLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gK3ZhbHVlW3R5cGVdO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmVHdWlkZSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgY2hhcnREYXRhID0gY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGRhdGFUYWJsZSA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhO1xyXG5cclxuICAgIHZhciB4TGluZVZhbCA9IGNhbGN1bGF0ZU1lYW4oY2hhcnREYXRhLCBkYXRhVGFibGUueCk7XHJcbiAgICB2YXIgeUxpbmVWYWwgPSBjYWxjdWxhdGVNZWFuKGNoYXJ0RGF0YSwgZGF0YVRhYmxlLnkpO1xyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLmxpbmVndWlkZS54JykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLmxpbmVndWlkZS55JykucmVtb3ZlKCk7XHJcblxyXG4gICAgdmFyIGxpbmVHcm91cCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lLWdyb3VwIHNjYXR0ZXJwbG90LWNvbnRhaW5lcicpO1xyXG5cclxuICAgIC8veCBsaW5lIGdyb3VwIGZvciBjcm9zc2hhaXJcclxuICAgIHZhciBsaW5lR3VpZGVYID0gbGluZUdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmVndWlkZSB4JylcclxuICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdncmF5JylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSlcclxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5saW5lR3VpZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ2JsYWNrJyk7XHJcblxyXG4gICAgLy95IGxpbmUgZ3JvdXAgZm9yIGNyb3NzaGFpclxyXG4gICAgdmFyIGxpbmVHdWlkZVkgPSBsaW5lR3JvdXAuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluZWd1aWRlIHknKVxyXG4gICAgICAgIC5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2dyYXknKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKVxyXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxpbmVHdWlkZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnYmxhY2snKTtcclxuXHJcbiAgICAvL2NyZWF0ZSBjcm9zc2hhaXIgYmFzZWQgb24gbWVkaWFuIHggKHVwL2Rvd24pICdwb3RlbnRpYWxseScgcGFzc2VkIHdpdGggZGF0YVxyXG4gICAgbGluZUd1aWRlWFxyXG4gICAgICAgIC5hdHRyKCd4MScsIHgoeExpbmVWYWwpKVxyXG4gICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgLmF0dHIoJ3gyJywgeCh4TGluZVZhbCkpXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgY29udGFpbmVyLmhlaWdodCk7XHJcblxyXG4gICAgLy9jcmVhdGUgY3Jvc3NoYWlyIGJhc2VkIG9uIG1lZGlhbiB5IChsZWZ0L3JpZ2h0KSAncG90ZW50aWFsbHknIHBhc3NlZCB3aXRoIGRhdGFcclxuICAgIGxpbmVHdWlkZVlcclxuICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgIC5hdHRyKCd5MScsIHkoeUxpbmVWYWwpKVxyXG4gICAgICAgIC5hdHRyKCd4MicsIGNvbnRhaW5lci53aWR0aClcclxuICAgICAgICAuYXR0cigneTInLCB5KHlMaW5lVmFsKSk7XHJcblxyXG4gICAgcmV0dXJuIGxpbmVHcm91cDtcclxufVxyXG4vKipnZW5lcmF0ZVNjYXR0ZXJcclxuICpcclxuICogY3JlYXRlcyBhbmQgZHJhd3MgYSBzY2F0dGVyIHBsb3Qgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAqIEBwYXJhbXMgc3ZnLCBzY2F0dGVyRGF0YSwgX3ZhcnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCB6QXhpc0RhdGEsIGNvbnRhaW5lciwgZGF0YVRhYmxlIGxlZ2VuZERhdGFcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVTY2F0dGVyKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBzY2F0dGVyRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVGFibGUgPSBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICB6QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS56QXhpc0RhdGEsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgY29sb3JzID0gY2hhcnQuX3ZhcnMuY29sb3IsXHJcbiAgICAgICAgc2NhdHRlckRhdGFOZXcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNjYXR0ZXJEYXRhKSk7XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRSA9IDQuNTtcclxuICAgIH1cclxuICAgIGlmICghY2hhcnQuX3ZhcnMuTk9ERV9NQVhfU0laRSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUgPSAyNTtcclxuICAgIH1cclxuXHJcbiAgICAvL3NldCBjbGlwIHBhdGggcmVjdGFuZ2xlXHJcbiAgICBzdmcuYXBwZW5kKCdjbGlwUGF0aCcpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3NjYXR0ZXItYXJlYScpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAxKVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGNvbnRhaW5lci53aWR0aCAtIDEpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGNvbnRhaW5lci5oZWlnaHQpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3IpO1xyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cuc2NhdHRlcnBsb3QtY29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnNjYXR0ZXJwbG90LWNvbnRhaW5lci5lZGl0YWJsZS1zY2F0dGVyJykucmVtb3ZlKCk7XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IGxlZ2VuZERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuICAgIHZhciBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBqdkNoYXJ0cy5nZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoZGF0YUhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG4gICAgdmFyIHNjYXR0ZXJEYXRhRmlsdGVyZWQgPSBbXTtcclxuXHJcbiAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzY2F0dGVyRGF0YU5ldy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUubGFiZWxdID09PSAndW5kZWZpbmVkJyB8fCBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUubGFiZWxdID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUueF0gPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnldID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS56XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnQgPT09IHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS5zZXJpZXNdICYmIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnldID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnpdID0gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBzY2F0dGVyRGF0YU5ldy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUueF0gIT09IC0xICYmIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgc2NhdHRlckRhdGFGaWx0ZXJlZC5wdXNoKHNjYXR0ZXJEYXRhTmV3W2pdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG5cclxuICAgIGlmICh6QXhpc0RhdGEgJiYgdHlwZW9mIHpBeGlzRGF0YSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoekF4aXNEYXRhKS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coekF4aXNEYXRhKTtcclxuICAgICAgICB2YXIgeiA9IGp2Q2hhcnRzLmdldFpTY2FsZSh6QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB2YXIgY3hUcmFuc2xhdGUsXHJcbiAgICAgICAgY3lUcmFuc2xhdGU7XHJcblxyXG4gICAgY3hUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgIHJldHVybiB4KHNjYXR0ZXJEYXRhRmlsdGVyZWRbaV1beEF4aXNEYXRhLmxhYmVsXSk7XHJcbiAgICB9O1xyXG4gICAgY3lUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgIHJldHVybiB5KHNjYXR0ZXJEYXRhRmlsdGVyZWRbaV1beUF4aXNEYXRhLmxhYmVsXSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBzY2F0dGVycyA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdzY2F0dGVycGxvdC1jaXJjbGVzJylcclxuICAgICAgICAuc2VsZWN0QWxsKCdnJyk7XHJcbiAgICB2YXIgdGVtcE1vdXNlT3ZlcjtcclxuICAgIHNjYXR0ZXJzXHJcbiAgICAgICAgLmRhdGEoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2NhdHRlckRhdGFGaWx0ZXJlZDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgnY2lyY2xlJylcclxuICAgICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjc2NhdHRlci1hcmVhKScpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdlZGl0YWJsZSBlZGl0YWJsZS1zY2F0dGVyIHNjYXR0ZXItY2lyY2xlLScgKyBpICsgJyBoaWdobGlnaHQtY2xhc3MnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2N4JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN4VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2N5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGN5VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8gLmF0dHIoXCJjbGlwLXBhdGhcIiwgXCJ1cmwoLmxpbmUtZ3JvdXApXCIpXHJcbiAgICAgICAgLmF0dHIoXCJvcGFjaXR5XCIsIDAuOClcclxuICAgICAgICAuYXR0cigncicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3onKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRvZ2dsZVogJiYgekF4aXNEYXRhICYmIHR5cGVvZiB6QXhpc0RhdGEgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHpBeGlzRGF0YSkubGVuZ3RoID4gMCAmJiBzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW2RhdGFUYWJsZS56XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB6KHNjYXR0ZXJEYXRhRmlsdGVyZWRbaV1bZGF0YVRhYmxlLnpdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnY2xpcC1wYXRoJywgJycpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEF0dHJpYnV0ZSgnY2xpcC1wYXRoJywgJ3VybCgjc2NhdHRlci1hcmVhKScpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICB2YXIgY29sb3I7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NlcmllcycpKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvciA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIHNjYXR0ZXJEYXRhRmlsdGVyZWRbaV1bZGF0YVRhYmxlLnNlcmllc10pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW2RhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICB9KTtcclxuICAgIHJldHVybiBzY2F0dGVycztcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnNpbmdsZWF4aXMgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZXRTaW5nbGVBeGlzRGF0YSA9IGdldFNpbmdsZUF4aXNEYXRhO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2V0U2luZ2xlQXhpc1ogPSBnZXRTaW5nbGVBeGlzWjtcclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlUG9pbnRzID0gZ2VuZXJhdGVQb2ludHM7XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBTaW5nbGUgQXhpcyBDbHVzdGVyIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0geyBjaGFydERhdGE6IGNoYXJ0LmRhdGEuY2hhcnREYXRhLCBkYXRhVGFibGU6IGNoYXJ0LmRhdGEuZGF0YVRhYmxlIH07XHJcblxyXG4gICAgLy9TZXQgdGhlIGxlZ2VuZCBEYXRhIHRvIHRoZSBsYWJlbCBmcm9tIGRhdGFUYWJsZSBLZXlzXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhID0gW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS54XTtcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LmdldFNpbmdsZUF4aXNEYXRhKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSwgY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlKTtcclxuXHJcbiAgICBpZiAoY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzaXplJykpIHtcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YS56QXhpc0RhdGEgPSBjaGFydC5nZXRTaW5nbGVBeGlzWihjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhLmNvbG9yID0gJ3JlZCc7Ly9jaGFydC5zZXRDaGFydENvbG9ycyAoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY29sb3JzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuXHR2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIHNwbGl0RGF0YSA9IHt9LC8vSWYgdGhlcmUgaXMgYSBzcGxpdCwgdGhlIGRhdGEgdGhhdCBoYXMgYmVlbiBzcGxpdFxyXG4gICAgbnVtVml6emVzLC8vSWYgdGhlcmUgaXMgYSBzcGxpdCwgdGhlIG51bWJlciBvZiBzaW5nbGUgYXhpcyBjbHVzdGVycyB0aGF0IGFyZSBjcmVhdGVkXHJcbiAgICBjdXN0b21TaXplID0ge30sLy9JZiB0aGVyZSBpcyBhIHNwbGl0LCB0aGUgc3ZnIG5lZWRzIHRvIGJlIGEgY3VzdG9tIHByZWRlZmluZWQgaGVpZ2h0XHJcbiAgICBtYXJnaW4gPSB7XHJcbiAgICAgICAgdG9wOiA0MCxcclxuICAgICAgICBsZWZ0OiAxMDAsXHJcbiAgICAgICAgcmlnaHQ6IDc1LFxyXG4gICAgICAgIGJvdHRvbTogNTAsXHJcbiAgICB9O1xyXG5cclxuICAgIC8vSWYgdGhlcmUgaXMgYSBzcGxpdCBvbiB0aGUgdml6LCBydW4gdGhyb3VnaCB0aGlzIGxvZ2ljXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc3BsaXREYXRhICE9IFwiXCIgJiYgY2hhcnQuX3ZhcnMuc3BsaXREYXRhICE9IFwibm9uZVwiKSB7XHJcbiAgICAgICAgLy9DaGVjayB0byBzZWUgaG93IG1hbnkgdml6emVzIG5lZWQgdG8gYmUgY3JlYXRlZCBiZWNhdXNlIG9mIHRoZSBzcGxpdFxyXG4gICAgICAgIHZhciBzcGxpdERhdGFLZXlzID0gW107XHJcbiAgICAgICAgdmFyIHNwbGl0T3B0aW9uTmFtZSA9IGNoYXJ0Ll92YXJzLnNwbGl0RGF0YS5yZXBsYWNlKC9fL2csIFwiIFwiKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGFkZFRvS2V5cyA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc3BsaXREYXRhS2V5cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YVtpXVtzcGxpdE9wdGlvbk5hbWVdID09PSBzcGxpdERhdGFLZXlzW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9LZXlzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFkZFRvS2V5cykge1xyXG4gICAgICAgICAgICAgICAgc3BsaXREYXRhS2V5cy5wdXNoKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YVtpXVtzcGxpdE9wdGlvbk5hbWVdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9DcmVhdGUgT2JqZWN0IHdpdGgga2V5cyBhbmQgYXNzaWduIGVhY2ggZWxlbWVudCBvZiB0aGUgZGF0YSBhcnJheSB0byBjb3JyZXNwb25kaW5nIG9iamVjdFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXREYXRhS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzcGxpdERhdGFbc3BsaXREYXRhS2V5c1tpXV0gPSBbXTsvL0Fzc2lnbiBlbXB0eSBhcnJheSB0byBlYWNoIGxvY2F0aW9uXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0Fzc2lnbiBEYXRhIGVsZW1lbnRzIHRvIGFwcHJvcHJpYXRlIHBsYWNlIGluIHNwbGl0RGF0YSBvYmplY3RcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBzcGxpdERhdGFbY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhW2ldW3NwbGl0T3B0aW9uTmFtZV1dLnB1c2goY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG51bVZpenplcyA9IHNwbGl0RGF0YUtleXMubGVuZ3RoO1xyXG5cclxuXHJcbiAgICAgICAgY3VzdG9tU2l6ZS5oZWlnaHQgPSAobnVtVml6emVzKSAqIDMwMDtcclxuXHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgbWFyZ2luLCBjdXN0b21TaXplKTtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICAgICAgY2hhcnQuZHJhd0dyaWRsaW5lcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVZpenplczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmdlbmVyYXRlUG9pbnRzKHNwbGl0RGF0YVtzcGxpdERhdGFLZXlzW2ldXSwgaSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vV2hlbiB0aGVyZSBpc24ndCBhIHNwbGl0LCB0aGUgYmFzZSBjYXNlXHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCBtYXJnaW4sIGN1c3RvbVNpemUpO1xyXG4gICAgICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgICAgICBjaGFydC5kcmF3R3JpZGxpbmVzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVQb2ludHMoY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYodHlwZW9mIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUudGlja3MgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNpbmdsZUF4aXNaKGRhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc2l6ZSA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5zaXplLFxyXG4gICAgICAgIG1pbiA9IGRhdGFbMF1bc2l6ZV0sXHJcbiAgICAgICAgbWF4ID0gZGF0YVswXVtzaXplXTtcclxuICAgIC8vRmluZCBtaW4gYW5kIG1heCBvZiB0aGUgZGF0YVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG51bSA9IGRhdGFbaV1bc2l6ZV07XHJcbiAgICAgICAgaWYgKG51bSA+IG1heCkge1xyXG4gICAgICAgICAgICBtYXggPSBudW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bSA8IG1pbikge1xyXG4gICAgICAgICAgICBtaW4gPSBudW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAnbWF4JzogbWF4LFxyXG4gICAgICAgICdsYWJlbCc6IHNpemVcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQb2ludHMoZGF0YSwgeUxldmVsKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICB3aWR0aCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB6QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS56QXhpc0RhdGEsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBwb2ludENvbG9yID0gXCIjNjA5Y2RiXCIsXHJcbiAgICAgICAgY29sb3JlZFBvaW50ID0gXCIjZTg4YTE3XCI7XHJcblxyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICBjb25zdCBTUExJVF9DTFVTVEVSX0hFSUdIVCA9IDMwMDtcclxuICAgIGNvbnN0IFRSQU5TTEFURV9TUExJVF9DTFVTVEVSID0gMTUwO1xyXG5cclxuXHJcbiAgICAvL0lmIHRoZXJlJ3MgYSBzcGxpdCwgYWNjb3VudCBmb3IgdGhlIG11bHRpcGxlIGF4ZXNcclxuICAgIHZhciBjdXJyZW50QXhpc0hlaWdodDtcclxuICAgIGlmICh5TGV2ZWwgIT0gbnVsbCkge1xyXG4gICAgICAgIGN1cnJlbnRBeGlzSGVpZ2h0ID0gKHlMZXZlbCAqIFNQTElUX0NMVVNURVJfSEVJR0hUKSArIFRSQU5TTEFURV9TUExJVF9DTFVTVEVSOy8vRWFjaCBoZWlnaHQgaXMgMTAwcHhcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGN1cnJlbnRBeGlzSGVpZ2h0ID0gaGVpZ2h0IC8gMjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkUpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFID0gNC41O1xyXG4gICAgfVxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5OT0RFX01BWF9TSVpFKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuTk9ERV9NQVhfU0laRSA9IDI1O1xyXG4gICAgfVxyXG5cclxuICAgIC8vQWRkIGEgcGF0aCBsaW5lIHRocm91Z2ggdGhlIGhlaWdodCBvZiB0aGUgYXhpc1xyXG4gICAgaWYgKHlMZXZlbCAhPSBudWxsKSB7XHJcbiAgICAgICAgc3ZnLmFwcGVuZChcImxpbmVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCAwKVxyXG4gICAgICAgICAgICAuYXR0cihcIngyXCIsIGNvbnRhaW5lci53aWR0aClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCBjdXJyZW50QXhpc0hlaWdodClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCBjdXJyZW50QXhpc0hlaWdodClcclxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCJ3aGl0ZVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCBcIjIwcHhcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCwgXCIgKyBUUkFOU0xBVEVfU1BMSVRfQ0xVU1RFUiArIFwiKVwiKTtcclxuXHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLmRhdHVtKGRhdGEpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCAwKVxyXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgY3VycmVudEF4aXNIZWlnaHQpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZFswXVtjaGFydC5fdmFycy5zcGxpdERhdGEucmVwbGFjZSgvXy9nLCAnICcpXTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoLTg1LCAwKVwiKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB2YXIgc2ltdWxhdGlvbiA9IGQzLmZvcmNlU2ltdWxhdGlvbihkYXRhKVxyXG4gICAgICAgIC5hbHBoYURlY2F5KC4wNSlcclxuICAgICAgICAuZm9yY2UoXCJ4XCIsIGQzLmZvcmNlWChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4geChkW2RhdGFUYWJsZS54XSk7XHJcbiAgICAgICAgfSkuc3RyZW5ndGgoMSkpXHJcbiAgICAgICAgLmZvcmNlKFwieVwiLCBkMy5mb3JjZVkoY3VycmVudEF4aXNIZWlnaHQpKVxyXG4gICAgICAgIC5mb3JjZShcImNvbGxpZGVcIiwgZDMuZm9yY2VDb2xsaWRlKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vU2V0IGNvbGxpc2lvbiByYWRpdXMgZXF1YWwgdG8gdGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NpemUnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm0gPSAoZFtkYXRhVGFibGUuc2l6ZV0gLSB6QXhpc0RhdGEubWluKSAvICh6QXhpc0RhdGEubWF4IC0gekF4aXNEYXRhLm1pbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gKGNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUgLSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFKSAqIG5vcm0gKyBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9KS5zdHJlbmd0aCgxKSlcclxuICAgICAgICAuZm9yY2UoXCJjaGFyZ2VcIiwgZDMuZm9yY2VNYW55Qm9keSgpLnN0cmVuZ3RoKC02KSlcclxuICAgICAgICAuc3RvcCgpO1xyXG4gICAgLy9cclxuXHJcbiAgICAvL09uIERyYXcgTW92ZSBQb2ludHNcclxuICAgIGZ1bmN0aW9uIG1vdmVUb3dhcmREYXRhUG9zaXRpb24oYWxwaGEpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgZC54ICs9ICh4KGQueCkgLSBkLngpICogLjEgKiBhbHBoYTtcclxuICAgICAgICAgICAgZC55ICs9ICh5KGQueSkgLSBkLnkpICogLjA1ICogYWxwaGE7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDEyMDsgKytpKSBzaW11bGF0aW9uLnRpY2soKTtcclxuXHJcbiAgICB2YXIgY2VsbCA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNlbGxzXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgICAuZGF0YShkMy52b3Jvbm9pKClcclxuICAgICAgICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxyXG4gICAgICAgICAgICAueChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQueDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnkoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLnk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5wb2x5Z29ucyhkYXRhKVxyXG4gICAgICAgIClcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcInNpbmdsZWF4aXMtY29udGFpbmVyXCIpO1xyXG5cclxuICAgIGNlbGxcclxuICAgICAgICAuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAgICAgLmF0dHIoXCJyXCIsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NpemUnKSAmJiBkICE9IG51bGwgJiYgZC5oYXNPd25Qcm9wZXJ0eSgnZGF0YScpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybSA9IChkLmRhdGFbZGF0YVRhYmxlLnNpemVdIC0gekF4aXNEYXRhLm1pbikgLyAoekF4aXNEYXRhLm1heCAtIHpBeGlzRGF0YS5taW4pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihub3JtKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSAoY2hhcnQuX3ZhcnMuTk9ERV9NQVhfU0laRSAtIGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkUpICogbm9ybSArIGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHsvL0lmIHRoZXJlIGlzIG9ubHkgMSBub2RlIG9uIHRoZSBjaGFydFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSAwOy8vRG9uJ3QgZGlzcGxheSB1bmRlZmluZWQgbm9kZXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFOy8vRGVmYXVsdCBub2RlIHNpemUgb2YgMTVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3ZhbCA9IDM7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImN4XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEueDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCAhPSBudWxsICYmIGQuZGF0YVtjaGFydC5fdmFycy5jb2xvckRhdGFDYXRlZ29yeV0gPT09IGNoYXJ0Ll92YXJzLmNvbG9yRGF0YUluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JlZFBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50Q29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAuOClcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcImJsYWNrXCIpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3QodGhpcylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgY2hhcnQuX3ZhcnMuc2luZ2xlQXhpc0ZpbGxIb3ZlckNvbG9yKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCAmJiBkLmRhdGFbY2hhcnQuX3ZhcnMuY29sb3JEYXRhQ2F0ZWdvcnldID09PSBjaGFydC5fdmFycy5jb2xvckRhdGFJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JlZFBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50Q29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNpbmdsZUF4aXNEYXRhKGRhdGEsIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBsYWJlbCxcclxuICAgICAgICBkYXRhVHlwZSxcclxuICAgICAgICBtaW4sXHJcbiAgICAgICAgbWF4LFxyXG4gICAgICAgIHZhbHVlcyA9IFtdO1xyXG5cclxuICAgIGlmIChkYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCd4JykpIHtcclxuICAgICAgICAgICAgbGFiZWwgPSBkYXRhVGFibGUueDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YVR5cGUgPSAnTlVNQkVSJztcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YWx1ZXMucHVzaChkYXRhW2ldW2RhdGFUYWJsZS54XSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKTtcclxuICAgIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyk7XHJcblxyXG4gICAgLy9BZGQgYSAxMCUgYnVmZmVyIHRvIGJvdGggc2lkZXNcclxuICAgIG1pbiA9IE1hdGguZmxvb3IobWluIC0gKChtYXggLSBtaW4pICogLjEwKSk7XHJcbiAgICBtYXggPSBNYXRoLmNlaWwobWF4ICsgKChtYXggLSBtaW4pICogLjEwKSk7XHJcblxyXG4gICAgLy9Gb3IgYXhpcyBtaW4vbWF4IHdpZGdldFxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmhhc093blByb3BlcnR5KCd4TWluJykgJiYgY2hhcnQuX3ZhcnMueE1pbiAhPSAnbm9uZScpIHtcclxuICAgICAgICBtaW4gPSBjaGFydC5vcHRpb25zLnhNaW47XHJcbiAgICB9XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuaGFzT3duUHJvcGVydHkoJ3hNYXgnKSAmJiBjaGFydC5fdmFycy54TWF4ICE9ICdub25lJykge1xyXG4gICAgICAgIG1heCA9IGNoYXJ0Ll92YXJzLnhNYXg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAnbGFiZWwnOiBsYWJlbCxcclxuICAgICAgICAndmFsdWVzJzogdmFsdWVzLFxyXG4gICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlLFxyXG4gICAgICAgICdtaW4nOiBtaW4sXHJcbiAgICAgICAgJ21heCc6IG1heFxyXG4gICAgfVxyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc3VuYnVyc3QgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVN1bmJ1cnN0ID0gZ2VuZXJhdGVTdW5idXJzdDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogU3VuYnVyc3QgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldFN1bmJ1cnN0Q2hhcnREYXRhXHJcbiAqICBnZXRzIHN1bmJ1cnN0IGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBjaGFydC5jb2xvcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YSgpIHtcclxuICAgIHJldHVybiB7fTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTsvL01pZ2h0IGhhdmUgdG8gbW92ZSBpbnRvIG1ldGhvZCBiYyBvZiByZWZlcmVuY2UvdmFsdWUgcmVsYXRpb25zaGlwXHJcblxyXG4gICAgdmFyIHN1bmJ1cnN0TWFyZ2lucyA9IHtcclxuICAgICAgICB0b3A6IDE1LFxyXG4gICAgICAgIHJpZ2h0OiAxNSxcclxuICAgICAgICBib3R0b206IDE1LFxyXG4gICAgICAgIGxlZnQ6IDE1XHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgc3VuYnVyc3RNYXJnaW5zKTtcclxuICAgIC8vY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlU3VuYnVyc3QnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlU3VuYnVyc3QoY2hhcnQuY3VycmVudERhdGEpO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZVN1bmJ1cnN0XHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgc3VuYnVyc3Qgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgc3VuYnVyc3REYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVN1bmJ1cnN0KHN1bmJ1cnN0RGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBhbGxGaWx0ZXJMaXN0ID0gW10sXHJcbiAgICAgICAgcmVsYXRpb25NYXAgPSBjaGFydC5kYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB3aWR0aCA9IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHJhZGl1cyA9IChNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAvIDIpIC0gMTA7XHJcblxyXG4gICAgY2hhcnQuY2hpbGRyZW4gPSBjaGFydC5kYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICB2YXIgbmV3RGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2hhcnQuY2hpbGRyZW4pKTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcbiAgICB2YXIgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KCcsZCcpO1xyXG5cclxuICAgIHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKVxyXG4gICAgICAgIC5yYW5nZShbMCwgMiAqIE1hdGguUEldKTtcclxuXHJcbiAgICB2YXIgeSA9IGQzLnNjYWxlU3FydCgpXHJcbiAgICAgICAgLnJhbmdlKFswLCByYWRpdXNdKTtcclxuXHJcbiAgICB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoKVxyXG4gICAgICAgIC5yYW5nZShjaGFydC5kYXRhLmNvbG9yXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHsgYyA9IGQzLnJnYihjKTsgYy5vcGFjaXR5ID0gMTsgcmV0dXJuIGM7IH0pKTtcclxuXHJcbiAgICAvL3ZhciBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTEwKTtcclxuXHJcbiAgICB2YXIgcGFydGl0aW9uID0gZDMucGFydGl0aW9uKCk7XHJcblxyXG4gICAgdmFyIGFyYyA9IGQzLmFyYygpXHJcbiAgICAgICAgLnN0YXJ0QW5nbGUoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDIgKiBNYXRoLlBJLCB4KGQueDApKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZW5kQW5nbGUoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDIgKiBNYXRoLlBJLCB4KGQueDEpKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuaW5uZXJSYWRpdXMoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHkoZC55MCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm91dGVyUmFkaXVzKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCB5KGQueTEpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL2Fzc2lnbnMgdGhlIGRhdGEgdG8gYSBoaWVyYXJjaHkgdXNpbmcgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcHNcclxuICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KGNoYXJ0LmNoaWxkcmVuLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLmNoaWxkcmVuO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcm9vdC5zdW0oZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciB2aXMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc3VuYnVyc3QnKVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIHdpZHRoIC8gMiArICcsJyArIChoZWlnaHQgLyAyKSArICcpJyk7XHJcblxyXG5cclxuICAgIHZpcy5zZWxlY3RBbGwoJ3BhdGgnKVxyXG4gICAgICAgIC5kYXRhKHBhcnRpdGlvbihyb290KS5kZXNjZW5kYW50cygpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ25vZGUnKTtcclxuXHJcbiAgICB2YXIgcGF0aCA9IHZpcy5zZWxlY3RBbGwoJy5ub2RlJylcclxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuYXR0cignZCcsIGFyYylcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZC5kYXRhLm5hbWUgPT09ICdyb290Jykge1xyXG4gICAgICAgICAgICAgICAgZC5jb2xvciA9IGNoYXJ0Ll92YXJzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZC5jb2xvciA9IGNvbG9yKGQuZGF0YS5uYW1lKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGQuZGF0YS5uYW1lKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB2YXIgdERhdGEgPSBjaGFydC5kYXRhLnRpcERhdGEuZ2V0KGQuZGF0YS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIC8vIHREYXRhLm5hbWUgPSBkLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgIC8vIHREYXRhLmNvbG9yID0gZC5jb2xvcjtcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignY2xpY2snLCBjbGljaylcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlcykge1xyXG4gICAgICAgIHZhciB0ZXh0ID0gdmlzLnNlbGVjdEFsbCgnLm5vZGUnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JvdGF0ZSgnICsgY29tcHV0ZVRleHRSb3RhdGlvbihkKSArICcpJztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZC55MCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCdkeCcsICc2JykgLy9tYXJnaW5cclxuICAgICAgICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJykgLy92ZXJ0aWNhbC1hbGlnblxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuZGF0YS5uYW1lID09PSAncm9vdCcgPyAnJyA6IGQuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY2xpY2soZCkge1xyXG4gICAgICAgIC8vZmFkZSBvdXQgYWxsIHRleHQgZWxlbWVudHNcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlcykge1xyXG4gICAgICAgICAgICB0ZXh0LnRyYW5zaXRpb24oKS5hdHRyKCdvcGFjaXR5JywgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2aXMudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbig3NTApXHJcbiAgICAgICAgICAgIC50d2Vlbignc2NhbGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgeGQgPSBkMy5pbnRlcnBvbGF0ZSh4LmRvbWFpbigpLCBbZC54MCwgZC54MV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHlkID0gZDMuaW50ZXJwb2xhdGUoeS5kb21haW4oKSwgW2QueTAsIDFdKSxcclxuICAgICAgICAgICAgICAgICAgICB5ciA9IGQzLmludGVycG9sYXRlKHkucmFuZ2UoKSwgW2QueTAgPyAyMCA6IDAsIHJhZGl1c10pO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodCkgeyB4LmRvbWFpbih4ZCh0KSk7IHkuZG9tYWluKHlkKHQpKS5yYW5nZSh5cih0KSk7IH07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuYXR0clR3ZWVuKCdkJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyYyhkKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignZW5kJywgZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5kaXNwbGF5VmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBpZiB0aGUgYW5pbWF0ZWQgZWxlbWVudCdzIGRhdGEgZSBsaWVzIHdpdGhpbiB0aGUgdmlzaWJsZSBhbmdsZSBzcGFuIGdpdmVuIGluIGRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS54MCA+IGQueDAgJiYgZS54MCA8IGQueDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgYSBzZWxlY3Rpb24gb2YgdGhlIGFzc29jaWF0ZWQgdGV4dCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmNUZXh0ID0gZDMuc2VsZWN0KHRoaXMucGFyZW50Tm9kZSkuc2VsZWN0KCd0ZXh0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmFkZSBpbiB0aGUgdGV4dCBlbGVtZW50IGFuZCByZWNhbGN1bGF0ZSBwb3NpdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJjVGV4dC50cmFuc2l0aW9uKCkuZHVyYXRpb24oNzUwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3Zpc2libGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uICgpIHsgcmV0dXJuICdyb3RhdGUoJyArIGNvbXB1dGVUZXh0Um90YXRpb24oZSkgKyAnKSc7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB5KGQueTApOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLm5hbWUgPT09ICdyb290JyA/ICcnIDogZC5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXB1dGVUZXh0Um90YXRpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoeCgoZC54MCArIGQueDEpIC8gMikgLSBNYXRoLlBJIC8gMikgLyBNYXRoLlBJICogMTgwO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUudHJlZW1hcCA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlVHJlZU1hcCA9IGdlbmVyYXRlVHJlZU1hcDtcclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBUcmVlTWFwIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRUcmVlTWFwRGF0YVxyXG4gKiAgZ2V0cyB0cmVlbWFwIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldFRyZWVNYXBMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoKSB7XHJcbiAgICByZXR1cm4ge307XHJcbn1cclxuXHJcbi8qKnNldFRyZWVNYXBMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldFRyZWVNYXBMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChsZWdlbmRBcnJheS5pbmRleE9mKGRhdGEuY2hhcnREYXRhLmNoaWxkcmVuW2ldW2RhdGEuZGF0YVRhYmxlLnNlcmllc10pID09IC0xKSB7XHJcbiAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goKGRhdGEuY2hhcnREYXRhLmNoaWxkcmVuW2ldW2RhdGEuZGF0YVRhYmxlLnNlcmllc10pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG5cclxuICAgIHZhciB0cmVlTWFwTWFyZ2lucyA9IHtcclxuICAgICAgICB0b3A6IDQ1LFxyXG4gICAgICAgIHJpZ2h0OiA1MCxcclxuICAgICAgICBsZWZ0OiA1MCxcclxuICAgICAgICBib3R0b206IDEzMFxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIHRyZWVNYXBNYXJnaW5zKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZVRyZWVNYXAnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlVHJlZU1hcChjaGFydC5jdXJyZW50RGF0YSk7XHJcblxyXG5cclxufTtcclxuXHJcbi8qKiBnZW5lcmF0ZVRyZWVNYXBcclxuICpcclxuICogcGFpbnRzIHRoZSB0cmVlbWFwIG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHRyZWVNYXBEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVRyZWVNYXAodHJlZU1hcERhdGEpIHtcclxuXHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvcnMgPSB0cmVlTWFwRGF0YS5jb2xvcixcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGFsbEZpbHRlckxpc3QgPSBbXSxcclxuICAgICAgICByZWxhdGlvbk1hcCA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHRyZWVtYXAgPSBudWxsO1xyXG5cclxuICAgIGNoYXJ0LmNoaWxkcmVuID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcblxyXG4gICAgdmFyIG5ld0RhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNoYXJ0LmNoaWxkcmVuKSk7Ly9jb3B5IG9mIHBpZSBkYXRhXHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IGxlZ2VuZERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuXHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEpO1xyXG5cclxuXHJcblxyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3RGF0YS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBuZXdEYXRhLmNoaWxkcmVuW2pdW3JlbGF0aW9uTWFwLnNlcmllc10gJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRhLmNoaWxkcmVuW2pdLnNob3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgdHJlZU1hcERhdGFGaWx0ZXJlZCA9IHt9O1xyXG4gICAgdHJlZU1hcERhdGFGaWx0ZXJlZFtcIlBhcmVudFwiXSA9IFwiVG9wIExldmVsXCI7XHJcbiAgICB0cmVlTWFwRGF0YUZpbHRlcmVkLmNoaWxkcmVuID0gW107XHJcblxyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdEYXRhLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKG5ld0RhdGEuY2hpbGRyZW5bal0uc2hvdyAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdHJlZU1hcERhdGFGaWx0ZXJlZC5jaGlsZHJlbi5wdXNoKG5ld0RhdGEuY2hpbGRyZW5bal0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAgYXNzaWducyB0aGUgZGF0YSB0byBhIGhpZXJhcmNoeSB1c2luZyBwYXJlbnQtY2hpbGQgcmVsYXRpb25zaGlwc1xyXG4gICAgdmFyIHJvb3QgPSBkMy5oaWVyYXJjaHkodHJlZU1hcERhdGFGaWx0ZXJlZCwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC5jaGlsZHJlbjtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciB0cmVlbWFwID0gZDMudHJlZW1hcCgpXHJcbiAgICAgICAgLnNpemUoW2NvbnRhaW5lci53aWR0aCwgY29udGFpbmVyLmhlaWdodF0pXHJcbiAgICAgICAgLnBhZGRpbmcoMik7XHJcblxyXG4gICAgdmFyIG5vZGVzID0gdHJlZW1hcChyb290XHJcbiAgICAgICAgLnN1bShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZFtyZWxhdGlvbk1hcC5zaXplXTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiLmhlaWdodCAtIGEuaGVpZ2h0IHx8IGIudmFsdWUgLSBhLnZhbHVlO1xyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5kZXNjZW5kYW50cygpO1xyXG5cclxuICAgIC8vUmVtb3ZlIGV4aXN0aW5nIGJhcnMgZnJvbSBwYWdlXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiZy50cmVlbWFwXCIpLnJlbW92ZSgpO1xyXG4gICAgc3ZnLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwidHJlZW1hcFwiKTtcclxuXHJcbiAgICB2YXIgbm9kZSA9IHN2Zy5zZWxlY3QoXCIudHJlZW1hcFwiKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXHJcbiAgICAgICAgLmRhdGEocm9vdC5sZWF2ZXMoKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLDApJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBub2RlLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLy8gLmNhbGwocG9zaXRpb24pXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLngwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnkwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC54MSAtIGQueDAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC55MSAtIGQueTAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGQuZGF0YVtyZWxhdGlvbk1hcC5zZXJpZXNdKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbC1vcGFjaXR5XCIsIC44KVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIGNoYXJ0Ll92YXJzLndoaXRlKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIGNoYXJ0Ll92YXJzLnN0cm9rZVdpZHRoKVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZC5kYXRhLCBpKTtcclxuICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG5cclxuICAgICAgICAgICAgLy8gdmFyIHJlY3QgPSBkMy5zZWxlY3QodGhpcyk7XHJcbiAgICAgICAgICAgIC8vIHJlY3QuYXR0cihcImZpbGxcIiwgY2hhcnQuX3ZhcnMubGlnaHQpO1xyXG4gICAgICAgICAgICAvLyByZWN0LnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgLy8gdmFyIHJlY3QgPSBkMy5zZWxlY3QodGhpcyk7XHJcbiAgICAgICAgICAgIC8vIHJlY3QuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgLy8gICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBkLmRhdGFbcmVsYXRpb25NYXAuc2VyaWVzXSk7XHJcbiAgICAgICAgICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAvLyByZWN0LnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIG5vZGUuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAvLyAuY2FsbChwb3NpdGlvbilcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueDAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueTAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLngxIC0gZC54MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnkxIC0gZC55MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDMsIDE4KVwiKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkLmR5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IG51bGwgOiBkLmRhdGFbcmVsYXRpb25NYXAubGFiZWxdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIC8qIERvbid0IGRpc3BsYXkgdGV4dCBpZiB0ZXh0IGlzIHdpZGVyIHRoYW4gcmVjdCAqL1xyXG4gICAgdmFyIHRlbXAgPSBzdmcuc2VsZWN0KFwiLnRyZWVtYXBcIikuc2VsZWN0QWxsKFwiZ1wiKS5zZWxlY3RBbGwoXCJ0ZXh0XCIpO1xyXG4gICAgdGVtcC5hdHRyKFwic3R5bGVcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRCQm94KCkud2lkdGggPj0gKGQueDEgLSBkLngwKSAtIDUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiZGlzcGxheTpub25lXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmdldEJCb3goKS5oZWlnaHQgPj0gKGQueTEgLSBkLnkwKSAtIDUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiZGlzcGxheTpub25lXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jbG91ZCA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQ2xvdWQgPSBnZW5lcmF0ZUNsb3VkO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDbG91ZCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0Q2xvdWREYXRhXHJcbiAqICBnZXRzIGNsb3VkIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0gY2hhcnQuY29sb3JzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoKSB7XHJcbiAgICByZXR1cm4ge307XHJcbn1cclxuXHJcbi8qKnNldENsb3VkTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDbG91ZExlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YoZGF0YS5jaGFydERhdGEuY2hpbGRyZW5baV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaCgoZGF0YS5jaGFydERhdGEuY2hpbGRyZW5baV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgaWYgKCFjaGFydC5zbWFsbGVyRm9udFJlcGFpbnQpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5mb250U2l6ZU1heCA9IDgwO1xyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNoYXJ0LmRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgdmFyIGNsb3VkTWFyZ2lucyA9IHtcclxuICAgICAgICB0b3A6IDE1LFxyXG4gICAgICAgIHJpZ2h0OiAxNSxcclxuICAgICAgICBsZWZ0OiAxNSxcclxuICAgICAgICBib3R0b206IDE1XHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgY2xvdWRNYXJnaW5zKTtcclxuICAgIC8vIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUNsb3VkJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUNsb3VkKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxufTtcclxuXHJcbi8qKiBnZW5lcmF0ZUNsb3VkXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgY2xvdWQgIG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIGNsb3VkIERhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ2xvdWQoY2xvdWREYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGFsbEZpbHRlckxpc3QgPSBbXSxcclxuICAgICAgICByZWxhdGlvbk1hcCA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHdpZHRoID0gY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgbWFyZ2luID0gY2hhcnQuY29uZmlnLm1hcmdpbixcclxuICAgICAgICBtaW4sXHJcbiAgICAgICAgbWF4O1xyXG5cclxuICAgIHZhciBjYXRlZ29yaWVzID0gZDMua2V5cyhkMy5uZXN0KCkua2V5KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgaWYgKCFtaW4gJiYgIW1heCkge1xyXG4gICAgICAgICAgICBtaW4gPSBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgICAgICAgICAgbWF4ID0gZFtyZWxhdGlvbk1hcC52YWx1ZV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGRbcmVsYXRpb25NYXAudmFsdWVdID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICBtYXggPSBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZFtyZWxhdGlvbk1hcC52YWx1ZV0gPCBtaW4pIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IGRbcmVsYXRpb25NYXAudmFsdWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZFtyZWxhdGlvbk1hcC52YWx1ZV07XHJcbiAgICB9KS5tYXAoY2xvdWREYXRhLmNoYXJ0RGF0YSkpO1xyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMuZm9udFNpemVNYXgpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5mb250U2l6ZU1heCA9IDgwO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbCgpXHJcbiAgICAgICAgLnJhbmdlKGNoYXJ0LmRhdGEuY29sb3JcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYykgeyBjID0gZDMucmdiKGMpOyBjLm9wYWNpdHkgPSAwLjg7IHJldHVybiBjOyB9KSk7XHJcblxyXG4gICAgdmFyIGZvbnRTaXplID0gZDMuc2NhbGVQb3coKS5leHBvbmVudCg1KS5kb21haW4oWzAsIDFdKS5yYW5nZShbMTAsIGNoYXJ0Ll92YXJzLmZvbnRTaXplTWF4XSk7XHJcbiAgICBjaGFydC5zbWFsbGVyRm9udFJlcGFpbnQgPSBmYWxzZTtcclxuICAgIHZhciBsYXlvdXQgPSBkMy5sYXlvdXQuY2xvdWQoKVxyXG4gICAgICAgIC50aW1lSW50ZXJ2YWwoMTApXHJcbiAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKVxyXG4gICAgICAgIC53b3JkcyhjbG91ZERhdGEuY2hhcnREYXRhKVxyXG4gICAgICAgIC5yb3RhdGUoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIDA7IH0pXHJcbiAgICAgICAgLmZvbnQoJ1JvYm90bycpXHJcbiAgICAgICAgLmZvbnRTaXplKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb250U2l6ZShtYXggLSBtaW4gIT09IDAgPyAoZFtyZWxhdGlvbk1hcC52YWx1ZV0gLSBtaW4pIC8gKG1heCAtIG1pbikgOiAwKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5yZXBhaW50V2l0aFNtYWxsZXJGb250KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZm9udFNpemVNYXggPiAxMCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMuZm9udFNpemVNYXggLT0gNTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnNtYWxsZXJGb250UmVwYWludCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBwYWludChjaGFydCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7IHJldHVybiBkW3JlbGF0aW9uTWFwLmxhYmVsXTsgfSlcclxuICAgICAgICAuc3BpcmFsKFwiYXJjaGltZWRlYW5cIilcclxuICAgICAgICAub24oXCJlbmRcIiwgZHJhdylcclxuICAgICAgICAuc3RhcnQoKTtcclxuXHJcbiAgICB2YXIgd29yZGNsb3VkID0gc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnd29yZGNsb3VkJylcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB3aWR0aCAvIDIgKyBcIixcIiArIGhlaWdodCAvIDIgKyBcIilcIik7XHJcblxyXG4gICAgZnVuY3Rpb24gZHJhdyh3b3Jkcykge1xyXG4gICAgICAgIGlmIChjaGFydC5zbWFsbGVyRm9udFJlcGFpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3b3JkY2xvdWQuc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuZGF0YShjbG91ZERhdGEuY2hhcnREYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd3b3JkJylcclxuICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5zaXplICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJmb250LWZhbWlseVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuZm9udDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGRbcmVsYXRpb25NYXAudmFsdWVdKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC50ZXh0OyB9KVxyXG4gICAgICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB0aXBEYXRhLmNvbG9yID0gY29sb3IoZFtyZWxhdGlvbk1hcC52YWx1ZV0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXBcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpLmR1cmF0aW9uKFwiMTAwMFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBbZC54LCBkLnldICsgXCIpcm90YXRlKFwiICsgZC5yb3RhdGUgKyBcIilcIjsgfSk7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIl19
