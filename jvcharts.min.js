(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var html = "<!--Top title bar of edit popup-->\n<div class='title'>\n    <div class=\"jv-inline\">\n        <b>Edit Options<div id=\"edit-option-element\" class=\"jv-inline\" style=\"visibility: hidden;\"></div>:</b>\n    </div>\n\n    <div id='exitEditMode' class='jv-pull-right jv-pointer'>\n        <i class='fa fa-times'></i>\n    </div>\n</div>\n\n<!--Line dividing top bar with form options below-->\n<hr style='margin:3px 0 3px 0;'/>\n\n<!--Form Options-->\n<div id=\"form'+chart.config.name+'\">\n\n    <!--Number formatting options-->\n    <div class=\"jv-full-width editable-num-format\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Number Format:\n            <select id=\"editable-num-format\">\n                <option value=\"\">--Select Option--</option>\n                <option value=\"currency\">Currency</option>\n                <option value=\"fixedCurrency\">Fixed Point Currency</option>\n                <option value=\"percent\">Percent</option>\n                <option value=\"millions\">Millions</option>\n                <option value=\"commas\">Commas</option>\n                <option value=\"none\">None</option>\n            </select>\n        </div>\n        <br/>\n    </div>\n\n    <!--Text formatting options-->\n    <div class=\"editable-text-size-buttons jv-center topBarOption increasefont jv-pointer\" style=\"display: none;\">\n        <button id='decreaseFontSize' title='Decrease the font size' class='topbar-button font jv-button jv-pointer'><i class='fa fa-font'></i><i class='fa fa-long-arrow-down'></i></button>\n        <button id='increaseFontSize' title='Increase the font size' class='topbar-button font jv-button jv-pointer'><i class='fa fa-font'></i><i class='fa fa-long-arrow-up'></i></button>\n    </div>\n\n\n    <div class=\"jv-full-width editable-text-color\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text Color:\n            <input type=\"color\" id=\"editable-text-color\" value=\"#000000\">\n        </div>\n        <br/>\n    </div>\n\n    <div class=\"jv-full-width editable-text-size\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text Size:\n            <input type=\"number\" id=\"editable-text-size\" min=\"0\" max=\"30\" value=\"12\">\n        </div>\n        <br/>\n    </div>\n\n    <div class=\"jv-full-width editable-content\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text:\n            <input type=\"text\" id=\"editable-content\" placeholder=\"Enter text here\">\n        </div>\n        <br/>\n    </div>\n\n    <!--bar chart formatting-->\n    <div class=\"jv-full-width editable-bar\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Bar Color:\n            <input type=\"color\" id=\"editable-bar\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--pie chart formatting-->\n    <div class=\"jv-full-width editable-pie\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Pie Slice Color:\n            <input type=\"color\" id=\"editable-pie\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--scatter plot formatting-->\n    <div class=\"jv-full-width editable-scatter\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Scatter Circle Color:\n            <input type=\"color\" id=\"editable-scatter\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--Submit button-->\n    <div class=\"editable-default-and-apply\">\n        <button id=\"submitEditModeDefault\" class=\"jv-button jv-pull-left\">Default</button>\n        <button id=\"submitEditMode\" class=\"jv-button jv-button-green jv-pull-right\">Apply</button>\n    </div>\n</div>";

module.exports = html;

},{}],2:[function(require,module,exports){
'use strict';
//add all required files

require('./jvVars.js');
require('./jvTip.js');
require('./jvBrush.js');
require('./jvComment.js');
require('./jvEdit.js');
require('./visuals/jvBar.js');
require('./visuals/jvPie.js');
require('./visuals/jvLine.js');
require('./visuals/jvScatter.js');
require('./visuals/jvArea.js');
require('./visuals/jvGantt.js');
require('./visuals/jvHeatmap.js');
require('./visuals/jvPack.js');
require('./visuals/jvRadial.js');
require('./visuals/jvSankey.js');
require('./visuals/jvSingleAxis.js');
require('./visuals/jvSunburst.js');
require('./visuals/jvTreemap.js');
require('./visuals/jvWordCloud.js');

//attach jv charts objects to the window
var jvCharts = require('./jvCharts.js');
var jvBrush = require('./jvBrush.js');
var jvComment = require('./jvComment.js');
var jvEdit = require('./jvEdit.js');
var jvSelect = require('./jvSelect');
// var jvDoodle = require('./jvDoodle.js');

//Comment out to remove from window object - if you are not using jvCharts as a minified file
window.jvCharts = jvCharts;
window.jvBrush = jvBrush;
window.jvComment = jvComment;
window.jvEdit = jvEdit;
window.jvSelect = jvSelect;

//add polyfill for Object.assign() if unsupported
if (typeof Object.assign !== 'function') {
    Object.assign = function (target) {
        //.length of function is 2
        'use strict';

        if (target == null) {
            //TypeError if undefined or null
            throw new TypeError('Cannot convert undefined or null to object');
        }
        var to = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];

            if (nextSource != null) {
                //Skip over if undefined or null
                for (var nextKey in nextSource) {
                    //Avoid bugs when hasOwnProperty is shadowed
                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                        to[nextKey] = nextSource[nextKey];
                    }
                }
            }
        }
        return to;
    };
}

},{"./jvBrush.js":3,"./jvCharts.js":4,"./jvComment.js":5,"./jvEdit.js":6,"./jvSelect":7,"./jvTip.js":8,"./jvVars.js":9,"./visuals/jvArea.js":10,"./visuals/jvBar.js":11,"./visuals/jvGantt.js":12,"./visuals/jvHeatmap.js":13,"./visuals/jvLine.js":14,"./visuals/jvPack.js":15,"./visuals/jvPie.js":16,"./visuals/jvRadial.js":17,"./visuals/jvSankey.js":18,"./visuals/jvScatter.js":19,"./visuals/jvSingleAxis.js":20,"./visuals/jvSunburst.js":21,"./visuals/jvTreemap.js":22,"./visuals/jvWordCloud.js":23}],3:[function(require,module,exports){
'use strict';

/***  jvBrush ***/
function jvBrush(configObj) {
    'use strict';

    var brushObj = this;
    brushObj.chartDiv = configObj.chartDiv;
    brushObj.brushDiv = '';
    brushObj.jvChart = configObj.jvChart;
    brushObj.disabled = false;
    brushObj.toggleBrushMode = function (toggleBool) {
        if (toggleBool) {
            brushObj.startBrush();
        } else {
            brushObj.removeBrush();
        }
    };
    brushObj.filterCallbackFunction = configObj.filterCallbackFunction;
}

/********************************************* All Brush Mode Functions **************************************************/

jvBrush.prototype.removeBrush = function () {
    var brushObj = this,
        svg = brushObj.jvChart.svg;

    svg.selectAll('.brusharea').remove();
};

jvBrush.prototype.startBrush = function () {
    var brushObj = this,
        height = brushObj.jvChart.config.container.height,
        width = brushObj.jvChart.config.container.width,
        svg = brushObj.jvChart.svg;

    if (brushObj.jvChart.config.type === 'singleaxis') {
        brushObj.brushType = 'x';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brushX().extent([[0, 0], [width, height]]).on('end', brushEnd));
    } else {
        brushObj.brushType = 'xy';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brush().extent([[0, 0], [width, height]]).on('end', brushEnd));
    }

    /**brushEnd
     * @desc - function called at the end of the user brushing
     */
    function brushEnd() {
        var xScale = brushObj.jvChart.currentData.xAxisScale,
            yScale = brushObj.jvChart.currentData.yAxisScale,
            filteredXAxisLabels = [],
            filteredYAxisLabels = [],
            shouldReset = false,
            e = d3.event.selection,
            returnObj,
            filteredLabels = [],
            filteredConcepts = {},
            index,
            filterCol,
            filteredLabelsX,
            filteredLabelsY;

        if (e) {
            if (brushObj.brushType === 'xy') {
                if (xScale && typeof xScale.invert !== 'function') {
                    //means that the scale is ordinal and not linear
                    returnObj = calculateBrushAreaOrdinal(e[0][0], e[1][0], xScale);
                    filteredXAxisLabels = returnObj.filteredAxisLabels;
                    shouldReset = returnObj.shouldReset;
                } else if (xScale) {
                    //calculate labels for linear scale
                    returnObj = calculateBrushAreaLinear(e[0][0], e[1][0], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                    filteredXAxisLabels = returnObj.filteredAxisLabels;
                    shouldReset = returnObj.shouldReset;
                }

                if (yScale && typeof yScale.invert !== 'function') {
                    //means that the scale is oridnal and not linear
                    returnObj = calculateBrushAreaOrdinal(e[0][1], e[1][1], yScale);
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (yScale) {
                    //calculate labels for linear scale
                    returnObj = calculateBrushAreaLinear(e[0][1], e[1][1], yScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'y');
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (brushObj.jvChart.config.type === 'cloud') {
                    returnObj = calculateCloudBrush(e, brushObj.jvChart.currentData);
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (brushObj.jvChart.config.type === 'heatmap') {
                    returnObj = calculateHeatmapBrush(e, brushObj.jvChart.currentData, brushObj.jvChart);
                    filteredLabelsX = returnObj.filteredXAxisLabels;
                    filteredLabelsY = returnObj.filteredYAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                }
            } else if (brushObj.brushType === 'x') {
                returnObj = calculateBrushAreaLinear(e[0], e[1], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                filteredXAxisLabels = returnObj.filteredAxisLabels;
                if (returnObj.shouldReset) {
                    shouldReset = true;
                }
            }
        } else {
            shouldReset = true;
        }

        if (filteredXAxisLabels.length > 0 && filteredYAxisLabels.length > 0) {
            //merge axisLabels
            for (var j = 0; j < filteredXAxisLabels.length; j++) {
                index = filteredYAxisLabels.indexOf(filteredXAxisLabels[j]);
                if (index > -1) {
                    filteredLabels.push(filteredXAxisLabels[j]);
                }
            }
        } else if (filteredXAxisLabels.length > 0) {
            filteredLabels = filteredXAxisLabels;
        } else if (filteredYAxisLabels.length > 0) {
            filteredLabels = filteredYAxisLabels;
        }

        if (brushObj.jvChart.config.type === 'heatmap') {
            if (!shouldReset) {
                var filterColX = brushObj.jvChart.currentData.dataTable.x;
                var filterColY = brushObj.jvChart.currentData.dataTable.y;
                if (filteredLabelsX.length > 0) {
                    filteredConcepts[filterColX] = filteredLabelsX;
                }
                if (filteredLabelsY.length > 0) {
                    filteredConcepts[filterColY] = filteredLabelsY;
                }
            }
        } else {
            filterCol = brushObj.jvChart.currentData.dataTable.label;
        }
        filteredConcepts[filterCol] = filteredLabels;

        //calls back to update data with brushed data
        brushObj.filterCallbackFunction(filteredConcepts, shouldReset);
    }
};

/**calculateBrushAreaOrdinal
 *
 * @param mousePosMin
 * @param mousePosMax
 * @param scale
 * @returns Object
 * @desc calculates the ordinal values that are in the brushed area
 */
function calculateBrushAreaOrdinal(mousePosMin, mousePosMax, scale) {
    var domain = scale.domain(),
        padding = scale.padding(),
        step = scale.step(),
        minIndex,
        maxIndex,
        paddingDistance = padding * step / 2,
        filteredAxisLabels;

    //determine min index
    if (mousePosMin % step > step - paddingDistance) {
        //don't include on min side
        minIndex = Math.floor(mousePosMin / step) + 1;
    } else {
        //include on min side
        minIndex = Math.floor(mousePosMin / step);
    }

    //determine max index
    if (mousePosMax % step < paddingDistance) {
        //don't include on max side
        maxIndex = Math.floor(mousePosMax / step) - 1;
    } else {
        //include on max side
        maxIndex = Math.floor(mousePosMax / step);
        if (maxIndex === domain.length) {
            maxIndex -= 1;
        }
    }

    filteredAxisLabels = domain.slice(minIndex, maxIndex + 1);

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

/**calculateBrushAreaOrdinal
 *
 * @param mousePosMin
 * @param mousePosMax
 * @param scale
 * @param data chartData
 * @param type visual type
 * @param axis - x / y
 * @returns Object
 * @desc calculates the ordinal values that are in the brushed area
 */
function calculateBrushAreaLinear(mousePosMin, mousePosMax, scale, data, type, axis) {
    var filteredAxisLabels = [],
        min,
        max,
        axisLabel;

    //switch min and max if scale is y due to svg drawing (y axis increases up the screen while mousePos decreases)
    if (axis === 'y') {
        max = scale.invert(mousePosMin);
        min = scale.invert(mousePosMax);
    } else {
        min = scale.invert(mousePosMin);
        max = scale.invert(mousePosMax);
    }

    if (type === 'bar') {
        for (var i = 0; i < data.legendData.length; i++) {
            axisLabel = data.legendData[i];
            for (var j = 0; j < data.chartData.length; j++) {
                if (data.chartData[j][axisLabel] >= min) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
                }
            }
        }
    } else if (type === 'line' || type === 'area' || type === 'singleaxis') {
        for (var i = 0; i < data.legendData.length; i++) {
            axisLabel = data.legendData[i];
            for (var j = 0; j < data.chartData.length; j++) {
                if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
                }
            }
        }
    } else if (type === 'scatterplot') {
        axisLabel = data.dataTable[axis];
        for (var j = 0; j < data.chartData.length; j++) {
            if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
            }
        }
    } else if (type === 'heatmap') {
        axisLabel = data.dataTable[axis];
        for (var j = 0; j < data.chartData.length; j++) {
            if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
            }
        }
    }

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

function calculateCloudBrush(e, data) {
    for (var i = 0; i < data.length; i++) {
        var d = data[i];
        var mouseX0 = e[0][0];
        var mouseX1 = e[0][1];
        var mouseY0 = e[1][0];
        var mouseY1 = e[1][1];
    }

    return [];
}

function calculateHeatmapBrush(e, data, chart) {
    var mouseXmin = e[0][0];
    var mouseYmin = e[0][1];
    var mouseXmax = e[1][0];
    var mouseYmax = e[1][1];
    var filteredXAxisLabels = [];
    var filteredYAxisLabels = [];
    var filteredData = [];
    var reset = true;

    for (var i = 0; i < mouseXmax / chart._vars.heatGridSize; i++) {
        if (i >= mouseXmin / chart._vars.heatGridSize) {
            filteredXAxisLabels.push(data.xAxisData.values[i]);
            reset = false;
        }
    }
    for (var i = 0; i < mouseYmax / chart._vars.heatGridSize; i++) {
        if (i >= mouseYmin / chart._vars.heatGridSize) {
            filteredYAxisLabels.push(data.yAxisData.values[i]);
            reset = false;
        }
    }

    //Might need when new PKQL pixel... comes out
    // for (var i = 0; i < data.chartData.length; i++) {
    //     var d = data.chartData[i];
    //     if(filteredXAxisLabels.includes(d[data.dataTable.x]) && filteredYAxisLabels.includes(d[data.dataTable.y])) {
    //         filteredDataX.push(d[data.dataTable.x]);
    //         filteredDataY.push(d[data.dataTable.y]);
    //     }
    // }

    return { filteredXAxisLabels: filteredXAxisLabels, filteredYAxisLabels: filteredYAxisLabels, shouldReset: reset };
}

module.exports = jvBrush;

},{}],4:[function(require,module,exports){
'use strict';
/***  jvCharts ***/

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var jvTip = require('./jvTip.js');

/**Create a jvCharts object
 * @constructor
 * @param {Object} configObj - Configuration object passed into jvCharts constructor
 * @param {string} configObj.type - The type of chart
 * @param {string} configObj.name - The name of the chart
 * @param {Object} configObj.container - The container of the chart
 * @param {Object} configObj.userOptions - UI options for the chart
 * @param {Object} configObj.tipConfig - Configuration object for jvTooltip
 * @param {Object} configObj.chartDiv - A div wrapper for the chart and other jv features
 */

var jvCharts = function () {
    function jvCharts(configObj) {
        _classCallCheck(this, jvCharts);

        var chart = this;
        chart.config = {
            type: configObj.type.toLowerCase(),
            name: configObj.name,
            container: configObj.container
        };

        chart.chartDiv = configObj.chartDiv;
        chart.localCallbackRelatedInsights = configObj.localCallbackRelatedInsights;
        configObj.options = cleanToolData(configObj.options);
        chart._vars = chart.getDefaultOptions(configObj.options);

        if (configObj.hasOwnProperty('infiniteScrollFunc')) {
            chart.infiniteScrollFunc = configObj.infiniteScrollFunc;
        }

        if (configObj.hasOwnProperty('sortColumnFunc')) {
            chart.sortColumnFunc = configObj.sortColumnFunc;
        }

        chart.tip = new jvTip({
            type: configObj.tipConfig.type,
            chartDiv: configObj.chartDiv
        });

        chart.showComments = false;
        chart.draw = {};
        chart.draw.showToolTip = true;
        chart.currentData = {};

        chart.toggleDefaultMode = function (toggleBool) {
            if (toggleBool) {
                var entireSvg = chart.chartDiv.select('.editable-svg');
                entireSvg.on('dblclick', function () {
                    if (typeof chart.localCallbackRelatedInsights === 'function') {
                        chart.localCallbackRelatedInsights();
                    }
                });
                entireSvg.on('click', false);
                chart.draw.showToolTip = true;
            } else {
                chart.draw.showToolTip = false;
                chart.removeHighlight();
            }
        };

        if (configObj.setData) {
            chart.data = { chartData: configObj.setData.data, dataTable: configObj.setData.dataTable, dataTableKeys: configObj.setData.dataTableKeys, tipData: configObj.setData.tipData };
            chart.colors = configObj.setData.colors;
            if (configObj.setData.additionalInfo) {
                chart.data.additionalInfo = configObj.setData.additionalInfo;
            }
            if (configObj.setData.markerType) {
                chart.data.markerType = configObj.setData.markerType;
            }
            chart[chart.config.type].setData.call(chart);
        }

        if (_typeof(chart[chart.config.type]) === 'object' && typeof chart[chart.config.type].paint === 'function') {
            chart[chart.config.type].paint.call(chart);
        } else {
            console.log('no paint function for: ' + chart.config.type);
        }
    }
    // end of constructor

    _createClass(jvCharts, [{
        key: 'setAxisData',
        value: function setAxisData(axis, data, keys) {
            var chart = this;
            var axisData = [];
            var chartData = data.chartData;
            var label = '';
            var maxStack = 0,
                dataTableKeys = data.dataTableKeys,
                dataType;

            if (!dataTableKeys) {
                dataTableKeys = keys;
            }

            //Step 1: find out what the label is for the axis
            if (axis === 'x') {
                if (data.dataTable) {
                    if (data.dataTable.hasOwnProperty('label')) {
                        label = data.dataTable.label;
                    } else {
                        console.error("Label doesn't exist in dataTable");
                    }
                } else {
                    console.log('DataTable does not exist');
                }

                dataType = 'STRING';

                //Replace underscores with spaces
                label = label.replace(/_/g, ' ');

                //loop through data to populate axisData
                for (var i = 0; i < chartData.length; i++) {
                    if (chartData[i][label] === null) {
                        axisData.push('NULL_VALUE');
                    } else if (chartData[i][label] === '') {
                        axisData.push('EMPTY_STRING');
                    } else if (chartData[i][label] || chartData[i][label] === 0) {
                        axisData.push(chartData[i][label]);
                    }
                }
            } else {
                //Find the max value for Y Data
                var count = 0;
                for (var i = 0; i < dataTableKeys.length; i++) {
                    if (dataTableKeys[i].vizType !== 'label' && dataTableKeys[i].vizType !== 'tooltip') {
                        label = dataTableKeys[i].varKey;
                        count++;
                    }
                }
                dataType = getDataTypeFromKeys(label, dataTableKeys);

                //Add all values that are on yaxis to axis data
                for (var i = 0; i < chartData.length; i++) {
                    var stack = 0; //Keeps track of the maximum size of stacked data so that axis can be scaled to fit max size
                    for (var k in data.dataTable) {
                        if (chartData[i].hasOwnProperty(data.dataTable[k]) && k !== 'label' && k.indexOf('tooltip') === -1) {
                            stack += chartData[i][data.dataTable[k]];
                            axisData.push(chartData[i][data.dataTable[k]]);
                        }
                    }
                    if (stack > maxStack) {
                        maxStack = stack;
                    }
                }
                //Replace underscores with spaces since label is retrieved from dataTableKeys

                //If there are multiple values on the yAxis, don't specify a label
                if (count > 1) {
                    label = "";
                }
                label = label.replace(/_/g, ' ');
            }

            //Find the min and max of numeric data for building axes and add it to the returned object
            if (dataType === 'NUMBER') {
                if (chart._vars.stackToggle) {
                    var max = maxStack;
                } else {
                    var max = Math.max.apply(null, axisData);
                }

                var min = Math.min.apply(null, axisData);
                min = Math.min(0, min);

                //Check if there's an axis min/max set
                if (axis === 'x') {
                    if (chart._vars.xMin != null && chart._vars.xMin !== 'none') {
                        min = chart._vars.xMin;
                    }
                    if (chart._vars.xMax != null && chart._vars.xMax !== 'none') {
                        max = chart._vars.xMax;
                    }
                } else if (axis === 'y') {
                    if (chart._vars.yMin != null && chart._vars.yMin !== 'none') {
                        min = chart._vars.yMin;
                    }
                    if (chart._vars.yMax != null && chart._vars.yMax !== 'none') {
                        max = chart._vars.yMax;
                    }
                }

                if (dataType === 'NUMBER' && axisData.length === 1) {
                    if (axisData[0] >= 0) {
                        axisData.unshift(0);
                    } else {
                        axisData.push(0);
                    }
                }

                return {
                    'label': label,
                    'values': axisData,
                    'dataType': dataType,
                    'min': min,
                    'max': max
                };
            }

            return {
                'label': label,
                'values': axisData,
                'dataType': dataType
            };
        }

        /**setFlippedSeries
         *  flips series and returns flipped data
         *
         * @params chartData, dataTable, dataLabel
         * @returns Object of data and table for flipped series
         */

    }, {
        key: 'setFlippedSeries',
        value: function setFlippedSeries(dataTableKeys) {
            var chart = this;
            var chartData = chart.data.chartData;
            var dataTable = chart.data.dataTable;
            var dataLabel = chart.data.xAxisData.label;

            var flippedData = [];
            var flippedDataTable = {};
            var valueCount = 1;
            var filteredDataTableArray = [];

            for (var k in dataTable) {
                if (dataTable.hasOwnProperty(k)) {
                    var flippedObject = {};
                    if (dataTable[k] !== dataLabel) {
                        flippedObject[dataLabel] = dataTable[k];
                        for (var i = 0; i < chartData.length; i++) {
                            flippedObject[chartData[i][dataLabel]] = chartData[i][dataTable[k]];
                            if (filteredDataTableArray.indexOf(chartData[i][dataLabel]) === -1) {
                                flippedDataTable['value ' + valueCount] = chartData[i][dataLabel];
                                valueCount++;
                                filteredDataTableArray.push(chartData[i][dataLabel]);
                            }
                        }
                        flippedData.push(flippedObject);
                    }
                }
            }
            flippedDataTable.label = dataLabel;
            chart.flippedData = { chartData: flippedData, dataTable: flippedDataTable };

            if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                chart.flippedData.xAxisData = chart.setAxisData('x', chart.flippedData, dataTableKeys);
                chart.flippedData.yAxisData = chart.setAxisData('y', chart.flippedData, dataTableKeys);
                chart.flippedData.legendData = setBarLineLegendData(chart.flippedData);
            } else {
                console.log('Add additional chart type to set flipped series');
            }
        }

        /**organizeChartData
         *  reorders all data based on the sortLabel and sortType
         *  -Only for chartData, does not work with flipped data
         *
         * @params sortLabel , sortType
         * @returns [] sorted data
         */

    }, {
        key: 'organizeChartData',
        value: function organizeChartData(sortParam, sortType) {
            var chart = this,
                organizedData,
                dataType,
                dataTableKeys = chart.data.dataTableKeys,
                sortLabel = sortParam;

            //If sortLabel doesn't exist, sort on the x axis label by default
            if (sortLabel === 'none') {
                for (var i = 0; i < dataTableKeys.length; i++) {
                    if (dataTableKeys[i].vizType === 'label') {
                        sortLabel = dataTableKeys[i].uri;
                        break;
                    }
                }
            }

            //Remove underscores from sortLabel
            sortLabel = sortLabel.replace(/_/g, ' ');

            if (!chart.data.chartData[0][sortLabel]) {
                //Check if the sort label is a calculatedBy field
                var isValidSortLabel = false;
                for (var i = 0; i < dataTableKeys.length; i++) {
                    var obj1 = dataTableKeys[i];
                    if (obj1.operation.hasOwnProperty('calculatedBy') && obj1.operation.calculatedBy[0] === sortLabel) {
                        sortLabel = obj1.uri.replace(/_/g, ' ');
                        isValidSortLabel = true;
                        break;
                    }
                }
                //If it's not a valid sort label, return and don't sort the data
                if (!isValidSortLabel) {
                    console.error('Not a valid sort');
                    return;
                }
            }

            //Check the data type to determine which logic to flow through
            for (var i = 0; i < dataTableKeys.length; i++) {
                var obj = dataTableKeys[i];
                //Loop through dataTableKeys to find sortLabel
                if (obj.uri.replace(/_/g, ' ') === sortLabel) {
                    dataType = obj.type;
                    break;
                }
            }

            //Date sorting
            if (dataType != null && dataType === 'DATE') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    var c = new Date(a[sortLabel]);
                    var d = new Date(b[sortLabel]);
                    return c - d;
                });
            } else if (dataType != null && dataType === 'NUMBER') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        return a[sortLabel] - b[sortLabel];
                    }
                });
            } else {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        if (parseFloat(a[sortLabel]) < parseFloat(b[sortLabel])) {
                            //sort string ascending
                            return -1;
                        }
                        if (parseFloat(a[sortLabel]) > parseFloat(b[sortLabel])) {
                            return 1;
                        }
                        return 0;
                    }
                    if (a[sortLabel].toLowerCase() < b[sortLabel].toLowerCase()) {
                        //sort string ascending
                        return -1;
                    }
                    if (a[sortLabel].toLowerCase() > b[sortLabel].toLowerCase()) {
                        return 1;
                    }
                    return 0;
                });
            }

            switch (sortType) {
                case 'sortAscending':
                case 'ascending':
                    chart.data.chartData = organizedData;
                    break;
                case 'sortDescending':
                case 'descending':
                    chart.data.chartData = organizedData.reverse();
                    break;
                default:
                    chart.data.chartData = organizedData;
            }
        }

        /**setTipData
         *
         * creates data object to display in tooltip
         * @params
         * @returns {{}}
         */

    }, {
        key: 'setTipData',
        value: function setTipData(d, i) {
            var chart = this,
                data = chart.currentData.chartData;

            //Get Color from chartData and add to object
            var color = chart._vars.color;

            var title = d[chart.data.dataTable.label];
            var dataTable = {};

            if (chart.config.type === 'treemap') {
                for (var item in d) {
                    if (item === chart.data.dataTable.series || item === chart.data.dataTable.size) {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
            } else if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                title = data[i][chart.data.dataTable.label];
                for (var item in data[i]) {
                    if (item !== chart.data.dataTable.label) {
                        dataTable[item] = data[i][item];
                    } else {
                        continue;
                    }
                }
            } else if (chart.config.type === 'gantt') {
                //Calculate length of dates
                for (item in data[i]) {
                    if (data[i].hasOwnProperty(item) && item !== chart.data.dataTable.group) {
                        dataTable[item] = data[i][item];
                    }
                }

                var start, end, difference;

                //Calculting duration of date ranges to add to tooltip
                var numPairs = Math.floor(Object.keys(chart.data.dataTable).length / 2);
                for (var j = 1; j <= numPairs; j++) {
                    start = new Date(data[i][chart.data.dataTable['start ' + j]]);
                    end = new Date(data[i][chart.data.dataTable['end ' + j]]);
                    difference = end.getTime() - start.getTime();
                    dataTable['Duration ' + j] = Math.ceil(difference / (1000 * 60 * 60 * 24)) + ' days';
                }

                title = data[i][chart.data.dataTable.group];
            } else if (chart.config.type === 'pie' || chart.config.type === 'radial') {
                title = d.label;
                for (var item in d) {
                    if (item !== 'label') {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
                delete dataTable.outerRadius;
            } else if (chart.config.type === 'circlepack' || chart.config.type === 'sunburst') {
                title = d.data.name;
                dataTable[chart.data.dataTable.value] = d.value;
                // title = d.name;
                // dataTable[chart.data.dataTable.value] = d[chart.data.dataTable.value.replace(/_/g, ' ')];
                // if(typeof d[chart.data.dataTable["tooltip 1"]] != 'undefined'){
                //     dataTable[chart.data.dataTable["tooltip 1"]] = d[chart.data.dataTable["tooltip 1"]];
                // }
            } else if (chart.config.type === 'cloud') {
                title = d[chart.data.dataTable.label];
                dataTable[chart.data.dataTable.value] = d[chart.data.dataTable.value];
                if (typeof d[chart.data.dataTable["tooltip 1"]] != 'undefined') {
                    dataTable[chart.data.dataTable["tooltip 1"]] = d[chart.data.dataTable["tooltip 1"]];
                }
            } else if (chart.config.type === 'heatmap') {
                title = d.yAxisName + ' to ' + d.xAxisName;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
            } else if (chart.config.type === 'sankey') {
                title = d.source.name.slice(0, -2) + ' to ' + d.target.name.slice(0, -2);
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
            } else if (chart.config.type === 'singleaxis') {
                title = d.data[chart.data.dataTable.label];

                for (var item in chart.data.dataTable) {
                    if (item != 'label') {
                        dataTable[chart.data.dataTable[item]] = d.data[chart.data.dataTable[item]];
                    }
                }
            } else {
                for (var item in d) {
                    if (item !== chart.data.dataTable.label) {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
            }

            return { 'data': d, 'tipData': dataTable, 'index': i, 'title': title, 'color': color, 'viz': chart.config.type };
        }

        /************************************************ Draw functions ******************************************************/

        /**generateSVG
         *creates an SVG element on the panel
         *
         * @params container, margin, name
         *
         */

    }, {
        key: 'generateSVG',
        value: function generateSVG(legendData, customMarginParam, customSizeParam) {
            var chart = this,
                margin = {},
                container = {},
                dimensions = chart.chartDiv.node().getBoundingClientRect(),
                customMargins = customMarginParam,
                customSize = customSizeParam,
                textWidth;

            if (chart._vars.customMargins) {
                customMargins = chart._vars.customMargins;
            }

            //set margins
            if (!customMargins) {
                //declare margins if they arent passed in
                margin = {
                    top: 55,
                    right: 50,
                    left: 100,
                    bottom: 70
                };
                if (legendData != null) {
                    if (legendData.length <= 3) {
                        margin.bottom = 70;
                    } else if (legendData.length <= 6) {
                        margin.bottom = 85;
                    } else {
                        margin.bottom = 130;
                    }
                }
            } else {
                margin = customMargins;
            }

            //reduce margins if legend is toggled off
            //TODO make this better
            if (chart._vars.toggleLegend === false) {
                if (chart.config.type === 'pie' || chart.config.type === 'radial' || chart.config.type === 'circlepack' || chart.config.type === 'heatmap') {
                    margin.left = 40;
                } else if (chart.config.type === 'treemap' || chart.config.type === 'bar' || chart.config.type === 'gantt' || chart.config.type === 'scatter' || chart.config.type === 'line') {
                    margin.bottom = 40;
                }
            }

            //set yAxis margins
            if (chart.currentData && chart.currentData.yAxisData) {
                textWidth = getMaxWidthForAxisData('y', chart.currentData.yAxisData, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                if (textWidth > 100 && chart.config.type === 'heatmap') {
                    textWidth = 100;
                }
                chart._vars.heatmapYmargin = textWidth;
                margin.left = Math.ceil(textWidth) + 30;
            }

            //set xAxis top margins
            if (chart.config.type === 'heatmap' && chart.currentData && chart.currentData.xAxisData) {
                textWidth = getMaxWidthForAxisData('x', chart.currentData.xAxisData, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                //subtract space for tilt
                textWidth = Math.ceil(textWidth);
                if (textWidth > 100) {
                    textWidth = 100;
                }
                //specific to heatmap
                if (chart.config.type === 'heatmap') {
                    if (textWidth > 100) {
                        textWidth = 100;
                    } else if (textWidth < 60) {
                        textWidth = 60;
                    }
                }
                chart._vars.heatmapXmargin = textWidth;
                margin.top = textWidth;
                customSize = {};
                //set container
                customSize.width = chart.currentData.xAxisData.values.length * 20;
                customSize.height = chart.currentData.yAxisData.values.length * 20;

                if (!chart._vars.toggleLegend) {
                    var dummyObj = {};
                    dummyObj.values = chart.data.heatData;
                    dummyObj.values.sort(function (a, b) {
                        return a - b;
                    });
                    dummyObj.label = "";
                    dummyObj.min = dummyObj.values[0];
                    dummyObj.max = dummyObj.values[dummyObj.values.length - 1];

                    textWidth = getMaxWidthForAxisData('y', dummyObj, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                    chart.config.heatWidth = Math.ceil(textWidth) + 30;
                    margin.left = margin.left + chart.config.heatWidth;
                }

                if (customSize.width + margin.left + margin.right < dimensions.width) {
                    margin.right = parseInt(dimensions.width) - margin.left - customSize.width - 20;
                }
                if (customSize.height + margin.top + margin.bottom < dimensions.height) {
                    margin.bottom = parseInt(dimensions.height) - margin.top - customSize.height - 10;
                }
                customSize.width += margin.right + margin.left;
                customSize.height += margin.top + margin.bottom;
            }

            //set container attributes
            //Set svg size based on calculation margins or custom size if specified
            if (customSize && customSize.hasOwnProperty('height')) {
                container.height = customSize.height - margin.top - margin.bottom;
            } else {
                container.height = parseInt(dimensions.height) - margin.top - margin.bottom;
            }

            if (customSize && customSize.hasOwnProperty('width')) {
                container.width = customSize.width - margin.left - margin.right;
            } else {
                container.width = parseInt(dimensions.width) - margin.left - margin.right;
            }

            //add margin and container to chart config object
            chart.config.margin = margin;
            chart.config.container = container;

            //remove old svg if it exists
            chart.svg = chart.chartDiv.select('svg').remove();

            //svg layer
            if (chart.config.type === 'heatmap' || chart.config.type === 'singleaxis') {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('class', 'container').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            } else {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            }

            //TODO move to edit mode
            if (chart._vars.backgroundColor !== 'none') {
                chart.colorBackground(chart._vars.backgroundColor);
            }
        }

        /**generateXAxis
         * creates x axis on the svg
         *
         * @params xAxisData
         */

    }, {
        key: 'generateXAxis',
        value: function generateXAxis(xAxisData, ticks) {
            //declare variables
            var chart = this,
                xAxis,

            //Need to getXAxisScale each time so that axis updates on resize
            xAxisScale = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart._vars),
                containerHeight = chart.config.container.height,
                containerWidth = chart.config.container.width,
                xAxisClass = 'xAxisLabels editable editable-xAxis editable-text';

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (xAxisData.dataType === 'NUMBER') {
                xAxisClass += ' editable-num';
            }

            //remove previous xAxis container if its there
            chart.svg.selectAll('.xAxisContainer').remove();

            //Save the axis scale to chart object
            chart.currentData.xAxisScale = xAxisScale;

            var tickSize = 0;
            if (chart.currentData.xAxisData.dataType === 'NUMBER') {
                tickSize = 5;
            }

            //create xAxis drawing function
            if (chart.config.type === 'singleaxis') {
                xAxis = d3.axisTop(xAxisScale).tickSize(tickSize);
            } else {
                xAxis = d3.axisBottom(xAxisScale).tickSize(tickSize);
            }

            if (ticks) {
                xAxis.ticks(ticks);
            }

            var axisHeight = containerHeight;
            if (chart.config.type === 'singleaxis') {
                //For any axes that are on top of the data
                axisHeight = 0;
            }

            var xContent = chart.svg.append('g').attr('class', 'xAxisContainer').attr('transform', 'translate(0,' + axisHeight + ')');

            var xAxisGroup = xContent.append('g').attr('class', 'xAxis').call(xAxis);

            var formatValueType = jvFormatValueType(xAxisData.values);

            //Styling the axis
            xAxisGroup.select('path').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.strokeWidth);

            //Styling for ticks
            xAxisGroup.selectAll('line').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.stroke);

            //Styling the labels for each piece of data
            xAxisGroup.selectAll('text').attr('fill', chart._vars.fontColor) //Customize the color of axis labels
            .attr('class', xAxisClass).style('text-anchor', 'middle').attr('font-size', chart._vars.fontSize).attr('transform', 'translate(0, 3)').text(function (d) {
                if (xAxisData.dataType === 'NUMBER' || chart._vars.rotateAxis) {
                    return jvFormatValue(d, formatValueType);
                }
                return d;
            });

            //Styling the label for the entire axis
            xContent.append('g').attr('class', 'xLabel').append('text').attr('class', 'xLabel editable editable-text editable-content').attr('text-anchor', 'middle').attr('font-size', chart._vars.fontSize).text(function () {
                if (xAxisData.dataType === 'DATE') {
                    return '';
                }
                return xAxisData.label;
            }).attr('transform', 'translate(' + containerWidth / 2 + ', 33)');
        }

        /**FormatXAxisLabels
         *
         * If x-axis labels are too long/overlapping, they will be hidden/shortened
         */

    }, {
        key: 'formatXAxisLabels',
        value: function formatXAxisLabels(dataLength, recursion) {
            var chart = this,
                showAxisLabels = true,
                xAxisLength = chart.config.container.width,
                textWidth = [],
                formatValueType = null,
                dataType = chart.currentData.xAxisData.dataType,
                axisValues = chart.currentData.xAxisData.values;

            if (dataType === 'NUMBER') {
                formatValueType = jvFormatValueType(axisValues);
            }

            //create dummy text to determine computed text length for the axis labels
            //necessary to do this because axis labels getBBox() is returning 0 since they do not seem to be drawn yet
            chart.svg.append('g').selectAll('.dummyText').data(axisValues).enter().append('text').attr('font-family', 'sans-serif').attr('font-size', chart._vars.fontSize).text(function (d) {
                var returnVal = d;
                if (dataType === 'NUMBER') {
                    returnVal = jvFormatValue(d, formatValueType);
                }
                return returnVal;
            }).each(function () {
                //adding 10px buffer
                var thisWidth = this.getComputedTextLength() + 10;
                textWidth.push(thisWidth);
                this.remove(); //remove them just after displaying them
            });

            for (var i = 0; i < textWidth.length; i++) {
                var textEleWidth = textWidth[i];
                if (textEleWidth > xAxisLength / dataLength) {
                    showAxisLabels = false;
                }
            }

            if (showAxisLabels) {
                if (recursion) {
                    chart.generateXAxis(chart.currentData.xAxisData, dataLength);
                }
                chart.svg.selectAll('.xAxisLabels').style('display', 'block');
            } else if (dataLength > 1 && chart.currentData.xAxisData.dataType === 'NUMBER') {
                //recursively keep decreasing to figure out ticks length to repaint the xAxis if its numeric
                chart.formatXAxisLabels(dataLength - 1, true);
            } else {
                chart.svg.selectAll('.xAxis').selectAll('text').style('display', 'none');
            }
        }

        /**generateYAxis
         * creates y axis on the svg
         *
         * @params generateYAxis
         */

    }, {
        key: 'generateYAxis',
        value: function generateYAxis(yAxisData) {
            var chart = this,
                yAxisScale = jvCharts.getAxisScale('y', yAxisData, chart.config.container, chart._vars),
                yAxisClass = 'yAxisLabels editable editable-yAxis editable-text',
                maxYAxisLabelWidth,
                numberOfTicks = Math.floor(chart.config.container.height / 14),
                yAxis,
                yContent,
                yAxisGroup,
                forceFormatTypeTo = null,
                ylabel = '';

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (yAxisData.dataType === 'NUMBER') {
                yAxisClass += ' editable-num';
            }

            //Save y axis scale to chart object
            chart.currentData.yAxisScale = yAxisScale;

            //remove previous svg elements
            chart.svg.selectAll('.yAxisContainer').remove();
            chart.svg.selectAll('text.yLabel').remove();

            if (numberOfTicks > 10) {
                if (numberOfTicks < 20) {
                    numberOfTicks = 10;
                } else if (numberOfTicks < 30) {
                    numberOfTicks /= 2;
                } else {
                    numberOfTicks = 15;
                }
            }

            //If all y-axis values are the same, only show a tick for that value. If value is 1, don't show any decimal places
            if (yAxisData.values.length > 0 && !!yAxisData.values.reduce(function (a, b) {
                return a === b ? a : NaN;
            })) {
                numberOfTicks = 1;
                if (yAxisData.values[0] === 1) {
                    forceFormatTypeTo = 'nodecimals';
                }
            }
            yAxis = d3.axisLeft().ticks(numberOfTicks) //Link to D3.svg.axis options: https://github.com/mbostock/d3/wiki/SVG-Axes
            .scale(yAxisScale) //Sets the scale to use in the axis
            .tickSize(5) //Sets the thickness of the axis line
            .tickPadding(5);

            //Hide Axis values if necessary
            if (yAxisData.hideValues) {
                yAxis.tickFormat('');
            }
            if (chart._vars.displayYAxisLabel) {
                ylabel = yAxisData.label;
            }

            yContent = chart.svg.append('g').attr('class', 'yAxisContainer');

            yContent.append('g').attr('class', 'yLabel').append('text').attr('class', 'yLabel editable editable-text editable-content').attr('text-anchor', 'start').attr('font-size', chart._vars.fontSize).attr('x', 0).attr('y', 0).attr('transform', 'translate(' + (-chart.config.margin.left + 10) + ', -10)').text(ylabel).attr('fill-opacity', 1);

            yAxisGroup = yContent.append('g').attr('class', 'yAxis');

            yAxisGroup.call(yAxis);

            //Styling for Axis
            yAxisGroup.select('path').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.strokeWidth);

            maxYAxisLabelWidth = 0;

            if (yAxisData.hideValues) {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke-width', 0);
            } else {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.stroke);
                //Styling for data labels on axis
                yAxisGroup.selectAll('text').attr('fill', chart._vars.fontColor) //Customize the color of axis labels
                .attr('class', yAxisClass).attr('transform', 'rotate(0)') //Add logic to rotate axis based on size of title
                .attr('font-size', chart._vars.fontSize).append('svg:title');

                var formatValueType = jvFormatValueType(yAxisData.values);

                yAxisGroup.selectAll('text').transition().text(function (d) {
                    if (chart._vars.rotateAxis) {
                        return d;
                    }
                    var maxLength = 13;
                    var current = '';
                    if (d.length > maxLength) {
                        current = d.substring(0, maxLength) + '...';
                    } else {
                        current = d;
                    }

                    if (forceFormatTypeTo !== null) {
                        formatValueType = forceFormatTypeTo;
                    }
                    return jvFormatValue(current, formatValueType);
                }).each(function (d, i, j) {
                    if (j[0].getBBox().width > maxYAxisLabelWidth) {
                        maxYAxisLabelWidth = j[0].getBBox().width;
                    }
                });
                if (maxYAxisLabelWidth > 0) {
                    chart._vars.yLabelWidth = Math.ceil(maxYAxisLabelWidth) + 20;
                }
            }
        }
        /************************************************ Legend functions ******************************************************/

    }, {
        key: 'generateLegend',
        value: function generateLegend(legendData, drawFunc) {
            var chart = this,
                svg = chart.svg;

            svg.selectAll('.legend').remove();

            //Returns the legend rectangles that are toggled on/off
            var legendElements = generateLegendElements(chart, legendData, drawFunc);
            if (drawFunc) {
                attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
            }

            if (chart._vars.thresholds !== 'none' && chart._vars.thesholdLegend === true) {
                if (chart.config.type === 'bar' || chart.config.type === 'area' || chart.config.type === 'line') {
                    if (chart.config.container.height > 300 && chart.config.container.width > 300) {
                        generateThresholdLegend(chart);
                    }
                }
            }

            if (!chart._vars.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**generateVerticalLegend
         *
         * creates and draws a vertical legend on the svg element
         * @params svg, legendData, options, container, chartData, xAxisData, yAxisData, chartType
         * @returns {{}}
         */

    }, {
        key: 'generateVerticalLegend',
        value: function generateVerticalLegend(paintFunc) {
            var chart = this,
                svg = chart.svg,
                legendData = chart.currentData.legendData;

            svg.selectAll('.legend').remove();

            //Returns the legend rectangles that are toggled on/off
            var legendElements = generateVerticalLegendElements(chart, legendData, paintFunc);
            if (paintFunc !== 'generatePack') {
                attachClickEventsToLegend(chart, legendElements, paintFunc, legendData);
            }

            if (!chart._vars.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**
         *
         * Generates a clip path that contains the contents of the chart area to the view of the chart area container
         * i.e - don't want bars going below the x axis
         */

    }, {
        key: 'generateClipPath',
        value: function generateClipPath() {
            var chart = this,
                svg = chart.svg,
                type = chart.config.type;

            svg.append('clipPath').attr('id', 'clip').append('rect').attr('x', 0).attr('y', 0).attr('width', chart.config.container.width).attr('height', chart.config.container.height);

            //Break this out into logic for all other vizzes that have overflow issues
            var containerName = '.' + type + '-container';
            svg.select(containerName).attr('clip-path', 'url(#clip)');
        }
    }, {
        key: 'setThreshold',
        value: function setThreshold(data) {
            var chart = this,
                thresholds = chart._vars.thresholds,
                length = thresholds ? Object.keys(thresholds).length : 0;

            if (thresholds !== 'none') {
                for (var i = length - 1; i > -1; i--) {
                    var threshold = thresholds[i];
                    //console.log(typeof data == "date");
                    if (data >= Number(threshold.threshold)) {
                        return 'rect-' + i;
                    }
                }
            }
        }
    }, {
        key: 'generateLineThreshold',
        value: function generateLineThreshold() {
            var chart = this,
                svg = chart.svg,
                width = chart.config.container.width,
                height = chart.config.container.height,
                thresholds = chart._vars.thresholds,
                length = Object.keys(chart._vars.thresholds).length;

            var x = chart.currentData.xAxisScale;
            var y = chart.currentData.yAxisScale;

            if (thresholds !== 'none') {
                for (var i = 0; i < length; i++) {
                    var threshold = thresholds[i];
                    if (chart._vars.rotateAxis) {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                    } else {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                    }
                }
            }
        }
    }, {
        key: 'colorBackground',
        value: function colorBackground(color) {
            var chart = this;
            var chartDiv = chart.chartDiv;
            chart._vars.backgroundColor = color;
            chartDiv.style('background-color', '' + color);
        }

        /**displayValues
         *
         * toggles data values that are displayed on the specific type of chart on the svg
         * @params svg, barData, options, xAxisData, yAxisData, container
         * @returns {{}}
         */

    }, {
        key: 'displayValues',
        value: function displayValues() {
            //TODO receive data similar to generateBar
            var chart = this,
                svg = chart.svg,
                container = chart.config.container,
                barData = chart.data.chartData,
                xAxisData = chart.currentData.xAxisData,
                yAxisData = chart.currentData.yAxisData,
                legendOptions = chart._vars.legendOptions;

            //If series is flipped, use flipped data; initialize with the full data set
            if (chart._vars.seriesFlipped) {
                barData = chart.flippedData.chartData;
                legendOptions = chart._vars.flippedLegendOptions;
            }

            if (chart._vars.displayValues === true) {
                svg.selectAll('.displayValueContainer').remove();

                var data = []; //Only stores values for bars
                var barDataNew = JSON.parse(JSON.stringify(barData)); //Copy of barData

                if (legendOptions) {
                    //Checking which legend elements are toggled on resize
                    for (var j = 0; j < barDataNew.length; j++) {
                        for (var i = 0; i < legendOptions.length; i++) {
                            if (legendOptions[i].toggle === false) {
                                delete barDataNew[j][legendOptions[i].element];
                            }
                        }
                    }
                }

                for (var i = 0; i < barDataNew.length; i++) {
                    //barDataNew used
                    var val = values(barDataNew[i], chart.currentData.dataTable, chart.config.type);
                    data.push(val.slice(0, barDataNew[i].length));
                }

                var posCalc = getPosCalculations(barDataNew, chart._vars, xAxisData, yAxisData, container, chart);

                var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
                var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

                //var format = getFormatExpression("displayValues");

                if (chart._vars.rotateAxis) {
                    //Add a container for display values over each bar group
                    var displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = y.paddingOuter() * y.step() + y.step() * i;
                        return 'translate(0,' + translate + ')';
                    });

                    displayValuesGroup.selectAll('text').data(function (d) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return posCalc.width(d, i, j) + posCalc.x(d, i, j);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return posCalc.y(d, i, j) + posCalc.height(d, i, j) / 2;
                    }).attr('dy', '.35em').attr('text-anchor', 'start').attr('fill', chart._vars.fontColor).text(function (d) {
                        var returnText = Math.round(d * 100) / 100; //round to 2 decimals
                        return jvFormatValue(returnText);
                    }).attr('font-size', chart._vars.fontSize);
                } else {
                    //Add a display values container over each bar group
                    var displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = x.paddingOuter() * x.step() + x.step() * i;
                        return 'translate(' + translate + ',0)';
                    });
                    var stackTotals = [];
                    displayValuesGroup.selectAll('text').data(function (d, i, j) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return Math.round(posCalc.x(d, i, j) + posCalc.width(d, i, j) / 2);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return Math.round(posCalc.y(d, i, j)) - 3; //+ posCalc.height(d, i, j) - 5);
                    }).attr('text-anchor', 'middle').attr('fill', chart._vars.fontColor).text(function (d, i, j) {
                        if (chart._vars.stackToggle && chart._vars.displayValuesStackAsPercent) {
                            var total = 0;
                            for (var index = 0; index < j.length; index++) {
                                total += j[index].__data__;
                            }
                            if (chart._vars.displayValuesStackTotal && i === 0) {
                                //only enter this one time per stack
                                stackTotals.push(total);
                            }
                            return jvFormatValue(d / total, 'percent');
                        }

                        return jvFormatValue(d);
                    }).attr('font-size', chart._vars.fontSize);

                    if (chart._vars.stackToggle && chart._vars.displayValuesStackTotal) {
                        var stackCounter = 0;
                        svg.append('g').attr('class', 'displayStackTotal').selectAll('g').data(data).enter().append('g').attr('transform', function (d, i) {
                            var translate = x.paddingOuter() * x.step() + x.step() * i;
                            return 'translate(' + translate + ',0)';
                        }).selectAll('text').data(function (d, i, j) {
                            return d;
                        }).enter().append('text').attr('x', function (d, i, j) {
                            //sets the x position of the bar)
                            return Math.round(posCalc.x(d, i, j) + posCalc.width(d, i, j) / 2);
                        }).attr('y', function (d, i, j) {
                            //sets the y position of the bar
                            console.log(i);
                            return Math.round(posCalc.y(d, i, j)) - 18; //+ posCalc.height(d, i, j) - 5);
                        }).attr('text-anchor', 'middle').attr('fill', chart._vars.fontColor).text(function (d, i, j) {
                            var yLength = chart.currentData.yAxisData.values.length;
                            var xLength = chart.currentData.xAxisData.values.length;
                            var indexMax = yLength / xLength;
                            var stack = 0;
                            if (i + 1 === indexMax) {
                                for (var j = 0; j < indexMax; j++) {
                                    stack += chart.currentData.yAxisData.values[indexMax * stackCounter + j];
                                }
                                stackCounter++;
                                return jvFormatValue(stack);
                            }
                            return '';
                        }).attr('font-size', chart._vars.fontSize);
                    }
                }
            } else {
                svg.selectAll('.displayValueContainer').remove();
            }
        }
    }, {
        key: 'drawGridlines',
        value: function drawGridlines(axisData) {
            var chart = this;

            chart.svg.selectAll('g.gridLines').remove();
            chart.svg.append('g').attr('class', 'gridLines');
            var scaleData;

            //Determine if gridlines are horizontal or vertical based on rotateAxis
            if (chart._vars.rotateAxis === true || chart.config.type === 'gantt' || chart.config.type === 'singleaxis') {
                var gridLineHeight = chart.config.container.height;
                var xAxisScale = jvCharts.getAxisScale('x', axisData, chart.config.container, chart._vars);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = xAxisScale.ticks(10);
                }
                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', function (d, i) {
                    if (i > 0) {
                        return xAxisScale(d);
                    }
                    return 0;
                }).attr('x2', function (d, i) {
                    if (i > 0) {
                        return xAxisScale(d);
                    }
                    return 0;
                }).attr('y1', 0).attr('y2', function (d, i) {
                    if (i > 0) {
                        return gridLineHeight;
                    }
                    return 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.gridLineStrokeWidth);
            } else {
                var gridLineWidth = chart.config.container.width;
                var yAxisScale = jvCharts.getAxisScale('y', axisData, chart.config.container, chart._vars);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = yAxisScale.ticks(10);
                }
                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', 0).attr('x2', function (d, i) {
                    if (i > 0) {
                        return gridLineWidth;
                    }
                    return 0;
                }).attr('y1', function (d, i) {
                    if (i > 0) {
                        return yAxisScale(d);
                    }
                    return 0;
                }).attr('y2', function (d, i) {
                    if (i > 0) {
                        return yAxisScale(d);
                    }
                    return 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.gridLineStrokeWidth);
            }
        }

        /**getBarDataFromOptions
        * ^^ not just a bar function, line and area also use it
        *
        * Assigns the correct chart data to current data using the chart.options
        */

    }, {
        key: 'getBarDataFromOptions',
        value: function getBarDataFromOptions() {
            var chart = this;
            //creating these two data variables to avoid having to reference the chart obejct everytime
            var flipped = chart.flippedData;
            var data = chart.data;

            var dataObj = {};
            if (chart._vars.seriesFlipped) {
                dataObj.chartData = flipped.chartData;
                dataObj.legendData = flipped.legendData;
                dataObj.dataTable = flipped.dataTable;
                chart._vars.color = flipped.color;
                if (chart._vars.rotateAxis === true) {
                    dataObj.xAxisData = flipped.yAxisData;
                    dataObj.yAxisData = flipped.xAxisData;
                } else {
                    dataObj.xAxisData = flipped.xAxisData;
                    dataObj.yAxisData = flipped.yAxisData;
                }
            } else {
                dataObj.chartData = data.chartData;
                dataObj.legendData = data.legendData;
                dataObj.dataTable = data.dataTable;
                chart._vars.color = data.color;
                if (chart._vars.rotateAxis === true) {
                    dataObj.xAxisData = data.yAxisData;
                    dataObj.yAxisData = data.xAxisData;
                } else {
                    dataObj.xAxisData = data.xAxisData;
                    dataObj.yAxisData = data.yAxisData;
                }
            }

            return dataObj;
        }

        /************************************************ Utility functions ******************************************************/

        /**highlightItems
         *
         * highlights items on the svg element
         * @params items, svg
         * @returns {{}}
         */

    }, {
        key: 'highlightItem',
        value: function highlightItem(items, tag, highlightIndex, highlightUri) {
            var chart = this,
                svg = chart.svg;

            //TODO remove if statements
            if (highlightIndex >= 0) {
                if (chart.config.type === 'pie') {
                    //set all circles stroke width to 0
                    svg.select('.pie-container').selectAll(tag).attr('stroke', chart._vars.pieBorder).attr('stroke-width', 1);
                    //highlight necessary pie slices
                    svg.select('.pie-container').selectAll(tag).filter('.highlight-class-' + highlightIndex).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
                if (chart.config.type === 'scatterplot') {
                    //set all circles stroke width to 0
                    svg.select('.scatter-container').selectAll(tag).attr('stroke-width', 0);
                    //highlight necessary scatter dots
                    svg.select('.scatter-container').selectAll(tag).filter('.scatter-circle-' + highlightIndex).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
            } else if (highlightUri) {
                if (chart.config.type === 'bar') {
                    //set all bars stroke width to 0
                    svg.select('.bar-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary bars
                    svg.select('.bar-container').selectAll('.highlight-class-' + highlightUri).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
                if (chart.config.type === 'line' || chart.config.type === 'area') {
                    //set all circles stroke width to 0
                    svg.select('.line-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary cirlces
                    svg.select('.line-container').selectAll(tag).filter('.highlight-class-' + highlightUri).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
            } else {
                console.log('need to pass highlight index to highlight item');
            }
        }

        /**
        *@desc Removes highlights that were applied with related insights
        *
        */

    }, {
        key: 'removeHighlight',
        value: function removeHighlight() {
            var chart = this;
            var svg = chart.svg;
            if (chart.config.type === 'pie') {
                //set all circles stroke width to 0
                svg.select('.pie-container').selectAll('path').attr('stroke', chart._vars.pieBorder).attr('stroke-width', 0);
            }
            if (chart.config.type === 'scatterplot') {
                svg.select('.scatter-container').selectAll('circle').attr('stroke-width', 0);
            }
            if (chart.config.type === 'bar') {
                svg.select('.bar-container').selectAll('rect').attr('stroke', 0).attr('stroke-width', 0);
            }
            if (chart.config.type === 'line' || chart.config.type === 'area') {
                svg.select('.line-container').selectAll('circle').attr('stroke', 0).attr('stroke-width', 0);
            }
        }
    }]);

    return jvCharts;
}();

function jvFormatValue(val, formatType) {
    if (!isNaN(val)) {
        var formatNumber = d3.format('.0f');

        if (formatType === 'billions') {
            return formatNumber(val / 1e9) + 'B';
        } else if (formatType === 'millions') {
            return formatNumber(val / 1e6) + 'M';
        } else if (formatType === 'thousands') {
            return formatNumber(val / 1e3) + 'K';
        } else if (formatType === 'decimals') {
            formatNumber = d3.format('.2f');
            return formatNumber(val);
        } else if (formatType === 'nodecimals') {
            return formatNumber(val);
        } else if (formatType === 'percent') {
            var p = Math.max(0, d3.precisionFixed(0.05) - 2);
            var expression = d3.format('.' + p + '%');
            return expression(val);
        } else if (formatType === '') {
            return val;
        }

        if (val === 0) {
            return 0;
        }

        if (Math.abs(val) >= 1000000000) {
            //Billions
            return formatNumber(val / 1e9) + 'B';
        } else if (Math.abs(val) >= 1000000) {
            //Millions
            return formatNumber(val / 1e6) + 'M';
        } else if (Math.abs(val) >= 1000) {
            //Thousands
            return formatNumber(val / 1e3) + 'K';
        } else if (Math.abs(val) <= 10) {
            //2 decimals
            formatNumber = d3.format('.2f');
        }
        return formatNumber(val);
    }
    return val;
}

/**
 * @param the set of values that you want to format uniformly
 * @return '' the level of formatting for the group of data
 * Problem with jvFormatValue function is that if you pass in values 10, 20... 90, 100, 1120, 120
 * you will get the formats 10.00, 20.00 .... 100, 110, 120 when you want 10, 20, ... 100, 110
 * --Format the value based off of the highest number in the group
 */
function jvFormatValueType(values, dataType) {
    if (values != null && dataType !== 'STRING') {
        var max = Math.max.apply(null, values);
        //After getting the max, check the min
        var min = Math.min.apply(null, values);
        var range = max - min;
        var incrememnt = Math.abs(Math.round(range / 10)); //10 being the number of axis labels to show

        if (Math.abs(incrememnt) >= 1000000000) {
            return 'billions';
        } else if (Math.abs(incrememnt) >= 1000000) {
            return 'millions';
        } else if (Math.abs(incrememnt) >= 1000) {
            return 'thousands';
        } else if (Math.abs(incrememnt) <= 10) {
            return 'decimals';
        } else if (Math.abs(incrememnt) >= 10) {
            return 'nodecimals';
        }
    }
    return '';
}

/**getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '',
        p;
    if (option === 'currency') {
        expression = d3.format('$,');
    }
    if (option === 'fixedCurrency') {
        expression = d3.format('($.2f');
    }
    if (option === 'percent') {
        p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format('.' + p + '%');
    }
    if (option === 'millions') {
        p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix('.' + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(',.0f');
    }
    if (option === 'none' || option === '') {
        expression = d3.format('');
    }
    if (option === 'displayValues') {
        expression = d3.format(',.2f');
    }

    return expression;
}

/**getToggledData
 *
 * Gets the headers of the data to be drawn and filters the data based on that
 * @params chartData, dataHeaders
 */
function getToggledData(chartData, dataHeaders) {
    var legendElementToggleArray = getLegendElementToggleArray(dataHeaders, chartData.legendData);
    var data = JSON.parse(JSON.stringify(chartData.chartData));
    if (legendElementToggleArray) {
        for (var j = 0; j < data.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].toggle === false) {
                    delete data[j][legendElementToggleArray[i].element];
                }
            }
        }
    }
    return data;
}

/**getLegendElementToggleArray
 *
 * Gets an array of legend elements with true/false tags for if toggled
 * @params selectedHeaders, allHeaders
 */
function getLegendElementToggleArray(selectedHeaders, allHeaders) {
    var legendElementToggleArray = [];
    for (var i = 0; i < allHeaders.length; i++) {
        legendElementToggleArray.push({ element: allHeaders[i] });
    }

    for (var i = 0; i < legendElementToggleArray.length; i++) {
        for (var j = 0; j < selectedHeaders.length; j++) {
            if (legendElementToggleArray[i].element === selectedHeaders[j]) {
                legendElementToggleArray[i].toggle = true;
                continue;
            }
        }
        if (legendElementToggleArray[i].toggle !== true) {
            legendElementToggleArray[i].toggle = false;
        }
    }
    return legendElementToggleArray;
}

/**generateLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        legend,
        legendRow = 0,
        legendColumn = 0,
        legendDataLength = legendData.length;

    if (!chart._vars.legendIndex) {
        chart._vars.legendIndex = 0;
    }

    if (!chart._vars.legendIndexMax) {
        chart._vars.legendIndexMax = Math.floor(legendDataLength / chart._vars.legendMax - 0.01);
    }

    //if legend headers don't exist, set them equal to legend data
    if (!chart._vars.legendHeaders && !chart._vars.seriesFlipped) {
        chart._vars.legendHeaders = JSON.parse(JSON.stringify(legendData));
    } else if (!chart._vars.flippedLegendHeaders && chart._vars.seriesFlipped) {
        chart._vars.flippedLegendHeaders = JSON.parse(JSON.stringify(legendData));
    }
    //Set legend element toggle array based on if series is flipped
    if (!chart._vars.seriesFlipped) {
        var legendElementToggleArray = getLegendElementToggleArray(chart._vars.legendHeaders, legendData);
    } else {
        var flippedLegendElementToggleArray = getLegendElementToggleArray(chart._vars.flippedLegendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend');

    //Adding colored rectangles to the legend
    var legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos;
    }).attr('y', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % chart._vars.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1) - 5; //Increment row when column limit is reached
    }).attr('width', chart._vars.gridSize).attr('height', chart._vars.gridSize).attr('fill', function (d, i) {
        return getColors(chart._vars.color, i, legendData[i]);
    }).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', function (d, i) {
        if (!legendElementToggleArray && !chart._vars.seriesFlipped || chart._vars.seriesFlipped && !flippedLegendElementToggleArray) {
            return '1';
        }
        if (!chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true || chart._vars.seriesFlipped && flippedLegendElementToggleArray[i].toggle === true) {
            return '1';
        }
        return '0.2';
    });

    legendRow = 0;
    legendColumn = 0;

    //Adding text labels for each rectangle in legend
    var legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos + 17;
    }).attr('y', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % chart._vars.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1); //Increment row when column limit is reached
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', chart._vars.fontColor).attr('font-size', chart._vars.fontSize).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (chart.config.type === 'gantt') {
            elementName = legendData[i].slice(0, -5); //Removing last 5 characters of legend label---i.e plannedSTART -> planned
        }
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (chart._vars.legendIndexMax > 0) {
        createCarousel(chart, legendData, drawFunc);
    }
    //Centers the legend in the panel
    if (legend) {
        var legendWidth = legend.node().getBBox().width;
        legend.attr('transform', 'translate(' + (container.width - legendWidth) / 2 + ', 30)');
    }

    return legendRectangles;
}

/**updateDataFromLegend
 *
 * Returns a list of data headers that should be displayed in viz
 * based off what is toggled on/off in legend
 * @params legendData
 */
function updateDataFromLegend(legendData) {
    var data = [];
    var legendElement = legendData[0];
    for (var i = 0; i < legendElement.length; i++) {
        if (legendElement[i].attributes.opacity.value !== '0.2') {
            //If not white, add it to the updated data array
            data.push(legendElement[i].__data__);
        }
    }
    return data;
}

/**createCarousel
 *
 * Draws the horizontal legend carousel
 * @params chart, legendData, drawFunc
 */
function createCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        legendPolygon;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(0,0)').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (chart._vars.legendIndex >= 1) {
            chart._vars.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 12.5).style('text-anchor', 'start').style('font-size', chart._vars.fontSize).text(function () {
        return chart._vars.legendIndex + ' / ' + chart._vars.legendIndexMax;
    }).attr({
        display: function display() {
            if (chart._vars.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(85,0)').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (chart._vars.legendIndex < chart._vars.legendIndexMax) {
            chart._vars.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === chart._vars.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });

    //Centers the legend polygons in the panel
    if (legendPolygon) {
        var legendPolygonWidth = legendPolygon.node().getBBox().width;
        legendPolygon.attr('transform', 'translate(' + (container.width - legendPolygonWidth) / 2 + ',' + (container.height + 105) + ')');
    }
}

/**getPlotData
 *
 * Returns only data values to be plotted; input is the data object
 * @params objectData, chart
 */
function getPlotData(objectData, chart) {
    var data = [];
    var objDataNew = JSON.parse(JSON.stringify(objectData)); //Copy of barData
    for (var i = 0; i < objDataNew.length; i++) {
        var group = [];
        for (var j = 0; j < chart.currentData.legendData.length; j++) {
            if (typeof objDataNew[i][chart.currentData.legendData[j]] !== 'undefined') {
                group.push(objDataNew[i][chart.currentData.legendData[j]]);
            }
        }
        data.push(group);
    }
    return data;
}

/**getPosCalculations
 *Holds the logic for positioning all bars on a bar chart (depends on toolData)
 *
 * @params svg, barData, options, xAxisData, yAxisData, container
 * @returns {{}}
 */
function getPosCalculations(barData, _vars, xAxisData, yAxisData, container, chart) {
    var x = jvCharts.getAxisScale('x', xAxisData, container, _vars),
        y = jvCharts.getAxisScale('y', yAxisData, container, _vars),
        scaleFactor = 1,
        data = [],
        size = 0,
        positionFunctions = {};

    for (var item in chart.currentData.dataTable) {
        if (item !== 'label' && item.indexOf('tooltip') === -1) {
            size++;
        }
    }

    for (var i = 0; i < barData.length; i++) {
        var val = [];
        for (var key in barData[i]) {
            if (barData[i].hasOwnProperty(key)) {
                val.push(barData[i][key]);
            }
        }
        data.push(val.slice(1, barData[i].length));
    }

    if (_vars.rotateAxis === true && _vars.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return 0;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function () {
            return y.bandwidth() * 0.95;
        };
        positionFunctions.x = function (d, i, j) {
            var increment = 0; //Move the x up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return x(increment) === 0 ? 1 : x(increment);
        };
        positionFunctions.y = function () {
            return 0;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() * 0.95;
        };
    } else if (_vars.rotateAxis === true && _vars.stackToggle === false) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function (d) {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
        positionFunctions.x = function (d) {
            return x(0) - x(d) > 0 ? x(d) : x(0);
        };
        positionFunctions.y = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
    } else if (_vars.rotateAxis === false && _vars.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function () {
            return 0;
        };
        positionFunctions.y = function (d, i, j) {
            var increment = 0; //Move the y up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return y(parseFloat(d) + increment);
        };
        positionFunctions.width = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.height = function (d) {
            return container.height - y(d);
        };
    } else if (_vars.rotateAxis === false && _vars.stackToggle === false) {
        positionFunctions.startx = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.y = function (d) {
            return y(0) - y(d) > 0 ? y(d) : y(0);
        };
        positionFunctions.width = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.height = function (d) {
            return Math.abs(y(0) - y(d));
        };
    }
    return positionFunctions;
}

/**getColors
 *
 * gets the colors to apply to the specific chart
 * @params colorObj, index, label
 * @returns {{}}
 */
function getColors(colorObj, paramIndex, label) {
    var index = paramIndex;

    //logic to return the color if the colorObj passed in
    //is an object with the label being the key
    if (typeof label !== 'undefined' && colorObj.hasOwnProperty(label) && colorObj[label]) {
        return colorObj[label];
    }

    var cleanedColors = [];

    if (!Array.isArray(colorObj)) {
        cleanedColors = [];
        for (var k in colorObj) {
            if (colorObj.hasOwnProperty(k)) {
                if (colorObj[k]) {
                    cleanedColors.push(colorObj[k]);
                }
            }
        }
    } else {
        cleanedColors = colorObj;
    }

    //logic to return a repeating set of colors assuming that
    //the user changed data (ex: flip series on bar chart)
    if (!cleanedColors[index]) {
        while (index > cleanedColors.length - 1) {
            index = index - cleanedColors.length;
        }
    }
    return cleanedColors[index];
}

function getAxisScale(whichAxis, axisData, container, _vars, paddingType) {
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (paddingType === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }
    var axisScale, axis;

    whichAxis === 'x' ? axis = container.width : axis = container.height;

    if (axisData.dataType === 'DATE') {
        for (var i = 0; i < axisData.values.length; i++) {
            axisData.values[i] = new Date(axisData.values[i]);
        }

        var maxDate = Math.max.apply(null, axisData.values);
        var minDate = Math.min.apply(null, axisData.values);

        axisScale = d3.scaleTime().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, axis]);
    } else if (axisData.dataType === 'STRING') {
        axisScale = d3.scaleBand().domain(axisData.values).range([0, axis]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (axisData.dataType === 'NUMBER') {
        var domain;
        if (_vars.xReversed || _vars.yReversed) {
            if (_vars.xReversed && whichAxis === 'x' || whichAxis === 'y' && !_vars.yReversed) {
                domain = [axisData.max, axisData.min];
            }
            if (_vars.yReversed && whichAxis === 'y' || whichAxis === 'x' && !_vars.xReversed) {
                domain = [axisData.min, axisData.max];
            }
        } else {
            whichAxis === 'x' ? domain = [axisData.min, axisData.max] : domain = [axisData.max, axisData.min];
        }

        if (_vars.hasOwnProperty('axisType') && _vars.axisType === 'Logarithmic') {
            domain[1] = 0.1;
            axisScale = d3.scaleLog().base(10).domain(domain).rangeRound([0, axis]);
        } else {
            axisScale = d3.scaleLinear().domain(domain).rangeRound([0, axis]);
        }
    } else {
        console.error('Axis is not a valid data type');
    }
    return axisScale;
}

/**getXScale
 *
 * get the scale for the x axis
 * @params xAxisData, container, padding
 * @returns {{}}
 */
function getXScale(xAxisData, container, padding) {
    var xAxisScale;
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    //check if values length is greater than two incase the labels are all numbers. if it is a linear scale then there will only be a min and max
    if (xAxisData.dataType === 'DATE') {
        for (var i = 0; i < xAxisData.values.length; i++) {
            xAxisData.values[i] = new Date(xAxisData.values[i]);
        }

        var maxDate = Math.max.apply(null, xAxisData.values);
        var minDate = Math.min.apply(null, xAxisData.values);

        xAxisScale = d3.time.scale().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, container.width]);
    } else if (xAxisData.dataType === 'STRING' || xAxisData.values.length > 2) {
        xAxisScale = d3.scaleBand().domain(xAxisData.values).range([0, container.width]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (xAxisData.dataType === 'NUMBER') {
        var max = xAxisData.values[xAxisData.values.length - 1];
        var min = xAxisData.values[0];

        xAxisScale = d3.scaleBand().domain([min, max]).rangeRound([0, container.width]);
    }
    return xAxisScale;
}

/**getYScale
 *
 * gets the scale for the y axis
 * @params yAxisData, container, padding
 * @returns {{}}
 */
function getYScale(yAxisData, container) {
    var yAxisScale;

    if (yAxisData.dataType === 'STRING') {
        yAxisScale = d3.scaleOrdinal().domain(yAxisData.values).range([0, container.height]);
    } else if (yAxisData.dataType === 'NUMBER') {
        var max = yAxisData.values[yAxisData.values.length - 1];
        var min = yAxisData.values[0];
        yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([0, container.height]);
    }
    return yAxisScale;
}

/************************************************ Data functions ******************************************************/

/**
 * @function
 * @param {string} label - The field that is checked for type
 * @param {Object} dataTableKeys - Object that contains the data type for each column of data
 */
function getDataTypeFromKeys(label, dataTableKeys) {
    var type;

    for (var i = 0; i < dataTableKeys.length; i++) {
        //Replace underscores with spaces
        if (dataTableKeys[i].varKey.replace(/_/g, ' ') === label.replace(/_/g, ' ')) {
            if (dataTableKeys[i].hasOwnProperty('type')) {
                type = dataTableKeys[i].type;
                if (type === 'STRING') {
                    type = 'STRING';
                } else if (type === 'DATE') {
                    type = 'DATE';
                } else if (type === 'NUMBER') {
                    type = 'NUMBER';
                } else {
                    type = 'NUMBER';
                }
                break;
            }
        }
    }
    return type;
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/**setChartColors
 *  cleans incoming colors for consistency
 *
 * @params colorArray, legendData
 * @returns object with colors
 */

function setChartColors(toolData, legendData, defaultColorArray) {
    //function handles 3 color inputs
    //toolData as an array in toolData
    //toolData as an object
    //toolData as 'none'
    //any other case will result in using defaultColorArray

    var colors = {},
        usedColors = [],
        unaccountedLegendElements = [];

    //toolData is array
    if (Array.isArray(toolData)) {
        if (toolData.length > 0) {
            colors = createColorsWithDefault(legendData, toolData);
        } else {
            colors = createColorsWithDefault(legendData, defaultColorArray);
        }
    } else if (toolData === Object(toolData)) {
        for (var i = 0; i < legendData.length; i++) {
            var obj = legendData[i];
            if (toolData.hasOwnProperty(obj)) {
                usedColors.push(toolData[obj]);
            } else {
                unaccountedLegendElements.push(legendData[i]);
            }
        }
        //check if object has desired keys
        if (usedColors.length === legendData.length) {
            colors = toolData;
        } else if (usedColors.length > 0) {
            var toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        } else {
            var toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        }
    } else {
        colors = createColorsWithDefault(legendData, defaultColorArray);
    }

    return colors;
}

function createColorsWithDefault(legendData, colors) {
    var mappedColors = {},
        count = 0;
    for (var i = 0; i < legendData.length; i++) {
        if (count > colors.length - 1) {
            count = 0;
        }
        mappedColors[legendData[i]] = colors[count];
        count++;
    }
    return mappedColors;
}

/**cleanToolData
 *  cleans incoming toolData for consistency
 *
 * @param toolData
 * @returns object with tooldata
 */
function cleanToolData(options) {
    var data = {};
    if (options) {
        data = options;
    }
    if (!data.hasOwnProperty('rotateAxis')) {
        data.rotateAxis = false;
    }
    if (data.hasOwnProperty('stackToggle')) {
        if (data.stackToggle === 'stack-data' || data.stackToggle === true) {
            data.stackToggle = true;
        } else {
            data.stackToggle = false;
        }
    } else {
        data.stackToggle = false;
    }
    if (data.hasOwnProperty('colors')) {
        data.color = data.colors;
    }
    if (!data.hasOwnProperty('thresholds')) {
        data.thresholds = [];
    }
    return data;
}

function getMaxWidthForAxisData(axis, axisData, _vars, dimensions, margin, chartDiv, type) {
    var maxAxisText = '',
        formatType;
    //Dynamic left margin for charts with y axis
    if (_vars.rotateAxis) {
        //get length of longest text label and make the axis based off that
        var maxString = '',
            height = parseInt(dimensions.height) - margin.top - margin.bottom;

        //check if labels should be shown
        if (height !== 0 && height / axisData.values.length < parseInt(_vars.fontSize)) {
            axisData.hideValues = true;
        } else {
            for (var i = 0; i < axisData.values.length; i++) {
                var currentStr = axisData.values[i].toString();
                if (currentStr.length > maxString.length) {
                    maxString = currentStr;
                }
            }
            maxAxisText = maxString;
        }
    } else if (!!_vars.yLabelFormat || !!_vars.xLabelFormat) {
        var labelFormat = _vars.yLabelFormat;
        if (axis === 'x') {
            labelFormat = _vars.xLabelFormat;
        }

        formatType = jvFormatValueType(axisData.values);
        var expression = getFormatExpression(labelFormat);
        if (expression !== '') {
            maxAxisText = expression(axisData.max);
        } else {
            maxAxisText = jvFormatValue(axisData.max);
        }
    } else {
        formatType = jvFormatValueType(axisData.values);
        if (!axisData.hasOwnProperty('max')) {
            var maxLength = 0;
            for (var i = 0; i < axisData.values.length; i++) {
                if (axisData.values[i].length > maxLength) {
                    maxLength = axisData.values[i].length;
                    maxAxisText = axisData.values[i];
                }
            }
        } else {
            maxAxisText = jvFormatValue(axisData.max, formatType);
        }
    }

    // if (type === 'heatmap') {
    //     //also need to check width of label
    //     if (maxAxisText.length < axisData.label.length + 5) {
    //         //need added space
    //         if (axis === 'x') {
    //             maxAxisText = axisData.label;
    //         } else {
    //             maxAxisText = axisData.label + 'Extra';
    //         }
    //     }
    // }

    //Create dummy svg to place max sized text element on
    var dummySVG = chartDiv.append('svg').attr('class', 'dummy-svg');

    //Create dummy text element
    var axisDummy = dummySVG.append('text').attr('font-size', function () {
        if (axis === 'y' && _vars.yLabelFontSize !== 'none') {
            return _vars.yLabelFontSize;
        }
        if (axis === 'x' && _vars.xLabelFontSize !== 'none') {
            return _vars.xLabelFontSize;
        }
        return _vars.fontSize;
    }).attr('x', 0).attr('y', 0).text(maxAxisText);

    //Calculate the width of the dummy text
    var width = axisDummy.node().getBBox().width;
    //Remove the svg and text element
    chartDiv.select('.dummy-svg').remove();
    return width;
}

function values(object, dataTableAlign, type) {
    var valuesArray = [];

    if (type === 'bar' || type === 'pie' || type === 'line' || type === 'area') {
        //for (var key in object) {
        for (var i = 1; i < _.keys(dataTableAlign).length; i++) {
            if (dataTableAlign.hasOwnProperty('value ' + i)) {
                if (object[dataTableAlign['value ' + i]] != null) {
                    //!= checks for null
                    valuesArray.push(object[dataTableAlign['value ' + i]]);
                }
            }
        }
    } else {
        for (var key in object) {
            if (object.hasOwnProperty(key)) {
                valuesArray.push(object[key]);
            }
        }
    }
    return valuesArray;
}
/**getYScale
 *
 * gets the scale for the y axis
 * @params yAxisData, container, padding
 * @returns {{}}
 */
function getYScale(yAxisData, container, padding, yReversed) {
    var yAxisScale;
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    if (yAxisData.dataType === 'STRING') {
        yAxisScale = d3.scale.ordinal().domain(yAxisData.values).rangePoints([0, container.height]).rangeRoundBands([0, container.height], leftPadding, rightPadding);
    } else if (yAxisData.dataType === 'NUMBER') {
        var max = yAxisData.values[yAxisData.values.length - 1];
        var min = yAxisData.values[0];
        if (yReversed) {
            yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([container.height, 0]);
        } else {
            yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([0, container.height]);
        }
    }
    return yAxisScale;
}
/**getZScale
 *
 * gets the scale for the z axis
 * @params zAxisData, container, padding
 * @returns {{}}
 */
function getZScale(zAxisData, container, _vars) {
    var zAxisScale;

    zAxisScale = d3.scaleLinear().domain([d3.min(zAxisData.values), d3.max(zAxisData.values)]).rangeRound([_vars.NODE_MIN_SIZE, _vars.NODE_MAX_SIZE]).nice();
    return zAxisScale;
}

/**generateEventGroups
 *
 *
 * @params chartContainer, barData, chart
 */
function generateEventGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        dataToPlot = jvCharts.getPlotData(barData, chart),
        eventGroups;

    //Invisible rectangles on screen that represent bar groups. Used to show/hide tool tips on hover
    eventGroups = chartContainer.data(dataToPlot).enter().append('rect').attr('class', 'event-rect').attr('x', function (d, i) {
        //sets the x position of the bar)
        return chart._vars.rotateAxis ? 0 : container.width / barData.length * i;
    }).attr('y', function (d, i) {
        //sets the y position of the bar
        return chart._vars.rotateAxis ? container.height / barData.length * i : 0;
    }).attr('width', function () {
        //sets the x position of the bar)
        return chart._vars.rotateAxis ? container.width : container.width / barData.length;
    }).attr('height', function () {
        //sets the y position of the bar
        return chart._vars.rotateAxis ? container.height / barData.length : container.height;
    }).attr('fill', 'transparent').attr('class', function (d, i) {
        return 'event-rect editable-bar bar-col-' + String(barData[i][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '_dot_');
    });

    return eventGroups;
}

function generateThresholdLegend(chart) {
    var svg = chart.svg;

    var colorLegendData = [];
    if (chart._vars.thresholds !== 'none') {
        for (var j = 0; j < Object.keys(chart._vars.thresholds).length; j++) {
            colorLegendData.push(chart._vars.thresholds[j].thresholdName);
        }
    }

    var gLegend = svg.append('g').attr('class', 'thresholdLegendContainer');

    var legend = gLegend.selectAll('.thresholdLegend').data(colorLegendData).enter().append('g').attr('class', 'thresholdLegend').attr('transform', function (d, i) {
        var height = 19;
        var offset = 19 * colorLegendData.length / 2;
        var horz = -2 * 12;
        var vert = i * height - offset;
        return 'translate(' + horz + ',' + vert + ')';
    });

    legend.append('rect').attr('width', 12).attr('height', 12).style('fill', function (d, i) {
        return chart._vars.thresholds[i].thresholdColor;
    });

    legend.append('text').attr('x', 24).attr('y', 8).attr('font-size', '.75em').text(function (d) {
        return d;
    });

    //Centers the legend in the panel
    if (gLegend) {
        var legendWidth = gLegend.node().getBBox().width;
        gLegend.attr('transform', 'translate(' + (chart.config.container.width - legendWidth) + ',' + 10 * colorLegendData.length + ')');
    }
}

function attachClickEventsToLegend(chart, legendElements, drawFunc) {
    //Adding the click event to legend rectangles for toggling on/off

    legendElements.on('click', function () {
        var selectedRect = d3.select(this);
        if (selectedRect._groups[0][0].attributes.opacity.value !== '0.2') {
            selectedRect.attr('opacity', '0.2');
        } else {
            selectedRect.attr('opacity', '1');
        }

        //Gets the headers of the data to be drawn
        var dataHeaders = updateDataFromLegend(legendElements._groups);

        //Sets the legendData to the updated headers
        if (chart._vars.seriesFlipped) {
            chart._vars.flippedLegendHeaders = dataHeaders;
        } else {
            chart._vars.legendHeaders = dataHeaders;
        }

        //Plots the data
        if (chart._vars.seriesFlipped) {
            chart[drawFunc](chart.flippedData);
        } else {
            chart[drawFunc](chart.data);
        }
    });
}

/**generateVerticalLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateVerticalLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        legend,
        legendDataLength = legendData.length,
        legendElementToggleArray;

    chart._vars.gridSize = 20;

    if (!chart._vars.legendIndex) {
        chart._vars.legendIndex = 0;
    }

    if (!chart._vars.legendIndexMax) {
        chart._vars.legendIndexMax = Math.floor(legendDataLength / chart._vars.legendMax - 0.01);
    }

    //Check to see if legend element toggle array needs to be set
    if (chart._vars.legendIndexMax >= 0) {
        if (!chart._vars.legendHeaders) {
            chart._vars.legendHeaders = JSON.parse(JSON.stringify(legendData));
        }

        legendElementToggleArray = getLegendElementToggleArray(chart._vars.legendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend').attr('transform', 'translate(' + 18 + ',' + 20 + ')');

    //Adding colored rectangles to the legend
    var legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', '3').attr('y', function (d, i) {
        return chart._vars.gridSize * (i % chart._vars.legendMax) * 1.1;
    }).attr('width', chart._vars.gridSize).attr('height', chart._vars.gridSize).attr('fill', function (d, i) {
        if (!legendElementToggleArray && !chart._vars.seriesFlipped || chart._vars.seriesFlipped && !legendElementToggleArray) {
            return getColors(chart._vars.color, i, legendData[i]);
        }
        if (!chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true || chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true) {
            return getColors(chart._vars.color, i, legendData[i]);
        }
        return chart._vars.emptyLegendSquare;
    }).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', '1');

    //Adding text labels for each rectangle in legend
    var legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', chart._vars.gridSize + 7).attr('y', function (d, i) {
        return chart._vars.gridSize * (i % chart._vars.legendMax) * 1.1 + 10;
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', chart._vars.fontColor).attr('font-size', chart._vars.fontSize).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (chart._vars.legendIndexMax > 0) {
        createVerticalCarousel(chart, legendData, drawFunc);
    }

    return legendRectangles;
}

/**createVerticalCarousel
 *
 * Draws the vertical legend carousel
 * @params chart, legendData, drawFunc
 */
function createVerticalCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        legendPolygon;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(0,' + (chart._vars.legendMax * chart._vars.gridSize + 50) + ')').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (chart._vars.legendIndex >= 1) {
            chart._vars.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 242.5).style('text-anchor', 'start').style('font-size', chart._vars.fontSize).text(function () {
        return chart._vars.legendIndex + ' / ' + chart._vars.legendIndexMax;
    }).attr({
        display: function display() {
            if (chart._vars.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(85,' + (chart._vars.legendMax * chart._vars.gridSize + 50) + ')').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (chart._vars.legendIndex < chart._vars.legendIndexMax) {
            chart._vars.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === chart._vars.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });
}

//Bind functions to prototype or jvCharts object
jvCharts.getColors = getColors;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.createColorsWithDefault = createColorsWithDefault;
jvCharts.values = values;
jvCharts.getYScale = getYScale;
jvCharts.getZScale = getZScale;
jvCharts.getLegendElementToggleArray = getLegendElementToggleArray;
jvCharts.generateLegendElements = generateLegendElements;
jvCharts.updateDataFromLegend = updateDataFromLegend;
jvCharts.createCarousel = createCarousel;
jvCharts.generateThresholdLegend = generateThresholdLegend;
jvCharts.attachClickEventsToLegend = attachClickEventsToLegend;
jvCharts.generateVerticalLegendElements = generateVerticalLegendElements;
jvCharts.createVerticalCarousel = createVerticalCarousel;
jvCharts.getToggledData = getToggledData;
jvCharts.getPlotData = getPlotData;
jvCharts.getPosCalculations = getPosCalculations;
jvCharts.getXScale = getXScale;
jvCharts.getYScale = getYScale;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.jvFormatValue = jvFormatValue;
jvCharts.getFormatExpression = getFormatExpression;
jvCharts.generateEventGroups = generateEventGroups;
jvCharts.jvFormatValueType = jvFormatValueType;
jvCharts.getAxisScale = getAxisScale;
jvCharts.setChartColors = setChartColors;
jvCharts.getDataTypeFromKeys = getDataTypeFromKeys;
jvCharts.cleanToolData = cleanToolData;

module.exports = jvCharts;

},{"./jvTip.js":8}],5:[function(require,module,exports){
"use strict";

/***  jvComment ***/
function jvComment(configObj) {
    "use strict";

    var commentObj = this;
    commentObj.chartDiv = configObj.chartDiv;
    commentObj.showComments = false;
    commentObj.comments = configObj.comments ? configObj.comments : {};
    commentObj.disabled = false;
    commentObj.drawCommentNodes();
    commentObj.toggleCommentMode = function (toggleBool) {
        var entireSvg = commentObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.on('dblclick', function (d) {
                commentObj.makeComment(this);
            });
            entireSvg.on('click', false);
        } else {
            commentObj.removeComment();
        }
    };
    commentObj.saveCallbackFunction = configObj.saveCallbackFunction;
    commentObj.getMode = configObj.getMode;
}
/********************************************* All Comment Mode Functions **************************************************/

jvComment.prototype.makeComment = function (event) {
    var commentObj = this;

    commentObj.showComments = false;
    commentObj.chartDiv.selectAll(".commentbox-readonly").remove();

    if (commentObj.chartDiv.selectAll(".commentbox")._groups[0].length === 0 && commentObj.chartDiv.selectAll(".commentbox-edit")._groups[0].length === 0) {
        var x = parseInt(d3.mouse(event)[0]);
        var y = parseInt(d3.mouse(event)[1]);

        //calculate position of overlay div
        var commentHeight = 145,
            commentWidth = 200,
            position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

        commentObj.chartDiv.append('div').attr("class", "commentbox").attr("id", "commentbox").style("opacity", 1).html("<div class='title'><b>Add New Comment</b></div>" + "<textarea placeholder='Enter comment...' form='commentform' style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment' id = 'textarea1'></textarea>" + "<br><button class='commentbox-close' id ='cancel'><i class='fa fa-close'></i></button>" + "<button class='smss-btn commentbox-submit' id = 'submit'>Submit Comment</button>").style("position", "absolute").style("left", position.x + "px").style("top", position.y + "px");

        //Autofocus on the text area
        document.getElementById("textarea1").focus();

        commentObj.chartDiv.selectAll(".commentbox").select("#cancel").on("click.delete", function () {
            commentObj.removeComment();
        });

        var commentType = 'svgMain';

        commentObj.chartDiv.selectAll(".commentbox").select("#submit").on("click.save", function () {
            var commentText = commentObj.chartDiv.select("#commentbox").select("#textarea1")._groups[0][0].value,
                newCommentObj = {
                'commentText': commentText,
                'groupID': 0,
                'type': commentType,
                'binding': {
                    'x': x,
                    'y': y,
                    'xChartArea': commentObj.chartDiv._groups[0][0].clientWidth,
                    'yChartArea': commentObj.chartDiv._groups[0][0].clientHeight,
                    'currentX': x,
                    'currentY': y
                }
            };
            commentObj.chartDiv.select(".commentbox").remove();
            if (isNaN(commentObj.comments.maxId)) {
                commentObj.comments.maxId = -1;
            }
            commentObj.saveCallbackFunction(newCommentObj, ++commentObj.comments.maxId, 'add');
        });
    }
};

jvComment.prototype.removeComment = function () {
    var commentObj = this;
    var chartDiv = commentObj.chartDiv;
    chartDiv.selectAll('.commentbox').remove();
};

jvComment.prototype.showAllComments = function () {
    var commentObj = this;

    //Remove any comment boxes if comments are being toggled
    commentObj.chartDiv.selectAll(".commentbox").remove();
    commentObj.chartDiv.selectAll(".commentbox-edit").remove();

    if (commentObj.showComments === false) {
        for (var i in commentObj.comments.list) {

            if (!commentObj.comments.list[i]['binding']) {
                console.log("Comment is in old format, will not display");
                return;
            }

            var value = commentObj.comments.list[i];

            var chartAreaWidth = commentObj.chartDiv._groups[0][0].clientWidth;
            var chartAreaHeight = commentObj.chartDiv._groups[0][0].clientHeight;

            var x = commentObj.comments.list[i]['binding'].x / commentObj.comments.list[i]['binding'].xChartArea * chartAreaWidth;
            var y = commentObj.comments.list[i]['binding'].y / commentObj.comments.list[i]['binding'].yChartArea * chartAreaHeight;

            var commentText = value['commentText'];

            var commentHeight = 80,
                commentWidth = 185,
                position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

            commentObj.chartDiv.append('div').attr("class", "commentbox-readonly").attr("id", "commentbox-readonly" + i).style("position", "absolute").style("opacity", 1)
            //.style("border", "1px solid black")
            .html("<textarea readonly style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment'>" + commentText + "</textarea>").style("left", position.x + "px").style("top", position.y + "px");
        }
        commentObj.showComments = true;
        //chart.toolBar.select("#topBarButton"+chart.config.name+"showallcomments").select('button').classed('toggled', true);
    } else {
        commentObj.chartDiv.selectAll(".commentbox-readonly").remove();
        commentObj.showComments = false;
        //chart.toolBar.select("#topBarButton"+chart.config.name+"showallcomments").select('button').classed('toggled', false);
    }
};

jvComment.prototype.drawCommentNodes = function () {
    var commentObj = this;

    var comments = commentObj.comments.list;
    var chartDiv = commentObj.chartDiv;
    var svg = chartDiv.select("svg");

    svg.selectAll(".min-comment").remove();

    for (var i in comments) {

        if (typeof chartDiv._groups == 'undefined') {
            console.log("Comment data is in old format, will not display or chart div doesnt exist");
            return;
        }

        if (!comments[i]['binding'] || !chartDiv._groups[0][0]) {
            console.log("Comment data is in old format, will not display or chart div doesnt exist");
            return;
        }

        var chartAreaWidth = chartDiv._groups[0][0].clientWidth;
        var chartAreaHeight = chartDiv._groups[0][0].clientHeight;

        var x = comments[i]['binding'].x / comments[i]['binding'].xChartArea * chartAreaWidth;
        var y = comments[i]['binding'].y / comments[i]['binding'].yChartArea * chartAreaHeight;

        comments[i]['binding'].currentX = comments[i]['binding'].x / comments[i]['binding'].xChartArea * chartAreaWidth;
        comments[i]['binding'].currentY = comments[i]['binding'].y / comments[i]['binding'].yChartArea * chartAreaHeight;

        var commentNode = svg.append("text").attr("class", "min-comment").attr("id", "node" + i).attr("fill", "#e6e6e6").attr("x", x).attr("y", y).attr("font-family", "FontAwesome").attr("stroke", "darkgray").attr('font-size', function (d) {
            return '15px';
        }).text(function (d) {
            return "\uF0E5";
        }).attr("opacity", 1).on("dblclick.comment", function (node) {
            //Edit text or delete the comment
            if (chartDiv.selectAll(".commentbox-edit")._groups[0].length === 0 && chartDiv.selectAll(".commentbox")._groups[0].length === 0) {
                //No comments are open
                if (commentObj.getMode() === 'comment-mode') {
                    commentObj.showComments = false;
                    chartDiv.selectAll(".commentbox-readonly").remove();
                    var commentText = "";
                    var currentComment;

                    for (var j in commentObj.comments.list) {
                        if (Math.round(commentObj.comments.list[j]['binding'].currentX) === Math.round(this.x.baseVal[0].value)) {
                            if (Math.round(commentObj.comments.list[j]['binding'].currentY) === Math.round(this.y.baseVal[0].value)) {
                                commentText = commentObj.comments.list[j].commentText;
                                x = commentObj.comments.list[j]['binding'].currentX;
                                y = commentObj.comments.list[j]['binding'].currentY;
                                currentComment = j;
                            }
                        }
                    }
                    var commentHeight = 145,
                        commentWidth = 200,
                        position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);
                    chartDiv.append('div').attr("class", "commentbox-edit").style("opacity", 1).style("left", position.x + "px").style("top", position.y + "px").style("position", "absolute")
                    //.style("border", "1px solid black")
                    .html("<div class='title'><b>Edit Comment</b></div>" + "<textarea id='edit' style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment'>" + commentText + "</textarea>" + "<br><button class='commentbox-close' id ='cancel-edit'><i class='fa fa-close'></i></button>" + "<button class='smss-btn' id ='delete'>Delete</button>" + "<button class='smss-btn' id = 'save'>Save</button>");

                    chartDiv.selectAll(".commentbox-edit").select("#delete").on("click.delete", function () {
                        chartDiv.select(".commentbox-edit").remove();
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select("#node" + currentComment).attr("display", "none");

                        //redraw comment nodes with new indexes
                        commentObj.saveCallbackFunction(commentObj.comments.list[currentComment], currentComment, 'remove');
                    });

                    chartDiv.selectAll(".commentbox-edit").select("#save").on("click.save", function () {
                        var commentText = chartDiv.select(".commentbox-edit").select("#edit")._groups[0][0].value;
                        commentObj.comments.list[currentComment].commentText = commentText;
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select(".commentbox-edit").remove();
                        commentObj.saveCallbackFunction(commentObj.comments.list[currentComment], currentComment, 'edit');
                    });

                    chartDiv.selectAll(".commentbox-edit").select("#cancel-edit").on("click.cancel-edit", function () {
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select(".commentbox-edit").remove();
                    });
                } else {
                    return null;
                }
            }
        }).on("mouseenter.comment", function (d) {
            //Show hover over box when mouse enters node
            if (commentObj.showComments === false) {
                var commentText = "";

                for (var j in commentObj.comments.list) {
                    if (Math.round(commentObj.comments.list[j]['binding'].currentX) === Math.round(this.x.baseVal[0].value)) {
                        if (Math.round(commentObj.comments.list[j]['binding'].currentY) === Math.round(this.y.baseVal[0].value)) {
                            commentText = commentObj.comments.list[j]['commentText'];
                            x = commentObj.comments.list[j]['binding'].currentX;
                            y = commentObj.comments.list[j]['binding'].currentY;
                        }
                    }
                }

                var commentHeight = 80,
                    commentWidth = 185,
                    position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

                var commentDiv = chartDiv.append('div').attr("class", "commentbox-readonly").style("opacity", 1).style("position", "absolute")
                //.style("border", "1px solid black")
                .html("<textarea readonly rows='4' style='resize:none' cols='27' class='textarea' name='comment'>" + commentText + "</textarea>").style("left", position.x + "px").style("top", position.y + "px");
            }
        }).on("mouseout.comment", function (d) {
            //Remove hover over box when mouse moves away
            if (commentObj.showComments === false) {
                chartDiv.select(".commentbox-readonly").remove();
            }
        });
    }
};

/******************************* Utility functions **********************************************/

jvComment.prototype.overlayDivPosition = function (divWidth, divHeight, mouseX, mouseY) {
    var commentObj = this;
    var position = {};
    if (mouseX > parseInt(commentObj.chartDiv.style('width')) / 2) {
        position.x = mouseX - divWidth - 5;
    } else {
        position.x = mouseX + 10;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    } else {
        position.y = mouseY + 10;
    }
    return position;
};

module.exports = jvComment;

},{}],6:[function(require,module,exports){
'use strict';

var editTemplate = require('./editOptionsTemplate.js');

/***  jvEdit ***/
function jvEdit(configObj) {
    "use strict";

    var editObj = this;
    editObj.chartDiv = configObj.chartDiv;
    editObj.editOptions = '';
    editObj.vizOptions = configObj.vizOptions ? configObj.vizOptions : {};
    editObj.fontSizeIncrement = 0;
    editObj.disabled = false;
    editObj.chartDiv.selectAll('.edit-div').remove();
    editObj.editDiv = editObj.chartDiv.append('div').attr('class', 'edit-div semoss-d3-tip absolute');
    editObj.applyAllEdits();
    editObj.saveVizOptions = configObj.saveVizOptionsFunction;
    editObj.toggleEditMode = function (toggleBool) {
        var entireSvg = editObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.selectAll(".event-rect").attr("display", "none");
            entireSvg.on('click', function () {
                //edit mode events
                //going to be mouseover to highlight options for whatever piece you hover over
                var classText = d3.select(d3.event.target).attr('class');
                if (classText) {
                    if (classText.indexOf('editable') >= 0) {
                        editObj.displayEdit(this, classText);
                    }
                }
            });
            entireSvg.selectAll('.editable').classed('pointer', true);
            entireSvg.on('dblclick', false);
        } else {
            editObj.removeEdit();
            entireSvg.selectAll('.editable').classed('pointer', false);
            entireSvg.selectAll(".event-rect").attr("display", "block");
        }
    };
}

/********************************************* All Edit Mode Functions **************************************************/

/** displayEdit
 *
 * Displays the edit div, grabbing it from the template
 *
 */
jvEdit.prototype.displayEdit = function (event, options) {
    var editObj = this;

    //return if you click on the same element twice, no need to display a second edit div if the current one is still open
    if (editObj.editOptions === options) {
        return;
    }
    editObj.editDiv.html('');
    editObj.editOptions = options;
    var mouseX = d3.mouse(event)[0],
        mouseY = d3.mouse(event)[1];

    //assign html to editDiv (basically displays the div)
    editObj.editDiv.html(editTemplate);

    //optionValues - an array of strings.
    //      String is the id to the element in the editDiv form.
    //      This string contains the specific option that is being changed

    //itemToChange
    //      String that is the class of the svg element to be changed on the viz itself


    var optionValues = [],
        itemToChange = '',
        editOptionElement = editObj.editDiv.select("#edit-option-element");

    //if statements to determine which edit options to display
    if (options.indexOf('editable-yAxis') >= 0) {
        editOptionElement.html('&nbsp;for Y Axis');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'yAxis';
    } else if (options.indexOf('editable-xAxis') >= 0) {
        editOptionElement.html('&nbsp;for X Axis');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'xAxis';
    } else if (options.indexOf('yLabel') >= 0) {
        editOptionElement.html('&nbsp;for Y Label');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'yLabel';
    } else if (options.indexOf('xLabel') >= 0) {
        editOptionElement.html('&nbsp;for X Label');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'xLabel';
    } else if (options.indexOf('legendText') >= 0) {
        editOptionElement.html('&nbsp;for Legend Item');
        editOptionElement.style('visibility', 'visible');
        itemToChange = options.substring(options.indexOf('editable-legend-')).split(' ')[0];
    } else if (options.indexOf('editable-bar') >= 0) {
        editOptionElement.html('&nbsp;for Bar Chart');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-bar").style('display', 'block');
        optionValues.push('editable-bar');
        itemToChange = options.substring(options.indexOf('bar-col-')).split(' ')[0];
    } else if (options.indexOf('editable-pie') >= 0) {
        editOptionElement.html('&nbsp;for Pie Slice');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-pie").style('display', 'block');
        optionValues.push('editable-pie');
        itemToChange = options.substring(options.indexOf('pie-slice-')).split(' ')[0];
    } else if (options.indexOf('editable-scatter') >= 0) {
        editOptionElement.html('&nbsp;for Scatter Plot');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-scatter").style('display', 'block');
        optionValues.push('editable-scatter');
        itemToChange = options.substring(options.indexOf('scatter-circle-')).split(' ')[0];
    } else if (options.indexOf('editable-svg') >= 0) {
        editOptionElement.html('&nbsp;for All Text');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-text-size-buttons").style('display', 'block');
        //editObj.editDiv.select(".editable-default-and-apply").style('display', 'none');
        optionValues.push('editable-text-size');
        itemToChange = 'svg';
    } else {
        console.log("Still need to add option to display edit");
    }

    if (options.indexOf('editable-num') >= 0) {
        editObj.editDiv.select(".editable-num-format").style('display', 'block');
        optionValues.push('editable-num-format');
    }
    if (options.indexOf('editable-text') >= 0) {
        editObj.editDiv.select(".editable-text-color").style('display', 'block');
        optionValues.push('editable-text-color');
        editObj.editDiv.select(".editable-text-size").style('display', 'block');
        optionValues.push('editable-text-size');
    }
    if (options.indexOf('editable-content') >= 0) {
        editObj.editDiv.select(".editable-content").style('display', 'block');
        optionValues.push('editable-content');
    }

    //populate edit div with initial values
    if (editObj.vizOptions[itemToChange]) {
        populateSelectionsEditMode(editObj.editDiv, editObj.vizOptions[itemToChange]);
    }
    editObj.editDiv.style('display', 'block').style("left", 0 + 'px').style("top", 0 + 'px');

    //calculate position of overlay div
    var editHeight = parseFloat(editObj.editDiv.style('height')),
        editWidth = parseFloat(editObj.editDiv.style('width')),
        position = editObj.overlayDivPosition(editWidth, editHeight, mouseX, mouseY);

    //show the new edit div
    editObj.editDiv.style("left", position.x + 'px').style("top", position.y + 'px');

    //add submit, default, and exit listeners to the div
    editObj.editDiv.select('#submitEditMode').on("click", function () {
        submitEditMode(editObj, optionValues, itemToChange);
        editObj.removeEdit();
    });
    editObj.editDiv.select('#submitEditModeDefault').on("click", function () {
        submitEditMode(editObj, optionValues, itemToChange, true);
        editObj.removeEdit();
    });
    editObj.editDiv.select('#exitEditMode').on("click", function () {
        editObj.removeEdit();
    });
    editObj.fontSizeIncrement = 0;
    //Adding click events for increase/decrease font size buttons
    editObj.editDiv.select("#increaseFontSize").on("click", function () {
        editObj.increaseFontSize();
    });
    editObj.editDiv.select("#decreaseFontSize").on("click", function () {
        editObj.decreaseFontSize();
    });
};

/** increaseFontSize
 *
 * Increases the font size by 1 when increased via edit options for all text
 *
 */
jvEdit.prototype.increaseFontSize = function () {
    var editObj = this,
        fontIncrement = 1,
        maxSize = 28;
    if (editObj.fontSizeIncrement < maxSize) {
        editObj.changeFontSize(fontIncrement);
        editObj.fontSizeIncrement++;
        editObj.vizOptions["text"] = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
};

/** decreaseFontSize
 *
 * Decreases the font size by 1 when decreased via edit options for all text
 *
 */
jvEdit.prototype.decreaseFontSize = function () {
    var editObj = this,
        fontDecrement = -1,
        minSize = -12;
    //min size is neg 12 because default size is 12px on our charts
    if (editObj.fontSizeIncrement > minSize) {
        editObj.changeFontSize(fontDecrement);
        editObj.fontSizeIncrement--;
        editObj.vizOptions["text"] = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
};

/** changeFontSize
 *
 * Increases or decreases font size by a certain increment
 *
 */
jvEdit.prototype.changeFontSize = function (increment) {
    var editObj = this,
        newSize;

    editObj.chartDiv.selectAll('text').each(function (d, i) {
        var thisDiv = this,
            textSize = 12;
        if (thisDiv.getAttribute('font-size')) {
            textSize = thisDiv.getAttribute('font-size');
        }
        newSize = parseInt(textSize) + increment;
        thisDiv.setAttribute('font-size', newSize);
    });
};

/** populateSelectionsEditMode
 *
 * Initially populates the editDiv if there are vizOptions
 *
 */
function populateSelectionsEditMode(editDiv, vizOptions) {
    for (var option in vizOptions) {
        if (vizOptions.hasOwnProperty(option)) {
            var selectedObject = editDiv.select('#' + option)._groups[0][0];
            //default color inputs to gray
            if (vizOptions[option] === 'default') {
                if (selectedObject.type === 'color') {
                    if (selectedObject.id.indexOf('text') > 0) {
                        selectedObject.value = '#000000';
                    } else {
                        selectedObject.value = '#aaaaaa';
                    }
                }
            } else {
                selectedObject.value = vizOptions[option];
            }
        }
    }
}

/** submitEditMode
 *
 *
 */
function submitEditMode(editObj, optionValues, itemToChange, defaultBtnClicked) {
    var optionArray = optionValues,
        selectedEditOptions = {},
        editValue,
        selectedObj;

    for (var i = 0; i < optionArray.length; i++) {
        if (optionArray[i].indexOf('editable-legend') > 0) {
            //change item to change for legend elements
            itemToChange = optionArray[i];
        }
        selectedObj = editObj.editDiv.select('#' + optionArray[i]);
        //see if selected object exists
        if (selectedObj && selectedObj._groups[0] && selectedObj._groups[0][0]) {
            editValue = selectedObj._groups[0][0].value;
            //get selected option from edit div
            if (optionArray[i] === 'editable-content' && editValue === '') {
                //dont add an empty string to the viz options for editable content
                break;
            }
            selectedEditOptions[optionArray[i]] = editValue;
            if (!selectedEditOptions[optionArray[i]] && optionArray[i].indexOf('content') < 0) {
                selectedEditOptions[optionArray[i]] = 'default';
            }
        }
    }

    if (defaultBtnClicked) {
        if (itemToChange === 'svg') {
            delete editObj.vizOptions['text'];
        }
        delete editObj.vizOptions[itemToChange];
    } else {
        editObj.vizOptions[itemToChange] = selectedEditOptions;
    }

    if (itemToChange === 'svg') {
        delete editObj.vizOptions['svg'];
    }

    //save vizOptions
    editObj.saveVizOptions(editObj.vizOptions);
}

jvEdit.prototype.applyEditMode = function (itemToChange, options) {
    var editObj = this;
    var object = editObj.chartDiv.select("." + itemToChange);
    var objectGroups = object._groups;
    var objectTagName = objectGroups[0][0] ? objectGroups[0][0].tagName.toLowerCase() : null;

    if (itemToChange === 'text') {
        //do something if it is all the text that is being changed
        object = editObj.chartDiv.selectAll("text");
    }

    //options by tagName
    if (objectTagName === 'g') {
        object = editObj.chartDiv.select("." + itemToChange).selectAll('text');
    } else if (objectTagName === 'rect') {
        if (options['editable-bar']) {
            object.attr('fill', options['editable-bar']);
        }
    } else if (objectTagName === 'circle') {
        if (options['editable-scatter']) {
            object.attr('fill', options['editable-scatter']);
        }
    } else if (objectTagName === 'path') {
        if (options['editable-pie']) {
            object.attr('fill', options['editable-pie']);
        }
    }

    //standard options
    //If a text increment exists, apply it based on the sign of the variable
    if (options.hasOwnProperty('editable-text-increment')) {
        editObj.changeFontSize(options['editable-text-increment']);
    }
    if (options.hasOwnProperty('editable-text-size')) {
        object.style('font-size', options['editable-text-size']);
    }
    if (options.hasOwnProperty('editable-text-color')) {
        object.style('fill', options['editable-text-color']);
    }
    if (options.hasOwnProperty('editable-num-format')) {
        var expression = getFormatExpression(options['editable-num-format']);
        object.transition().text(function (d) {
            if (!isNaN(d) && typeof expression === 'function') {
                return expression(d);
            }
            return d;
        });
    }
    if (options.hasOwnProperty('editable-content')) {
        if (options['editable-content'].length > 0) {
            object.html(options['editable-content']);
        }
    }
    editObj.removeEdit();
};

jvEdit.prototype.applyAllEdits = function () {
    var editObj = this;

    for (var option in editObj.vizOptions) {
        if (editObj.vizOptions.hasOwnProperty(option) && editObj.chartDiv.select(option)) {
            editObj.applyEditMode(option, editObj.vizOptions[option]);
        }
    }
};

jvEdit.prototype.removeEdit = function () {
    var editObj = this;
    if (editObj.editDiv) {
        editObj.editDiv.html('');
        editObj.editDiv.style('display', 'none');
    }
    editObj.editOptions = '';
};

/******************************* Utility functions **********************************************/

jvEdit.prototype.overlayDivPosition = function (divWidth, divHeight, mouseX, mouseY) {
    var editObj = this;
    var position = {};
    if (mouseX > parseInt(editObj.chartDiv.style('width')) / 2) {
        position.x = mouseX - divWidth;
    } else {
        position.x = mouseX;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    } else {
        position.y = mouseY + 10;
    }
    return position;
};

/** getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '';
    if (option === "currency") {
        expression = d3.format("$,");
    }
    if (option === "fixedCurrency") {
        expression = d3.format("($.2f");
    }
    if (option === "percent") {
        var p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format("." + p + "%");
    }
    if (option === "millions") {
        var p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix("." + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(",.0f");
    }
    if (option === 'none' || option === '') {
        expression = d3.format("");
    }

    return expression;
}

function getYAxisLabelWidth(textSize) {}

module.exports = jvEdit;

},{"./editOptionsTemplate.js":1}],7:[function(require,module,exports){
"use strict";

/***  jvEdit ***/
function jvSelect(configObj) {
    "use strict";

    var selectObj = this;
    selectObj.chartDiv = configObj.chartDiv;
    selectObj.toggleSelectMode = function (toggleBool) {
        var entireSvg = selectObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.on('click', function () {
                var target = d3.select(d3.event.target);
                console.log(target);
            });
            entireSvg.on('dblclick', false);
        } else {}
    };
}

/********************************************* Select Mode Functions **************************************************/

module.exports = jvSelect;

},{}],8:[function(require,module,exports){
"use strict";

/***  jvTip ***/

function jvTip(configObj) {
    "use strict";

    var tip = this;

    tip.type = configObj.type;
    tip.chartDiv = configObj.chartDiv;

    //Create initial div
    tip.chartDiv.select('.jv-tooltip').remove();

    tip.chartDiv.append("div").attr("class", "tooltip jv-tooltip").style("pointer-events", "none");
}

jvTip.prototype.showTip = function (event) {
    var transitionDuration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100;

    var tip = this;
    var left = 'auto',
        top = 'auto';
    //Logic to determine where tooltip will be placed on page
    var leftOfMouse = event.offsetX > tip.chartDiv._groups[0][0].clientWidth / 2,
        topOfMouse = event.offsetY < tip.chartDiv._groups[0][0].clientHeight / 2;

    if (leftOfMouse) {
        var tooltipWidth = tip.toolTip._groups[0][0].clientWidth;
        if (tooltipWidth === 0) {
            tooltipWidth = 250;
        }
        left = event.offsetX - tooltipWidth + "px";
    } else {
        left = event.offsetX + "px";
    }
    if (topOfMouse) {
        top = event.offsetY + "px";
    } else {
        var tooltipHeight = tip.toolTip._groups[0][0].clientHeight === 0 ? 75 : tip.toolTip._groups[0][0].clientHeight;
        if (tooltipHeight === 0) {
            tooltipHeight = 75;
        }
        top = event.offsetY - tooltipHeight + "px";
    }

    if (!leftOfMouse && topOfMouse) {
        left = event.offsetX + 13 + "px";
    }

    var t = d3.transition().duration(transitionDuration).ease(d3.easeLinear);

    tip.toolTip.transition(t).style("left", left).style("top", top).style("display", "block").style("opacity", 1);
};

jvTip.prototype.hideTip = function () {
    var tip = this;
    var t = d3.transition().duration('100').ease(d3.easeLinear);
    if (tip.toolTip) {
        tip.toolTip.transition(t).style("display", "none");
    }
};

/************************************************  Declare jv tip components *******************************************************************************/
var jvHr = "<hr style='margin:3px 0 3px 0;'/>";

function getValueContent(item, value, colorTile) {
    var valueString = value ? ": " + value : '';
    var colorTileString = colorTile ? colorTile : '';
    return "<span class='semoss-d3-tip-content jv-tip-side-margins'>" + colorTileString + item + valueString + "</span><br/>";
}

function getTitleTemplate(dataObj) {
    return "<div class='title jv-top-margin jv-inline'><b>" + dataObj.title + "</b></div>" + jvHr;
}

function getColorTile(color) {
    if (color) {
        return "<div class='d3-tooltip-circle jv-inline jv-tip-side-margins' style='background:" + color + "'></div>";
    }
    return "<div class='jv-inline jv-tip-side-margins'>";
}

/************************************************* Viz Specific Functions **********************************************************************************/

jvTip.prototype.generateSimpleTip = function (dataObj, dataTable, event) {
    var tip = this;
    var tooltipHtml = '';

    if (dataObj.hasOwnProperty('title') && dataObj.title === '') {
        dataObj.title = 'Empty';
    }

    if (dataObj.viz === 'clusters' || dataObj.viz === 'circleviewplot' || dataObj.viz === 'scatterplot' || dataObj.viz === 'treemap' || dataObj.viz === 'singleaxis') {
        tooltipHtml = generateSingleColorHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'radial' || dataObj.viz === 'pie') {
        tooltipHtml = generatePieHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'circlepack' || dataObj.viz === 'sunburst') {
        tooltipHtml = generatePackHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'heatmap' || dataObj.viz === 'cloud') {
        tooltipHtml = generateHeatmapHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'sankey') {
        tooltipHtml = generateSankeyHTML(dataObj, dataTable);
    } else {
        tooltipHtml = generateSimpleHTML(dataObj, dataTable);
    }

    //add content to tooltip
    tip.toolTip = tip.chartDiv.select(".tooltip").html(tooltipHtml);

    if (event) {
        tip.showTip(event, 0);
    }

    return tip.tooltip;
};

function generateSimpleHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div><div class='title jv-tip-container jv-tip-side-margins jv-top-margin'><b>" + dataObj.title + "</b></div>" + jvHr;

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value, getColorTile(dataObj.color[item]));
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSingleColorHTML(dataObj, dataTable) {
    var tooltipText,
        tooltipColor,
        showColorCircle = true,
        colorCircle = "";

    if (!!dataObj.color[dataObj.data[dataTable.series]]) {
        tooltipColor = dataObj.color[dataObj.data[dataTable.series]];
    } else if (!!dataObj.color[dataTable.label] && dataObj.viz !== 'singleaxis') {
        tooltipColor = dataObj.color[dataTable.label];
    } else {
        showColorCircle = false;
    }

    if (showColorCircle) {
        colorCircle = getColorTile(tooltipColor);
    } else {
        colorCircle = getColorTile();
    }

    tooltipText = "<div class='jv-inline'>" + colorCircle + "<div class='title jv-tip-side-margins jv-inline jv-top-margin'><b>" + dataObj.title + "</b></div>" + jvHr;

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generatePackHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='jv-inline'>\n        " + getColorTile(dataObj.data.color) + "\n        " + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateHeatmapHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='jv-inline'>\n        " + getColorTile(dataObj.color) + "\n        " + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generatePieHTML(dataObj, dataTable) {
    var tooltipText;
    tooltipText = "<div class='jv-inline'>\n    " + getColorTile(dataObj.color[dataObj.data.label]) + "\n    " + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(dataTable[item], value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSankeyHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='jv-inline'>" + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function formatValue(val) {
    if (!isNaN(val)) {
        var formatNumber = d3.format(",.0f");
        if (val >= 1000000) {
            //millions
            // var p = d3.precisionPrefix(1e5, 1.3e6);
            // formatNumber = d3.formatPrefix("." + p, 1.3e6);
            formatNumber = d3.format(",.2f");
        } else if (val <= 100) {
            //2 decimals
            formatNumber = d3.format(",.2f");
        }
        return formatNumber(val);
    }
    return val;
}

module.exports = jvTip;

},{}],9:[function(require,module,exports){
'use strict';

var jvCharts = require('./jvCharts.js');

jvCharts.prototype.getDefaultOptions = getDefaultOptions;

function getDefaultOptions() {
    var userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var _vars = {};

    //General Styles/Attributes
    //CONST variables - try to not use in jvCharts as they do not have much context
    _vars.GRAY = "#cccccc";
    _vars.WHITE = '#FFFFFF';
    _vars.BLACK = '#000000';
    _vars.SMALL_STROKE_WIDTH = '1px';
    _vars.light = '#BBBBBB';
    _vars.strokeWidth = "2px";

    //Action Attributes
    _vars.highlightBorderColor = _vars.BLACK;
    _vars.highlightBorderWidth = "2px";

    //Component Specific Styles/Attributes
    _vars.thresholds = 'none'; //if not none, expected to be an array
    _vars.thresholdLegend = false;
    _vars.backgroundColor = 'none';
    _vars.axisColor = _vars.GRAY;
    _vars.axisWidth = _vars.strokeWidth;
    _vars.gridLineStrokeWidth = _vars.SMALL_STROKE_WIDTH;
    _vars.displayValues = false;
    _vars.toggleLegend = false;
    _vars.legendArrowColor = 'c2c2d6';
    _vars.legendMax = 9;
    _vars.gridSize = 12;
    _vars.xReversed = false;
    _vars.yReversed = false;

    //font styles
    _vars.fontSize = '12px';
    _vars.fontColor = _vars.BLACK;
    _vars.xLabelFontSize = 'none';
    _vars.yLabelFontSize = 'none';

    //Heatmap Specific Styles/Attributes
    _vars.color = "#ff0000";
    _vars.toggleLegend = false;
    _vars.buckets = "10";
    _vars.colorLabel = 'none';
    _vars.min = "0";
    _vars.max = "10";
    _vars.domainArray = "";
    _vars.step = "1";
    _vars.quantiles = true;
    _vars.heatLegendSpacing = 2;
    _vars.heatGridSize = 20;
    _vars.colors = ["#fbf2d2", "#fdedb5", "#fee7a0", "#ffda84", "#ffc665", "#feb44e", "#fea743", "#fd9b3f", "#fd8c3c", "#fd7735", "#fd602f", "#fb4b29", "#f43723", "#ea241e", "#e0161c", "#d60b20", "#c80324", "#b10026", "#870025", "#620023"];

    //pie specific
    _vars.pieBorder = _vars.WHITE;
    _vars.pieBorderWidth = _vars.SMALL_STROKE_WIDTH;
    _vars.pieTextColor = _vars.WHITE;
    _vars.emptyLegendSquare = _vars.WHITE;

    //line specific
    _vars.lineCurveType = 'Linear';

    //bar specific
    _vars.displayValuesStackAsPercent = false;
    _vars.displayValuesStackTotal = false;
    _vars.displayYAxisLabel = true;

    //single axis specific
    _vars.singleAxisFillHoverColor = 'red';

    Object.assign(_vars, userOptions);
    return _vars;
}

},{"./jvCharts.js":4}],10:[function(require,module,exports){
'use strict';

var jvCharts = require('../visuals/jvLine.js');

jvCharts.prototype.area = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.fillArea = fillArea;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }

    //remove if we add non linear to area chart
    chart._vars.lineCurveType = 'Linear';

    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label' && item.indexOf('tooltip') === -1) {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}
/** paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint() {
    var chart = this;
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //Overwrite any pre-existing zoom
    chart.config.zoomEvent = null;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
}

/**
 *
 */
function fillArea(lineData) {

    var chart = this,
        svg = chart.svg,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,

    //lineData = chart.currentData.chartData,
    container = chart.config.container,
        colors = chart._vars.color;

    //If a legend element is toggled off, use the new list of headers
    if (chart._vars.hasOwnProperty('legendHeaders')) {
        legendData = chart._vars.legendHeaders;
    }

    //Get the X and Y Scale
    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars, 'no-padding');
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars, 'no-padding');

    //If axis are normal
    if (!chart._vars.rotateAxis) {
        var area = d3.area().x(function (d) {
            if (d.x === '') {
                return x('EMPTY_STRING');
            }
            return x(d.x);
        }).y0(container.height).y1(function (d) {
            return y(d.y);
        });
    } else {
        var area = d3.area().y(function (d) {
            return y(d.y);
        }).x1(0).x0(function (d) {
            return x(d.x);
        });
    }

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {
            if (typeof legendData !== "undefined") {
                //Accounting for legend toggles
                if (legendData[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    if (!chart._vars.rotateAxis) {
                        data[legendData[k]].push({
                            'x': lineData[i][xAxisData.label],
                            'y': parseFloat(lineData[i][legendData[k]])
                        });
                    } else {
                        data[legendData[k]].push({
                            'y': lineData[i][yAxisData.label],
                            'x': parseFloat(lineData[i][legendData[k]])
                        });
                    }
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (!chart._vars.rotateAxis) {
                    data[legendData[k]].push({
                        'x': lineData[i][xAxisData.label],
                        'y': parseFloat(lineData[i][legendData[k]])
                    });
                } else {
                    data[legendData[k]].push({
                        'y': lineData[i][yAxisData.label],
                        'x': parseFloat(lineData[i][legendData[k]])
                    });
                }
            }
        }
    }

    svg.selectAll(".area").remove();

    for (var i in data) {
        svg.append("path").datum(data[i]).attr("class", function (d) {
            if (chart._vars.colorLine == true && chart._vars.thresholds != 'none' && chart._vars.colorChart != false) {
                return "area area-threshold";
            } else {
                return "area";
            }
        }).attr("d", area).attr("fill", jvCharts.getColors(colors, k, i)).attr("opacity", 0.6).attr("transform", function (d, i) {
            if (chart._vars.rotateAxis) {
                var translation = container.height / lineData.length / 2;
                return "translate(0, " + translation + ")";
            } else {
                var translation = container.width / lineData.length / 2;
                return "translate(" + translation + ", 0)";
            }
        }).attr("pointer-events", "none");
    }
}

module.exports = jvCharts;

},{"../visuals/jvLine.js":14}],11:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.bar = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateBarThreshold = generateBarThreshold;
jvCharts.prototype.generateBars = generateBars;

/**paint
 *
 * The initial starting point for bar chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint(transitionTime) {
    var chart = this;
    if (transitionTime || transitionTime === 0) {
        chart._vars.transitionTime = transitionTime;
    } else if (!chart._vars.transitionTime) {
        chart._vars.transitionTime = 800;
    }
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateBars');
    chart.generateBars(dataObj);

    if (typeof dataObj.xAxisScale.ticks === 'function') {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

/**Sets the data for the bar chart prior to painting
 *  @function
 * @params {Object} data - Data passed into the chart
 * @params {Object} dataTable - Shows which data column is associated with each field in visual panel
 * @params {Object} dataTableKeys - Contains the data type for each column of data
 * @params {Object} colors - Colors object used to color the bars
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.hasOwnProperty('sortType') && chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);
    if (chart._vars.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart._vars.color, chart.flippedData.legendData, chart.colors);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label' && item.indexOf('tooltip') === -1) {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/************************************************ Bar functions ******************************************************/
function generateBarThreshold() {
    var chart = this,
        svg = chart.svg,
        width = chart.config.container.width,
        height = chart.config.container.height,
        thresholds = chart._vars.thresholds,
        length = thresholds !== 'none' ? Object.keys(thresholds).length : 0;

    var x = chart.currentData.xAxisScale;
    var y = chart.currentData.yAxisScale;

    if (thresholds !== 'none') {
        for (var i = 0; i < length; i++) {
            var threshold = thresholds[i];
            if (!chart._vars.xAxisThreshold) {
                if (chart._vars.rotateAxis) {
                    svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                } else {
                    svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                }
            }

            if (chart._vars.colorChart == true) {
                var thresholdRects = d3.selectAll('rect.rect-' + i);
                thresholdRects.attr('fill', threshold.thresholdColor);
            }
        }
    }
}

/**generateBars
 *
 * Does the actual painting of bars on the bar chart
 * @params barData
 */

function generateBars(barData) {
    var chart = this,
        svg = chart.svg;

    //Used to draw line that appears when tool tips are visible
    var tipLineX = 0,
        tipLineWidth = 0,
        tipLineHeight = 0,
        tipLineY = 0;

    //Removes any existing bar containers and creates a new one
    svg.selectAll('g.bar-container').remove();
    var bars = svg.append('g').attr('class', 'bar-container').selectAll('g');

    //Add logic to filter bardata
    var dataHeaders = barData.legendData;

    if (chart._vars.seriesFlipped && chart._vars.flippedLegendHeaders) {
        dataHeaders = chart._vars.flippedLegendHeaders;
    } else if (chart._vars.legendHeaders) {
        dataHeaders = chart._vars.legendHeaders;
    }

    var barDataNew = jvCharts.getToggledData(barData, dataHeaders);

    generateBarGroups(bars, barDataNew, chart);

    var eventGroups = jvCharts.generateEventGroups(bars, barDataNew, chart);

    //Add listeners

    eventGroups.on('mouseover', function (d, i, j) {
        //Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
            svg.selectAll('.tip-line').remove();

            var mouseItem = d3.select(this);
            tipLineX = mouseItem.node().getBBox().x;
            tipLineWidth = mouseItem.node().getBBox().width;
            tipLineHeight = mouseItem.node().getBBox().height;
            tipLineY = mouseItem.node().getBBox().y;

            //Draw line in center of event-rect
            svg.append('line').attr('class', 'tip-line').attr('x1', function () {
                return chart._vars.rotateAxis ? 0 : tipLineX + tipLineWidth / 2;
            }).attr('x2', function () {
                return chart._vars.rotateAxis ? tipLineWidth : tipLineX + tipLineWidth / 2;
            }).attr('y1', function () {
                return chart._vars.rotateAxis ? tipLineY + tipLineHeight / 2 : 0;
            }).attr('y2', function () {
                return chart._vars.rotateAxis ? tipLineY + tipLineHeight / 2 : tipLineHeight;
            }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', 'black').attr('stroke-width', '1px');
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    chart.displayValues();
    //chart.generateClipPath();
    chart.generateBarThreshold();
}

/**generateBarGroups
 *
 * Paints the groups of the bars
 * @params chartContainer, barData, chart
 */
function generateBarGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        colors = chart._vars.color;

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    var posCalc = jvCharts.getPosCalculations(barData, chart._vars, xAxisData, yAxisData, container, chart);

    var dataToPlot = jvCharts.getPlotData(barData, chart);

    var barGroups;
    if (xAxisData.dataType === 'STRING' || !xAxisData.hasOwnProperty('min')) {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(' + (x.paddingOuter() * x.step() + x.step() * i) + ',0)';
        });
    } else if (xAxisData.dataType === 'NUMBER') {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(0,' + (y.paddingOuter() * y.step() + y.step() * i) + ')';
        });
    }

    //Creates bars within bar groups
    var externalCounterForJ = -1;
    var bars = barGroups.selectAll('rect').data(function (d) {
        return d;
    }).enter().append('rect').attr('class', function (d, i, j) {
        if (i === 0) {
            externalCounterForJ++;
        }
        var label = String(barData[externalCounterForJ][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '_dot_');
        var legendVal = String(chart.currentData.legendData[i]).replace(/\s/g, '_').replace(/\./g, '_dot_');
        var thresholdDir;

        if (chart._vars.xAxisThreshold) {
            thresholdDir = chart.setThreshold(barData[externalCounterForJ][chart.currentData.dataTable.label]);
        } else {
            thresholdDir = chart.setThreshold(d);
        }

        return 'editable editable-bar bar-col-' + label + '-index-' + legendVal + ' highlight-class-' + label + ' rect ' + thresholdDir;
    }).attr('x', function (d, i) {
        return posCalc.startx(d, i);
    }).attr('y', function (d, i) {
        return posCalc.starty(d, i);
    }).attr('width', function (d, i) {
        return posCalc.startwidth(d, i);
    }).attr('height', function (d, i) {
        return posCalc.startheight(d, i);
    }).attr('fill', function (d, i) {
        if (chart._vars.seriesFlipped) {
            return jvCharts.getColors(colors, i, chart._vars.flippedLegendHeaders[i]);
        }
        return jvCharts.getColors(colors, i, chart._vars.legendHeaders[i]);
    }).attr('rx', 0).attr('ry', 0).attr('opacity', 0.9).attr('clip-path', function (d) {
        if (d > 30000000) {
            return 'url(#clip-above)';
        }
        return 'url(#clip-below)';
    });
    if (chart._vars.transitionTime > 0) {
        bars.transition().duration(800).ease(d3.easePolyOut).attr('x', function (d, i, j) {
            return posCalc.x(d, i, j);
        }).attr('y', function (d, i, j) {
            return posCalc.y(d, i, j);
        }).attr('width', function (d, i) {
            return posCalc.width(d, i);
        }).attr('height', function (d, i) {
            return posCalc.height(d, i);
        });
    } else {
        bars.attr('x', function (d, i, j) {
            return posCalc.x(d, i, j);
        }).attr('y', function (d, i, j) {
            return posCalc.y(d, i, j);
        }).attr('width', function (d, i) {
            return posCalc.width(d, i);
        }).attr('height', function (d, i) {
            return posCalc.height(d, i);
        });
    }

    return barGroups; //returns the bar containers
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],12:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.gantt = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateGanttBars = generateGanttBars;
jvCharts.prototype.setGanttLegendData = setGanttLegendData;
jvCharts.prototype.setGanttAxisData = setGanttAxisData;

/************************************************ Gantt functions ******************************************************/

/**
*
* @param data
* @param dataTable
* @param colors
*/
function setData() {
    var chart = this;
    chart.data.legendData = chart.setGanttLegendData(chart.data);
    chart.data.xAxisData = chart.setGanttAxisData(chart, 'x');
    chart.data.yAxisData = chart.setGanttAxisData(chart, 'y');
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function setGanttLegendData(data) {
    var legendArray = [];
    for (var i = 1; i <= Object.keys(data.dataTable).length; i++) {
        if (data.dataTable.hasOwnProperty(["start " + i])) {
            //check to make sure it has a matching end date
            if (data.dataTable.hasOwnProperty(["end " + i])) {
                legendArray.push(data.dataTable["start " + i]);
            }
        }
    }
    return legendArray;
}

function setGanttAxisData(chart, axis) {
    var axisData = [],
        data = chart.data,
        chartData = data.chartData,
        dataType;

    if (axis === 'x') {
        var label = data.dataTable.group;
        dataType = 'DATE';

        var numBars = data.legendData.length;
        //Loop through dataTable and assign labels based on how many groups there are
        var valueContainer = [];
        valueContainer.push(data.dataTable["start 1"]);
        valueContainer.push(data.dataTable["end 1"]);
        for (var i = 1; i < numBars; i++) {
            valueContainer.push(data.dataTable["start " + (i + 1)]);
            valueContainer.push(data.dataTable["end " + (i + 1)]);
        }

        //Get all the start and end dates and add them to axis data
        for (var i = 0; i < valueContainer.length; i++) {
            for (var ii = 0; ii < chartData.length; ii++) {
                if (chartData[ii][valueContainer[i]] != null) {
                    axisData.push(chartData[ii][valueContainer[i]]);
                }
            }
        }

        //Add any axis formatting to this object, need to use when painting
        chart._vars.xAxisFormatting = {};
    } else {
        dataType = "STRING";
        var label = data.dataTable.group;

        //Add any axis formatting to this object, need to use when painting
        chart._vars.yAxisFormatting = {};

        for (var i = 0; i < chartData.length; i++) {
            axisData.push(chartData[i][label]);
        }
    }

    return {
        'label': label,
        'values': axisData,
        'dataType': dataType
    };
}

function paint() {
    var chart = this;

    chart._vars.color = chart.data.color;

    chart.currentData = chart.data;

    chart.generateSVG(chart.currentData.legendData);
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateGanttBars');
    chart.drawGridlines(chart.currentData.xAxisData);
    chart.generateGanttBars(chart.currentData);
    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function generateGanttBars(ganttData) {
    var chart = this,
        svg = chart.svg,
        colors = ganttData.color,
        container = chart.config.container,
        yAxisData = ganttData.yAxisData;

    //Remove existing bars from page
    svg.selectAll("g.bar-container").remove();
    var bars = svg.append("g").attr("class", "bar-container"),
        dataHeaders = chart._vars.legendHeaders ? chart._vars.legendHeaders : ganttData.legendData,
        ganttDataNew = jvCharts.getToggledData(ganttData, dataHeaders),
        x = jvCharts.getAxisScale('x', ganttData.xAxisData, container, chart._vars),
        y = jvCharts.getAxisScale('y', ganttData.yAxisData, container, chart._vars),
        sampleData = ganttDataNew;

    chart._vars.rotateAxis = true;

    var numBars = ganttData.legendData.length;
    var ganttBars = [];
    //create array of start dates and end dates to iterate through
    var startDates = [];
    var endDates = [];
    for (var i = 1; i <= numBars; i++) {
        startDates.push(chart.currentData.dataTable["start " + i]);
        endDates.push(chart.currentData.dataTable["end " + i]);
    }

    for (var ii = 0; ii < numBars; ii++) {
        ganttBars[ii] = bars.selectAll(".gantt-bar" + ii).data(sampleData).enter().append("rect").attr("class", "gantt-bar" + ii).attr("width", 0).attr("height", y.bandwidth() / numBars).attr("x", function (d, i) {
            if (d[startDates[ii]]) {
                return x(new Date(d[startDates[ii]]));
            }
            return 0;
        }).attr("y", function (d, i) {
            return y(d[yAxisData.label]) + y.bandwidth() / numBars * ii;
        }).attr("rx", 3).attr("ry", 3).attr("fill", function (d, i, j) {
            var typeVal = chart.currentData.dataTable["Type" + (ii + 1)];
            if (chart._vars.legendHeaders) {
                var color = jvCharts.getColors(colors, 0, chart._vars.legendHeaders[ii]);
            } else {
                var color = jvCharts.getColors(colors, 0, chart.currentData.legendData[ii]);
            }
            return color;
        });

        ganttBars[ii].transition().duration(400).delay(100).attr("width", function (d, i) {
            var width = x(new Date(d[endDates[ii]])) - x(new Date(d[startDates[ii]])); //(x(d.StartDate) - x(d.EndDate));
            if (width >= 0) {
                return width;
            } else {
                return 0;
            }
        });
    }

    var dataToPlot = jvCharts.getPlotData(ganttDataNew, chart);
    var eventGroups = bars.selectAll(".event-rect").data(dataToPlot).enter().append('rect').attr("class", "event-rect").attr("x", 0).attr("y", function (d, i) {
        return container.height / ganttDataNew.length * i;
    }).attr("width", container.width).attr("height", function (d, i) {
        return container.height / ganttDataNew.length;
    }).attr("fill", "transparent").attr("transform", "translate(0,0)");
    eventGroups.on("mouseover", function (d, i, j) {
        // Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on("mousemove", function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on("mouseout", function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var currentDate = new Date();
    var dateData = [currentDate];
    //Draws a line representing the current date
    svg.selectAll(".currentDateLine").data(dateData).enter().append("line").attr("x1", function (d, i) {
        return x(d);
    }).attr("x2", function (d, i) {
        return x(d);
    }).attr("y1", function (d, i) {
        return "0px";
    }).attr("y2", function (d, i) {
        return chart.config.container.height;
    }).attr("class", "currentDateLine").attr("stroke", chart._vars.axisColor).attr("stroke-width", chart._vars.STROKE_WIDTH).attr("stroke-dasharray", "3, 3");

    svg.selectAll(".currentDateLabel").data(dateData).enter().append("text").text(function () {
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; //January is 0!

        var yyyy = today.getFullYear();
        if (dd < 10) {
            dd = '0' + dd;
        }
        if (mm < 10) {
            mm = '0' + mm;
        }
        var today = mm + '/' + dd + '/' + yyyy;
        return today;
    }).attr("x", function (d, i) {
        return x(d);
    }).attr("y", function (d, i) {
        return "-10px";
    }).attr("text-anchor", "middle").attr('fill', chart._vars.fontColor);
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],13:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.heatmap = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateHeatMap = generateHeatMap;

/************************************************ HeatMap functions ******************************************************/

function quantized(chart, min, max) {
    var bucketCount = chart._vars.buckets;
    var sectionValue = (max - min) / bucketCount;
    var quantizedArray = [];
    for (var i = 0; i < bucketCount; i++) {
        quantizedArray[i] = min + i * sectionValue;
    }
    return quantizedArray;
}

/**setHeatMapData
 *  gets heatmap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    var axisNames = setHeatAxisNames(chart.data);
    chart.data.xAxisData = axisNames.xAxisData;
    chart.data.yAxisData = axisNames.yAxisData;
    chart.data.processedData = setProcessedData(chart.data, chart.data.xAxisData.values, chart.data.yAxisData.values);
    //define color object for chartData
    chart._vars.color = jvCharts.setChartColors(chart._vars.color, chart.data.xAxisData.values, chart.colors);
    chart.data.heatData = setHeatmapLegendData(chart, chart.data);
}

function setHeatmapLegendData(chart, data) {
    var heatData;
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount;
    chart._vars.colors = organizeColors(chart);

    data.heatScores.sort(function (a, b) {
        return a - b;
    });

    chart.data.colorScale = d3.scaleQuantile().domain(data.heatScores).range(chart._vars.colors);

    if (chart._vars.quantiles === true) {
        var temp = chart.data.colorScale.quantiles();
        if (temp[0] === 0) {
            heatData = chart.data.colorScale.quantiles();
        } else {
            heatData = [0].concat(chart.data.colorScale.quantiles());
        }
    } else {
        bucketCount = bucketMapper[chart._vars.buckets - 1];
        heatData = quantized(chart, data.heatScores[0], data.heatScores[data.heatScores.length - 1]);
    }

    return heatData;
}

function organizeColors(chart) {
    var colorSelectedBucket = [];
    for (var c in chart._vars.colors) {
        colorSelectedBucket.push(chart._vars.colors[c]);
    }

    var sValue = chart._vars.buckets;
    var newColors = [];
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount = bucketMapper[sValue - 1];
    for (var i = 0; i < bucketCount; i++) {
        if (i >= bucketCount / 2) {
            newColors[i] = colorSelectedBucket[Math.round((i + 1) / bucketCount * 20) - 1];
        } else {
            newColors[i] = colorSelectedBucket[Math.round(i / bucketCount * 20)];
        }
    }
    var colors = newColors.slice(0);
    return colors;
}

function setHeatAxisNames(data) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var xAxisArray = [];
    var yAxisArray = [];
    var returnObj = {};
    for (var i = 0; i < data.dataTableKeys.length; i++) {
        if (data.dataTableKeys[i].vizType === 'x') {
            returnObj.xAxisData = {};
            returnObj.xAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.xAxisData.label = data.dataTable.x;
        }
        if (data.dataTableKeys[i].vizType === 'y') {
            returnObj.yAxisData = {};
            returnObj.yAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.yAxisData.label = data.dataTable.y;
        }
    }

    for (var i = 0; i < chartData.length; i++) {
        if (xAxisArray.indexOf(chartData[i][xAxisName]) === -1) {
            xAxisArray.push(chartData[i][xAxisName]);
            //TODO make into 1 function for min max... waste of space
            if (returnObj.xAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                }

                if (!returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                }
            }
        }
        if (yAxisArray.indexOf(chartData[i][yAxisName]) === -1) {
            yAxisArray.push(chartData[i][yAxisName]);
            if (returnObj.yAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                }

                if (!returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                }
            }
        }
    }
    returnObj.xAxisData.values = xAxisArray;
    returnObj.yAxisData.values = yAxisArray;

    return returnObj;
}

function setProcessedData(data, xAxisArray, yAxisArray) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var heat = data.dataTable.heat;
    var dataArray = [];
    data.heatScores = [];
    /*Assign each name a number and place matrix coordinates inside of dataArray */
    for (var i = 0; i < chartData.length; i++) {
        dataArray.push({
            value: chartData[i][heat],
            xAxisName: chartData[i][xAxisName],
            yAxisName: chartData[i][yAxisName]
        });
        //This array stores the values as numbers
        data.heatScores.push(chartData[i][heat]);
        for (var j = 0; j < xAxisArray.length; j++) {
            if (xAxisArray[j] === dataArray[i].xAxisName) {
                dataArray[i].xAxis = j;
                break;
            }
        }
        for (var j = 0; j < yAxisArray.length; j++) {
            if (yAxisArray[j] === dataArray[i].yAxisName) {
                dataArray[i].yAxis = j;
                break;
            }
        }
    }
    return dataArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship
    var customMargin = {
        top: 0,
        right: 40,
        left: 0,
        bottom: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, customMargin);
    //chart.generateLegend(chart.currentData.legendData, 'generateHeatMap');
    chart.generateHeatMap();
}

/**generateHeatMap
 *
 * paints the HeatMap on the chart
 * @params HeatMapData
 */
function generateHeatMap() {
    var chart = this,
        svg = chart.svg,
        colors = chart._vars.colors,
        container = chart.config.container,
        minContainer = 300,
        quantiles = chart._vars.quantiles,
        data = chart.data.processedData,
        toggleLegend = !chart._vars.toggleLegend,
        heatMapData = chart.currentData,
        gridSize = chart._vars.heatGridSize,
        legendSpacing = chart._vars.heatLegendSpacing;

    var div = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);

    var vis = svg.append('g').attr('transform', 'translate(0,0)').attr('class', 'heatmap');

    var yAxisTitle = vis.selectAll('.heatmap').data([heatMapData.dataTable.y]);

    yAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', -21).attr('y', -5).attr('text-anchor', 'end').attr('transform', function (d, i) {
        return 'translate(-' + (chart._vars.heatmapYmargin + 10) + ',' + 0 + ')rotate(-90)';
    }).text(function (d) {
        return d;
    });

    yAxisTitle.exit().remove();
    var formatType = jvCharts.jvFormatValueType(chart.currentData.yAxisData.values, chart.currentData.yAxisData.dataType);

    var yAxis = vis.selectAll('.xAxis').data(heatMapData.yAxisData.values).enter().append('svg:g');

    yAxis.append('text').text(function (d) {
        var str = jvCharts.jvFormatValue(d, formatType);
        if (str.length > 15) {
            return str.substring(0, 14) + '...';
        }
        return str;
    }).attr('x', 0).attr('y', function (d, i) {
        return i * gridSize;
    }).style('text-anchor', 'end').style('font-size', chart._vars.fontSize).attr('transform', 'translate(-6,' + gridSize / 1.5 + ')').attr('class', function (d, i) {
        return 'rowLabel pointer';
    }).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        var paint = true;
        if (d === chart._vars.selectedX) {
            chart._vars.selectedX = '';
            paint = false;
        } else {
            chart._vars.selectedX = d;
        }

        //fade all rects except in this row
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.yAxisData.values.length; i++) {
                if (chart.currentData.yAxisData.values[i] === d && d) {
                    if (r.yAxis != i && paint) {
                        return true;
                    }
                }
            }
        });
    });

    yAxis.append('title').text(function (d) {
        return d;
    });

    var xAxisTitle = vis.selectAll('.xAxisTitle').data([heatMapData.dataTable.x]);

    xAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', 6).attr('y', 9).attr('transform', function (d, i) {
        return 'translate(' + 0 + ', -' + (chart._vars.heatmapXmargin - 10) + ')';
    }).text(function (d) {
        return d;
    });

    xAxisTitle.exit().remove();

    var xAxis = vis.selectAll('.xAxis').data(heatMapData.xAxisData.values).enter().append('svg:g');

    formatType = jvCharts.jvFormatValueType(chart.currentData.xAxisData.values, chart.currentData.xAxisData.dataType);

    xAxis.append('text').text(function (d) {
        var str = jvCharts.jvFormatValue(d, formatType);
        if (str.length > 15) {
            return str.substring(0, 14) + '...';
        }
        return str;
    }).style('text-anchor', 'start').attr('x', 6).attr('y', 7).attr('class', function (d, i) {
        return 'colLabel pointer';
    }).attr('transform', function (d, i) {
        return 'translate(' + i * gridSize + ', -6)rotate(-45)';
    }).attr('title', function (d) {
        return d;
    }).style('font-size', chart._vars.fontSize).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        var paint = true;
        if (d === chart._vars.selectedX) {
            chart._vars.selectedX = '';
            paint = false;
        } else {
            chart._vars.selectedX = d;
        }
        //fade all rects except in this column
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.xAxisData.values.length; i++) {
                if (chart.currentData.xAxisData.values[i] === d) {
                    if (r.xAxis !== i && paint) {
                        return true;
                    }
                }
            }
        });
    });

    xAxis.append('title').text(function (d) {
        return d;
    });

    var width = heatMapData.xAxisData.values.length * gridSize;
    var height = heatMapData.yAxisData.values.length * gridSize;
    var formatValueType = jvCharts.jvFormatValueType(chart.data.heatData);

    //vertical lines
    var vLine = vis.selectAll('.vline').data(d3.range(heatMapData.xAxisData.values.length + 1)).enter().append('line').attr('x1', function (d) {
        return d * gridSize;
    }).attr('x2', function (d) {
        return d * gridSize;
    }).attr('y1', function (d) {
        return 0;
    }).attr('y2', function (d) {
        return height;
    }).style('stroke', chart._vars.axisColor);

    //horizontal lines
    var hLine = vis.selectAll('.hline').data(d3.range(heatMapData.yAxisData.values.length + 1)).enter().append('line').attr('y1', function (d) {
        return d * gridSize;
    }).attr('y2', function (d) {
        return d * gridSize;
    }).attr('x1', function (d) {
        return 0;
    }).attr('x2', function (d) {
        return width;
    }).style('stroke', chart._vars.axisColor);

    var heatMap = vis.selectAll('.heat').data(data).enter().append('rect').attr('x', function (d) {
        return d.xAxis * gridSize;
    }).attr('y', function (d) {
        return d.yAxis * gridSize;
    }).attr('rx', 2).attr('ry', 2).attr('class', 'heat').attr('width', gridSize - 1).attr('height', gridSize - 1).style('fill', function (d) {
        if (quantiles === true) {
            if (chart._vars.domainArray.length === 0 || d.value >= chart._vars.domainArray[0] && d.value <= chart._vars.domainArray[1]) {
                return chart.data.colorScale(d.value);
            }
            return 'white';
        }
        if (chart._vars.domainArray.length == 0 || d.value >= chart._vars.domainArray[0] && d.value <= chart._vars.domainArray[1]) {
            return getQuantizedColor(chart.data.heatData, d.value);
        }
        return 'white';
    }).on('mouseover', function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        tipData.color = chart.data.colorScale(d.value);

        //Draw tip
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        chart.tip.d = d;
        chart.tip.i = i;
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    }).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('dblclick', function (d) {
        //border around selected rect
        d3.select(this).classed('rect-border', true);

        //Fade row labels
        d3.selectAll('.rowLabel').classed('text-highlight', function (r, ri) {
            if (!(ri == d.yAxis)) {
                return true;
            }
        });

        //fade column labels
        d3.selectAll('.colLabel').classed('text-highlight', function (r, ri) {
            if (!(ri == d.xAxis)) {
                return true;
            }
        });

        //fade all rects except selected
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            if (r.yAxis != d.yAxis || r.xAxis != d.xAxis) {
                return true;
            }
        });
    });

    chart.chartDiv.select("svg.heatLegend").remove();

    if (toggleLegend) {
        var legendContainer = chart.chartDiv.append('svg').style('top', chart.config.margin.top + 'px').style('background', chart._vars.backgroundColor).attr('class', 'heatLegend').attr('width', chart.config.heatWidth);

        var legend = legendContainer.selectAll('.legend').data(chart.data.heatData).enter().append('g').attr('transform', function (d, i) {
            var height = gridSize + legendSpacing;
            var offset = height * chart.data.colorScale.domain().length / 2;
            var horz = -2 * gridSize;
            var vert = i * height - offset;
            return 'translate(' + 0 + ',' + gridSize * i + ')';
        });

        legend.append('rect').attr('class', 'legend').attr('width', gridSize).attr('height', gridSize).style('fill', function (d, i) {
            return colors[i];
        }).on('click', function (d) {
            //removing styling
            d3.selectAll('.heat').classed('rect-highlight', false);
        }).on('dblclick', function (d) {
            //removing styling
            //fade all rects except selected
            d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
                if (r.value < d) {
                    return true;
                }
            });
        });

        legend.append('text').attr('class', 'legendText').attr('x', gridSize + legendSpacing).attr('y', gridSize - legendSpacing).text(function (d) {
            if (isNaN(d)) {
                return d;
            }
            return jvCharts.jvFormatValue(d, formatValueType);
        }).style('fill', chart._vars.black);
    }

    function getQuantizedColor(quantizedArray, value) {
        for (var i = 1; i < quantizedArray.length; i++) {
            if (value < quantizedArray[i]) {
                return colors[i - 1];
            }
        }
        return colors[quantizedArray.length - 1];
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],14:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.line = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateLine = generateLine;
jvCharts.prototype.setLineThresholdData = setLineThresholdData;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
};

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label' && item.indexOf('tooltip') === -1) {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}
/**paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint() {
    var chart = this;
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');
    if (chart._vars.rotateAxis) {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
}

/**generateLine
 *
 * Paints the lines
 * @params lineData
 */
function generateLine(lineData) {
    var chart = this,
        svg = chart.svg;

    svg.selectAll('g.line-container').remove();
    var lines = svg.append('g').attr('class', 'line-container').selectAll('g');

    var dataHeaders = lineData.legendData;

    if (chart._vars.seriesFlipped && chart._vars.flippedLegendHeaders) {
        dataHeaders = chart._vars.flippedLegendHeaders;
    } else if (chart._vars.legendHeaders) {
        dataHeaders = chart._vars.legendHeaders;
    }

    var lineDataNew = jvCharts.getToggledData(lineData, dataHeaders);

    //If it's an area chart, add the area
    if (chart.config.type === 'area') {
        chart.fillArea(lineDataNew);
    }

    generateLineGroups(lines, lineDataNew, chart);
    var eventGroups = jvCharts.generateEventGroups(lines, lineDataNew, chart);

    eventGroups.on('mouseover', function (d, i, j) {
        //Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
        svg.selectAll('.tip-line').remove();
    });

    chart.displayValues();
    // chart.generateClipPath();
    chart.generateLineThreshold();

    return lines;
}

/**generateLineGroups
 *
 * Paints the groups of the lines
 * @params chartContainer, barData, chart
 */
function generateLineGroups(lineContainer, lineData, chart) {
    var container = chart.config.container,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,
        colors = chart._vars.color,
        lines,
        lineLength = lineData.length,
        legendLength = legendData.length;

    //Get Position Calculations
    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars, 'no-padding');
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars, 'no-padding');

    var xTranslate, yTranslate;

    if (chart._vars.rotateAxis === true) {
        xTranslate = function xTranslate(d, i) {
            if (d === '') {
                return x('EMPTY_STRING');
            }
            return x(d);
        };
        yTranslate = function yTranslate(d, i) {
            return y(lineData[i][yAxisData.label]) + container.height / lineLength / 2; //+ container.height / (lineLength) / 2  - y.paddingInner());
        };
    } else {
        xTranslate = function xTranslate(d, i) {
            if (lineData[i][xAxisData.label] === '') {
                lineData[i][xAxisData.label] = 'EMPTY_STRING';
            }
            return x(lineData[i][xAxisData.label]) + container.width / lineLength / 2; //+ container.width / (lineLength) / 2 - x.paddingInner());
        };
        yTranslate = function yTranslate(d, i) {
            return y(d);
        };
    }

    //Append lines and circles

    var data = {};
    for (var i = 0; i < lineLength; i++) {
        for (var _k = 0; _k < legendLength; _k++) {
            if (typeof chart._vars.legendOptions !== 'undefined') {
                //Accounting for legend toggles
                if (chart._vars.legendOptions[_k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    //Write something to data
                    if (!data[legendData[_k]]) {
                        data[legendData[_k]] = [];
                    }
                    data[legendData[_k]].push(parseFloat(lineData[i][legendData[_k]]));
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[_k]]) {
                    data[legendData[_k]] = [];
                }
                if (data[legendData[_k]].length < lineLength) {
                    data[legendData[_k]].push(parseFloat(lineData[i][legendData[_k]]));
                }
            }
        }
    }

    chart.svg.selectAll('.lines').remove();
    chart.svg.selectAll('.line').remove();
    chart.svg.selectAll('.circle').remove();
    chart.svg.selectAll('#line-gradient').remove();

    lines = chart.svg.selectAll('.line-container');

    //curves object
    var curves = {
        'Linear': d3.curveLinear,
        'Step': d3.curveStep,
        'Step Before': d3.curveStepBefore,
        'Step After': d3.curveStepAfter,
        'Basis': d3.curveBasis,
        'Cardinal': d3.curveCardinal,
        'Monotone X': d3.curveMonotoneX,
        'Catmull Rom': d3.curveCatmullRom
    };

    var valueline = {};
    var circles = {};
    var index = 0;
    var lineColors = [];
    var thresholding = false;
    for (var k in data) {
        //Create path generator for each series
        if (data.hasOwnProperty(k)) {
            if (data[k] === '') {
                data[k] = 'EMPTY_STRING';
            }

            valueline[k] = d3.line() //line drawing function
            .curve(curves[chart._vars.lineCurveType]).x(function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).y(function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            });

            //Add lines to the line-container
            lines.append('g').attr('class', 'line ' + k).append('path') //draws the line
            .attr('stroke', function (d, i, j) {
                var colorObj = jvCharts.getColors(colors, i, k);
                lineColors.push(colorObj);
                return colorObj;
            }) //fills the bar with color
            .attr('stroke-width', '2').attr('fill', 'none').attr('d', valueline[k](data[k]));

            //Color Thresholding for each tier
            if (chart._vars.thresholds != 'none' && chart._vars.colorChart != false) {
                if (chart._vars.colorLine) {
                    var thresholdPercents = [];
                    var thresholdLength = Object.keys(chart._vars.thresholds).length;
                    if (chart._vars.rotateAxis) {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < thresholdLength; z++) {
                            var pCent = chart._vars.thresholds[z].threshold * 100 / (xAxisData.max - xAxisData.min);
                            var temp = { percent: pCent, color: chart._vars.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    } else {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var _z = 0; _z < thresholdLength; _z++) {
                            var pCent = chart._vars.thresholds[_z].threshold * 100 / (yAxisData.max - yAxisData.min);
                            var temp = { percent: pCent, color: chart._vars.thresholds[_z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    }

                    var thresholdData = chart.setLineThresholdData(chart, thresholdPercents, lineColors[index]);

                    lines.selectAll('path').attr('class', 'line-threshold');

                    if (chart._vars.rotateAxis) {
                        chart.svg.append('linearGradient').attr('id', 'line-gradient').attr('gradientUnits', 'userSpaceOnUse').attr('x1', xTranslate(xAxisData.min)).attr('y1', 0).attr('x2', xTranslate(xAxisData.max)).attr('y2', 0).selectAll('stop').data(thresholdData).enter().append('stop').attr('offset', function (d) {
                            return d.offset;
                        }).attr('stop-color', function (d) {
                            return d.color;
                        });
                    } else {
                        chart.svg.append('linearGradient').attr('id', 'line-gradient').attr('gradientUnits', 'userSpaceOnUse').attr('x1', 0).attr('y1', yTranslate(yAxisData.min)).attr('x2', 0).attr('y2', yTranslate(yAxisData.max)).selectAll('stop').data(thresholdData).enter().append('stop').attr('offset', function (d) {
                            return d.offset;
                        }).attr('stop-color', function (d) {
                            return d.color;
                        });
                    }
                }
                thresholding = true;
            }

            //Add circles at joints in the lines
            circles[k] = lines.append('g').attr('class', 'circle ' + k).selectAll('circle').data(data[k]).enter().append('circle') //Circles for the joints in the line
            .attr('class', function (d, i) {
                return 'circle-' + chart.currentData.chartData[i][chart.currentData.dataTable.label] + ' highlight-class-' + i;
            }).attr('cx', function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).attr('cy', function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            }).attr('fill', function (d, i, j) {
                if (isNaN(d)) {
                    return null;
                } else if (thresholding == true) {
                    var length = Object.keys(chart._vars.thresholds).length - 1;
                    if (chart._vars.rotateAxis) {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart._vars.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    } else {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart._vars.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    }
                }

                return jvCharts.getColors(colors, i, k);
            }).attr('opacity', function (d, i, j) {
                if (isNaN(d)) {
                    return 0;
                }
                return 1;
            }).attr('r', 2.5);

            index++;
        }
    }

    //Return line groups
    return lines.selectAll('.circle');
}

function setLineThresholdData(chart, thresholds) {
    var data = [];
    var thresholdLength = thresholds.length;
    for (var k = 0; k < thresholdLength; k++) {
        var gradientOne = { offset: thresholds[k].percent + '%', color: thresholds[k].color };
        data.push(gradientOne);

        if (k + 1 < thresholdLength) {
            var gradientTwo = { offset: thresholds[k + 1].percent + '%', color: thresholds[k].color };
            data.push(gradientTwo);
        }

        if (k == thresholdLength - 1) {
            var last = { offset: '100%', color: thresholds[k].color };
            data.push(last);
        }
    }

    return data;
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],15:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.circlepack = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generatePack = generatePack;

/************************************************ Pack functions ******************************************************/

/**setPackChartData
 *  gets pack data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setPackLegendData(chart.data.dataTable);
    //define color object for chartData
    chart.data.color = chart.colors;
}

/**setPackLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPackLegendData(dataTable) {
    var legendArray = [];
    var label = '';
    for (var key in dataTable) {
        if (dataTable.hasOwnProperty(key)) {
            if (key === 'value') {
                label = dataTable[key];
            } else {
                if (key !== 'tooltip 1') {
                    legendArray.push(dataTable[key]);
                }
            }
        }
    }
    legendArray.unshift(label);
    return legendArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var packMargins = {
        top: 30,
        right: 20,
        bottom: 15,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, packMargins);
    chart.generateVerticalLegend('generatePack');
    chart.generatePack(chart.currentData);
};

/** generatePack
 *
 * paints the pack on the chart
 * @params packData
 */
function generatePack() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        w = container.width,
        h = container.height,
        r = Math.min(h / 2, w / 3),
        margin = 20,
        diameter = r * 2;

    chart.children = chart.data.chartData;

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    var pack = d3.pack().size([container.width, container.height]).padding(2);

    pack(root.sum(function (d) {
        return d.hasOwnProperty('children') ? 0 : d.name;
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    svg.selectAll(".pack").remove();

    var vis = svg.append("g").attr("class", "pack").attr("transform", "translate(" + w / 2 + "," + r + ")");

    var circle = vis.selectAll("circle").data(root.descendants()).enter().append("circle").attr("class", function (d) {
        return d.parent ? d.children ? "node" : "node node--leaf" : "node node--root";
    }).style("fill", function (d) {
        d.color = color(d.depth);
        return d.children ? color(d.depth) : null;
    }).on("click", function (d) {
        if (focus !== d) {
            zoom(d), d3.event.stopPropagation();
        }
    }).on("mouseover", function (d, i) {
        //Get tip data
        // var tData = chart.data.tipData.get(d.data.name);
        // tData.name = d.data.name;
        // tData.color = d.color;
        var tipData = chart.setTipData(d, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        chart.tip.d = d;
        chart.tip.i = i;
    }).on("mousemove", function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
    });

    // var text = vis.selectAll("text")
    //     .data(root.descendants())
    //     .enter().append("text")
    //     .attr("class", "label")
    //     .style("display", function(d) {
    //         return d.parent === root ? "inline" : "none";
    //     });

    var node = svg.selectAll("circle,text");

    d3.select("body").on("click", function () {
        zoom(root);
    });

    zoomTo([root.x, root.y, root.r * 2 + margin]);

    function zoom(d) {
        var focus = d;

        d3.transition().duration(d3.event.altKey ? 7500 : 750).tween("zoom", function (d) {
            var i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2 + margin]);
            return function (t) {
                zoomTo(i(t));
            };
        });

        // transition.selectAll("text")
        //     .filter(function(d) {
        //         return d.parent === focus || this.style.display === "inline";
        //     })
        //     .style("fill-opacity", function(d) {
        //         return d.parent === focus ? 1 : 0;
        //     })
        //     .style("display", function(d) {
        //         return d.parent === focus ? "inline" : "none";
        //     })
        //     .each("start", function(d) {
        //         if (d.parent === focus) {
        //            this.style.display = "inline";
        //         }
        //     })
        //     .each("end", function(d) {
        //         if (d.parent !== focus) {
        //           this.style.display = "none";
        //         }
        //     });
    }
    var view;
    function zoomTo(v) {
        var k = diameter / v[2];

        //set global zoom
        view = v;

        node.attr("transform", function (d) {
            if (d && d.x && d.y) {
                return "translate(" + (d.x - v[0]) * k + "," + (d.y - v[1]) * k + ")";
            }
        });

        circle.attr("r", function (d) {
            return d.r * k;
        });
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],16:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.pie = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generatePie = generatePie;

/************************************************ Pie Data functions ******************************************************/

/**setPieData
 *  gets pie data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setPieLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}
/**setPieLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPieLegendData(data) {
    var legendArray = [];
    for (var i = data.chartData.length - 1; i >= 0; i--) {
        legendArray.push(data.chartData[i][data.dataTable.label]);
    }
    return legendArray;
}

function paint() {
    var chart = this;
    var customMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };

    chart.currentData = chart.data;
    chart._vars.color = chart.data.color;
    chart.legendData = chart.data.legendData;
    chart.generateSVG(chart.data.legendData, customMargins);

    //If the container size is small, don't generate a legend
    if (chart.config.container.width > 550) {
        chart.generateVerticalLegend('generatePie');
    }

    chart.generatePie(chart.currentData);
}

/**generatePie
 *
 * creates and draws a pie chart on the svg element
 * @params svg, pieData, _vars, container, chartName
 * @returns {{}}
 */
function generatePie(currentData) {
    var chart = this,
        svg = chart.svg,
        pieData = currentData.chartData,
        container = chart.config.container,
        legendData = chart.currentData.legendData;

    //define variables to change attr's
    svg.select('g.pie-container').remove();

    var colors = chart._vars.color;
    var w = container.width;
    var h = container.height;
    var r = Math.min(h / 2, w / 3);

    var data = [];
    var total = 0;

    for (var i = 0; i < pieData.length; i++) {
        var obj = {};
        for (var _j in chart.data.dataTable) {
            obj[_j] = pieData[i][chart.data.dataTable[_j]];
        }
        data[i] = obj;
    }

    var pieDataNew = data; //copy of pie data


    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < pieDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === pieDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    //pieDataNew.splice(j,1);
                    pieDataNew[j].value = 0;
                }
            }
        }
    }

    for (var i = 0; i < pieDataNew.length; i++) {
        total += parseFloat(pieDataNew[i].value);
    }

    var vis = svg.append('g').data([pieDataNew]).attr('class', 'pie-container').attr('height', 200).attr('transform', 'translate(' + w / 2 + ',' + r + ')');

    var pie = d3.pie().value(function (d) {
        return d.value;
    });

    //declare an arc generator function
    var arc = d3.arc().innerRadius(0) //Normal pie chart when this = 0, can be changed to create donut chart
    .outerRadius(r);

    // var arcOver = d3.arc()
    //     .innerRadius(0)
    //     .outerRadius(r + 15);

    //select paths, use arc generator to draw
    var arcs = vis.selectAll('g.slice').data(pie).enter().append('g').attr('class', 'slice');

    arcs.append('path').attr('fill', function (d, i) {
        return jvCharts.getColors(colors, i, d.data.label);
    }).attr('d', function (d) {
        return arc(d);
    }).attr('class', function (d, i) {
        return 'editable editable-pie pie-slice-' + i + ' highlight-class-' + i;
    }).attr('stroke', chart._vars.pieBorder).attr('stroke-width', chart._vars.pieBorderWidth).on('mouseover', function (d, i, j) {
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            // Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    });

    arcs.append('svg:text').attr('class', 'sliceLabel').attr('transform', function (d) {
        var test = arc.centroid(d);
        test[0] = test[0] * 1.6;
        test[1] = test[1] * 1.6;
        return 'translate(' + test + ')';
    }).attr('dy', '.35em').attr('text-anchor', 'middle').text(function (d, i) {
        var percent = pieDataNew[i].value / total * 100;
        percent = d3.format('.1f')(percent);
        if (percent > 5) {
            return percent + '%';
        }
    }).attr('font-size', chart._vars.fontSize).attr('fill', chart._vars.pieTextColor).attr('pointer-events', 'none');
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],17:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.radial = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateRadial = generateRadial;

/************************************************ Radial Data functions ******************************************************/
/**setRadialChartData
 *  gets bar data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setRadialLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var radialMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, radialMargins);
    chart.generateVerticalLegend('generateRadial');
    chart.generateRadial();
}

/**setRadialLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setRadialLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.length; i++) {
        if (legendArray.indexOf(data.chartData[i][data.dataTable.label]) == -1) {
            legendArray.push(data.chartData[i][data.dataTable.label]);
        }
    }
    return legendArray;
}

/**generateRadial
 *
 * paints the radil bar chart on the chart
 * @params radialData
 */

function generateRadial() {
    var chart = this,
        svg = chart.svg,
        colors = chart._vars.color,
        container = chart.config.container,
        legendData = chart.data.legendData,
        radialData = chart.data.chartData,
        tickNumber = 3,
        barHeight = container.height / 2 - 40,
        width = container.width,
        height = container.height,
        r = Math.min(height / 2, width / 3),
        data = [],
        allKeys = [chart.data.dataTable.label, chart.data.dataTable.value],
        radialDataNew,
        dataHeaders,
        legendElementToggleArray = [],
        radialDataFiltered;

    for (var i = 0; i < radialData.length; i++) {
        var obj = {};
        for (var _j in chart.data.dataTable) {
            obj[_j] = radialData[i][chart.data.dataTable[_j]];
        }
        data[i] = obj;
        //total += parseFloat(pieData[i][keys[1]]);
    }

    radialDataNew = JSON.parse(JSON.stringify(data)); //copy of pie data


    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    dataHeaders = chart._vars.legendHeaders;
    legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    radialDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < radialDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === radialDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    radialDataNew[j].value = -1;
                }
            }
        }
    }

    for (var j = 0; j < radialDataNew.length; j++) {
        if (radialDataNew[j].value !== -1) {
            radialDataFiltered.push(radialDataNew[j]);
        }
    }

    radialDataFiltered.sort(function (a, b) {
        return b.value - a.value;
    });

    //Remove existing bars from page
    svg.selectAll('g.radial-container').remove();

    var vis = svg.append('g').attr('class', 'radial-container').attr('height', height).attr('transform', 'translate(' + width / 2 + ',' + r + ')');

    var extent = d3.extent(radialDataFiltered, function (d) {
        return d.value;
    });

    //commas and 0 decimals
    var formatNumber = d3.format(',.0f');
    if (extent[1] >= 1000000) {
        //millions
        var p = d3.precisionPrefix(1e5, 1.3e6);
        formatNumber = d3.formatPrefix('.' + p, 1.3e6);
    } else if (extent[1] <= 100) {
        //2 decimals
        formatNumber = d3.format(',.2f');
    }

    if (extent[0] !== 0) {
        extent[0] = 0;
    }
    var barScale = d3.scaleLinear().domain(extent).range([0, barHeight]);

    var keys = radialDataFiltered.map(function (d, i) {
        return d.label;
    });
    var numBars = keys.length;

    var x = d3.scaleLinear().domain(extent).range([0, -barHeight]);

    //create xAxis drawing function
    var xAxis = d3.axisLeft().scale(x).ticks(tickNumber).tickFormat(formatNumber);

    vis.selectAll('circle').data(x.ticks(3)).enter().append('circle').attr('r', function (d) {
        return barScale(d);
    }).style('fill', 'none').style('stroke', 'black').style('stroke-dasharray', '2,2').style('stroke-width', '.5px');

    var arc = d3.arc().startAngle(function (d, i) {
        return i * 2 * Math.PI / numBars;
    }).endAngle(function (d, i) {
        return (i + 1) * 2 * Math.PI / numBars;
    }).innerRadius(0);

    var segments = vis.selectAll('path').data(radialDataFiltered).enter().append('g')
    //.attr("class", "label")
    .append('path').each(function (d) {
        d.outerRadius = 0;
    }).style('fill', function (d, i) {
        return jvCharts.getColors(colors, i, d.label);
    }).attr('d', arc).on('mouseover', function (d, i) {
        if (chart.draw.showToolTip) {
            //chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    segments.transition().duration(800).ease(d3.easeElastic).delay(function (d, i) {
        return 750 - 50 * i;
    }).attrTween('d', function (d, index) {
        var i = d3.interpolate(d.outerRadius, barScale(+d.value));
        return function (t) {
            d.outerRadius = i(t);
            return arc(d, index);
        };
    });

    vis.append('circle').attr('r', barHeight).classed('outer', true).style('fill', 'none').style('stroke', 'black').style('stroke-width', '1.5px');

    vis.selectAll('line').data(keys).enter().append('g').attr('class', 'label').append('line').attr('y2', -barHeight - 20).style('stroke', 'black').style('stroke-width', '.5px').attr('transform', function (d, i) {
        return 'rotate(' + i * 360 / numBars + ')';
    });

    var axisGroup = vis.append('g').attr('class', 'xAxis').style('pointer-events', 'none').call(xAxis);
    var yAxisClass = 'yAxisLabels editable editable-yAxis editable-text editable-num';

    axisGroup.selectAll('text').attr('fill', 'black') //Customize the color of axis labels
    .attr('class', yAxisClass).attr('transform', function (d) {
        if (d === xAxis.scale().ticks(tickNumber)[tickNumber]) {
            return 'translate(0, 10)';
        }
        return 'translate(0,0)';
    }).attr('font-size', chart._vars.fontSize).append('svg:title');
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],18:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sankey = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateSankey = generateSankey;

/************************************************ Sankey functions ******************************************************/
/**
 *
 * @param data
 * @param dataTable
 * @param colors
 */
function setData() {
    var chart = this;
    var sankeyData = {},
        data = chart.data.chartData,
        dataTable = chart.data.dataTable;

    sankeyData.links = [];
    sankeyData.nodes = [];

    //Iterate through sources and targets to make a node list
    var nodeList = [];
    var nodeGroup = 1;
    for (var item in dataTable) {
        var nodeListForLabel = [];
        if (item === 'value') {
            continue;
        };
        for (var i = 0; i < data.length; i++) {
            var potentialNode = data[i][dataTable[item]] + "-" + nodeGroup;
            var addToList = true;
            for (var j = 0; j < nodeListForLabel.length; j++) {
                if (potentialNode === nodeListForLabel[j]) {
                    addToList = false;
                    break;
                }
            }
            if (addToList) {
                nodeListForLabel.push(potentialNode);
            }
        }
        nodeGroup++;
        nodeList = nodeList.concat(nodeListForLabel);
    }
    //Create nodes object
    for (var i = 0; i < nodeList.length; i++) {
        sankeyData.nodes.push({
            'name': nodeList[i]
        });
    }

    //See how many sets of links you need
    var linkGroups = 0;

    for (var _item in dataTable) {
        if (_item.indexOf('label') !== -1) {
            linkGroups++;
        }
    }

    var _loop = function _loop(_i) {
        linkGroup = [];

        linkGroup = data.map(function (x) {

            var label1 = "label " + _i;
            var label2 = "label " + (_i + 1);
            var source = dataTable[label1];
            var target = dataTable[label2];
            var value = dataTable.value;

            return {
                'source': x[source] + "-" + _i,
                'target': x[target] + "-" + (_i + 1),
                'value': x[value]
            };
        });

        sankeyData.links = sankeyData.links.concat(linkGroup);
    };

    for (var _i = 1; _i < linkGroups; _i++) {
        var linkGroup;

        _loop(_i);
    }

    var nodeMap = {};
    for (i = 0; i < sankeyData.nodes.length; i++) {
        sankeyData.nodes[i].node = i;
        nodeMap[sankeyData.nodes[i].name] = i;
    }
    sankeyData.links = sankeyData.links.map(function (x) {
        console.log(x);
        return {
            source: nodeMap[x.source],
            target: nodeMap[x.target],
            value: x.value
        };
    });

    //Group common sankey links together and add the values
    var aggregateSankeyLinks = [];
    for (var _i2 = 0; _i2 < sankeyData.links.length; _i2++) {
        var currentLink = {};
        currentLink.source = sankeyData.links[_i2].source;
        currentLink.target = sankeyData.links[_i2].target;
        currentLink.value = sankeyData.links[_i2].value;

        //Make sure that only unique links are pushed to the aggregated array
        var addToAggregate = true;
        for (var k = 0; k < aggregateSankeyLinks.length; k++) {
            if (aggregateSankeyLinks[k].source === currentLink.source && aggregateSankeyLinks[k].target === currentLink.target) {
                addToAggregate = false;
                break;
            }
        }

        if (!addToAggregate) {
            continue;
        }

        //Sum the value of identical links
        for (var _j = 0; _j < sankeyData.links.length; _j++) {
            if (sankeyData.links[_i2].source === sankeyData.links[_j].source && sankeyData.links[_i2].target === sankeyData.links[_j].target) {
                currentLink.value = currentLink.value + sankeyData.links[_j].value;
            }
        }

        aggregateSankeyLinks.push(currentLink);
    }

    sankeyData.links = aggregateSankeyLinks;

    chart.data.chartData = sankeyData;
    chart.data.color = d3.scaleOrdinal(d3.schemeCategory20);
}

function paint() {
    var chart = this;
    var data = chart.data.chartData;

    //generate SVG
    chart.generateSVG(null);
    chart.generateSankey(data);
}

/**
 * Generates a sankey chart with the given data
 * @param sankeyData
 */
function generateSankey(sankeyData) {
    var chart = this,
        svg = chart.svg,
        color = chart._vars.color;

    var width = chart.config.container.width;
    var height = chart.config.container.height;

    var formatNumber = d3.format(',.0f'),
        // zero decimal places
    format = function format(d) {
        return formatNumber(d) + ' ' + 'Widgets';
    },
        color = d3.scaleOrdinal(d3.schemeCategory20);

    var sankey = d3.sankey().nodeWidth(10).nodePadding(15).size([width, height]);

    var path = sankey.link();

    // //Adding zoom v4 behavior to sankey
    d3.selectAll('svg').call(d3.zoom().scaleExtent([.1, 10]).on('zoom', zoom)); //zoom event listener

    sankey.nodes(sankeyData.nodes).links(sankeyData.links).layout(32);

    var link = svg.append('g').selectAll('.sankey-link').data(sankeyData.links).enter().append('path').filter(function (d) {
        return d.value > 0;
    }).attr('class', 'sankey-link').attr('d', path).style('stroke-width', function (d) {
        return Math.max(1, d.dy);
    }).sort(function (a, b) {
        return b.dy - a.dy;
    }).on('mouseover', function (d, i) {
        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var node = svg.append('g').selectAll('.node').data(sankeyData.nodes).enter().append('g').filter(function (d) {
        return d.value > 0;
    }).attr('class', 'node').attr('transform', function (d) {
        return 'translate(' + d.x + ', ' + d.y + ')';
    }).call(d3.drag().subject(function (d) {
        return d;
    }).on('start', function (d) {
        d3.event.sourceEvent.stopPropagation();
        this.parentNode.appendChild(this);
    }).on('drag', dragmove));

    node.append('rect').attr('height', function (d) {
        //return d.dy;
        return Math.abs(d.dy);
        //return Math.max(d.dy, 2);
    }).attr('width', sankey.nodeWidth()).style('fill', function (d) {
        return d.color = color(d.name);
    }).style('stroke', function (d) {
        return d3.rgb(d.color).darker(2);
    });

    node.append('text').attr('x', -6).attr('y', function (d) {
        return d.dy / 2;
    }).attr('dy', '.35em').attr('text-anchor', 'end').attr('transform', null).attr('transform', null).text(function (d) {
        //Remove the the nodeGroup tag and hyphen from the end of the label
        return d.name.slice(0, -2);
    }).filter(function (d) {
        return d.x < width / 2;
    }).attr('x', 6 + sankey.nodeWidth()).attr('text-anchor', 'start');

    function dragmove(d) {
        d3.select(this).attr('transform', 'translate(' + (d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))) + ',' + (d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))) + ')');
        sankey.relayout();
        link.attr('d', path);
    }

    function zoom() {
        //Implementing the v4 zooming feature
        svg.attr('transform', d3.event.transform);
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],19:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.scatterplot = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateScatter = generateScatter;
jvCharts.prototype.createLineGuide = createLineGuide;

/************************************************ Scatter functions ******************************************************/

/**setScatterData
 *  gets scatter data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setScatterLegendData(chart.data);
    chart.data.xAxisData = setScatterAxisData(chart.data, 'x', chart._vars);
    chart.data.yAxisData = setScatterAxisData(chart.data, 'y', chart._vars);
    chart.data.zAxisData = chart.data.dataTable.hasOwnProperty('z') ? setScatterAxisData(chart.data, 'z', chart._vars) : {};
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setScatterLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setScatterLegendData(data) {
    var legendArray = [];
    if (data.dataTable.hasOwnProperty('series')) {
        var item = data.dataTable.series;
        for (var value in data.chartData) {
            var legendElement = data.chartData[value][item];
            if (legendArray.indexOf(legendElement) === -1) {
                legendArray.push(legendElement);
            }
        }
    } else if (data.dataTable.hasOwnProperty('label')) {
        legendArray.push(data.dataTable.label);
    }
    if (typeof legendArray[0] === 'undefined') {
        legendArray = [];
        legendArray.push(data.dataTable.label);
    }
    //order legend data in alphabetical order
    legendArray.sort();
    return legendArray;
}

/**setScatterAxisData
 *  gets z axis data based on the chartData
 *
 * @params data, dataTable
 * @returns object with label and values
 */
function setScatterAxisData(data, axis, _vars) {
    //declare vars
    var axisData = [],
        chartData = data.chartData,
        scatterLabel = data.dataTable[axis],
        min = scatterLabel ? chartData[0][scatterLabel] : 0,
        max = scatterLabel ? chartData[0][scatterLabel] : 0,
        dataType;

    for (var j = 0; j < data.dataTableKeys.length; j++) {
        if (data.dataTableKeys[j].vizType === axis) {
            dataType = data.dataTableKeys[j].type;
            break;
        }
    }
    //loop over data to find max and min
    //also determines the y axis total if the data is stacked
    for (var i = 1; i < chartData.length; i++) {
        if (chartData[i].hasOwnProperty(scatterLabel)) {
            var num = chartData[i][scatterLabel];
            if (!isNaN(num)) {
                num = parseFloat(num);
                if (num > max) {
                    max = num;
                } else if (num < min) {
                    min = num;
                }
            }
        }
    }
    if (axis !== 'z') {
        min *= 0.9;
        max *= 1.1;
    }

    if (_vars.yMin && !isNaN(_vars.yMin) && axis === 'y') {
        min = _vars.yMin;
    }
    if (_vars.yMax && !isNaN(_vars.yMax) && axis === 'y') {
        max = _vars.yMax;
    }
    if (_vars.xMin && !isNaN(_vars.xMin) && axis === 'x') {
        min = _vars.xMin;
    }
    if (_vars.xMax && !isNaN(_vars.xMax) && axis === 'x') {
        max = _vars.xMax;
    }

    axisData.push(min);
    axisData.push(max);
    return {
        'label': scatterLabel,
        'values': axisData,
        'dataType': 'NUMBER',
        'min': min,
        'max': max
    };
}

function paint() {
    var chart = this;
    var dataObj = {};

    dataObj.chartData = chart.data.chartData;
    dataObj.legendData = chart.data.legendData;
    dataObj.dataTable = chart.data.dataTable;
    chart._vars.color = chart.data.color;
    dataObj.xAxisData = chart.data.xAxisData;
    dataObj.yAxisData = chart.data.yAxisData;
    dataObj.zAxisData = chart.data.zAxisData;
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);

    //TODO remove these from draw object
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateScatter');

    chart.generateScatter();
    chart.createLineGuide();

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

function calculateMean(data, type) {
    return d3.mean(data, function (value) {
        return +value[type];
    });
}

function createLineGuide() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        chartData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData;

    var xLineVal = calculateMean(chartData, dataTable.x);
    var yLineVal = calculateMean(chartData, dataTable.y);

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    svg.selectAll('g.lineguide.x').remove();
    svg.selectAll('g.lineguide.y').remove();

    var lineGroup = svg.append('g').attr('class', 'line-group');

    //x line group for crosshair
    var lineGuideX = lineGroup.append('g').attr('class', 'lineguide x').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (chart._vars.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //y line group for crosshair
    var lineGuideY = lineGroup.append('g').attr('class', 'lineguide y').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (chart._vars.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //create crosshair based on median x (up/down) 'potentially' passed with data
    lineGuideX.attr('x1', x(xLineVal)).attr('y1', 0).attr('x2', x(xLineVal)).attr('y2', container.height);

    //create crosshair based on median y (left/right) 'potentially' passed with data
    lineGuideY.attr('x1', 0).attr('y1', y(yLineVal)).attr('x2', container.width).attr('y2', y(yLineVal));

    return lineGroup;
}
/**generateScatter
 *
 * creates and draws a scatter plot on the svg element
 * @params svg, scatterData, _vars, xAxisData, yAxisData, zAxisData, container, dataTable legendData, chartName
 * @returns {{}}
 */
function generateScatter() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        scatterData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        zAxisData = chart.currentData.zAxisData,
        legendData = chart.currentData.legendData,
        colors = chart._vars.color,
        scatterDataNew = JSON.parse(JSON.stringify(scatterData));

    if (!chart._vars.NODE_MIN_SIZE) {
        chart._vars.NODE_MIN_SIZE = 4.5;
    }
    if (!chart._vars.NODE_MAX_SIZE) {
        chart._vars.NODE_MAX_SIZE = 25;
    }

    //set clip path rectangle
    svg.append('clipPath').attr('id', 'scatter-area').append('rect').attr('x', 1).attr('width', container.width - 1).attr('height', container.height).attr('fill', chart._vars.backgroundColor);

    svg.selectAll('g.scatter-container').remove();
    svg.selectAll('g.scatter-container.editable-scatter').remove();

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;
    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    var scatterDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < scatterDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (typeof scatterDataNew[j][dataTable.label] === 'undefined' || scatterDataNew[j][dataTable.label] === '') {
                    if (legendElementToggleArray[i].toggle === false) {
                        scatterDataNew[j][dataTable.x] = -1;
                        scatterDataNew[j][dataTable.y] = -1;
                        scatterDataNew[j][dataTable.z] = -1;
                    }
                } else if (legendElementToggleArray[i].element === scatterDataNew[j][dataTable.series] && legendElementToggleArray[i].toggle === false) {
                    scatterDataNew[j][dataTable.x] = -1;
                    scatterDataNew[j][dataTable.y] = -1;
                    scatterDataNew[j][dataTable.z] = -1;
                }
            }
        }
    }

    for (var j = 0; j < scatterDataNew.length; j++) {
        if (scatterDataNew[j][dataTable.x] !== -1 && scatterDataNew[j][dataTable.y] !== -1) {
            scatterDataFiltered.push(scatterDataNew[j]);
        }
    }

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    if (zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0) {
        console.log(zAxisData);
        var z = jvCharts.getZScale(zAxisData, container, chart._vars);
    }

    var cxTranslate, cyTranslate;

    cxTranslate = function cxTranslate(d, i) {
        return x(scatterDataFiltered[i][xAxisData.label]);
    };
    cyTranslate = function cyTranslate(d, i) {
        return y(scatterDataFiltered[i][yAxisData.label]);
    };

    var scatters = svg.append('g').attr('class', 'scatter-container').selectAll('g');
    var tempMouseOver;
    scatters.data(function () {
        return scatterDataFiltered;
    }).enter().append('circle').attr('clip-path', 'url(#scatter-area)').attr('class', function (d, i) {
        return 'editable editable-scatter scatter-circle-' + i + ' highlight-class';
    }).attr('cx', function (d, i) {
        return cxTranslate(d, i);
    }).attr('cy', function (d, i) {
        return cyTranslate(d, i);
    })
    // .attr("clip-path", "url(.line-group)")
    .attr("opacity", 0.8).attr('r', function (d, i) {
        if (dataTable.hasOwnProperty('z')) {
            if (chart._vars.toggleZ && zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0 && scatterDataFiltered[i][dataTable.z]) {
                return z(scatterDataFiltered[i][dataTable.z]);
            }
        }
        return chart._vars.NODE_MIN_SIZE;
    }).on('mouseover', function (d, i, j) {
        if (chart.draw.showToolTip) {
            this.setAttribute('clip-path', '');
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function () {
        if (chart.draw.showToolTip) {
            this.setAttribute('clip-path', 'url(#scatter-area)');
            chart.tip.hideTip();
        }
    }).attr('fill', function (d, i) {
        var color;
        if (dataTable.hasOwnProperty('series')) {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.series]);
        } else {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.label]);
        }
        return color;
    });

    return scatters;
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],20:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.singleaxis = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.getSingleAxisData = getSingleAxisData;
jvCharts.prototype.getSingleAxisZ = getSingleAxisZ;
jvCharts.prototype.generatePoints = generatePoints;

/************************************************ Single Axis Cluster functions ******************************************************/

function setData() {
    var chart = this;
    chart.currentData = { chartData: chart.data.chartData, dataTable: chart.data.dataTable };

    //Set the legend Data to the label from dataTable Keys
    chart.currentData.legendData = [chart.currentData.dataTable.x];
    chart.currentData.xAxisData = chart.getSingleAxisData(chart.currentData.chartData, chart.currentData.dataTable);

    if (chart.currentData.dataTable.hasOwnProperty('size')) {
        chart.currentData.zAxisData = chart.getSingleAxisZ(chart.currentData.chartData);
    }

    chart.currentData.color = 'red'; //chart.setChartColors (chart._vars.color, chart.data.legendData, colors);
}

function paint() {
    var chart = this;
    var splitData = {},
        //If there is a split, the data that has been split
    numVizzes,
        //If there is a split, the number of single axis clusters that are created
    customSize = {},
        //If there is a split, the svg needs to be a custom predefined height
    margin = {
        top: 40,
        left: 100,
        right: 75,
        bottom: 50
    };

    //If there is a split on the viz, run through this logic
    if (chart._vars.splitData != "" && chart._vars.splitData != "none") {
        //Check to see how many vizzes need to be created because of the split
        var splitDataKeys = [];
        var splitOptionName = chart._vars.splitData.replace(/_/g, " ");

        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            var addToKeys = true;
            for (var j = 0; j < splitDataKeys.length; j++) {
                if (chart.currentData.chartData[i][splitOptionName] === splitDataKeys[j]) {
                    addToKeys = false;
                    break;
                }
            }
            if (addToKeys) {
                splitDataKeys.push(chart.currentData.chartData[i][splitOptionName]);
            }
        }

        //Create Object with keys and assign each element of the data array to corresponding object
        for (var i = 0; i < splitDataKeys.length; i++) {
            splitData[splitDataKeys[i]] = []; //Assign empty array to each location
        }

        //Assign Data elements to appropriate place in splitData object
        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            splitData[chart.currentData.chartData[i][splitOptionName]].push(chart.currentData.chartData[i]);
        }

        numVizzes = splitDataKeys.length;

        customSize.height = numVizzes * 300;

        chart.generateSVG(chart.currentData.legendData, margin, customSize);
        chart.generateXAxis(chart.currentData.xAxisData);
        chart.drawGridlines(chart.currentData.xAxisData);

        for (var i = 0; i < numVizzes; i++) {
            chart.generatePoints(splitData[splitDataKeys[i]], i);
        }
    }
    //When there isn't a split, the base case
    else {
            chart.generateSVG(chart.currentData.legendData, margin, customSize);
            chart.generateXAxis(chart.currentData.xAxisData);
            chart.drawGridlines(chart.currentData.xAxisData);
            chart.generatePoints(chart.currentData.chartData);
        }

    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function getSingleAxisZ(data) {
    var chart = this,
        size = chart.currentData.dataTable.size,
        min = data[0][size],
        max = data[0][size];
    //Find min and max of the data
    for (var i = 0; i < data.length; i++) {
        var num = data[i][size];
        if (num > max) {
            max = num;
        } else if (num < min) {
            min = num;
        }
    }

    return {
        'min': min,
        'max': max,
        'label': size
    };
}

function generatePoints(data, yLevel) {
    var chart = this,
        svg = chart.svg,
        width = chart.config.container.width,
        height = chart.config.container.height,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        zAxisData = chart.currentData.zAxisData,
        container = chart.config.container,
        pointColor = "#609cdb",
        coloredPoint = "#e88a17";

    var x = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart._vars);

    var SPLIT_CLUSTER_HEIGHT = 300;
    var TRANSLATE_SPLIT_CLUSTER = 150;

    //If there's a split, account for the multiple axes
    var currentAxisHeight;
    if (yLevel != null) {
        currentAxisHeight = yLevel * SPLIT_CLUSTER_HEIGHT + TRANSLATE_SPLIT_CLUSTER; //Each height is 100px
    } else {
        currentAxisHeight = height / 2;
    }

    if (!chart._vars.NODE_MIN_SIZE) {
        chart._vars.NODE_MIN_SIZE = 4.5;
    }
    if (!chart._vars.NODE_MAX_SIZE) {
        chart._vars.NODE_MAX_SIZE = 25;
    }

    //Add a path line through the height of the axis
    if (yLevel != null) {
        svg.append("line").attr("x1", 0).attr("x2", container.width).attr("y1", currentAxisHeight).attr("y2", currentAxisHeight).attr("stroke", "white").attr("stroke-width", "20px").attr("transform", "translate(0, " + TRANSLATE_SPLIT_CLUSTER + ")");

        svg.append("text").datum(data).attr("x", 0).attr("y", currentAxisHeight).text(function (d, i) {
            return d[0][chart._vars.splitData.replace(/_/g, ' ')];
        }).attr("transform", "translate(-85, 0)");
    }

    var simulation = d3.forceSimulation(data).alphaDecay(.05).force("x", d3.forceX(function (d) {
        return x(d[dataTable.x]);
    }).strength(1)).force("y", d3.forceY(currentAxisHeight)).force("collide", d3.forceCollide(function (d, i) {
        //Set collision radius equal to the radius of the circle
        if (dataTable.hasOwnProperty('size')) {
            var norm = (d[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            var val = (chart._vars.NODE_MAX_SIZE - chart._vars.NODE_MIN_SIZE) * norm + chart._vars.NODE_MIN_SIZE;
        } else {
            var val = chart._vars.NODE_MIN_SIZE;
        }
        return val;
    }).strength(1)).force("charge", d3.forceManyBody().strength(-6)).stop();
    //

    //On Draw Move Points
    function moveTowardDataPosition(alpha) {
        return function (d) {
            d.x += (x(d.x) - d.x) * .1 * alpha;
            d.y += (y(d.y) - d.y) * .05 * alpha;
        };
    }

    for (var i = 0; i < 120; ++i) {
        simulation.tick();
    }var cell = svg.append("g").attr("class", "cells").selectAll("g").data(d3.voronoi().extent([[0, 0], [width, height]]).x(function (d) {
        return d.x;
    }).y(function (d) {
        return d.y;
    }).polygons(data)).enter().append("g").attr("class", "cell-container");

    cell.append("circle").attr("r", function (d, i, j) {
        if (dataTable.hasOwnProperty('size') && d != null && d.hasOwnProperty('data')) {
            var norm = (d.data[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            if (!isNaN(norm)) {
                var val = (chart._vars.NODE_MAX_SIZE - chart._vars.NODE_MIN_SIZE) * norm + chart._vars.NODE_MIN_SIZE;
            } else {
                //If there is only 1 node on the chart
                var val = chart._vars.NODE_MIN_SIZE;
            }
        } else if (d == null) {
            var val = 0; //Don't display undefined nodes
        } else {
            var val = chart._vars.NODE_MIN_SIZE; //Default node size of 15
        }
        //val = 3;
        return val;
    }).attr("cx", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.x;
        }
    }).attr("cy", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.y;
        }
    }).attr("fill", function (d) {
        if (d != null && d.data[chart._vars.colorDataCategory] === chart._vars.colorDataInstance) {
            return coloredPoint;
        } else {
            return pointColor;
        }
    }).attr("opacity", .8).attr("stroke", "black").attr("stroke-width", 1).on('mouseover', function (d, i, j) {
        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, dataTable, d3.event);
            d3.select(this).attr("fill", chart._vars.singleAxisFillHoverColor);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on("mouseout", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
        d3.select(this).attr("fill", function (d) {
            if (d != null && d.data[chart._vars.colorDataCategory] === chart._vars.colorDataInstance) {
                return coloredPoint;
            } else {
                return pointColor;
            }
        });
    });
}

function getSingleAxisData(data, dataTable) {
    var chart = this;
    var label,
        dataType,
        min,
        max,
        values = [];

    if (dataTable) {
        if (dataTable.hasOwnProperty('x')) {
            label = dataTable.x;
        }
    }

    dataType = 'NUMBER';

    for (var i = 0; i < data.length; i++) {
        values.push(data[i][dataTable.x]);
    }

    min = Math.min.apply(null, values);
    max = Math.max.apply(null, values);

    //Add a 10% buffer to both sides
    min = Math.floor(min - (max - min) * .10);
    max = Math.ceil(max + (max - min) * .10);

    //For axis min/max widget
    if (chart._vars.hasOwnProperty('xMin') && chart._vars.xMin != 'none') {
        min = chart.options.xMin;
    }
    if (chart._vars.hasOwnProperty('xMax') && chart._vars.xMax != 'none') {
        max = chart._vars.xMax;
    }

    return {
        'label': label,
        'values': values,
        'dataType': dataType,
        'min': min,
        'max': max
    };
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],21:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sunburst = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateSunburst = generateSunburst;

/************************************************ Sunburst functions ******************************************************/

/**setSunburstChartData
 *  gets sunburst data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.color = chart.colors;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var sunburstMargins = {
        top: 15,
        right: 15,
        bottom: 15,
        left: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, sunburstMargins);
    //chart.generateLegend(chart.currentData.legendData, 'generateSunburst');
    chart.generateSunburst(chart.currentData);
}

/**generateSunburst
 *
 * paints the sunburst on the chart
 * @params sunburstData
 */
function generateSunburst(sunburstData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        chartName = chart.config.name,
        width = container.width,
        height = container.height,
        radius = Math.min(width, height) / 2 - 10;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    var formatNumber = d3.format(',d');

    var x = d3.scaleLinear().range([0, 2 * Math.PI]);

    var y = d3.scaleSqrt().range([0, radius]);

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 1;return c;
    }));

    //var color = d3.scaleOrdinal(d3.schemeCategory10);

    var partition = d3.partition();

    var arc = d3.arc().startAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x0)));
    }).endAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x1)));
    }).innerRadius(function (d) {
        return Math.max(0, y(d.y0));
    }).outerRadius(function (d) {
        return Math.max(0, y(d.y1));
    });

    //assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    root.sum(function (d) {
        return d.value;
    });

    var vis = svg.append('g').attr('class', 'sunburst').attr('width', width).attr('height', height).attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');

    vis.selectAll('path').data(partition(root).descendants()).enter().append('g').attr('class', 'node');

    var path = vis.selectAll('.node').append('path').attr('d', arc).style('fill', function (d) {
        if (d.data.name === 'root') {
            d.color = chart._vars.backgroundColor;
            return chart._vars.backgroundColor;
        }
        d.color = color(d.data.name);
        return color(d.data.name);
    }).on('mouseover', function (d, i, j) {
        if (chart.draw.showToolTip) {
            // var tData = chart.data.tipData.get(d.data.name);
            // tData.name = d.data.name;
            // tData.color = d.color;
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('click', click).on('mouseout', function (d) {
        chart.tip.hideTip();
    });

    if (chart._vars.displayValues) {
        var text = vis.selectAll('.node').append('text').attr('transform', function (d) {
            return 'rotate(' + computeTextRotation(d) + ')';
        }).attr('x', function (d) {
            return y(d.y0);
        }).attr('dx', '6') //margin
        .attr('dy', '.35em') //vertical-align
        .text(function (d) {
            return d.data.name === 'root' ? '' : d.data.name;
        });
    }

    function click(d) {
        //fade out all text elements
        if (chart._vars.displayValues) {
            text.transition().attr('opacity', 0);
        }

        vis.transition().duration(750).tween('scale', function () {
            var xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
                yd = d3.interpolate(y.domain(), [d.y0, 1]),
                yr = d3.interpolate(y.range(), [d.y0 ? 20 : 0, radius]);

            return function (t) {
                x.domain(xd(t));y.domain(yd(t)).range(yr(t));
            };
        }).selectAll('path').attrTween('d', function (d) {
            return function () {
                return arc(d);
            };
        }).on('end', function (e, i) {
            if (chart._vars.displayValues) {
                //check if the animated element's data e lies within the visible angle span given in d
                if (e.x0 > d.x0 && e.x0 < d.x1) {
                    //get a selection of the associated text element
                    var arcText = d3.select(this.parentNode).select('text');
                    //fade in the text element and recalculate positions
                    arcText.transition().duration(750).attr('opacity', 1).attr('class', 'visible').attr('transform', function () {
                        return 'rotate(' + computeTextRotation(e) + ')';
                    }).attr('x', function (d) {
                        return y(d.y0);
                    }).text(function (d) {
                        return d.data.name === 'root' ? '' : d.data.name;
                    });
                }
            }
        });
    }

    function computeTextRotation(d) {
        return (x((d.x0 + d.x1) / 2) - Math.PI / 2) / Math.PI * 180;
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],22:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.treemap = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateTreeMap = generateTreeMap;
/************************************************ TreeMap functions ******************************************************/

/**setTreeMapData
 *  gets treemap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setTreeMapLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setTreeMapLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setTreeMapLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var treeMapMargins = {
        top: 45,
        right: 50,
        left: 50,
        bottom: 130
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, treeMapMargins);
    chart.generateLegend(chart.currentData.legendData, 'generateTreeMap');
    chart.generateTreeMap(chart.currentData);
};

/** generateTreeMap
 *
 * paints the treemap on the chart
 * @params treeMapData
 */
function generateTreeMap(treeMapData) {

    var chart = this,
        svg = chart.svg,
        colors = treeMapData.color,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        treemap = null,
        chartName = chart.config.name;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, chart.data.legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < newData.children.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === newData.children[j][relationMap.series] && legendElementToggleArray[i].toggle === false) {
                    newData.children[j].show = false;
                }
            }
        }
    }

    var treeMapDataFiltered = {};
    treeMapDataFiltered["Parent"] = "Top Level";
    treeMapDataFiltered.children = [];

    for (var j = 0; j < newData.children.length; j++) {
        if (newData.children[j].show !== false) {
            treeMapDataFiltered.children.push(newData.children[j]);
        }
    }

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(treeMapDataFiltered, function (d) {
        return d.children;
    });

    var treemap = d3.treemap().size([container.width, container.height]).padding(2);

    var nodes = treemap(root.sum(function (d) {
        return d[relationMap.size];
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    //Remove existing bars from page
    svg.selectAll("g.treemap").remove();
    svg.append("g").attr("class", "treemap");

    var node = svg.select(".treemap").selectAll("g").data(root.leaves()).enter().append('g').attr('transform', function (d) {
        return 'translate(0,0)';
    });

    node.append('rect')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("fill", function (d, i) {
        return jvCharts.getColors(colors, i, d.data[relationMap.series]);
    }).attr("fill-opacity", .8).attr("stroke", chart._vars.white).attr("stroke-width", chart._vars.strokeWidth).on("mouseover", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d.data, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        chart.tip.d = d;
        chart.tip.i = i;

        // var rect = d3.select(this);
        // rect.attr("fill", chart._vars.light);
        // rect.transition().duration(200);
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
        // var rect = d3.select(this);
        // rect.attr("fill", function (d, i) {
        //     return jvCharts.getColors(colors, i, d.data[relationMap.series]);
        // });
        // rect.transition().duration(200);
    });

    node.append('text')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("transform", "translate(3, 18)").text(function (d) {
        if (d.dy !== 0) {
            return d.children ? null : d.data[relationMap.label];
        }
    });

    /* Don't display text if text is wider than rect */
    var temp = svg.select(".treemap").selectAll("g").selectAll("text");
    temp.attr("style", function (d) {
        if (this.getBBox().width >= d.x1 - d.x0 - 5) {
            return "display:none";
        }
        if (this.getBBox().height >= d.y1 - d.y0 - 5) {
            return "display:none";
        }
    });
};
module.exports = jvCharts;

},{"../jvCharts.js":4}],23:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.cloud = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateCloud = generateCloud;

/************************************************ Cloud functions ******************************************************/

/**setCloudData
 *  gets cloud data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //define color object for chartData
    chart.data.color = chart.colors;
};

/**setCloudLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setCloudLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint() {
    var chart = this;
    if (!chart.smallerFontRepaint) {
        chart._vars.fontSizeMax = 80;
        chart.currentData = chart.data;
    } else {
        chart.currentData = JSON.parse(JSON.stringify(chart.data));
    }

    chart._vars.color = chart.data.color;

    var cloudMargins = {
        top: 15,
        right: 15,
        left: 15,
        bottom: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, cloudMargins);
    // chart.generateLegend(chart.currentData.legendData, 'generateCloud');
    chart.generateCloud(chart.currentData);
};

/** generateCloud
 *
 * paints the cloud  on the chart
 * @params cloud Data
 */
function generateCloud(cloudData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        chartName = chart.config.name,
        width = container.width,
        height = container.height,
        margin = chart.config.margin,
        min,
        max;

    var categories = d3.keys(d3.nest().key(function (d) {
        if (!min && !max) {
            min = d[relationMap.value];
            max = d[relationMap.value];
        } else {
            if (d[relationMap.value] > max) {
                max = d[relationMap.value];
            }
            if (d[relationMap.value] < min) {
                min = d[relationMap.value];
            }
        }

        return d[relationMap.value];
    }).map(cloudData.chartData));

    if (!chart._vars.fontSizeMax) {
        chart._vars.fontSizeMax = 80;
    }

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    var fontSize = d3.scalePow().exponent(5).domain([0, 1]).range([10, chart._vars.fontSizeMax]);
    chart.smallerFontRepaint = false;
    var layout = d3.layout.cloud().timeInterval(10).size([width, height]).words(cloudData.chartData).rotate(function (d) {
        return 0;
    }).font('Roboto').fontSize(function (d, i) {
        return fontSize(max - min !== 0 ? (d[relationMap.value] - min) / (max - min) : 0);
    }).repaintWithSmallerFont(function () {
        if (chart._vars.fontSizeMax > 10) {
            chart._vars.fontSizeMax -= 5;
            chart.smallerFontRepaint = true;
            paint(chart);
        }
    }).text(function (d) {
        return d[relationMap.label];
    }).spiral("archimedean").on("end", draw).start();

    var wordcloud = svg.append("g").attr('class', 'wordcloud').attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    function draw(words) {
        if (chart.smallerFontRepaint) {
            return;
        }
        wordcloud.selectAll("text").data(cloudData.chartData).enter().append("text").attr('class', 'word').style("font-size", function (d) {
            return d.size + "px";
        }).style("font-family", function (d) {
            return d.font;
        }).style("fill", function (d) {
            return color(d[relationMap.value]);
        }).attr("text-anchor", "middle").transition().duration("1000").attr("transform", function (d) {
            return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
        }).text(function (d) {
            return d.text;
        }).on("mouseover", function (d, i) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            tipData.color = color(d[relationMap.value]);

            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            chart.tip.d = d;
            chart.tip.i = i;
        }).on('mousemove', function (d, i) {
            if (chart.draw.showToolTip) {
                if (chart.tip.d === d && chart.tip.i === i) {
                    chart.tip.showTip(d3.event);
                } else {
                    //Get tip data
                    var tipData = chart.setTipData(d, i);
                    //Draw tip line
                    chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
                }
            }
        }).on("mouseout", function (d) {
            chart.tip.hideTip();
        });
    }
};

module.exports = jvCharts;

},{"../jvCharts.js":4}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGVkaXRPcHRpb25zVGVtcGxhdGUuanMiLCJzcmNcXGp2LmpzIiwic3JjXFxqdkJydXNoLmpzIiwic3JjXFxqdkNoYXJ0cy5qcyIsInNyY1xcanZDb21tZW50LmpzIiwic3JjXFxqdkVkaXQuanMiLCJzcmNcXGp2U2VsZWN0LmpzIiwic3JjXFxqdlRpcC5qcyIsInNyY1xcanZWYXJzLmpzIiwic3JjXFx2aXN1YWxzXFxqdkFyZWEuanMiLCJzcmNcXHZpc3VhbHNcXGp2QmFyLmpzIiwic3JjXFx2aXN1YWxzXFxqdkdhbnR0LmpzIiwic3JjXFx2aXN1YWxzXFxqdkhlYXRtYXAuanMiLCJzcmNcXHZpc3VhbHNcXGp2TGluZS5qcyIsInNyY1xcdmlzdWFsc1xcanZQYWNrLmpzIiwic3JjXFx2aXN1YWxzXFxqdlBpZS5qcyIsInNyY1xcdmlzdWFsc1xcanZSYWRpYWwuanMiLCJzcmNcXHZpc3VhbHNcXGp2U2Fua2V5LmpzIiwic3JjXFx2aXN1YWxzXFxqdlNjYXR0ZXIuanMiLCJzcmNcXHZpc3VhbHNcXGp2U2luZ2xlQXhpcy5qcyIsInNyY1xcdmlzdWFsc1xcanZTdW5idXJzdC5qcyIsInNyY1xcdmlzdWFsc1xcanZUcmVlbWFwLmpzIiwic3JjXFx2aXN1YWxzXFxqdldvcmRDbG91ZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUEsSUFBSSw4cEhBQUo7O0FBNEZBLE9BQU8sT0FBUCxHQUFpQixJQUFqQjs7O0FDNUZBO0FBQ0E7O0FBQ0EsUUFBUSxhQUFSO0FBQ0EsUUFBUSxZQUFSO0FBQ0EsUUFBUSxjQUFSO0FBQ0EsUUFBUSxnQkFBUjtBQUNBLFFBQVEsYUFBUjtBQUNBLFFBQVEsb0JBQVI7QUFDQSxRQUFRLG9CQUFSO0FBQ0EsUUFBUSxxQkFBUjtBQUNBLFFBQVEsd0JBQVI7QUFDQSxRQUFRLHFCQUFSO0FBQ0EsUUFBUSxzQkFBUjtBQUNBLFFBQVEsd0JB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VyxTQUFoRCxFQUEyRCxHQUFHLEtBQTlEO0FBQ0Esa0JBQU0sR0FBTixDQUFVLENBQVYsR0FBYyxDQUFkO0FBQ0Esa0JBQU0sR0FBTixDQUFVLENBQVYsR0FBYyxDQUFkO0FBQ0gsU0ExQkwsRUEyQkssRUEzQkwsQ0EyQlEsV0EzQlIsRUEyQnFCLFVBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0I7QUFDN0IsZ0JBQUksTUFBTSxJQUFOLENBQVcsV0FBZixFQUE0QjtBQUN4QixvQkFBSSxNQUFNLEdBQU4sQ0FBVSxDQUFWLEtBQWdCLENBQWhCLElBQXFCLE1BQU0sR0FBTixDQUFVLENBQVYsS0FBZ0IsQ0FBekMsRUFBNEM7QUFDeEMsMEJBQU0sR0FBTixDQUFVLE9BQVYsQ0FBa0IsR0FBRyxLQUFyQjtBQUNILGlCQUZELE1BRU87QUFDSDtBQUNBLHdCQUFJLFVBQVUsTUFBTSxVQUFOLENBQWlCLENBQWpCLEVBQW9CLENBQXBCLENBQWQ7QUFDQTtBQUNBLDBCQUFNLEdBQU4sQ0FBVSxpQkFBVixDQUE0QixPQUE1QixFQUFxQyxNQUFNLElBQU4sQ0FBVyxTQUFoRCxFQUEyRCxHQUFHLEtBQTlEO0FBQ0g7QUFDSjtBQUNKLFNBdENMLEVBdUNLLEVBdkNMLENBdUNRLFVBdkNSLEVBdUNvQixVQUFVLENBQVYsRUFBYTtBQUN6QixrQkFBTSxHQUFOLENBQVUsT0FBVjtBQUNILFNBekNMO0FBMENIO0FBRUo7O0FBRUQsT0FBTyxPQUFQLEdBQWlCLFFBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBodG1sID0gYDwhLS1Ub3AgdGl0bGUgYmFyIG9mIGVkaXQgcG9wdXAtLT5cclxuPGRpdiBjbGFzcz0ndGl0bGUnPlxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWlubGluZVwiPlxyXG4gICAgICAgIDxiPkVkaXQgT3B0aW9uczxkaXYgaWQ9XCJlZGl0LW9wdGlvbi1lbGVtZW50XCIgY2xhc3M9XCJqdi1pbmxpbmVcIiBzdHlsZT1cInZpc2liaWxpdHk6IGhpZGRlbjtcIj48L2Rpdj46PC9iPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBpZD0nZXhpdEVkaXRNb2RlJyBjbGFzcz0nanYtcHVsbC1yaWdodCBqdi1wb2ludGVyJz5cclxuICAgICAgICA8aSBjbGFzcz0nZmEgZmEtdGltZXMnPjwvaT5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbjwhLS1MaW5lIGRpdmlkaW5nIHRvcCBiYXIgd2l0aCBmb3JtIG9wdGlvbnMgYmVsb3ctLT5cclxuPGhyIHN0eWxlPSdtYXJnaW46M3B4IDAgM3B4IDA7Jy8+XHJcblxyXG48IS0tRm9ybSBPcHRpb25zLS0+XHJcbjxkaXYgaWQ9XCJmb3JtJytjaGFydC5jb25maWcubmFtZSsnXCI+XHJcblxyXG4gICAgPCEtLU51bWJlciBmb3JtYXR0aW5nIG9wdGlvbnMtLT5cclxuICAgIDxkaXYgY2xhc3M9XCJqdi1mdWxsLXdpZHRoIGVkaXRhYmxlLW51bS1mb3JtYXRcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPk51bWJlciBGb3JtYXQ6XHJcbiAgICAgICAgICAgIDxzZWxlY3QgaWQ9XCJlZGl0YWJsZS1udW0tZm9ybWF0XCI+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+LS1TZWxlY3QgT3B0aW9uLS08L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjdXJyZW5jeVwiPkN1cnJlbmN5PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZml4ZWRDdXJyZW5jeVwiPkZpeGVkIFBvaW50IEN1cnJlbmN5PC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwicGVyY2VudFwiPlBlcmNlbnQ8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtaWxsaW9uc1wiPk1pbGxpb25zPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY29tbWFzXCI+Q29tbWFzPC9vcHRpb24+XHJcbiAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibm9uZVwiPk5vbmU8L29wdGlvbj5cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1UZXh0IGZvcm1hdHRpbmcgb3B0aW9ucy0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImVkaXRhYmxlLXRleHQtc2l6ZS1idXR0b25zIGp2LWNlbnRlciB0b3BCYXJPcHRpb24gaW5jcmVhc2Vmb250IGp2LXBvaW50ZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGJ1dHRvbiBpZD0nZGVjcmVhc2VGb250U2l6ZScgdGl0bGU9J0RlY3JlYXNlIHRoZSBmb250IHNpemUnIGNsYXNzPSd0b3BiYXItYnV0dG9uIGZvbnQganYtYnV0dG9uIGp2LXBvaW50ZXInPjxpIGNsYXNzPSdmYSBmYS1mb250Jz48L2k+PGkgY2xhc3M9J2ZhIGZhLWxvbmctYXJyb3ctZG93bic+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gaWQ9J2luY3JlYXNlRm9udFNpemUnIHRpdGxlPSdJbmNyZWFzZSB0aGUgZm9udCBzaXplJyBjbGFzcz0ndG9wYmFyLWJ1dHRvbiBmb250IGp2LWJ1dHRvbiBqdi1wb2ludGVyJz48aSBjbGFzcz0nZmEgZmEtZm9udCc+PC9pPjxpIGNsYXNzPSdmYSBmYS1sb25nLWFycm93LXVwJz48L2k+PC9idXR0b24+XHJcbiAgICA8L2Rpdj5cclxuXHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtdGV4dC1jb2xvclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwianYtZWRpdC1tb2RlLWlucHV0XCI+VGV4dCBDb2xvcjpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjb2xvclwiIGlkPVwiZWRpdGFibGUtdGV4dC1jb2xvclwiIHZhbHVlPVwiIzAwMDAwMFwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxici8+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS10ZXh0LXNpemVcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPlRleHQgU2l6ZTpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBpZD1cImVkaXRhYmxlLXRleHQtc2l6ZVwiIG1pbj1cIjBcIiBtYXg9XCIzMFwiIHZhbHVlPVwiMTJcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnIvPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtY29udGVudFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwianYtZWRpdC1tb2RlLWlucHV0XCI+VGV4dDpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgaWQ9XCJlZGl0YWJsZS1jb250ZW50XCIgcGxhY2Vob2xkZXI9XCJFbnRlciB0ZXh0IGhlcmVcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnIvPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPCEtLWJhciBjaGFydCBmb3JtYXR0aW5nLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS1iYXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPkJhciBDb2xvcjpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjb2xvclwiIGlkPVwiZWRpdGFibGUtYmFyXCIgdmFsdWU9XCIjYWFhYWFhXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1waWUgY2hhcnQgZm9ybWF0dGluZy0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtcGllXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJqdi1lZGl0LW1vZGUtaW5wdXRcIj5QaWUgU2xpY2UgQ29sb3I6XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBpZD1cImVkaXRhYmxlLXBpZVwiIHZhbHVlPVwiI2FhYWFhYVwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxici8+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8IS0tc2NhdHRlciBwbG90IGZvcm1hdHRpbmctLT5cclxuICAgIDxkaXYgY2xhc3M9XCJqdi1mdWxsLXdpZHRoIGVkaXRhYmxlLXNjYXR0ZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPlNjYXR0ZXIgQ2lyY2xlIENvbG9yOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNvbG9yXCIgaWQ9XCJlZGl0YWJsZS1zY2F0dGVyXCIgdmFsdWU9XCIjYWFhYWFhXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1TdWJtaXQgYnV0dG9uLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZWRpdGFibGUtZGVmYXVsdC1hbmQtYXBwbHlcIj5cclxuICAgICAgICA8YnV0dG9uIGlkPVwic3VibWl0RWRpdE1vZGVEZWZhdWx0XCIgY2xhc3M9XCJqdi1idXR0b24ganYtcHVsbC1sZWZ0XCI+RGVmYXVsdDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gaWQ9XCJzdWJtaXRFZGl0TW9kZVwiIGNsYXNzPVwianYtYnV0dG9uIGp2LWJ1dHRvbi1ncmVlbiBqdi1wdWxsLXJpZ2h0XCI+QXBwbHk8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBodG1sOyIsIid1c2Ugc3RyaWN0JztcclxuLy9hZGQgYWxsIHJlcXVpcmVkIGZpbGVzXHJcbnJlcXVpcmUoJy4vanZWYXJzLmpzJyk7XHJcbnJlcXVpcmUoJy4vanZUaXAuanMnKTtcclxucmVxdWlyZSgnLi9qdkJydXNoLmpzJyk7XHJcbnJlcXVpcmUoJy4vanZDb21tZW50LmpzJyk7XHJcbnJlcXVpcmUoJy4vanZFZGl0LmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkJhci5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZQaWUuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2TGluZS5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTY2F0dGVyLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkFyZWEuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2R2FudHQuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2SGVhdG1hcC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZQYWNrLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlJhZGlhbC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTYW5rZXkuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2U2luZ2xlQXhpcy5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTdW5idXJzdC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZUcmVlbWFwLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdldvcmRDbG91ZC5qcycpO1xyXG5cclxuLy9hdHRhY2gganYgY2hhcnRzIG9iamVjdHMgdG8gdGhlIHdpbmRvd1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuL2p2Q2hhcnRzLmpzJyk7XHJcbnZhciBqdkJydXNoID0gcmVxdWlyZSgnLi9qdkJydXNoLmpzJyk7XHJcbnZhciBqdkNvbW1lbnQgPSByZXF1aXJlKCcuL2p2Q29tbWVudC5qcycpO1xyXG52YXIganZFZGl0ID0gcmVxdWlyZSgnLi9qdkVkaXQuanMnKTtcclxudmFyIGp2U2VsZWN0ID0gcmVxdWlyZSgnLi9qdlNlbGVjdCcpO1xyXG4vLyB2YXIganZEb29kbGUgPSByZXF1aXJlKCcuL2p2RG9vZGxlLmpzJyk7XHJcblxyXG4vL0NvbW1lbnQgb3V0IHRvIHJlbW92ZSBmcm9tIHdpbmRvdyBvYmplY3QgLSBpZiB5b3UgYXJlIG5vdCB1c2luZyBqdkNoYXJ0cyBhcyBhIG1pbmlmaWVkIGZpbGVcclxud2luZG93Lmp2Q2hhcnRzID0ganZDaGFydHM7XHJcbndpbmRvdy5qdkJydXNoID0ganZCcnVzaDtcclxud2luZG93Lmp2Q29tbWVudCA9IGp2Q29tbWVudDtcclxud2luZG93Lmp2RWRpdCA9IGp2RWRpdDtcclxud2luZG93Lmp2U2VsZWN0ID0ganZTZWxlY3Q7XHJcblxyXG5cclxuLy9hZGQgcG9seWZpbGwgZm9yIE9iamVjdC5hc3NpZ24oKSBpZiB1bnN1cHBvcnRlZFxyXG5pZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gIT09ICdmdW5jdGlvbicpIHtcclxuICAgIE9iamVjdC5hc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7IC8vLmxlbmd0aCBvZiBmdW5jdGlvbiBpcyAyXHJcbiAgICAgICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkgeyAvL1R5cGVFcnJvciBpZiB1bmRlZmluZWQgb3IgbnVsbFxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3QnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XHJcbiAgICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvL1NraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Bdm9pZCBidWdzIHdoZW4gaGFzT3duUHJvcGVydHkgaXMgc2hhZG93ZWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRvO1xyXG4gICAgfTtcclxufVxyXG4iLCIvKioqICBqdkJydXNoICoqKi9cclxuZnVuY3Rpb24ganZCcnVzaChjb25maWdPYmopIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBicnVzaE9iaiA9IHRoaXM7XHJcbiAgICBicnVzaE9iai5jaGFydERpdiA9IGNvbmZpZ09iai5jaGFydERpdjtcclxuICAgIGJydXNoT2JqLmJydXNoRGl2ID0gJyc7XHJcbiAgICBicnVzaE9iai5qdkNoYXJ0ID0gY29uZmlnT2JqLmp2Q2hhcnQ7XHJcbiAgICBicnVzaE9iai5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgYnJ1c2hPYmoudG9nZ2xlQnJ1c2hNb2RlID0gZnVuY3Rpb24gKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICBpZiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICBicnVzaE9iai5zdGFydEJydXNoKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnJ1c2hPYmoucmVtb3ZlQnJ1c2goKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgYnJ1c2hPYmouZmlsdGVyQ2FsbGJhY2tGdW5jdGlvbiA9IGNvbmZpZ09iai5maWx0ZXJDYWxsYmFja0Z1bmN0aW9uO1xyXG59XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEFsbCBCcnVzaCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmp2QnJ1c2gucHJvdG90eXBlLnJlbW92ZUJydXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJydXNoT2JqID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBicnVzaE9iai5qdkNoYXJ0LnN2ZztcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcuYnJ1c2hhcmVhJykucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5qdkJydXNoLnByb3RvdHlwZS5zdGFydEJydXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJydXNoT2JqID0gdGhpcyxcclxuICAgICAgICBoZWlnaHQgPSBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHdpZHRoID0gYnJ1c2hPYmouanZDaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIHN2ZyA9IGJydXNoT2JqLmp2Q2hhcnQuc3ZnO1xyXG5cclxuICAgIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICBicnVzaE9iai5icnVzaFR5cGUgPSAneCc7XHJcbiAgICAgICAgc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaGFyZWEnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2hlaWdodCcsIGhlaWdodCArICdweCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnd2lkdGgnLCB3aWR0aCArICdweCcpXHJcbiAgICAgICAgICAgIC5jYWxsKGQzLmJydXNoWCgpXHJcbiAgICAgICAgICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2VuZCcsIGJydXNoRW5kKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJydXNoT2JqLmJydXNoVHlwZSA9ICd4eSc7XHJcbiAgICAgICAgc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaGFyZWEnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2hlaWdodCcsIGhlaWdodCArICdweCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnd2lkdGgnLCB3aWR0aCArICdweCcpXHJcbiAgICAgICAgICAgIC5jYWxsKGQzLmJydXNoKClcclxuICAgICAgICAgICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcclxuICAgICAgICAgICAgICAgIC5vbignZW5kJywgYnJ1c2hFbmQpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqYnJ1c2hFbmRcclxuICAgICAqIEBkZXNjIC0gZnVuY3Rpb24gY2FsbGVkIGF0IHRoZSBlbmQgb2YgdGhlIHVzZXIgYnJ1c2hpbmdcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYnJ1c2hFbmQoKSB7XHJcbiAgICAgICAgdmFyIHhTY2FsZSA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZSxcclxuICAgICAgICAgICAgeVNjYWxlID0gYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YS55QXhpc1NjYWxlLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gW10sXHJcbiAgICAgICAgICAgIGZpbHRlcmVkWUF4aXNMYWJlbHMgPSBbXSxcclxuICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSBmYWxzZSxcclxuICAgICAgICAgICAgZSA9IGQzLmV2ZW50LnNlbGVjdGlvbixcclxuICAgICAgICAgICAgcmV0dXJuT2JqLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZExhYmVscyA9IFtdLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZENvbmNlcHRzID0ge30sXHJcbiAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICBmaWx0ZXJDb2wsXHJcbiAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzWCxcclxuICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHNZO1xyXG5cclxuICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIGJydXNoT2JqLmJydXNoVHlwZSA9PT0gJ3h5Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhTY2FsZSAmJiB0eXBlb2YgeFNjYWxlLmludmVydCAhPT0gJ2Z1bmN0aW9uJykgeyAvL21lYW5zIHRoYXQgdGhlIHNjYWxlIGlzIG9yZGluYWwgYW5kIG5vdCBsaW5lYXJcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVCcnVzaEFyZWFPcmRpbmFsKGVbMF1bMF0sIGVbMV1bMF0sIHhTY2FsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSByZXR1cm5PYmouc2hvdWxkUmVzZXQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHhTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2FsY3VsYXRlIGxhYmVscyBmb3IgbGluZWFyIHNjYWxlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKGVbMF1bMF0sIGVbMV1bMF0sIHhTY2FsZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSwgYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSwgJ3gnKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHJldHVybk9iai5zaG91bGRSZXNldDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeVNjYWxlICYmIHR5cGVvZiB5U2NhbGUuaW52ZXJ0ICE9PSAnZnVuY3Rpb24nKSB7IC8vbWVhbnMgdGhhdCB0aGUgc2NhbGUgaXMgb3JpZG5hbCBhbmQgbm90IGxpbmVhclxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUJydXNoQXJlYU9yZGluYWwoZVswXVsxXSwgZVsxXVsxXSwgeVNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHlTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2FsY3VsYXRlIGxhYmVscyBmb3IgbGluZWFyIHNjYWxlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKGVbMF1bMV0sIGVbMV1bMV0sIHlTY2FsZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSwgYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSwgJ3knKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUgPT09ICdjbG91ZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVDbG91ZEJydXNoKGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkWUF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmouc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlSGVhdG1hcEJydXNoKGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEsIGJydXNoT2JqLmp2Q2hhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzWCA9IHJldHVybk9iai5maWx0ZXJlZFhBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzWSA9IHJldHVybk9iai5maWx0ZXJlZFlBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmouc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChicnVzaE9iai5icnVzaFR5cGUgPT09ICd4Jykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKGVbMF0sIGVbMV0sIHhTY2FsZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSwgYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSwgJ3gnKTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJldHVybk9iai5zaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChmaWx0ZXJlZFhBeGlzTGFiZWxzLmxlbmd0aCA+IDAgJiYgZmlsdGVyZWRZQXhpc0xhYmVscy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIC8vbWVyZ2UgYXhpc0xhYmVsc1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGZpbHRlcmVkWEF4aXNMYWJlbHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGluZGV4ID0gZmlsdGVyZWRZQXhpc0xhYmVscy5pbmRleE9mKGZpbHRlcmVkWEF4aXNMYWJlbHNbal0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZExhYmVscy5wdXNoKGZpbHRlcmVkWEF4aXNMYWJlbHNbal0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZFhBeGlzTGFiZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHMgPSBmaWx0ZXJlZFhBeGlzTGFiZWxzO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZmlsdGVyZWRZQXhpc0xhYmVscy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzID0gZmlsdGVyZWRZQXhpc0xhYmVscztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICAgICAgaWYgKCFzaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlckNvbFggPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS54O1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlckNvbFkgPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS55O1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkTGFiZWxzWC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xYXSA9IGZpbHRlcmVkTGFiZWxzWDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZExhYmVsc1kubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQ29uY2VwdHNbZmlsdGVyQ29sWV0gPSBmaWx0ZXJlZExhYmVsc1k7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmaWx0ZXJDb2wgPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xdID0gZmlsdGVyZWRMYWJlbHM7XHJcblxyXG4gICAgICAgIC8vY2FsbHMgYmFjayB0byB1cGRhdGUgZGF0YSB3aXRoIGJydXNoZWQgZGF0YVxyXG4gICAgICAgIGJydXNoT2JqLmZpbHRlckNhbGxiYWNrRnVuY3Rpb24oZmlsdGVyZWRDb25jZXB0cywgc2hvdWxkUmVzZXQpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbFxyXG4gKlxyXG4gKiBAcGFyYW0gbW91c2VQb3NNaW5cclxuICogQHBhcmFtIG1vdXNlUG9zTWF4XHJcbiAqIEBwYXJhbSBzY2FsZVxyXG4gKiBAcmV0dXJucyBPYmplY3RcclxuICogQGRlc2MgY2FsY3VsYXRlcyB0aGUgb3JkaW5hbCB2YWx1ZXMgdGhhdCBhcmUgaW4gdGhlIGJydXNoZWQgYXJlYVxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbChtb3VzZVBvc01pbiwgbW91c2VQb3NNYXgsIHNjYWxlKSB7XHJcbiAgICB2YXIgZG9tYWluID0gc2NhbGUuZG9tYWluKCksXHJcbiAgICAgICAgcGFkZGluZyA9IHNjYWxlLnBhZGRpbmcoKSxcclxuICAgICAgICBzdGVwID0gc2NhbGUuc3RlcCgpLFxyXG4gICAgICAgIG1pbkluZGV4LCBtYXhJbmRleCxcclxuICAgICAgICBwYWRkaW5nRGlzdGFuY2UgPSBwYWRkaW5nICogc3RlcCAvIDIsXHJcbiAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG5cclxuICAgIC8vZGV0ZXJtaW5lIG1pbiBpbmRleFxyXG4gICAgaWYgKG1vdXNlUG9zTWluICUgc3RlcCA+IHN0ZXAgLSBwYWRkaW5nRGlzdGFuY2UpIHtcclxuICAgICAgICAvL2Rvbid0IGluY2x1ZGUgb24gbWluIHNpZGVcclxuICAgICAgICBtaW5JbmRleCA9IChNYXRoLmZsb29yKG1vdXNlUG9zTWluIC8gc3RlcCkgKyAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9pbmNsdWRlIG9uIG1pbiBzaWRlXHJcbiAgICAgICAgbWluSW5kZXggPSAoTWF0aC5mbG9vcihtb3VzZVBvc01pbiAvIHN0ZXApKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2RldGVybWluZSBtYXggaW5kZXhcclxuICAgIGlmIChtb3VzZVBvc01heCAlIHN0ZXAgPCBwYWRkaW5nRGlzdGFuY2UpIHtcclxuICAgICAgICAvL2Rvbid0IGluY2x1ZGUgb24gbWF4IHNpZGVcclxuICAgICAgICBtYXhJbmRleCA9IChNYXRoLmZsb29yKG1vdXNlUG9zTWF4IC8gc3RlcCkgLSAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9pbmNsdWRlIG9uIG1heCBzaWRlXHJcbiAgICAgICAgbWF4SW5kZXggPSAoTWF0aC5mbG9vcihtb3VzZVBvc01heCAvIHN0ZXApKTtcclxuICAgICAgICBpZiAobWF4SW5kZXggPT09IGRvbWFpbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbWF4SW5kZXggLT0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmlsdGVyZWRBeGlzTGFiZWxzID0gZG9tYWluLnNsaWNlKG1pbkluZGV4LCBtYXhJbmRleCArIDEpO1xyXG5cclxuICAgIHJldHVybiB7ZmlsdGVyZWRBeGlzTGFiZWxzOiBmaWx0ZXJlZEF4aXNMYWJlbHMsIHNob3VsZFJlc2V0OiBmaWx0ZXJlZEF4aXNMYWJlbHMubGVuZ3RoID09PSAwfTtcclxufVxyXG5cclxuLyoqY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbFxyXG4gKlxyXG4gKiBAcGFyYW0gbW91c2VQb3NNaW5cclxuICogQHBhcmFtIG1vdXNlUG9zTWF4XHJcbiAqIEBwYXJhbSBzY2FsZVxyXG4gKiBAcGFyYW0gZGF0YSBjaGFydERhdGFcclxuICogQHBhcmFtIHR5cGUgdmlzdWFsIHR5cGVcclxuICogQHBhcmFtIGF4aXMgLSB4IC8geVxyXG4gKiBAcmV0dXJucyBPYmplY3RcclxuICogQGRlc2MgY2FsY3VsYXRlcyB0aGUgb3JkaW5hbCB2YWx1ZXMgdGhhdCBhcmUgaW4gdGhlIGJydXNoZWQgYXJlYVxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKG1vdXNlUG9zTWluLCBtb3VzZVBvc01heCwgc2NhbGUsIGRhdGEsIHR5cGUsIGF4aXMpIHtcclxuICAgIHZhciBmaWx0ZXJlZEF4aXNMYWJlbHMgPSBbXSxcclxuICAgICAgICBtaW4sXHJcbiAgICAgICAgbWF4LFxyXG4gICAgICAgIGF4aXNMYWJlbDtcclxuXHJcbiAgICAvL3N3aXRjaCBtaW4gYW5kIG1heCBpZiBzY2FsZSBpcyB5IGR1ZSB0byBzdmcgZHJhd2luZyAoeSBheGlzIGluY3JlYXNlcyB1cCB0aGUgc2NyZWVuIHdoaWxlIG1vdXNlUG9zIGRlY3JlYXNlcylcclxuICAgIGlmIChheGlzID09PSAneScpIHtcclxuICAgICAgICBtYXggPSBzY2FsZS5pbnZlcnQobW91c2VQb3NNaW4pO1xyXG4gICAgICAgIG1pbiA9IHNjYWxlLmludmVydChtb3VzZVBvc01heCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1pbiA9IHNjYWxlLmludmVydChtb3VzZVBvc01pbik7XHJcbiAgICAgICAgbWF4ID0gc2NhbGUuaW52ZXJ0KG1vdXNlUG9zTWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ2JhcicpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVnZW5kRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBheGlzTGFiZWwgPSBkYXRhLmxlZ2VuZERhdGFbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdID49IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscy5wdXNoKGRhdGEuY2hhcnREYXRhW2pdW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsaW5lJyAgfHwgdHlwZSA9PT0gJ2FyZWEnIHx8IHR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZWdlbmREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF4aXNMYWJlbCA9IGRhdGEubGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPD0gbWF4ICYmIGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzLnB1c2goZGF0YS5jaGFydERhdGFbal1bZGF0YS5kYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NjYXR0ZXJwbG90Jykge1xyXG4gICAgICAgIGF4aXNMYWJlbCA9IGRhdGEuZGF0YVRhYmxlW2F4aXNdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPD0gbWF4ICYmIGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEF4aXNMYWJlbHMucHVzaChkYXRhLmNoYXJ0RGF0YVtqXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICBheGlzTGFiZWwgPSBkYXRhLmRhdGFUYWJsZVtheGlzXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdIDw9IG1heCAmJiBkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdID49IG1pbikge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzLnB1c2goZGF0YS5jaGFydERhdGFbal1bZGF0YS5kYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge2ZpbHRlcmVkQXhpc0xhYmVsczogZmlsdGVyZWRBeGlzTGFiZWxzLCBzaG91bGRSZXNldDogZmlsdGVyZWRBeGlzTGFiZWxzLmxlbmd0aCA9PT0gMH07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVDbG91ZEJydXNoKGUsIGRhdGEpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBkID0gZGF0YVtpXTtcclxuICAgICAgICB2YXIgbW91c2VYMCA9IGVbMF1bMF07XHJcbiAgICAgICAgdmFyIG1vdXNlWDEgPSBlWzBdWzFdO1xyXG4gICAgICAgIHZhciBtb3VzZVkwID0gZVsxXVswXTtcclxuICAgICAgICB2YXIgbW91c2VZMSA9IGVbMV1bMV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVIZWF0bWFwQnJ1c2goZSwgZGF0YSwgY2hhcnQpIHtcclxuICAgIHZhciBtb3VzZVhtaW4gPSBlWzBdWzBdO1xyXG4gICAgdmFyIG1vdXNlWW1pbiA9IGVbMF1bMV07XHJcbiAgICB2YXIgbW91c2VYbWF4ID0gZVsxXVswXTtcclxuICAgIHZhciBtb3VzZVltYXggPSBlWzFdWzFdO1xyXG4gICAgdmFyIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSBbXTtcclxuICAgIHZhciBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gW107XHJcbiAgICB2YXIgZmlsdGVyZWREYXRhID0gW107XHJcbiAgICB2YXIgcmVzZXQgPSB0cnVlO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbW91c2VYbWF4L2NoYXJ0Ll92YXJzLmhlYXRHcmlkU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgaWYoaSA+PSBtb3VzZVhtaW4vY2hhcnQuX3ZhcnMuaGVhdEdyaWRTaXplKXtcclxuICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscy5wdXNoKGRhdGEueEF4aXNEYXRhLnZhbHVlc1tpXSk7XHJcbiAgICAgICAgICAgIHJlc2V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtb3VzZVltYXgvY2hhcnQuX3ZhcnMuaGVhdEdyaWRTaXplOyBpKyspIHtcclxuICAgICAgICBpZihpID49IG1vdXNlWW1pbi9jaGFydC5fdmFycy5oZWF0R3JpZFNpemUpe1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzLnB1c2goZGF0YS55QXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICAgICAgcmVzZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9NaWdodCBuZWVkIHdoZW4gbmV3IFBLUUwgcGl4ZWwuLi4gY29tZXMgb3V0XHJcbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyAgICAgdmFyIGQgPSBkYXRhLmNoYXJ0RGF0YVtpXTtcclxuICAgIC8vICAgICBpZihmaWx0ZXJlZFhBeGlzTGFiZWxzLmluY2x1ZGVzKGRbZGF0YS5kYXRhVGFibGUueF0pICYmIGZpbHRlcmVkWUF4aXNMYWJlbHMuaW5jbHVkZXMoZFtkYXRhLmRhdGFUYWJsZS55XSkpIHtcclxuICAgIC8vICAgICAgICAgZmlsdGVyZWREYXRhWC5wdXNoKGRbZGF0YS5kYXRhVGFibGUueF0pO1xyXG4gICAgLy8gICAgICAgICBmaWx0ZXJlZERhdGFZLnB1c2goZFtkYXRhLmRhdGFUYWJsZS55XSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHJldHVybiB7ZmlsdGVyZWRYQXhpc0xhYmVsczogZmlsdGVyZWRYQXhpc0xhYmVscywgZmlsdGVyZWRZQXhpc0xhYmVsczogZmlsdGVyZWRZQXhpc0xhYmVscywgc2hvdWxkUmVzZXQ6IHJlc2V0fTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkJydXNoOyIsIid1c2Ugc3RyaWN0JztcclxuLyoqKiAganZDaGFydHMgKioqL1xyXG52YXIganZUaXAgPSByZXF1aXJlKCcuL2p2VGlwLmpzJyk7XHJcblxyXG4vKipDcmVhdGUgYSBqdkNoYXJ0cyBvYmplY3RcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmogLSBDb25maWd1cmF0aW9uIG9iamVjdCBwYXNzZWQgaW50byBqdkNoYXJ0cyBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnT2JqLnR5cGUgLSBUaGUgdHlwZSBvZiBjaGFydFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnT2JqLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY2hhcnRcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iai5jb250YWluZXIgLSBUaGUgY29udGFpbmVyIG9mIHRoZSBjaGFydFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqLnVzZXJPcHRpb25zIC0gVUkgb3B0aW9ucyBmb3IgdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmoudGlwQ29uZmlnIC0gQ29uZmlndXJhdGlvbiBvYmplY3QgZm9yIGp2VG9vbHRpcFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqLmNoYXJ0RGl2IC0gQSBkaXYgd3JhcHBlciBmb3IgdGhlIGNoYXJ0IGFuZCBvdGhlciBqdiBmZWF0dXJlc1xyXG4gKi9cclxuY2xhc3MganZDaGFydHMge1xyXG4gICAgY29uc3RydWN0b3IgKGNvbmZpZ09iaikge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgY2hhcnQuY29uZmlnID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBjb25maWdPYmoudHlwZS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICBuYW1lOiBjb25maWdPYmoubmFtZSxcclxuICAgICAgICAgICAgY29udGFpbmVyOiBjb25maWdPYmouY29udGFpbmVyXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY2hhcnQuY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICAgICAgY2hhcnQubG9jYWxDYWxsYmFja1JlbGF0ZWRJbnNpZ2h0cyA9IGNvbmZpZ09iai5sb2NhbENhbGxiYWNrUmVsYXRlZEluc2lnaHRzO1xyXG4gICAgICAgIGNvbmZpZ09iai5vcHRpb25zID0gY2xlYW5Ub29sRGF0YShjb25maWdPYmoub3B0aW9ucyk7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMgPSBjaGFydC5nZXREZWZhdWx0T3B0aW9ucyhjb25maWdPYmoub3B0aW9ucyk7XHJcblxyXG4gICAgICAgIGlmIChjb25maWdPYmouaGFzT3duUHJvcGVydHkoJ2luZmluaXRlU2Nyb2xsRnVuYycpKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmluZmluaXRlU2Nyb2xsRnVuYyA9IGNvbmZpZ09iai5pbmZpbml0ZVNjcm9sbEZ1bmM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY29uZmlnT2JqLmhhc093blByb3BlcnR5KCdzb3J0Q29sdW1uRnVuYycpKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnNvcnRDb2x1bW5GdW5jID0gY29uZmlnT2JqLnNvcnRDb2x1bW5GdW5jO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGNoYXJ0LnRpcCA9IG5ldyBqdlRpcCh7XHJcbiAgICAgICAgICAgIHR5cGU6IGNvbmZpZ09iai50aXBDb25maWcudHlwZSxcclxuICAgICAgICAgICAgY2hhcnREaXY6IGNvbmZpZ09iai5jaGFydERpdlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjaGFydC5zaG93Q29tbWVudHMgPSBmYWxzZTtcclxuICAgICAgICBjaGFydC5kcmF3ID0ge307XHJcbiAgICAgICAgY2hhcnQuZHJhdy5zaG93VG9vbFRpcCA9IHRydWU7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgY2hhcnQudG9nZ2xlRGVmYXVsdE1vZGUgPSBmdW5jdGlvbiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICBpZiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudGlyZVN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnLmVkaXRhYmxlLXN2ZycpO1xyXG4gICAgICAgICAgICAgICAgZW50aXJlU3ZnLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYXJ0LmxvY2FsQ2FsbGJhY2tSZWxhdGVkSW5zaWdodHMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQubG9jYWxDYWxsYmFja1JlbGF0ZWRJbnNpZ2h0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZW50aXJlU3ZnLm9uKCdjbGljaycsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXAgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuZHJhdy5zaG93VG9vbFRpcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQucmVtb3ZlSGlnaGxpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnT2JqLnNldERhdGEpIHtcclxuICAgICAgICAgICAgY2hhcnQuZGF0YSA9IHsgY2hhcnREYXRhOiBjb25maWdPYmouc2V0RGF0YS5kYXRhLCBkYXRhVGFibGU6IGNvbmZpZ09iai5zZXREYXRhLmRhdGFUYWJsZSwgZGF0YVRhYmxlS2V5czogY29uZmlnT2JqLnNldERhdGEuZGF0YVRhYmxlS2V5cywgdGlwRGF0YTogY29uZmlnT2JqLnNldERhdGEudGlwRGF0YX07XHJcbiAgICAgICAgICAgIGNoYXJ0LmNvbG9ycyA9IGNvbmZpZ09iai5zZXREYXRhLmNvbG9ycztcclxuICAgICAgICAgICAgaWYgKGNvbmZpZ09iai5zZXREYXRhLmFkZGl0aW9uYWxJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5kYXRhLmFkZGl0aW9uYWxJbmZvID0gY29uZmlnT2JqLnNldERhdGEuYWRkaXRpb25hbEluZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNvbmZpZ09iai5zZXREYXRhLm1hcmtlclR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmRhdGEubWFya2VyVHlwZSA9IGNvbmZpZ09iai5zZXREYXRhLm1hcmtlclR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdLnNldERhdGEuY2FsbChjaGFydCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0eXBlb2YgY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdLnBhaW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5wYWludC5jYWxsKGNoYXJ0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbm8gcGFpbnQgZnVuY3Rpb24gZm9yOiAnICsgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIGVuZCBvZiBjb25zdHJ1Y3RvclxyXG5cclxuICAgIHNldEF4aXNEYXRhKGF4aXMsIGRhdGEsIGtleXMpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBheGlzRGF0YSA9IFtdO1xyXG4gICAgICAgIHZhciBjaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICB2YXIgbGFiZWwgPSAnJztcclxuICAgICAgICB2YXIgbWF4U3RhY2sgPSAwLFxyXG4gICAgICAgICAgICBkYXRhVGFibGVLZXlzID0gZGF0YS5kYXRhVGFibGVLZXlzLFxyXG4gICAgICAgICAgICBkYXRhVHlwZTtcclxuXHJcbiAgICAgICAgaWYgKCFkYXRhVGFibGVLZXlzKSB7XHJcbiAgICAgICAgICAgIGRhdGFUYWJsZUtleXMgPSBrZXlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9TdGVwIDE6IGZpbmQgb3V0IHdoYXQgdGhlIGxhYmVsIGlzIGZvciB0aGUgYXhpc1xyXG4gICAgICAgIGlmIChheGlzID09PSAneCcpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ2xhYmVsJykpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGRhdGEuZGF0YVRhYmxlLmxhYmVsO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiTGFiZWwgZG9lc24ndCBleGlzdCBpbiBkYXRhVGFibGVcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGF0YVRhYmxlIGRvZXMgbm90IGV4aXN0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gJ1NUUklORyc7XHJcblxyXG4gICAgICAgICAgICAvL1JlcGxhY2UgdW5kZXJzY29yZXMgd2l0aCBzcGFjZXNcclxuICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5yZXBsYWNlKC9fL2csICcgJyk7XHJcblxyXG4gICAgICAgICAgICAvL2xvb3AgdGhyb3VnaCBkYXRhIHRvIHBvcHVsYXRlIGF4aXNEYXRhXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnREYXRhW2ldW2xhYmVsXSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goJ05VTExfVkFMVUUnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW2xhYmVsXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKCdFTVBUWV9TVFJJTkcnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW2xhYmVsXSB8fCBjaGFydERhdGFbaV1bbGFiZWxdID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEucHVzaChjaGFydERhdGFbaV1bbGFiZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vRmluZCB0aGUgbWF4IHZhbHVlIGZvciBZIERhdGFcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhVGFibGVLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVRhYmxlS2V5c1tpXS52aXpUeXBlICE9PSAnbGFiZWwnICYmIGRhdGFUYWJsZUtleXNbaV0udml6VHlwZSAhPT0gJ3Rvb2x0aXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBkYXRhVGFibGVLZXlzW2ldLnZhcktleTtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gZ2V0RGF0YVR5cGVGcm9tS2V5cyhsYWJlbCwgZGF0YVRhYmxlS2V5cyk7XHJcblxyXG4gICAgICAgICAgICAvL0FkZCBhbGwgdmFsdWVzIHRoYXQgYXJlIG9uIHlheGlzIHRvIGF4aXMgZGF0YVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YWNrID0gMDsgLy9LZWVwcyB0cmFjayBvZiB0aGUgbWF4aW11bSBzaXplIG9mIHN0YWNrZWQgZGF0YSBzbyB0aGF0IGF4aXMgY2FuIGJlIHNjYWxlZCB0byBmaXQgbWF4IHNpemVcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnREYXRhW2ldLmhhc093blByb3BlcnR5KGRhdGEuZGF0YVRhYmxlW2tdKSAmJiBrICE9PSAnbGFiZWwnICYmIGsuaW5kZXhPZigndG9vbHRpcCcpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjayArPSBjaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGVba11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZVtrXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdGFjayA+IG1heFN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4U3RhY2sgPSBzdGFjaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL1JlcGxhY2UgdW5kZXJzY29yZXMgd2l0aCBzcGFjZXMgc2luY2UgbGFiZWwgaXMgcmV0cmlldmVkIGZyb20gZGF0YVRhYmxlS2V5c1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy9JZiB0aGVyZSBhcmUgbXVsdGlwbGUgdmFsdWVzIG9uIHRoZSB5QXhpcywgZG9uJ3Qgc3BlY2lmeSBhIGxhYmVsXHJcbiAgICAgICAgICAgIGlmKGNvdW50ID4gMSl7XHJcbiAgICAgICAgICAgICAgICBsYWJlbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5yZXBsYWNlKC9fL2csICcgJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0ZpbmQgdGhlIG1pbiBhbmQgbWF4IG9mIG51bWVyaWMgZGF0YSBmb3IgYnVpbGRpbmcgYXhlcyBhbmQgYWRkIGl0IHRvIHRoZSByZXR1cm5lZCBvYmplY3RcclxuICAgICAgICBpZiAoZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zdGFja1RvZ2dsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1heCA9IG1heFN0YWNrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGF4aXNEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIG1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIGF4aXNEYXRhKTtcclxuICAgICAgICAgICAgbWluID0gTWF0aC5taW4oMCwgbWluKTtcclxuXHJcbiAgICAgICAgICAgIC8vQ2hlY2sgaWYgdGhlcmUncyBhbiBheGlzIG1pbi9tYXggc2V0XHJcbiAgICAgICAgICAgIGlmIChheGlzID09PSAneCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy54TWluICE9IG51bGwgJiYgY2hhcnQuX3ZhcnMueE1pbiAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2hhcnQuX3ZhcnMueE1pbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy54TWF4ICE9IG51bGwgJiYgY2hhcnQuX3ZhcnMueE1heCAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2hhcnQuX3ZhcnMueE1heDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChheGlzID09PSAneScpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy55TWluICE9IG51bGwgJiYgY2hhcnQuX3ZhcnMueU1pbiAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2hhcnQuX3ZhcnMueU1pbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy55TWF4ICE9IG51bGwgJiYgY2hhcnQuX3ZhcnMueU1heCAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2hhcnQuX3ZhcnMueU1heDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnTlVNQkVSJyAmJiBheGlzRGF0YS5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChheGlzRGF0YVswXSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEudW5zaGlmdCgwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEucHVzaCgwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICdsYWJlbCc6IGxhYmVsLFxyXG4gICAgICAgICAgICAgICAgJ3ZhbHVlcyc6IGF4aXNEYXRhLFxyXG4gICAgICAgICAgICAgICAgJ2RhdGFUeXBlJzogZGF0YVR5cGUsXHJcbiAgICAgICAgICAgICAgICAnbWluJzogbWluLFxyXG4gICAgICAgICAgICAgICAgJ21heCc6IG1heFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgJ2xhYmVsJzogbGFiZWwsXHJcbiAgICAgICAgICAgICd2YWx1ZXMnOiBheGlzRGF0YSxcclxuICAgICAgICAgICAgJ2RhdGFUeXBlJzogZGF0YVR5cGVcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipzZXRGbGlwcGVkU2VyaWVzXHJcbiAgICAgKiAgZmxpcHMgc2VyaWVzIGFuZCByZXR1cm5zIGZsaXBwZWQgZGF0YVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbXMgY2hhcnREYXRhLCBkYXRhVGFibGUsIGRhdGFMYWJlbFxyXG4gICAgICogQHJldHVybnMgT2JqZWN0IG9mIGRhdGEgYW5kIHRhYmxlIGZvciBmbGlwcGVkIHNlcmllc1xyXG4gICAgICovXHJcbiAgICBzZXRGbGlwcGVkU2VyaWVzKGRhdGFUYWJsZUtleXMpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjaGFydERhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICB2YXIgZGF0YVRhYmxlID0gY2hhcnQuZGF0YS5kYXRhVGFibGU7XHJcbiAgICAgICAgdmFyIGRhdGFMYWJlbCA9IGNoYXJ0LmRhdGEueEF4aXNEYXRhLmxhYmVsO1xyXG5cclxuICAgICAgICB2YXIgZmxpcHBlZERhdGEgPSBbXTtcclxuICAgICAgICB2YXIgZmxpcHBlZERhdGFUYWJsZSA9IHt9O1xyXG4gICAgICAgIHZhciB2YWx1ZUNvdW50ID0gMTtcclxuICAgICAgICB2YXIgZmlsdGVyZWREYXRhVGFibGVBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBrIGluIGRhdGFUYWJsZSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGspKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmxpcHBlZE9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFUYWJsZVtrXSAhPT0gZGF0YUxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmxpcHBlZE9iamVjdFtkYXRhTGFiZWxdID0gZGF0YVRhYmxlW2tdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsaXBwZWRPYmplY3RbY2hhcnREYXRhW2ldW2RhdGFMYWJlbF1dID0gY2hhcnREYXRhW2ldW2RhdGFUYWJsZVtrXV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZERhdGFUYWJsZUFycmF5LmluZGV4T2YoY2hhcnREYXRhW2ldW2RhdGFMYWJlbF0pID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxpcHBlZERhdGFUYWJsZVsndmFsdWUgJyArIHZhbHVlQ291bnRdID0gY2hhcnREYXRhW2ldW2RhdGFMYWJlbF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUNvdW50Kys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZERhdGFUYWJsZUFycmF5LnB1c2goY2hhcnREYXRhW2ldW2RhdGFMYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZsaXBwZWREYXRhLnB1c2goZmxpcHBlZE9iamVjdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZmxpcHBlZERhdGFUYWJsZS5sYWJlbCA9IGRhdGFMYWJlbDtcclxuICAgICAgICBjaGFydC5mbGlwcGVkRGF0YSA9IHsgY2hhcnREYXRhOiBmbGlwcGVkRGF0YSwgZGF0YVRhYmxlOiBmbGlwcGVkRGF0YVRhYmxlIH07XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2JhcicgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmZsaXBwZWREYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd4JywgY2hhcnQuZmxpcHBlZERhdGEsIGRhdGFUYWJsZUtleXMpO1xyXG4gICAgICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS55QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneScsIGNoYXJ0LmZsaXBwZWREYXRhLCBkYXRhVGFibGVLZXlzKTtcclxuICAgICAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEubGVnZW5kRGF0YSA9IHNldEJhckxpbmVMZWdlbmREYXRhKGNoYXJ0LmZsaXBwZWREYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQWRkIGFkZGl0aW9uYWwgY2hhcnQgdHlwZSB0byBzZXQgZmxpcHBlZCBzZXJpZXMnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqb3JnYW5pemVDaGFydERhdGFcclxuICAgICAqICByZW9yZGVycyBhbGwgZGF0YSBiYXNlZCBvbiB0aGUgc29ydExhYmVsIGFuZCBzb3J0VHlwZVxyXG4gICAgICogIC1Pbmx5IGZvciBjaGFydERhdGEsIGRvZXMgbm90IHdvcmsgd2l0aCBmbGlwcGVkIGRhdGFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIHNvcnRMYWJlbCAsIHNvcnRUeXBlXHJcbiAgICAgKiBAcmV0dXJucyBbXSBzb3J0ZWQgZGF0YVxyXG4gICAgICovXHJcbiAgICBvcmdhbml6ZUNoYXJ0RGF0YShzb3J0UGFyYW0sIHNvcnRUeXBlKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgb3JnYW5pemVkRGF0YSxcclxuICAgICAgICAgICAgZGF0YVR5cGUsXHJcbiAgICAgICAgICAgIGRhdGFUYWJsZUtleXMgPSBjaGFydC5kYXRhLmRhdGFUYWJsZUtleXMsXHJcbiAgICAgICAgICAgIHNvcnRMYWJlbCA9IHNvcnRQYXJhbTtcclxuXHJcbiAgICAgICAgLy9JZiBzb3J0TGFiZWwgZG9lc24ndCBleGlzdCwgc29ydCBvbiB0aGUgeCBheGlzIGxhYmVsIGJ5IGRlZmF1bHRcclxuICAgICAgICBpZiAoc29ydExhYmVsID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhVGFibGVLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVRhYmxlS2V5c1tpXS52aXpUeXBlID09PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ydExhYmVsID0gZGF0YVRhYmxlS2V5c1tpXS51cmk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vUmVtb3ZlIHVuZGVyc2NvcmVzIGZyb20gc29ydExhYmVsXHJcbiAgICAgICAgc29ydExhYmVsID0gc29ydExhYmVsLnJlcGxhY2UoL18vZywgJyAnKTtcclxuXHJcbiAgICAgICAgaWYgKCFjaGFydC5kYXRhLmNoYXJ0RGF0YVswXVtzb3J0TGFiZWxdKSB7XHJcbiAgICAgICAgICAgIC8vQ2hlY2sgaWYgdGhlIHNvcnQgbGFiZWwgaXMgYSBjYWxjdWxhdGVkQnkgZmllbGRcclxuICAgICAgICAgICAgdmFyIGlzVmFsaWRTb3J0TGFiZWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhVGFibGVLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2JqMSA9IGRhdGFUYWJsZUtleXNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqMS5vcGVyYXRpb24uaGFzT3duUHJvcGVydHkoJ2NhbGN1bGF0ZWRCeScpICYmIG9iajEub3BlcmF0aW9uLmNhbGN1bGF0ZWRCeVswXSA9PT0gc29ydExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ydExhYmVsID0gb2JqMS51cmkucmVwbGFjZSgvXy9nLCAnICcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzVmFsaWRTb3J0TGFiZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vSWYgaXQncyBub3QgYSB2YWxpZCBzb3J0IGxhYmVsLCByZXR1cm4gYW5kIGRvbid0IHNvcnQgdGhlIGRhdGFcclxuICAgICAgICAgICAgaWYgKCFpc1ZhbGlkU29ydExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdOb3QgYSB2YWxpZCBzb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQ2hlY2sgdGhlIGRhdGEgdHlwZSB0byBkZXRlcm1pbmUgd2hpY2ggbG9naWMgdG8gZmxvdyB0aHJvdWdoXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhVGFibGVLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSBkYXRhVGFibGVLZXlzW2ldO1xyXG4gICAgICAgICAgICAvL0xvb3AgdGhyb3VnaCBkYXRhVGFibGVLZXlzIHRvIGZpbmQgc29ydExhYmVsXHJcbiAgICAgICAgICAgIGlmIChvYmoudXJpLnJlcGxhY2UoL18vZywgJyAnKSA9PT0gc29ydExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZSA9IG9iai50eXBlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRGF0ZSBzb3J0aW5nXHJcbiAgICAgICAgaWYgKGRhdGFUeXBlICE9IG51bGwgJiYgZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBuZXcgRGF0ZShhW3NvcnRMYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZShiW3NvcnRMYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGMgLSBkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFUeXBlICE9IG51bGwgJiYgZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIG9yZ2FuaXplZERhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGFbc29ydExhYmVsXSkgJiYgIWlzTmFOKGJbc29ydExhYmVsXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVtzb3J0TGFiZWxdIC0gYltzb3J0TGFiZWxdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihhW3NvcnRMYWJlbF0pICYmICFpc05hTihiW3NvcnRMYWJlbF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQoYVtzb3J0TGFiZWxdKSA8IHBhcnNlRmxvYXQoYltzb3J0TGFiZWxdKSkgeyAvL3NvcnQgc3RyaW5nIGFzY2VuZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KGFbc29ydExhYmVsXSkgPiBwYXJzZUZsb2F0KGJbc29ydExhYmVsXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFbc29ydExhYmVsXS50b0xvd2VyQ2FzZSgpIDwgYltzb3J0TGFiZWxdLnRvTG93ZXJDYXNlKCkpIHsgLy9zb3J0IHN0cmluZyBhc2NlbmRpbmdcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYVtzb3J0TGFiZWxdLnRvTG93ZXJDYXNlKCkgPiBiW3NvcnRMYWJlbF0udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChzb3J0VHlwZSkge1xyXG4gICAgICAgIGNhc2UgJ3NvcnRBc2NlbmRpbmcnOlxyXG4gICAgICAgIGNhc2UgJ2FzY2VuZGluZyc6XHJcbiAgICAgICAgICAgIGNoYXJ0LmRhdGEuY2hhcnREYXRhID0gb3JnYW5pemVkRGF0YTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnc29ydERlc2NlbmRpbmcnOlxyXG4gICAgICAgIGNhc2UgJ2Rlc2NlbmRpbmcnOlxyXG4gICAgICAgICAgICBjaGFydC5kYXRhLmNoYXJ0RGF0YSA9IG9yZ2FuaXplZERhdGEucmV2ZXJzZSgpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjaGFydC5kYXRhLmNoYXJ0RGF0YSA9IG9yZ2FuaXplZERhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKnNldFRpcERhdGFcclxuICAgICAqXHJcbiAgICAgKiBjcmVhdGVzIGRhdGEgb2JqZWN0IHRvIGRpc3BsYXkgaW4gdG9vbHRpcFxyXG4gICAgICogQHBhcmFtc1xyXG4gICAgICogQHJldHVybnMge3t9fVxyXG4gICAgICovXHJcbiAgICBzZXRUaXBEYXRhKGQsIGkpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBkYXRhID0gY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhO1xyXG5cclxuICAgICAgICAvL0dldCBDb2xvciBmcm9tIGNoYXJ0RGF0YSBhbmQgYWRkIHRvIG9iamVjdFxyXG4gICAgICAgIHZhciBjb2xvciA9IGNoYXJ0Ll92YXJzLmNvbG9yO1xyXG5cclxuICAgICAgICB2YXIgdGl0bGUgPSBkW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgICAgICB2YXIgZGF0YVRhYmxlID0ge307XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3RyZWVtYXAnKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT09IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLnNlcmllcyB8fCBpdGVtID09PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5zaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbaXRlbV0gPSBkYXRhW2ldW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdnYW50dCcpIHtcclxuICAgICAgICAgICAgLy9DYWxjdWxhdGUgbGVuZ3RoIG9mIGRhdGVzXHJcbiAgICAgICAgICAgIGZvciAoaXRlbSBpbiBkYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShpdGVtKSAmJiBpdGVtICE9PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5ncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRhdGFbaV1baXRlbV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzdGFydCxcclxuICAgICAgICAgICAgICAgIGVuZCxcclxuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2U7XHJcblxyXG4gICAgICAgICAgICAvL0NhbGN1bHRpbmcgZHVyYXRpb24gb2YgZGF0ZSByYW5nZXMgdG8gYWRkIHRvIHRvb2x0aXBcclxuICAgICAgICAgICAgdmFyIG51bVBhaXJzID0gTWF0aC5mbG9vcihPYmplY3Qua2V5cyhjaGFydC5kYXRhLmRhdGFUYWJsZSkubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDw9IG51bVBhaXJzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gbmV3IERhdGUoZGF0YVtpXVtjaGFydC5kYXRhLmRhdGFUYWJsZVsnc3RhcnQgJyArIGpdXSk7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSBuZXcgRGF0ZShkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlWydlbmQgJyArIGpdXSk7XHJcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZVsnRHVyYXRpb24gJyArIGpdID0gTWF0aC5jZWlsKGRpZmZlcmVuY2UgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgJyBkYXlzJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGl0bGUgPSBkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmdyb3VwXTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3JhZGlhbCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLmxhYmVsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIGRhdGFUYWJsZS5vdXRlclJhZGl1cztcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnY2lyY2xlcGFjaycgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzdW5idXJzdCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgZGF0YVRhYmxlW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLnZhbHVlXSA9IGQudmFsdWU7XHJcbiAgICAgICAgICAgIC8vIHRpdGxlID0gZC5uYW1lO1xyXG4gICAgICAgICAgICAvLyBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZS5yZXBsYWNlKC9fL2csICcgJyldO1xyXG4gICAgICAgICAgICAvLyBpZih0eXBlb2YgZFtjaGFydC5kYXRhLmRhdGFUYWJsZVtcInRvb2x0aXAgMVwiXV0gIT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAvLyAgICAgZGF0YVRhYmxlW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW1widG9vbHRpcCAxXCJdXSA9IGRbY2hhcnQuZGF0YS5kYXRhVGFibGVbXCJ0b29sdGlwIDFcIl1dO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2Nsb3VkJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGRbY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWxdO1xyXG4gICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV07XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBkW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW1widG9vbHRpcCAxXCJdXSAhPSAndW5kZWZpbmVkJyl7XHJcbiAgICAgICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGVbXCJ0b29sdGlwIDFcIl1dID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZVtcInRvb2x0aXAgMVwiXV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLnlBeGlzTmFtZSArICcgdG8gJyArIGQueEF4aXNOYW1lO1xyXG4gICAgICAgICAgICBpZiAoZC5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVRhYmxlLnZhbHVlID0gZC52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzYW5rZXknKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC5zb3VyY2UubmFtZS5zbGljZSgwLCAtMikgKyAnIHRvICcgKyBkLnRhcmdldC5uYW1lLnNsaWNlKDAsIC0yKTtcclxuICAgICAgICAgICAgaWYgKGQuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZS52YWx1ZSA9IGQudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLmRhdGFbY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWxdO1xyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBjaGFydC5kYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtjaGFydC5kYXRhLmRhdGFUYWJsZVtpdGVtXV0gPSBkLmRhdGFbY2hhcnQuZGF0YS5kYXRhVGFibGVbaXRlbV1dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbaXRlbV0gPSBkW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHJldHVybiB7ICdkYXRhJzogZCwgJ3RpcERhdGEnOiBkYXRhVGFibGUsICdpbmRleCc6IGksICd0aXRsZSc6IHRpdGxlLCAnY29sb3InOiBjb2xvciwgJ3Zpeic6IGNoYXJ0LmNvbmZpZy50eXBlIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBEcmF3IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgLyoqZ2VuZXJhdGVTVkdcclxuICAgICAqY3JlYXRlcyBhbiBTVkcgZWxlbWVudCBvbiB0aGUgcGFuZWxcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIGNvbnRhaW5lciwgbWFyZ2luLCBuYW1lXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZVNWRyhsZWdlbmREYXRhLCBjdXN0b21NYXJnaW5QYXJhbSwgY3VzdG9tU2l6ZVBhcmFtKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgbWFyZ2luID0ge30sXHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IHt9LFxyXG4gICAgICAgICAgICBkaW1lbnNpb25zID0gY2hhcnQuY2hhcnREaXYubm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxyXG4gICAgICAgICAgICBjdXN0b21NYXJnaW5zID0gY3VzdG9tTWFyZ2luUGFyYW0sXHJcbiAgICAgICAgICAgIGN1c3RvbVNpemUgPSBjdXN0b21TaXplUGFyYW0sXHJcbiAgICAgICAgICAgIHRleHRXaWR0aDtcclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmN1c3RvbU1hcmdpbnMpIHtcclxuICAgICAgICAgICAgY3VzdG9tTWFyZ2lucyA9IGNoYXJ0Ll92YXJzLmN1c3RvbU1hcmdpbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCBtYXJnaW5zXHJcbiAgICAgICAgaWYgKCFjdXN0b21NYXJnaW5zKSB7XHJcbiAgICAgICAgICAgIC8vZGVjbGFyZSBtYXJnaW5zIGlmIHRoZXkgYXJlbnQgcGFzc2VkIGluXHJcbiAgICAgICAgICAgIG1hcmdpbiA9IHtcclxuICAgICAgICAgICAgICAgIHRvcDogNTUsXHJcbiAgICAgICAgICAgICAgICByaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAxMDAsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IDcwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChsZWdlbmREYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmREYXRhLmxlbmd0aCA8PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDcwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZWdlbmREYXRhLmxlbmd0aCA8PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDg1O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gMTMwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWFyZ2luID0gY3VzdG9tTWFyZ2lucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcmVkdWNlIG1hcmdpbnMgaWYgbGVnZW5kIGlzIHRvZ2dsZWQgb2ZmXHJcbiAgICAgICAgLy9UT0RPIG1ha2UgdGhpcyBiZXR0ZXJcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMudG9nZ2xlTGVnZW5kID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdwaWUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAncmFkaWFsJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2NpcmNsZXBhY2snIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5sZWZ0ID0gNDA7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICd0cmVlbWFwJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2JhcicgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdnYW50dCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzY2F0dGVyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gNDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vc2V0IHlBeGlzIG1hcmdpbnNcclxuICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEgJiYgY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhKSB7XHJcbiAgICAgICAgICAgIHRleHRXaWR0aCA9IGdldE1heFdpZHRoRm9yQXhpc0RhdGEoJ3knLCBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsIGNoYXJ0Ll92YXJzLCBkaW1lbnNpb25zLCBtYXJnaW4sIGNoYXJ0LmNoYXJ0RGl2LCBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgICAgIGlmICh0ZXh0V2lkdGggPiAxMDAgJiYgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoID0gMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmhlYXRtYXBZbWFyZ2luID0gdGV4dFdpZHRoO1xyXG4gICAgICAgICAgICBtYXJnaW4ubGVmdCA9IE1hdGguY2VpbCh0ZXh0V2lkdGgpICsgMzA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCB4QXhpcyB0b3AgbWFyZ2luc1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnICYmIGNoYXJ0LmN1cnJlbnREYXRhICYmIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSkge1xyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd4JywgY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLCBjaGFydC5fdmFycywgZGltZW5zaW9ucywgbWFyZ2luLCBjaGFydC5jaGFydERpdiwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICAvL3N1YnRyYWN0IHNwYWNlIGZvciB0aWx0XHJcbiAgICAgICAgICAgIHRleHRXaWR0aCA9ICBNYXRoLmNlaWwodGV4dFdpZHRoKTtcclxuICAgICAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoID0gMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vc3BlY2lmaWMgdG8gaGVhdG1hcFxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRXaWR0aCA9IDEwMDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZih0ZXh0V2lkdGggPCA2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRXaWR0aCA9IDYwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmhlYXRtYXBYbWFyZ2luID0gdGV4dFdpZHRoO1xyXG4gICAgICAgICAgICBtYXJnaW4udG9wID0gdGV4dFdpZHRoO1xyXG4gICAgICAgICAgICBjdXN0b21TaXplID0ge307XHJcbiAgICAgICAgICAgIC8vc2V0IGNvbnRhaW5lclxyXG4gICAgICAgICAgICBjdXN0b21TaXplLndpZHRoID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcy5sZW5ndGggKiAyMDtcclxuICAgICAgICAgICAgY3VzdG9tU2l6ZS5oZWlnaHQgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAqIDIwO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYoIWNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGR1bW15T2JqID0ge307XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai52YWx1ZXMgPSBjaGFydC5kYXRhLmhlYXREYXRhO1xyXG4gICAgICAgICAgICAgICAgZHVtbXlPYmoudmFsdWVzLnNvcnQoZnVuY3Rpb24oYSwgYil7cmV0dXJuIGEgLSBifSk7XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5sYWJlbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5taW4gPSBkdW1teU9iai52YWx1ZXNbMF07XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5tYXggPSBkdW1teU9iai52YWx1ZXNbZHVtbXlPYmoudmFsdWVzLmxlbmd0aC0xXTtcclxuXHJcbiAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd5JywgZHVtbXlPYmosIGNoYXJ0Ll92YXJzLCBkaW1lbnNpb25zLCBtYXJnaW4sIGNoYXJ0LmNoYXJ0RGl2LCBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuaGVhdFdpZHRoID0gTWF0aC5jZWlsKHRleHRXaWR0aCkgKyAzMDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5sZWZ0ID0gbWFyZ2luLmxlZnQgKyBjaGFydC5jb25maWcuaGVhdFdpZHRoXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChjdXN0b21TaXplLndpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQgPCBkaW1lbnNpb25zLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4ucmlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLndpZHRoKSAtIG1hcmdpbi5sZWZ0IC0gY3VzdG9tU2l6ZS53aWR0aCAtIDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXN0b21TaXplLmhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tIDwgZGltZW5zaW9ucy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSBwYXJzZUludChkaW1lbnNpb25zLmhlaWdodCkgLSBtYXJnaW4udG9wIC0gY3VzdG9tU2l6ZS5oZWlnaHQgLSAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXN0b21TaXplLndpZHRoICs9IG1hcmdpbi5yaWdodCArIG1hcmdpbi5sZWZ0O1xyXG4gICAgICAgICAgICBjdXN0b21TaXplLmhlaWdodCArPSBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vc2V0IGNvbnRhaW5lciBhdHRyaWJ1dGVzXHJcbiAgICAgICAgLy9TZXQgc3ZnIHNpemUgYmFzZWQgb24gY2FsY3VsYXRpb24gbWFyZ2lucyBvciBjdXN0b20gc2l6ZSBpZiBzcGVjaWZpZWRcclxuICAgICAgICBpZiAoY3VzdG9tU2l6ZSAmJiBjdXN0b21TaXplLmhhc093blByb3BlcnR5KCdoZWlnaHQnKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0ID0gY3VzdG9tU2l6ZS5oZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0ID0gcGFyc2VJbnQoZGltZW5zaW9ucy5oZWlnaHQpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY3VzdG9tU2l6ZSAmJiBjdXN0b21TaXplLmhhc093blByb3BlcnR5KCd3aWR0aCcpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci53aWR0aCA9IGN1c3RvbVNpemUud2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIud2lkdGggPSBwYXJzZUludChkaW1lbnNpb25zLndpZHRoKSAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9hZGQgbWFyZ2luIGFuZCBjb250YWluZXIgdG8gY2hhcnQgY29uZmlnIG9iamVjdFxyXG4gICAgICAgIGNoYXJ0LmNvbmZpZy5tYXJnaW4gPSBtYXJnaW47XHJcbiAgICAgICAgY2hhcnQuY29uZmlnLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuXHJcbiAgICAgICAgLy9yZW1vdmUgb2xkIHN2ZyBpZiBpdCBleGlzdHNcclxuICAgICAgICBjaGFydC5zdmcgPSBjaGFydC5jaGFydERpdi5zZWxlY3QoJ3N2ZycpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAvL3N2ZyBsYXllclxyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICAgICAgY2hhcnQuc3ZnID0gY2hhcnQuY2hhcnREaXYuYXBwZW5kKCdzdmcnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2VkaXRhYmxlLXN2ZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCBjb250YWluZXIud2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjb250YWluZXIuaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdjb250YWluZXInKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywnICsgKG1hcmdpbi50b3ApICsgJyknKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaGFydC5zdmcgPSBjaGFydC5jaGFydERpdi5hcHBlbmQoJ3N2ZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZWRpdGFibGUtc3ZnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNvbnRhaW5lci53aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGNvbnRhaW5lci5oZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywnICsgKG1hcmdpbi50b3ApICsgJyknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vVE9ETyBtb3ZlIHRvIGVkaXQgbW9kZVxyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3IgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICBjaGFydC5jb2xvckJhY2tncm91bmQoY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2VuZXJhdGVYQXhpc1xyXG4gICAgICogY3JlYXRlcyB4IGF4aXMgb24gdGhlIHN2Z1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbXMgeEF4aXNEYXRhXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlWEF4aXMoeEF4aXNEYXRhLCB0aWNrcykge1xyXG4gICAgICAgIC8vZGVjbGFyZSB2YXJpYWJsZXNcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICB4QXhpcyxcclxuICAgICAgICAgICAgLy9OZWVkIHRvIGdldFhBeGlzU2NhbGUgZWFjaCB0aW1lIHNvIHRoYXQgYXhpcyB1cGRhdGVzIG9uIHJlc2l6ZVxyXG4gICAgICAgICAgICB4QXhpc1NjYWxlID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyksXHJcbiAgICAgICAgICAgIGNvbnRhaW5lckhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgICAgICBjb250YWluZXJXaWR0aCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgICAgIHhBeGlzQ2xhc3MgPSAneEF4aXNMYWJlbHMgZWRpdGFibGUgZWRpdGFibGUteEF4aXMgZWRpdGFibGUtdGV4dCc7XHJcblxyXG4gICAgICAgIC8vYXNzaWduIGNzcyBjbGFzcyBmb3IgZWRpdCBtb2RlXHJcbiAgICAgICAgLy9pZiB0aGUgYXhpcyBpcyBudW1iZXJzIGFkZCBlZGl0YWJsZS1udW1cclxuICAgICAgICBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICB4QXhpc0NsYXNzICs9ICcgZWRpdGFibGUtbnVtJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIHByZXZpb3VzIHhBeGlzIGNvbnRhaW5lciBpZiBpdHMgdGhlcmVcclxuICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcueEF4aXNDb250YWluZXInKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy9TYXZlIHRoZSBheGlzIHNjYWxlIHRvIGNoYXJ0IG9iamVjdFxyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUgPSB4QXhpc1NjYWxlO1xyXG5cclxuICAgICAgICB2YXIgdGlja1NpemUgPSAwO1xyXG4gICAgICAgIGlmIChjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIHRpY2tTaXplID0gNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY3JlYXRlIHhBeGlzIGRyYXdpbmcgZnVuY3Rpb25cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgICAgICB4QXhpcyA9IGQzLmF4aXNUb3AoeEF4aXNTY2FsZSlcclxuICAgICAgICAgICAgICAgIC50aWNrU2l6ZSh0aWNrU2l6ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeEF4aXMgPSBkMy5heGlzQm90dG9tKHhBeGlzU2NhbGUpXHJcbiAgICAgICAgICAgICAgICAudGlja1NpemUodGlja1NpemUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRpY2tzKSB7XHJcbiAgICAgICAgICAgIHhBeGlzLnRpY2tzKHRpY2tzKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICB2YXIgYXhpc0hlaWdodCA9IGNvbnRhaW5lckhlaWdodDtcclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykgey8vRm9yIGFueSBheGVzIHRoYXQgYXJlIG9uIHRvcCBvZiB0aGUgZGF0YVxyXG4gICAgICAgICAgICBheGlzSGVpZ2h0ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB4Q29udGVudCA9IGNoYXJ0LnN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneEF4aXNDb250YWluZXInKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCcgKyAoYXhpc0hlaWdodCkgKyAnKScpO1xyXG5cclxuICAgICAgICB2YXIgeEF4aXNHcm91cCA9IHhDb250ZW50LmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd4QXhpcycpXHJcbiAgICAgICAgICAgIC5jYWxsKHhBeGlzKTtcclxuXHJcbiAgICAgICAgdmFyIGZvcm1hdFZhbHVlVHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKHhBeGlzRGF0YS52YWx1ZXMpO1xyXG5cclxuICAgICAgICAvL1N0eWxpbmcgdGhlIGF4aXNcclxuICAgICAgICB4QXhpc0dyb3VwLnNlbGVjdCgncGF0aCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5zdHJva2VXaWR0aCk7XHJcblxyXG4gICAgICAgIC8vU3R5bGluZyBmb3IgdGlja3NcclxuICAgICAgICB4QXhpc0dyb3VwLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5zdHJva2UpO1xyXG5cclxuICAgICAgICAvL1N0eWxpbmcgdGhlIGxhYmVscyBmb3IgZWFjaCBwaWVjZSBvZiBkYXRhXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0Ll92YXJzLmZvbnRDb2xvcikvL0N1c3RvbWl6ZSB0aGUgY29sb3Igb2YgYXhpcyBsYWJlbHNcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgeEF4aXNDbGFzcylcclxuICAgICAgICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsIDMpJylcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInIHx8IGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShkLCBmb3JtYXRWYWx1ZVR5cGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvL1N0eWxpbmcgdGhlIGxhYmVsIGZvciB0aGUgZW50aXJlIGF4aXNcclxuICAgICAgICB4Q29udGVudC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneExhYmVsJylcclxuICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd4TGFiZWwgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50JylcclxuICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ0RBVEUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHhBeGlzRGF0YS5sYWJlbDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIGNvbnRhaW5lcldpZHRoIC8gMiArICcsIDMzKScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKkZvcm1hdFhBeGlzTGFiZWxzXHJcbiAgICAgKlxyXG4gICAgICogSWYgeC1heGlzIGxhYmVscyBhcmUgdG9vIGxvbmcvb3ZlcmxhcHBpbmcsIHRoZXkgd2lsbCBiZSBoaWRkZW4vc2hvcnRlbmVkXHJcbiAgICAgKi9cclxuICAgIGZvcm1hdFhBeGlzTGFiZWxzKGRhdGFMZW5ndGgsIHJlY3Vyc2lvbikge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHNob3dBeGlzTGFiZWxzID0gdHJ1ZSxcclxuICAgICAgICAgICAgeEF4aXNMZW5ndGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBbXSxcclxuICAgICAgICAgICAgZm9ybWF0VmFsdWVUeXBlID0gbnVsbCxcclxuICAgICAgICAgICAgZGF0YVR5cGUgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEuZGF0YVR5cGUsXHJcbiAgICAgICAgICAgIGF4aXNWYWx1ZXMgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEudmFsdWVzO1xyXG5cclxuICAgICAgICBpZiAoZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdFZhbHVlVHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKGF4aXNWYWx1ZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jcmVhdGUgZHVtbXkgdGV4dCB0byBkZXRlcm1pbmUgY29tcHV0ZWQgdGV4dCBsZW5ndGggZm9yIHRoZSBheGlzIGxhYmVsc1xyXG4gICAgICAgIC8vbmVjZXNzYXJ5IHRvIGRvIHRoaXMgYmVjYXVzZSBheGlzIGxhYmVscyBnZXRCQm94KCkgaXMgcmV0dXJuaW5nIDAgc2luY2UgdGhleSBkbyBub3Qgc2VlbSB0byBiZSBkcmF3biB5ZXRcclxuICAgICAgICBjaGFydC5zdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLnNlbGVjdEFsbCgnLmR1bW15VGV4dCcpXHJcbiAgICAgICAgICAgIC5kYXRhKGF4aXNWYWx1ZXMpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IGp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vYWRkaW5nIDEwcHggYnVmZmVyXHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1dpZHRoID0gdGhpcy5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSArIDEwO1xyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoLnB1c2godGhpc1dpZHRoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7IC8vcmVtb3ZlIHRoZW0ganVzdCBhZnRlciBkaXNwbGF5aW5nIHRoZW1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dFdpZHRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0RWxlV2lkdGggPSB0ZXh0V2lkdGhbaV07XHJcbiAgICAgICAgICAgIGlmICh0ZXh0RWxlV2lkdGggPiB4QXhpc0xlbmd0aCAvIGRhdGFMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNob3dBeGlzTGFiZWxzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzaG93QXhpc0xhYmVscykge1xyXG4gICAgICAgICAgICBpZiAocmVjdXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSwgZGF0YUxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnhBeGlzTGFiZWxzJykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFMZW5ndGggPiAxICYmIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgLy9yZWN1cnNpdmVseSBrZWVwIGRlY3JlYXNpbmcgdG8gZmlndXJlIG91dCB0aWNrcyBsZW5ndGggdG8gcmVwYWludCB0aGUgeEF4aXMgaWYgaXRzIG51bWVyaWNcclxuICAgICAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoKGRhdGFMZW5ndGggLSAxKSwgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnhBeGlzJykuc2VsZWN0QWxsKCd0ZXh0Jykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipnZW5lcmF0ZVlBeGlzXHJcbiAgICAgKiBjcmVhdGVzIHkgYXhpcyBvbiB0aGUgc3ZnXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBnZW5lcmF0ZVlBeGlzXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlWUF4aXMoeUF4aXNEYXRhKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgeUF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIHlBeGlzRGF0YSwgY2hhcnQuY29uZmlnLmNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpLFxyXG4gICAgICAgICAgICB5QXhpc0NsYXNzID0gJ3lBeGlzTGFiZWxzIGVkaXRhYmxlIGVkaXRhYmxlLXlBeGlzIGVkaXRhYmxlLXRleHQnLFxyXG4gICAgICAgICAgICBtYXhZQXhpc0xhYmVsV2lkdGgsXHJcbiAgICAgICAgICAgIG51bWJlck9mVGlja3MgPSBNYXRoLmZsb29yKGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0IC8gMTQpLFxyXG4gICAgICAgICAgICB5QXhpcyxcclxuICAgICAgICAgICAgeUNvbnRlbnQsXHJcbiAgICAgICAgICAgIHlBeGlzR3JvdXAsXHJcbiAgICAgICAgICAgIGZvcmNlRm9ybWF0VHlwZVRvID0gbnVsbCxcclxuICAgICAgICAgICAgeWxhYmVsID0gJyc7XHJcblxyXG4gICAgICAgIC8vYXNzaWduIGNzcyBjbGFzcyBmb3IgZWRpdCBtb2RlXHJcbiAgICAgICAgLy9pZiB0aGUgYXhpcyBpcyBudW1iZXJzIGFkZCBlZGl0YWJsZS1udW1cclxuICAgICAgICBpZiAoeUF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICB5QXhpc0NsYXNzICs9ICcgZWRpdGFibGUtbnVtJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2F2ZSB5IGF4aXMgc2NhbGUgdG8gY2hhcnQgb2JqZWN0XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEueUF4aXNTY2FsZSA9IHlBeGlzU2NhbGU7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIHByZXZpb3VzIHN2ZyBlbGVtZW50c1xyXG4gICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy55QXhpc0NvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG4gICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJ3RleHQueUxhYmVsJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIGlmIChudW1iZXJPZlRpY2tzID4gMTApIHtcclxuICAgICAgICAgICAgaWYgKG51bWJlck9mVGlja3MgPCAyMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZUaWNrcyA9IDEwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG51bWJlck9mVGlja3MgPCAzMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZUaWNrcyAvPSAyO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZUaWNrcyA9IDE1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0lmIGFsbCB5LWF4aXMgdmFsdWVzIGFyZSB0aGUgc2FtZSwgb25seSBzaG93IGEgdGljayBmb3IgdGhhdCB2YWx1ZS4gSWYgdmFsdWUgaXMgMSwgZG9uJ3Qgc2hvdyBhbnkgZGVjaW1hbCBwbGFjZXNcclxuICAgICAgICBpZih5QXhpc0RhdGEudmFsdWVzLmxlbmd0aCA+IDAgJiYgISF5QXhpc0RhdGEudmFsdWVzLnJlZHVjZShmdW5jdGlvbihhLCBiKXtyZXR1cm4gKGEgPT09IGIpID8gYSA6IE5hTjt9KSl7XHJcbiAgICAgICAgICAgIG51bWJlck9mVGlja3MgPSAxO1xyXG4gICAgICAgICAgICBpZih5QXhpc0RhdGEudmFsdWVzWzBdID09PSAxKXtcclxuICAgICAgICAgICAgICAgIGZvcmNlRm9ybWF0VHlwZVRvID0gJ25vZGVjaW1hbHMnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHlBeGlzID0gZDMuYXhpc0xlZnQoKVxyXG4gICAgICAgICAgICAudGlja3MobnVtYmVyT2ZUaWNrcykvL0xpbmsgdG8gRDMuc3ZnLmF4aXMgb3B0aW9uczogaHR0cHM6Ly9naXRodWIuY29tL21ib3N0b2NrL2QzL3dpa2kvU1ZHLUF4ZXNcclxuICAgICAgICAgICAgLnNjYWxlKHlBeGlzU2NhbGUpLy9TZXRzIHRoZSBzY2FsZSB0byB1c2UgaW4gdGhlIGF4aXNcclxuICAgICAgICAgICAgLnRpY2tTaXplKDUpLy9TZXRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIGF4aXMgbGluZVxyXG4gICAgICAgICAgICAudGlja1BhZGRpbmcoNSk7XHJcblxyXG4gICAgICAgIC8vSGlkZSBBeGlzIHZhbHVlcyBpZiBuZWNlc3NhcnlcclxuICAgICAgICBpZiAoeUF4aXNEYXRhLmhpZGVWYWx1ZXMpIHtcclxuICAgICAgICAgICAgeUF4aXMudGlja0Zvcm1hdCgnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGNoYXJ0Ll92YXJzLmRpc3BsYXlZQXhpc0xhYmVsKSB7XHJcbiAgICAgICAgICAgIHlsYWJlbCA9IHlBeGlzRGF0YS5sYWJlbFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeUNvbnRlbnQgPSBjaGFydC5zdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3lBeGlzQ29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIHlDb250ZW50LmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5TGFiZWwnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3lMYWJlbCBlZGl0YWJsZSBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLWNvbnRlbnQnKVxyXG4gICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAwKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKC1jaGFydC5jb25maWcubWFyZ2luLmxlZnQgKyAxMCkgKyAnLCAtMTApJylcclxuICAgICAgICAgICAgLnRleHQoeWxhYmVsKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbC1vcGFjaXR5JywgMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgeUF4aXNHcm91cCA9IHlDb250ZW50LmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5QXhpcycpO1xyXG5cclxuXHJcbiAgICAgICAgeUF4aXNHcm91cFxyXG4gICAgICAgICAgICAuY2FsbCh5QXhpcyk7XHJcblxyXG4gICAgICAgIC8vU3R5bGluZyBmb3IgQXhpc1xyXG4gICAgICAgIHlBeGlzR3JvdXAuc2VsZWN0KCdwYXRoJylcclxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcilcclxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLnN0cm9rZVdpZHRoKTtcclxuXHJcbiAgICAgICAgbWF4WUF4aXNMYWJlbFdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHlBeGlzRGF0YS5oaWRlVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIC8vU3R5bGluZyBmb3IgdGlja3NcclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vU3R5bGluZyBmb3IgdGlja3NcclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcilcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5zdHJva2UpO1xyXG4gICAgICAgICAgICAvL1N0eWxpbmcgZm9yIGRhdGEgbGFiZWxzIG9uIGF4aXNcclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpLy9DdXN0b21pemUgdGhlIGNvbG9yIG9mIGF4aXMgbGFiZWxzXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCB5QXhpc0NsYXNzKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICdyb3RhdGUoMCknKS8vQWRkIGxvZ2ljIHRvIHJvdGF0ZSBheGlzIGJhc2VkIG9uIHNpemUgb2YgdGl0bGVcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZvcm1hdFZhbHVlVHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKHlBeGlzRGF0YS52YWx1ZXMpO1xyXG5cclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IDEzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSBkLnN1YnN0cmluZygwLCBtYXhMZW5ndGgpICsgJy4uLic7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihmb3JjZUZvcm1hdFR5cGVUbyAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdFZhbHVlVHlwZSA9IGZvcmNlRm9ybWF0VHlwZVRvO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShjdXJyZW50LCBmb3JtYXRWYWx1ZVR5cGUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGpbMF0uZ2V0QkJveCgpLndpZHRoID4gbWF4WUF4aXNMYWJlbFdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFlBeGlzTGFiZWxXaWR0aCA9IGpbMF0uZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAobWF4WUF4aXNMYWJlbFdpZHRoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMueUxhYmVsV2lkdGggPSBNYXRoLmNlaWwobWF4WUF4aXNMYWJlbFdpZHRoKSArIDIwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBMZWdlbmQgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICBnZW5lcmF0ZUxlZ2VuZChsZWdlbmREYXRhLCBkcmF3RnVuYykge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcbiAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAvL1JldHVybnMgdGhlIGxlZ2VuZCByZWN0YW5nbGVzIHRoYXQgYXJlIHRvZ2dsZWQgb24vb2ZmXHJcbiAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgIGlmIChkcmF3RnVuYykge1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMgIT09ICdub25lJyAmJiBjaGFydC5fdmFycy50aGVzaG9sZExlZ2VuZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0ID4gMzAwICYmIGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGggPiAzMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZVRocmVzaG9sZExlZ2VuZChjaGFydCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2hhcnQuX3ZhcnMudG9nZ2xlTGVnZW5kKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZC1jYXJvdXNlbCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kXHJcbiAgICAgKlxyXG4gICAgICogY3JlYXRlcyBhbmQgZHJhd3MgYSB2ZXJ0aWNhbCBsZWdlbmQgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW1zIHN2ZywgbGVnZW5kRGF0YSwgb3B0aW9ucywgY29udGFpbmVyLCBjaGFydERhdGEsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjaGFydFR5cGVcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZChwYWludEZ1bmMpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhO1xyXG5cclxuICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vUmV0dXJucyB0aGUgbGVnZW5kIHJlY3RhbmdsZXMgdGhhdCBhcmUgdG9nZ2xlZCBvbi9vZmZcclxuICAgICAgICB2YXIgbGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIHBhaW50RnVuYyk7XHJcbiAgICAgICAgaWYgKHBhaW50RnVuYyAhPT0gJ2dlbmVyYXRlUGFjaycpIHtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIHBhaW50RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQtY2Fyb3VzZWwnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogR2VuZXJhdGVzIGEgY2xpcCBwYXRoIHRoYXQgY29udGFpbnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBjaGFydCBhcmVhIHRvIHRoZSB2aWV3IG9mIHRoZSBjaGFydCBhcmVhIGNvbnRhaW5lclxyXG4gICAgICogaS5lIC0gZG9uJ3Qgd2FudCBiYXJzIGdvaW5nIGJlbG93IHRoZSB4IGF4aXNcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVDbGlwUGF0aCgpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIHR5cGUgPSBjaGFydC5jb25maWcudHlwZTtcclxuXHJcbiAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2NsaXBQYXRoJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAwKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vQnJlYWsgdGhpcyBvdXQgaW50byBsb2dpYyBmb3IgYWxsIG90aGVyIHZpenplcyB0aGF0IGhhdmUgb3ZlcmZsb3cgaXNzdWVzXHJcbiAgICAgICAgdmFyIGNvbnRhaW5lck5hbWUgPSAnLicgKyB0eXBlICsgJy1jb250YWluZXInO1xyXG4gICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAuc2VsZWN0KGNvbnRhaW5lck5hbWUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRocmVzaG9sZChkYXRhKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgdGhyZXNob2xkcyA9IGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMsXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IHRocmVzaG9sZHM/IE9iamVjdC5rZXlzKHRocmVzaG9sZHMpLmxlbmd0aCA6IDA7XHJcblxyXG4gICAgICAgIGlmICh0aHJlc2hvbGRzICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aCAtIDE7IGkgPiAtMTsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gdGhyZXNob2xkc1tpXTtcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2codHlwZW9mIGRhdGEgPT0gXCJkYXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEgPj0gTnVtYmVyKHRocmVzaG9sZC50aHJlc2hvbGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdyZWN0LScgKyBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlTGluZVRocmVzaG9sZCgpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIHdpZHRoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZHMgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzLFxyXG4gICAgICAgICAgICBsZW5ndGggPSBPYmplY3Qua2V5cyhjaGFydC5fdmFycy50aHJlc2hvbGRzKS5sZW5ndGg7XHJcblxyXG4gICAgICAgIHZhciB4ID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZTtcclxuICAgICAgICB2YXIgeSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzU2NhbGU7XHJcblxyXG4gICAgICAgIGlmICh0aHJlc2hvbGRzICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZCA9IHRocmVzaG9sZHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgaGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgdGhyZXNob2xkLnRocmVzaG9sZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB5KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB3aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29sb3JCYWNrZ3JvdW5kKGNvbG9yKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICB2YXIgY2hhcnREaXYgPSBjaGFydC5jaGFydERpdjtcclxuICAgICAgICBjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcclxuICAgICAgICBjaGFydERpdi5zdHlsZSgnYmFja2dyb3VuZC1jb2xvcicsICcnICsgY29sb3IpO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLyoqZGlzcGxheVZhbHVlc1xyXG4gICAgICpcclxuICAgICAqIHRvZ2dsZXMgZGF0YSB2YWx1ZXMgdGhhdCBhcmUgZGlzcGxheWVkIG9uIHRoZSBzcGVjaWZpYyB0eXBlIG9mIGNoYXJ0IG9uIHRoZSBzdmdcclxuICAgICAqIEBwYXJhbXMgc3ZnLCBiYXJEYXRhLCBvcHRpb25zLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyXHJcbiAgICAgKiBAcmV0dXJucyB7e319XHJcbiAgICAgKi9cclxuICAgIGRpc3BsYXlWYWx1ZXMoKSB7XHJcbiAgICAgICAgLy9UT0RPIHJlY2VpdmUgZGF0YSBzaW1pbGFyIHRvIGdlbmVyYXRlQmFyXHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgICAgICBiYXJEYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLFxyXG4gICAgICAgICAgICBsZWdlbmRPcHRpb25zID0gY2hhcnQuX3ZhcnMubGVnZW5kT3B0aW9ucztcclxuXHJcbiAgICAgICAgLy9JZiBzZXJpZXMgaXMgZmxpcHBlZCwgdXNlIGZsaXBwZWQgZGF0YTsgaW5pdGlhbGl6ZSB3aXRoIHRoZSBmdWxsIGRhdGEgc2V0XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgYmFyRGF0YSA9IGNoYXJ0LmZsaXBwZWREYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgbGVnZW5kT3B0aW9ucyA9IGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRPcHRpb25zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmRpc3BsYXlWYWx1ZXMgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmRpc3BsYXlWYWx1ZUNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGRhdGEgPSBbXTsvL09ubHkgc3RvcmVzIHZhbHVlcyBmb3IgYmFyc1xyXG4gICAgICAgICAgICB2YXIgYmFyRGF0YU5ldyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYmFyRGF0YSkpOy8vQ29weSBvZiBiYXJEYXRhXHJcblxyXG4gICAgICAgICAgICBpZiAobGVnZW5kT3B0aW9ucykgey8vQ2hlY2tpbmcgd2hpY2ggbGVnZW5kIGVsZW1lbnRzIGFyZSB0b2dnbGVkIG9uIHJlc2l6ZVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiYXJEYXRhTmV3Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRPcHRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsZWdlbmRPcHRpb25zW2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBiYXJEYXRhTmV3W2pdW2xlZ2VuZE9wdGlvbnNbaV0uZWxlbWVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFyRGF0YU5ldy5sZW5ndGg7IGkrKykgey8vYmFyRGF0YU5ldyB1c2VkXHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdmFsdWVzKGJhckRhdGFOZXdbaV0sIGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICAgICAgZGF0YS5wdXNoKHZhbC5zbGljZSgwLCBiYXJEYXRhTmV3W2ldLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcG9zQ2FsYyA9IGdldFBvc0NhbGN1bGF0aW9ucyhiYXJEYXRhTmV3LCBjaGFydC5fdmFycywgeEF4aXNEYXRhLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpO1xyXG4gICAgICAgICAgICB2YXIgeSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgICAgICAgICAvL3ZhciBmb3JtYXQgPSBnZXRGb3JtYXRFeHByZXNzaW9uKFwiZGlzcGxheVZhbHVlc1wiKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAvL0FkZCBhIGNvbnRhaW5lciBmb3IgZGlzcGxheSB2YWx1ZXMgb3ZlciBlYWNoIGJhciBncm91cFxyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlWYWx1ZXNHcm91cCA9XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gKHkucGFkZGluZ091dGVyKCkgKiB5LnN0ZXAoKSkgKyAoeS5zdGVwKCkgKiBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsJyArIHRyYW5zbGF0ZSArICcpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVZhbHVlc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLndpZHRoKGQsIGksIGopICsgcG9zQ2FsYy54KGQsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy55KGQsIGksIGopICsgKHBvc0NhbGMuaGVpZ2h0KGQsIGksIGopIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblRleHQgPSBNYXRoLnJvdW5kKGQgKiAxMDApIC8gMTAwOy8vcm91bmQgdG8gMiBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShyZXR1cm5UZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL0FkZCBhIGRpc3BsYXkgdmFsdWVzIGNvbnRhaW5lciBvdmVyIGVhY2ggYmFyIGdyb3VwXHJcbiAgICAgICAgICAgICAgICB2YXIgZGlzcGxheVZhbHVlc0dyb3VwID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZXNHcm91cCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWVzR3JvdXAnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gKHgucGFkZGluZ091dGVyKCkgKiB4LnN0ZXAoKSkgKyAoeC5zdGVwKCkgKiBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIHRyYW5zbGF0ZSArICcsMCknO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YWNrVG90YWxzID0gW107XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VmFsdWVzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHggcG9zaXRpb24gb2YgdGhlIGJhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQoKHBvc0NhbGMueChkLCBpLCBqKSArIChwb3NDYWxjLndpZHRoKGQsIGksIGopIC8gMikpKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGksIGopIHsgLy9zZXRzIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocG9zQ2FsYy55KGQsIGksIGopKSAtIDM7Ly8rIHBvc0NhbGMuaGVpZ2h0KGQsIGksIGopIC0gNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0Ll92YXJzLmZvbnRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihjaGFydC5fdmFycy5zdGFja1RvZ2dsZSAmJiBjaGFydC5fdmFycy5kaXNwbGF5VmFsdWVzU3RhY2tBc1BlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGluZGV4ID0gMDsgaW5kZXggPCBqLmxlbmd0aDsgaW5kZXggKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSBqW2luZGV4XS5fX2RhdGFfXztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNoYXJ0Ll92YXJzLmRpc3BsYXlWYWx1ZXNTdGFja1RvdGFsICYmIGkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgZW50ZXIgdGhpcyBvbmUgdGltZSBwZXIgc3RhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja1RvdGFscy5wdXNoKHRvdGFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkZvcm1hdFZhbHVlKGQvdG90YWwsICdwZXJjZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoY2hhcnQuX3ZhcnMuc3RhY2tUb2dnbGUgJiYgY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlc1N0YWNrVG90YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhY2tDb3VudGVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlTdGFja1RvdGFsJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSAoeC5wYWRkaW5nT3V0ZXIoKSAqIHguc3RlcCgpKSArICh4LnN0ZXAoKSAqIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIHRyYW5zbGF0ZSArICcsMCknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHggcG9zaXRpb24gb2YgdGhlIGJhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKChwb3NDYWxjLngoZCwgaSwgaikgKyAocG9zQ2FsYy53aWR0aChkLCBpLCBqKSAvIDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGksIGopIHsgLy9zZXRzIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQocG9zQ2FsYy55KGQsIGksIGopKSAtIDE4Oy8vKyBwb3NDYWxjLmhlaWdodChkLCBpLCBqKSAtIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeUxlbmd0aCA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhMZW5ndGggPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleE1heCA9IHlMZW5ndGggLyB4TGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN0YWNrID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAoaSArIDEpID09PSBpbmRleE1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9MDsgaiA8IGluZGV4TWF4OyBqICsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrICs9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXNbaW5kZXhNYXgqc3RhY2tDb3VudGVyICsgal07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YWNrQ291bnRlciArKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcuZGlzcGxheVZhbHVlQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdHcmlkbGluZXMoYXhpc0RhdGEpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG5cclxuICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCdnLmdyaWRMaW5lcycpLnJlbW92ZSgpO1xyXG4gICAgICAgIGNoYXJ0LnN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZ3JpZExpbmVzJyk7XHJcbiAgICAgICAgdmFyIHNjYWxlRGF0YTtcclxuXHJcbiAgICAgICAgLy9EZXRlcm1pbmUgaWYgZ3JpZGxpbmVzIGFyZSBob3Jpem9udGFsIG9yIHZlcnRpY2FsIGJhc2VkIG9uIHJvdGF0ZUF4aXNcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2dhbnR0JyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgIHZhciBncmlkTGluZUhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgeEF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIGF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZURhdGEgPSBheGlzRGF0YS52YWx1ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInIHx8IGF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IHhBeGlzU2NhbGUudGlja3MoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3QoJy5ncmlkTGluZXMnKS5zZWxlY3RBbGwoJy5ob3Jpem9udGFsR3JpZCcpLmRhdGEoc2NhbGVEYXRhKS5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdob3Jpem9udGFsR3JpZCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geEF4aXNTY2FsZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhBeGlzU2NhbGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ3JpZExpbmVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3NoYXBlLXJlbmRlcmluZycsICdjcmlzcEVkZ2VzJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuZ3JpZExpbmVTdHJva2VXaWR0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGdyaWRMaW5lV2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoO1xyXG4gICAgICAgICAgICB2YXIgeUF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIGF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZURhdGEgPSBheGlzRGF0YS52YWx1ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInIHx8IGF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IHlBeGlzU2NhbGUudGlja3MoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3QoJy5ncmlkTGluZXMnKS5zZWxlY3RBbGwoJy5ob3Jpem9udGFsR3JpZCcpLmRhdGEoc2NhbGVEYXRhKS5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdob3Jpem9udGFsR3JpZCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyaWRMaW5lV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5QXhpc1NjYWxlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geUF4aXNTY2FsZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc2hhcGUtcmVuZGVyaW5nJywgJ2NyaXNwRWRnZXMnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcilcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5ncmlkTGluZVN0cm9rZVdpZHRoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2V0QmFyRGF0YUZyb21PcHRpb25zXHJcbiAgICAqIF5eIG5vdCBqdXN0IGEgYmFyIGZ1bmN0aW9uLCBsaW5lIGFuZCBhcmVhIGFsc28gdXNlIGl0XHJcbiAgICAqXHJcbiAgICAqIEFzc2lnbnMgdGhlIGNvcnJlY3QgY2hhcnQgZGF0YSB0byBjdXJyZW50IGRhdGEgdXNpbmcgdGhlIGNoYXJ0Lm9wdGlvbnNcclxuICAgICovXHJcbiAgICBnZXRCYXJEYXRhRnJvbU9wdGlvbnMoKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICAvL2NyZWF0aW5nIHRoZXNlIHR3byBkYXRhIHZhcmlhYmxlcyB0byBhdm9pZCBoYXZpbmcgdG8gcmVmZXJlbmNlIHRoZSBjaGFydCBvYmVqY3QgZXZlcnl0aW1lXHJcbiAgICAgICAgdmFyIGZsaXBwZWQgPSBjaGFydC5mbGlwcGVkRGF0YTtcclxuICAgICAgICB2YXIgZGF0YSA9IGNoYXJ0LmRhdGE7XHJcblxyXG4gICAgICAgIHZhciBkYXRhT2JqID0ge307XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgZGF0YU9iai5jaGFydERhdGEgPSBmbGlwcGVkLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgZGF0YU9iai5sZWdlbmREYXRhID0gZmxpcHBlZC5sZWdlbmREYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGZsaXBwZWQuZGF0YVRhYmxlO1xyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5jb2xvciA9IGZsaXBwZWQuY29sb3I7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGZsaXBwZWQueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBmbGlwcGVkLnhBeGlzRGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZmxpcHBlZC54QXhpc0RhdGE7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGZsaXBwZWQueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGF0YU9iai5jaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgZGF0YU9iai5sZWdlbmREYXRhID0gZGF0YS5sZWdlbmREYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGRhdGEuZGF0YVRhYmxlO1xyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5jb2xvciA9IGRhdGEuY29sb3I7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBkYXRhLnhBeGlzRGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZGF0YS54QXhpc0RhdGE7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0YU9iajtcclxuICAgIH1cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFV0aWxpdHkgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvKipoaWdobGlnaHRJdGVtc1xyXG4gICAgICpcclxuICAgICAqIGhpZ2hsaWdodHMgaXRlbXMgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW1zIGl0ZW1zLCBzdmdcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgaGlnaGxpZ2h0SXRlbShpdGVtcywgdGFnLCBoaWdobGlnaHRJbmRleCwgaGlnaGxpZ2h0VXJpKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnO1xyXG5cclxuICAgICAgICAvL1RPRE8gcmVtb3ZlIGlmIHN0YXRlbWVudHNcclxuICAgICAgICBpZiAoaGlnaGxpZ2h0SW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdwaWUnKSB7XHJcbiAgICAgICAgICAgICAgICAvL3NldCBhbGwgY2lyY2xlcyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnBpZS1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5waWVCb3JkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEpO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IHBpZSBzbGljZXNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5waWUtY29udGFpbmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKHRhZylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCcuaGlnaGxpZ2h0LWNsYXNzLScgKyBoaWdobGlnaHRJbmRleClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzY2F0dGVycGxvdCcpIHtcclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsbCBjaXJjbGVzIHN0cm9rZSB3aWR0aCB0byAwXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuc2NhdHRlci1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBzY2F0dGVyIGRvdHNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5zY2F0dGVyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpLmZpbHRlcignLnNjYXR0ZXItY2lyY2xlLScgKyBoaWdobGlnaHRJbmRleClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaGlnaGxpZ2h0VXJpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2JhcicpIHtcclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsbCBiYXJzIHN0cm9rZSB3aWR0aCB0byAwXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IGJhcnNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5iYXItY29udGFpbmVyJykuc2VsZWN0QWxsKCcuaGlnaGxpZ2h0LWNsYXNzLScgKyBoaWdobGlnaHRVcmkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlckNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICAgICAgLy9zZXQgYWxsIGNpcmNsZXMgc3Ryb2tlIHdpZHRoIHRvIDBcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IGNpcmxjZXNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpLmZpbHRlcignLmhpZ2hsaWdodC1jbGFzcy0nICsgaGlnaGxpZ2h0VXJpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyV2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25lZWQgdG8gcGFzcyBoaWdobGlnaHQgaW5kZXggdG8gaGlnaGxpZ2h0IGl0ZW0nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqQGRlc2MgUmVtb3ZlcyBoaWdobGlnaHRzIHRoYXQgd2VyZSBhcHBsaWVkIHdpdGggcmVsYXRlZCBpbnNpZ2h0c1xyXG4gICAgKlxyXG4gICAgKi9cclxuICAgIHJlbW92ZUhpZ2hsaWdodCgpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzdmcgPSBjaGFydC5zdmc7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJykge1xyXG4gICAgICAgICAgICAvL3NldCBhbGwgY2lyY2xlcyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICBzdmcuc2VsZWN0KCcucGllLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgncGF0aCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMucGllQm9yZGVyKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzY2F0dGVycGxvdCcpIHtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnNjYXR0ZXItY29udGFpbmVyJykuc2VsZWN0QWxsKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5iYXItY29udGFpbmVyJykuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIH1cclxuXHJcblxyXG5mdW5jdGlvbiBqdkZvcm1hdFZhbHVlKHZhbCwgZm9ybWF0VHlwZSkge1xyXG4gICAgaWYgKCFpc05hTih2YWwpKSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLjBmJyk7XHJcblxyXG4gICAgICAgIGlmIChmb3JtYXRUeXBlID09PSAnYmlsbGlvbnMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWU5KSArICdCJztcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdFR5cGUgPT09ICdtaWxsaW9ucycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTYpICsgJ00nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ3Rob3VzYW5kcycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTMpICsgJ0snO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ2RlY2ltYWxzJykge1xyXG4gICAgICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJy4yZicpO1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXRUeXBlID09PSAnbm9kZWNpbWFscycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiggZm9ybWF0VHlwZSA9PT0gJ3BlcmNlbnQnKSB7XHJcbiAgICAgICAgICAgIGxldCBwID0gTWF0aC5tYXgoMCwgZDMucHJlY2lzaW9uRml4ZWQoMC4wNSkgLSAyKTtcclxuICAgICAgICAgICAgbGV0IGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJy4nICsgcCArICclJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBleHByZXNzaW9uKHZhbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmKGZvcm1hdFR5cGUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmFsID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHZhbCkgPj0gMTAwMDAwMDAwMCkge1xyXG4gICAgICAgICAgICAvL0JpbGxpb25zXHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWU5KSArICdCJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHZhbCkgPj0gMTAwMDAwMCkge1xyXG4gICAgICAgICAgICAvL01pbGxpb25zXHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWU2KSArICdNJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHZhbCkgPj0gMTAwMCkge1xyXG4gICAgICAgICAgICAvL1Rob3VzYW5kc1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlMykgKyAnSyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyh2YWwpIDw9IDEwKSB7XHJcbiAgICAgICAgICAgIC8vMiBkZWNpbWFsc1xyXG4gICAgICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJy4yZicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHRoZSBzZXQgb2YgdmFsdWVzIHRoYXQgeW91IHdhbnQgdG8gZm9ybWF0IHVuaWZvcm1seVxyXG4gKiBAcmV0dXJuICcnIHRoZSBsZXZlbCBvZiBmb3JtYXR0aW5nIGZvciB0aGUgZ3JvdXAgb2YgZGF0YVxyXG4gKiBQcm9ibGVtIHdpdGgganZGb3JtYXRWYWx1ZSBmdW5jdGlvbiBpcyB0aGF0IGlmIHlvdSBwYXNzIGluIHZhbHVlcyAxMCwgMjAuLi4gOTAsIDEwMCwgMTEyMCwgMTIwXHJcbiAqIHlvdSB3aWxsIGdldCB0aGUgZm9ybWF0cyAxMC4wMCwgMjAuMDAgLi4uLiAxMDAsIDExMCwgMTIwIHdoZW4geW91IHdhbnQgMTAsIDIwLCAuLi4gMTAwLCAxMTBcclxuICogLS1Gb3JtYXQgdGhlIHZhbHVlIGJhc2VkIG9mZiBvZiB0aGUgaGlnaGVzdCBudW1iZXIgaW4gdGhlIGdyb3VwXHJcbiAqL1xyXG5mdW5jdGlvbiBqdkZvcm1hdFZhbHVlVHlwZSh2YWx1ZXMsIGRhdGFUeXBlKSB7XHJcbiAgICBpZiAodmFsdWVzICE9IG51bGwgJiYgZGF0YVR5cGUgIT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyk7XHJcbiAgICAgICAgLy9BZnRlciBnZXR0aW5nIHRoZSBtYXgsIGNoZWNrIHRoZSBtaW5cclxuICAgICAgICB2YXIgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKTtcclxuICAgICAgICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XHJcbiAgICAgICAgdmFyIGluY3JlbWVtbnQgPSBNYXRoLmFicyhNYXRoLnJvdW5kKHJhbmdlIC8gMTApKTsvLzEwIGJlaW5nIHRoZSBudW1iZXIgb2YgYXhpcyBsYWJlbHMgdG8gc2hvd1xyXG5cclxuICAgICAgICBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTAwMDAwMDAwMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2JpbGxpb25zJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpID49IDEwMDAwMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdtaWxsaW9ucyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbmNyZW1lbW50KSA+PSAxMDAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndGhvdXNhbmRzJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpIDw9IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZGVjaW1hbHMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdub2RlY2ltYWxzJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcbi8qKmdldEZvcm1hdEV4cHJlc3Npb25cclxuICpcclxuICogQGRlc2MgcmV0dXJucyB0aGUgZDMgZm9ybWF0IGV4cHJlc3Npb24gZm9yIGEgZ2l2ZW4gb3B0aW9uXHJcbiAqIEBwYXJhbXMgb3B0aW9uXHJcbiAqIEByZXR1cm5zIHN0cmluZyBleHByZXNzaW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGb3JtYXRFeHByZXNzaW9uKG9wdGlvbikge1xyXG4gICAgdmFyIGV4cHJlc3Npb24gPSAnJyxcclxuICAgICAgICBwO1xyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2N1cnJlbmN5Jykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJyQsJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnZml4ZWRDdXJyZW5jeScpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcoJC4yZicpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ3BlcmNlbnQnKSB7XHJcbiAgICAgICAgcCA9IE1hdGgubWF4KDAsIGQzLnByZWNpc2lvbkZpeGVkKDAuMDUpIC0gMik7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLicgKyBwICsgJyUnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdtaWxsaW9ucycpIHtcclxuICAgICAgICBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXRQcmVmaXgoJy4nICsgcCwgMS4zZTYpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2NvbW1hcycpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcsLjBmJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnbm9uZScgfHwgb3B0aW9uID09PSAnJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJycpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2Rpc3BsYXlWYWx1ZXMnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLC4yZicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBleHByZXNzaW9uO1xyXG59XHJcblxyXG4vKipnZXRUb2dnbGVkRGF0YVxyXG4gKlxyXG4gKiBHZXRzIHRoZSBoZWFkZXJzIG9mIHRoZSBkYXRhIHRvIGJlIGRyYXduIGFuZCBmaWx0ZXJzIHRoZSBkYXRhIGJhc2VkIG9uIHRoYXRcclxuICogQHBhcmFtcyBjaGFydERhdGEsIGRhdGFIZWFkZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUb2dnbGVkRGF0YShjaGFydERhdGEsIGRhdGFIZWFkZXJzKSB7XHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBjaGFydERhdGEubGVnZW5kRGF0YSk7XHJcbiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2hhcnREYXRhLmNoYXJ0RGF0YSkpO1xyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGFbal1bbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8qKmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVxyXG4gKlxyXG4gKiBHZXRzIGFuIGFycmF5IG9mIGxlZ2VuZCBlbGVtZW50cyB3aXRoIHRydWUvZmFsc2UgdGFncyBmb3IgaWYgdG9nZ2xlZFxyXG4gKiBAcGFyYW1zIHNlbGVjdGVkSGVhZGVycywgYWxsSGVhZGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KHNlbGVjdGVkSGVhZGVycywgYWxsSGVhZGVycykge1xyXG4gICAgdmFyIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxIZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5LnB1c2goeyBlbGVtZW50OiBhbGxIZWFkZXJzW2ldIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWxlY3RlZEhlYWRlcnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBzZWxlY3RlZEhlYWRlcnNbal0pIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlTGVnZW5kRWxlbWVudHNcclxuICpcclxuICogQ3JlYXRlcyB0aGUgbGVnZW5kIGVsZW1lbnRzLS1yZWN0YW5nbGVzIGFuZCBsYWJlbHNcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbGVnZW5kLFxyXG4gICAgICAgIGxlZ2VuZFJvdyA9IDAsXHJcbiAgICAgICAgbGVnZW5kQ29sdW1uID0gMCxcclxuICAgICAgICBsZWdlbmREYXRhTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRJbmRleCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPSBNYXRoLmZsb29yKGxlZ2VuZERhdGFMZW5ndGggLyBjaGFydC5fdmFycy5sZWdlbmRNYXggLSAwLjAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2lmIGxlZ2VuZCBoZWFkZXJzIGRvbid0IGV4aXN0LCBzZXQgdGhlbSBlcXVhbCB0byBsZWdlbmQgZGF0YVxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzICYmICFjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobGVnZW5kRGF0YSkpO1xyXG4gICAgfSBlbHNlIGlmICghY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgJiYgY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsZWdlbmREYXRhKSk7XHJcbiAgICB9XHJcbiAgICAvL1NldCBsZWdlbmQgZWxlbWVudCB0b2dnbGUgYXJyYXkgYmFzZWQgb24gaWYgc2VyaWVzIGlzIGZsaXBwZWRcclxuICAgIGlmICghY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIHZhciBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycywgbGVnZW5kRGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBmbGlwcGVkTGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBsZWdlbmQgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJyk7XHJcblxyXG4gICAgLy9BZGRpbmcgY29sb3JlZCByZWN0YW5nbGVzIHRvIHRoZSBsZWdlbmRcclxuICAgIHZhciBsZWdlbmRSZWN0YW5nbGVzID0gbGVnZW5kLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmRSZWN0JylcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRDb2x1bW4gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRQb3MgPSAyMDAgKiBsZWdlbmRDb2x1bW47XHJcbiAgICAgICAgICAgIGxlZ2VuZENvbHVtbisrO1xyXG4gICAgICAgICAgICByZXR1cm4gbGVnZW5kUG9zO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSAlIChjaGFydC5fdmFycy5sZWdlbmRNYXggLyAzKSA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgJSBjaGFydC5fdmFycy5sZWdlbmRNYXggPT09IDAgJiYgaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZFJvdyA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChjb250YWluZXIuaGVpZ2h0ICsgMTApICsgKDE1ICogKGxlZ2VuZFJvdyArIDEpKSAtIDU7IC8vSW5jcmVtZW50IHJvdyB3aGVuIGNvbHVtbiBsaW1pdCBpcyByZWFjaGVkXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBpLCBsZWdlbmREYXRhW2ldKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdkaXNwbGF5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPj0gKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSAmJiBpIDw9ICgoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICsgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAtIDEpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignb3BhY2l0eScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmICgoIWxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSAmJiAhY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkgfHwgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQgJiYgIWZsaXBwZWRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoIWNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gdHJ1ZSkgfHxcclxuICAgICAgICAgICAgICAgIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGZsaXBwZWRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcxJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJzAuMic7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbGVnZW5kUm93ID0gMDtcclxuICAgIGxlZ2VuZENvbHVtbiA9IDA7XHJcblxyXG4gICAgLy9BZGRpbmcgdGV4dCBsYWJlbHMgZm9yIGVhY2ggcmVjdGFuZ2xlIGluIGxlZ2VuZFxyXG4gICAgdmFyIGxlZ2VuZFRleHQgPSBsZWdlbmQuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdsZWdlbmRUZXh0IGVkaXRhYmxlIGVkaXRhYmxlLXRleHQgZWRpdGFibGUtY29udGVudCBlZGl0YWJsZS1sZWdlbmQtJyArIGk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRDb2x1bW4gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRQb3MgPSAyMDAgKiBsZWdlbmRDb2x1bW47XHJcbiAgICAgICAgICAgIGxlZ2VuZENvbHVtbisrO1xyXG4gICAgICAgICAgICByZXR1cm4gbGVnZW5kUG9zICsgMTc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRSb3crKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5lci5oZWlnaHQgKyAxMCkgKyAoMTUgKiAobGVnZW5kUm93ICsgMSkpOyAvL0luY3JlbWVudCByb3cgd2hlbiBjb2x1bW4gbGltaXQgaXMgcmVhY2hlZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuYXR0cignZHknLCAnMC4zNWVtJykgLy9WZXJ0aWNhbGx5IGFsaWduIHdpdGggbm9kZVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuZm9udENvbG9yKVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpID49IChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgJiYgaSA8PSAoKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSArIChjaGFydC5fdmFycy5sZWdlbmRNYXggLSAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnROYW1lID0gbGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50TmFtZSA9IGxlZ2VuZERhdGFbaV0uc2xpY2UoMCwgLTUpOy8vUmVtb3ZpbmcgbGFzdCA1IGNoYXJhY3RlcnMgb2YgbGVnZW5kIGxhYmVsLS0taS5lIHBsYW5uZWRTVEFSVCAtPiBwbGFubmVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnROYW1lLmxlbmd0aCA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWUuc3Vic3RyaW5nKDAsIDE5KSArICcuLi4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50TmFtZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0FkZGluZyBpbmZvIGJveCB0byBsZWdlbmQgZWxlbWVudHMgd2hlbiBob3ZlcmluZyBvdmVyXHJcbiAgICBsZWdlbmRUZXh0XHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vT25seSBjcmVhdGUgY2Fyb3VzZWwgaWYgdGhlIG51bWJlciBvZiBlbGVtZW50cyBleGNlZWRzIG9uZSBsZWdlbmQgXCJwYWdlXCJcclxuICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA+IDApIHtcclxuICAgICAgICBjcmVhdGVDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgfVxyXG4gICAgLy9DZW50ZXJzIHRoZSBsZWdlbmQgaW4gdGhlIHBhbmVsXHJcbiAgICBpZiAobGVnZW5kKSB7XHJcbiAgICAgICAgdmFyIGxlZ2VuZFdpZHRoID0gbGVnZW5kLm5vZGUoKS5nZXRCQm94KCkud2lkdGg7XHJcbiAgICAgICAgbGVnZW5kLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICgoY29udGFpbmVyLndpZHRoIC0gbGVnZW5kV2lkdGgpIC8gMikgKyAnLCAzMCknKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGVnZW5kUmVjdGFuZ2xlcztcclxufVxyXG5cclxuLyoqdXBkYXRlRGF0YUZyb21MZWdlbmRcclxuICpcclxuICogUmV0dXJucyBhIGxpc3Qgb2YgZGF0YSBoZWFkZXJzIHRoYXQgc2hvdWxkIGJlIGRpc3BsYXllZCBpbiB2aXpcclxuICogYmFzZWQgb2ZmIHdoYXQgaXMgdG9nZ2xlZCBvbi9vZmYgaW4gbGVnZW5kXHJcbiAqIEBwYXJhbXMgbGVnZW5kRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlRGF0YUZyb21MZWdlbmQobGVnZW5kRGF0YSkge1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIHZhciBsZWdlbmRFbGVtZW50ID0gbGVnZW5kRGF0YVswXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChsZWdlbmRFbGVtZW50W2ldLmF0dHJpYnV0ZXMub3BhY2l0eS52YWx1ZSAhPT0gJzAuMicpIHtcclxuICAgICAgICAgICAgLy9JZiBub3Qgd2hpdGUsIGFkZCBpdCB0byB0aGUgdXBkYXRlZCBkYXRhIGFycmF5XHJcbiAgICAgICAgICAgIGRhdGEucHVzaChsZWdlbmRFbGVtZW50W2ldLl9fZGF0YV9fKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqY3JlYXRlQ2Fyb3VzZWxcclxuICpcclxuICogRHJhd3MgdGhlIGhvcml6b250YWwgbGVnZW5kIGNhcm91c2VsXHJcbiAqIEBwYXJhbXMgY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpIHtcclxuICAgIHZhciBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBsZWdlbmRQb2x5Z29uO1xyXG5cclxuICAgIC8vQWRkaW5nIGNhcm91c2VsIHRvIGxlZ2VuZFxyXG4gICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZC1jYXJvdXNlbCcpLnJlbW92ZSgpO1xyXG4gICAgc3ZnLnNlbGVjdEFsbCgnI2xlZ2VuZC10ZXh0LWluZGV4JykucmVtb3ZlKCk7XHJcblxyXG4gICAgbGVnZW5kUG9seWdvbiA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQtY2Fyb3VzZWwnKTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgbGVmdCBuYXZpZ2F0aW9uIGFycm93IGZvciBjYXJvdXNlbFxyXG4gICAgbGVnZW5kUG9seWdvbi5hcHBlbmQoJ3BvbHlnb24nKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdsZWZ0Q2hldnJvbicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BvaW50ZXItY3Vyc29yJylcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBjaGFydC5fdmFycy5sZWdlbmRBcnJvd0NvbG9yKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsMCknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMCw3LjUsIDE1LDAsIDE1LDE1JylcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXgtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKTtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIGRyYXdGdW5jLCBsZWdlbmREYXRhKTtcclxuICAgICAgICAgICAgY2hhcnQubG9jYWxDYWxsYmFja0FwcGx5RWRpdHMoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgZGlzcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBwYWdlIG51bWJlciBmb3IgY2Fyb3VzZWwgbmF2aWdhdGlvblxyXG4gICAgbGVnZW5kUG9seWdvbi5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmQtdGV4dC1pbmRleCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAzNSlcclxuICAgICAgICAuYXR0cigneScsIDEyLjUpXHJcbiAgICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5sZWdlbmRJbmRleCArICcgLyAnICsgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXg7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcmlnaHQgbmF2aWdhdGlvbiBhcnJvdyBmb3IgY2Fyb3VzZWxcclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCdwb2x5Z29uJylcclxuICAgICAgICAuYXR0cignaWQnLCAncmlnaHRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Ll92YXJzLmxlZ2VuZEFycm93Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoODUsMCknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMTUsNy41LCAwLDAsIDAsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA8IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgICAgICBjaGFydC5sb2NhbENhbGxiYWNrQXBwbHlFZGl0cygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPT09IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ2VudGVycyB0aGUgbGVnZW5kIHBvbHlnb25zIGluIHRoZSBwYW5lbFxyXG4gICAgaWYgKGxlZ2VuZFBvbHlnb24pIHtcclxuICAgICAgICB2YXIgbGVnZW5kUG9seWdvbldpZHRoID0gbGVnZW5kUG9seWdvbi5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgIGxlZ2VuZFBvbHlnb24uYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKChjb250YWluZXIud2lkdGggLSBsZWdlbmRQb2x5Z29uV2lkdGgpIC8gMikgKyAnLCcgKyAoY29udGFpbmVyLmhlaWdodCArIDEwNSkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqZ2V0UGxvdERhdGFcclxuICpcclxuICogUmV0dXJucyBvbmx5IGRhdGEgdmFsdWVzIHRvIGJlIHBsb3R0ZWQ7IGlucHV0IGlzIHRoZSBkYXRhIG9iamVjdFxyXG4gKiBAcGFyYW1zIG9iamVjdERhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQbG90RGF0YShvYmplY3REYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIHZhciBvYmpEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3REYXRhKSk7Ly9Db3B5IG9mIGJhckRhdGFcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqRGF0YU5ldy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBncm91cCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iakRhdGFOZXdbaV1bY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtqXV0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKG9iakRhdGFOZXdbaV1bY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtqXV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEucHVzaChncm91cCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqZ2V0UG9zQ2FsY3VsYXRpb25zXHJcbiAqSG9sZHMgdGhlIGxvZ2ljIGZvciBwb3NpdGlvbmluZyBhbGwgYmFycyBvbiBhIGJhciBjaGFydCAoZGVwZW5kcyBvbiB0b29sRGF0YSlcclxuICpcclxuICogQHBhcmFtcyBzdmcsIGJhckRhdGEsIG9wdGlvbnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXJcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UG9zQ2FsY3VsYXRpb25zKGJhckRhdGEsIF92YXJzLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydCkge1xyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgX3ZhcnMpLFxyXG4gICAgICAgIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgX3ZhcnMpLFxyXG4gICAgICAgIHNjYWxlRmFjdG9yID0gMSxcclxuICAgICAgICBkYXRhID0gW10sXHJcbiAgICAgICAgc2l6ZSA9IDAsXHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMgPSB7fTtcclxuXHJcbiAgICBmb3IobGV0IGl0ZW0gaW4gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlKXtcclxuICAgICAgICBpZihpdGVtICE9PSAnbGFiZWwnICYmIGl0ZW0uaW5kZXhPZigndG9vbHRpcCcpID09PSAtMSl7XHJcbiAgICAgICAgICAgIHNpemUrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAgICAgXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhckRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgdmFsID0gW107XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGJhckRhdGFbaV0pIHtcclxuICAgICAgICAgICAgaWYgKGJhckRhdGFbaV0uaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICAgICAgdmFsLnB1c2goYmFyRGF0YVtpXVtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhLnB1c2godmFsLnNsaWNlKDEsIGJhckRhdGFbaV0ubGVuZ3RoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKF92YXJzLnJvdGF0ZUF4aXMgPT09IHRydWUgJiYgX3ZhcnMuc3RhY2tUb2dnbGUgPT09IHRydWUpIHtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0d2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnRoZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5LmJhbmR3aWR0aCgpICogMC45NTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnggPSBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICB2YXIgaW5jcmVtZW50ID0gMDsvL01vdmUgdGhlIHggdXAgYnkgdGhlIHZhbHVlcyB0aGF0IGNvbWUgYmVmb3JlIGl0XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSBpIC0gMTsgayA+PSAwOyBrLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaltrXS5fX2RhdGFfXykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnQgKz0galtrXS5fX2RhdGFfXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geChpbmNyZW1lbnQpID09PSAwID8gMSA6IHgoaW5jcmVtZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeCgwKSAtIHgoZCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4geS5iYW5kd2lkdGgoKSAqIDAuOTU7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSAmJiBfdmFycy5zdGFja1RvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR5ID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHkuYmFuZHdpZHRoKCkgLyBzaXplICogaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0d2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnRoZWlnaHQgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHkuYmFuZHdpZHRoKCkgLyBzaXplICogMC45NSkgKiBzY2FsZUZhY3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnggPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4geCgwKSAtIHgoZCkgPiAwID8geChkKSA6IHgoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy55ID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHkuYmFuZHdpZHRoKCkgLyBzaXplICogaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLndpZHRoID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHgoMCkgLSB4KGQpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLmhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh5LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIDAuOTUpICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gZmFsc2UgJiYgX3ZhcnMuc3RhY2tUb2dnbGUgPT09IHRydWUpIHtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmhlaWdodDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0d2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeC5iYW5kd2lkdGgoKSAqIDAuOTUpICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydGhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy54ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICB2YXIgaW5jcmVtZW50ID0gMDsvL01vdmUgdGhlIHkgdXAgYnkgdGhlIHZhbHVlcyB0aGF0IGNvbWUgYmVmb3JlIGl0XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSBpIC0gMTsgayA+PSAwOyBrLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaltrXS5fX2RhdGFfXykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnQgKz0galtrXS5fX2RhdGFfXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geShwYXJzZUZsb2F0KGQpICsgaW5jcmVtZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLndpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHguYmFuZHdpZHRoKCkgKiAwLjk1KSAqIHNjYWxlRmFjdG9yO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQgLSB5KGQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKF92YXJzLnJvdGF0ZUF4aXMgPT09IGZhbHNlICYmIF92YXJzLnN0YWNrVG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIDAuOTUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnRoZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueCA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy55ID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHkoMCkgLSB5KGQpID4gMCA/IHkoZCkgOiB5KDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeC5iYW5kd2lkdGgoKSAvIHNpemUgKiAwLjk1KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLmhlaWdodCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh5KDApIC0geShkKSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbkZ1bmN0aW9ucztcclxufVxyXG5cclxuLyoqZ2V0Q29sb3JzXHJcbiAqXHJcbiAqIGdldHMgdGhlIGNvbG9ycyB0byBhcHBseSB0byB0aGUgc3BlY2lmaWMgY2hhcnRcclxuICogQHBhcmFtcyBjb2xvck9iaiwgaW5kZXgsIGxhYmVsXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdldENvbG9ycyhjb2xvck9iaiwgcGFyYW1JbmRleCwgbGFiZWwpIHtcclxuICAgIHZhciBpbmRleCA9IHBhcmFtSW5kZXg7XHJcblxyXG4gICAgLy9sb2dpYyB0byByZXR1cm4gdGhlIGNvbG9yIGlmIHRoZSBjb2xvck9iaiBwYXNzZWQgaW5cclxuICAgIC8vaXMgYW4gb2JqZWN0IHdpdGggdGhlIGxhYmVsIGJlaW5nIHRoZSBrZXlcclxuICAgIGlmICh0eXBlb2YgbGFiZWwgIT09ICd1bmRlZmluZWQnICYmIGNvbG9yT2JqLmhhc093blByb3BlcnR5KGxhYmVsKSAmJiBjb2xvck9ialtsYWJlbF0pIHtcclxuICAgICAgICByZXR1cm4gY29sb3JPYmpbbGFiZWxdO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjbGVhbmVkQ29sb3JzID0gW107XHJcblxyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yT2JqKSkge1xyXG4gICAgICAgIGNsZWFuZWRDb2xvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBrIGluIGNvbG9yT2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2xvck9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yT2JqW2tdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5lZENvbG9ycy5wdXNoKGNvbG9yT2JqW2tdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2xlYW5lZENvbG9ycyA9IGNvbG9yT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIC8vbG9naWMgdG8gcmV0dXJuIGEgcmVwZWF0aW5nIHNldCBvZiBjb2xvcnMgYXNzdW1pbmcgdGhhdFxyXG4gICAgLy90aGUgdXNlciBjaGFuZ2VkIGRhdGEgKGV4OiBmbGlwIHNlcmllcyBvbiBiYXIgY2hhcnQpXHJcbiAgICBpZiAoIWNsZWFuZWRDb2xvcnNbaW5kZXhdKSB7XHJcbiAgICAgICAgd2hpbGUgKGluZGV4ID4gY2xlYW5lZENvbG9ycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXggLSBjbGVhbmVkQ29sb3JzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xlYW5lZENvbG9yc1tpbmRleF07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRBeGlzU2NhbGUod2hpY2hBeGlzLCBheGlzRGF0YSwgY29udGFpbmVyLCBfdmFycywgcGFkZGluZ1R5cGUpIHtcclxuICAgIHZhciBsZWZ0UGFkZGluZyA9IDAuNCxcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwLjI7XHJcbiAgICBpZiAocGFkZGluZ1R5cGUgPT09ICduby1wYWRkaW5nJykge1xyXG4gICAgICAgIGxlZnRQYWRkaW5nID0gMDtcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwO1xyXG4gICAgfVxyXG4gICAgdmFyIGF4aXNTY2FsZSxcclxuICAgICAgICBheGlzO1xyXG5cclxuICAgIHdoaWNoQXhpcyA9PT0gJ3gnID8gYXhpcyA9IGNvbnRhaW5lci53aWR0aCA6IGF4aXMgPSBjb250YWluZXIuaGVpZ2h0O1xyXG5cclxuICAgIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ0RBVEUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBheGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXhpc0RhdGEudmFsdWVzW2ldID0gbmV3IERhdGUoYXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtYXhEYXRlID0gTWF0aC5tYXguYXBwbHkobnVsbCwgYXhpc0RhdGEudmFsdWVzKTtcclxuICAgICAgICB2YXIgbWluRGF0ZSA9IE1hdGgubWluLmFwcGx5KG51bGwsIGF4aXNEYXRhLnZhbHVlcyk7XHJcblxyXG4gICAgICAgIGF4aXNTY2FsZSA9IGQzLnNjYWxlVGltZSgpLmRvbWFpbihbbmV3IERhdGUobWluRGF0ZSksIG5ldyBEYXRlKG1heERhdGUpXSkucmFuZ2VSb3VuZChbMCwgYXhpc10pO1xyXG4gICAgfSBlbHNlIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICBheGlzU2NhbGUgPSBkMy5zY2FsZUJhbmQoKVxyXG4gICAgICAgICAgICAuZG9tYWluKGF4aXNEYXRhLnZhbHVlcylcclxuICAgICAgICAgICAgLnJhbmdlKFswLCBheGlzXSlcclxuICAgICAgICAgICAgLnBhZGRpbmdJbm5lcihsZWZ0UGFkZGluZylcclxuICAgICAgICAgICAgLnBhZGRpbmdPdXRlcihyaWdodFBhZGRpbmcpO1xyXG4gICAgfSBlbHNlIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICB2YXIgZG9tYWluO1xyXG4gICAgICAgIGlmIChfdmFycy54UmV2ZXJzZWQgfHwgX3ZhcnMueVJldmVyc2VkKSB7XHJcbiAgICAgICAgICAgIGlmICgoX3ZhcnMueFJldmVyc2VkICYmIHdoaWNoQXhpcyA9PT0gJ3gnKSB8fCAod2hpY2hBeGlzID09PSAneScgJiYgIV92YXJzLnlSZXZlcnNlZCkpIHtcclxuICAgICAgICAgICAgICAgIGRvbWFpbiA9IFtheGlzRGF0YS5tYXgsIGF4aXNEYXRhLm1pbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKChfdmFycy55UmV2ZXJzZWQgJiYgd2hpY2hBeGlzID09PSAneScpIHx8ICh3aGljaEF4aXMgPT09ICd4JyAmJiAhX3ZhcnMueFJldmVyc2VkKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tYWluID0gW2F4aXNEYXRhLm1pbiwgYXhpc0RhdGEubWF4XTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWNoQXhpcyA9PT0gJ3gnID8gZG9tYWluID0gW2F4aXNEYXRhLm1pbiwgYXhpc0RhdGEubWF4XSA6IGRvbWFpbiA9IFtheGlzRGF0YS5tYXgsIGF4aXNEYXRhLm1pbl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoX3ZhcnMuaGFzT3duUHJvcGVydHkoJ2F4aXNUeXBlJykgJiYgX3ZhcnMuYXhpc1R5cGUgPT09ICdMb2dhcml0aG1pYycpIHtcclxuICAgICAgICAgICAgZG9tYWluWzFdID0gMC4xO1xyXG4gICAgICAgICAgICBheGlzU2NhbGUgPSBkMy5zY2FsZUxvZygpLmJhc2UoMTApLmRvbWFpbihkb21haW4pLnJhbmdlUm91bmQoWzAsIGF4aXNdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBheGlzU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihkb21haW4pLnJhbmdlUm91bmQoWzAsIGF4aXNdKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0F4aXMgaXMgbm90IGEgdmFsaWQgZGF0YSB0eXBlJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXhpc1NjYWxlO1xyXG59XHJcblxyXG4vKipnZXRYU2NhbGVcclxuICpcclxuICogZ2V0IHRoZSBzY2FsZSBmb3IgdGhlIHggYXhpc1xyXG4gKiBAcGFyYW1zIHhBeGlzRGF0YSwgY29udGFpbmVyLCBwYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdldFhTY2FsZSh4QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZykge1xyXG4gICAgdmFyIHhBeGlzU2NhbGU7XHJcbiAgICB2YXIgbGVmdFBhZGRpbmcgPSAwLjQsXHJcbiAgICAgICAgcmlnaHRQYWRkaW5nID0gMC4yO1xyXG4gICAgaWYgKHBhZGRpbmcgPT09ICduby1wYWRkaW5nJykge1xyXG4gICAgICAgIGxlZnRQYWRkaW5nID0gMDtcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY2hlY2sgaWYgdmFsdWVzIGxlbmd0aCBpcyBncmVhdGVyIHRoYW4gdHdvIGluY2FzZSB0aGUgbGFiZWxzIGFyZSBhbGwgbnVtYmVycy4gaWYgaXQgaXMgYSBsaW5lYXIgc2NhbGUgdGhlbiB0aGVyZSB3aWxsIG9ubHkgYmUgYSBtaW4gYW5kIG1heFxyXG4gICAgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ0RBVEUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHhBeGlzRGF0YS52YWx1ZXNbaV0gPSBuZXcgRGF0ZSh4QXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtYXhEYXRlID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeEF4aXNEYXRhLnZhbHVlcyk7XHJcbiAgICAgICAgdmFyIG1pbkRhdGUgPSBNYXRoLm1pbi5hcHBseShudWxsLCB4QXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICAgICAgeEF4aXNTY2FsZSA9IGQzLnRpbWUuc2NhbGUoKS5kb21haW4oW25ldyBEYXRlKG1pbkRhdGUpLCBuZXcgRGF0ZShtYXhEYXRlKV0pLnJhbmdlUm91bmQoWzAsIGNvbnRhaW5lci53aWR0aF0pO1xyXG4gICAgfSBlbHNlIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnIHx8IHhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoID4gMikge1xyXG4gICAgICAgIHhBeGlzU2NhbGUgPSBkMy5zY2FsZUJhbmQoKVxyXG4gICAgICAgICAgICAuZG9tYWluKHhBeGlzRGF0YS52YWx1ZXMpXHJcbiAgICAgICAgICAgIC5yYW5nZShbMCwgY29udGFpbmVyLndpZHRoXSlcclxuICAgICAgICAgICAgLnBhZGRpbmdJbm5lcihsZWZ0UGFkZGluZylcclxuICAgICAgICAgICAgLnBhZGRpbmdPdXRlcihyaWdodFBhZGRpbmcpO1xyXG4gICAgfSBlbHNlIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgdmFyIG1heCA9IHhBeGlzRGF0YS52YWx1ZXNbKHhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgIHZhciBtaW4gPSB4QXhpc0RhdGEudmFsdWVzWzBdO1xyXG5cclxuICAgICAgICB4QXhpc1NjYWxlID0gZDMuc2NhbGVCYW5kKCkuZG9tYWluKFttaW4sIG1heF0pLnJhbmdlUm91bmQoWzAsIGNvbnRhaW5lci53aWR0aF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHhBeGlzU2NhbGU7XHJcbn1cclxuXHJcbi8qKmdldFlTY2FsZVxyXG4gKlxyXG4gKiBnZXRzIHRoZSBzY2FsZSBmb3IgdGhlIHkgYXhpc1xyXG4gKiBAcGFyYW1zIHlBeGlzRGF0YSwgY29udGFpbmVyLCBwYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdldFlTY2FsZSh5QXhpc0RhdGEsIGNvbnRhaW5lcikge1xyXG4gICAgdmFyIHlBeGlzU2NhbGU7XHJcblxyXG4gICAgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICB5QXhpc1NjYWxlID0gZDMuc2NhbGVPcmRpbmFsKCkuZG9tYWluKHlBeGlzRGF0YS52YWx1ZXMpLnJhbmdlKFswLCBjb250YWluZXIuaGVpZ2h0XSk7XHJcbiAgICB9IGVsc2UgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICB2YXIgbWF4ID0geUF4aXNEYXRhLnZhbHVlc1soeUF4aXNEYXRhLnZhbHVlcy5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgdmFyIG1pbiA9IHlBeGlzRGF0YS52YWx1ZXNbMF07XHJcbiAgICAgICAgeUF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFttYXgsIG1pbl0pLnJhbmdlUm91bmQoWzAsIGNvbnRhaW5lci5oZWlnaHRdKTtcclxuICAgIH1cclxuICAgIHJldHVybiB5QXhpc1NjYWxlO1xyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBEYXRhIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCAtIFRoZSBmaWVsZCB0aGF0IGlzIGNoZWNrZWQgZm9yIHR5cGVcclxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFUYWJsZUtleXMgLSBPYmplY3QgdGhhdCBjb250YWlucyB0aGUgZGF0YSB0eXBlIGZvciBlYWNoIGNvbHVtbiBvZiBkYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXREYXRhVHlwZUZyb21LZXlzKGxhYmVsLCBkYXRhVGFibGVLZXlzKSB7XHJcbiAgICB2YXIgdHlwZTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvL1JlcGxhY2UgdW5kZXJzY29yZXMgd2l0aCBzcGFjZXNcclxuICAgICAgICBpZiAoZGF0YVRhYmxlS2V5c1tpXS52YXJLZXkucmVwbGFjZSgvXy9nLCAnICcpID09PSBsYWJlbC5yZXBsYWNlKC9fL2csICcgJykpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFUYWJsZUtleXNbaV0uaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xyXG4gICAgICAgICAgICAgICAgdHlwZSA9IGRhdGFUYWJsZUtleXNbaV0udHlwZTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAnU1RSSU5HJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnU1RSSU5HJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0RBVEUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdEQVRFJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ05VTUJFUic7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnTlVNQkVSJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHR5cGU7XHJcbn1cclxuXHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldEJhckxpbmVMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSAhPT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZVtpdGVtXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuXHJcbi8qKnNldENoYXJ0Q29sb3JzXHJcbiAqICBjbGVhbnMgaW5jb21pbmcgY29sb3JzIGZvciBjb25zaXN0ZW5jeVxyXG4gKlxyXG4gKiBAcGFyYW1zIGNvbG9yQXJyYXksIGxlZ2VuZERhdGFcclxuICogQHJldHVybnMgb2JqZWN0IHdpdGggY29sb3JzXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gc2V0Q2hhcnRDb2xvcnModG9vbERhdGEsIGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KSB7XHJcbiAgICAvL2Z1bmN0aW9uIGhhbmRsZXMgMyBjb2xvciBpbnB1dHNcclxuICAgIC8vdG9vbERhdGEgYXMgYW4gYXJyYXkgaW4gdG9vbERhdGFcclxuICAgIC8vdG9vbERhdGEgYXMgYW4gb2JqZWN0XHJcbiAgICAvL3Rvb2xEYXRhIGFzICdub25lJ1xyXG4gICAgLy9hbnkgb3RoZXIgY2FzZSB3aWxsIHJlc3VsdCBpbiB1c2luZyBkZWZhdWx0Q29sb3JBcnJheVxyXG5cclxuICAgIHZhciBjb2xvcnMgPSB7fSxcclxuICAgICAgICB1c2VkQ29sb3JzID0gW10sXHJcbiAgICAgICAgdW5hY2NvdW50ZWRMZWdlbmRFbGVtZW50cyA9IFtdO1xyXG5cclxuICAgIC8vdG9vbERhdGEgaXMgYXJyYXlcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHRvb2xEYXRhKSkge1xyXG4gICAgICAgIGlmICh0b29sRGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIHRvb2xEYXRhKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCBkZWZhdWx0Q29sb3JBcnJheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0b29sRGF0YSA9PT0gT2JqZWN0KHRvb2xEYXRhKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgb2JqID0gbGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgaWYgKHRvb2xEYXRhLmhhc093blByb3BlcnR5KG9iaikpIHtcclxuICAgICAgICAgICAgICAgIHVzZWRDb2xvcnMucHVzaCh0b29sRGF0YVtvYmpdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVuYWNjb3VudGVkTGVnZW5kRWxlbWVudHMucHVzaChsZWdlbmREYXRhW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvL2NoZWNrIGlmIG9iamVjdCBoYXMgZGVzaXJlZCBrZXlzXHJcbiAgICAgICAgaWYgKHVzZWRDb2xvcnMubGVuZ3RoID09PSBsZWdlbmREYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb2xvcnMgPSB0b29sRGF0YTtcclxuICAgICAgICB9IGVsc2UgaWYgKHVzZWRDb2xvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgdG9vbERhdGFBc0FycmF5ID0gT2JqZWN0LnZhbHVlcyh0b29sRGF0YSk7XHJcbiAgICAgICAgICAgIGlmICh0b29sRGF0YUFzQXJyYXkubGVuZ3RoID4gbGVnZW5kRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIHRvb2xEYXRhQXNBcnJheSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCBkZWZhdWx0Q29sb3JBcnJheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgdG9vbERhdGFBc0FycmF5ID0gT2JqZWN0LnZhbHVlcyh0b29sRGF0YSk7XHJcbiAgICAgICAgICAgIGlmICh0b29sRGF0YUFzQXJyYXkubGVuZ3RoID4gbGVnZW5kRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIHRvb2xEYXRhQXNBcnJheSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCBkZWZhdWx0Q29sb3JBcnJheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY29sb3JzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCBjb2xvcnMpIHtcclxuICAgIHZhciBtYXBwZWRDb2xvcnMgPSB7fSxcclxuICAgICAgICBjb3VudCA9IDA7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoY291bnQgPiBjb2xvcnMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICBjb3VudCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1hcHBlZENvbG9yc1tsZWdlbmREYXRhW2ldXSA9IGNvbG9yc1tjb3VudF07XHJcbiAgICAgICAgY291bnQrKztcclxuICAgIH1cclxuICAgIHJldHVybiBtYXBwZWRDb2xvcnM7XHJcbn1cclxuXHJcbi8qKmNsZWFuVG9vbERhdGFcclxuICogIGNsZWFucyBpbmNvbWluZyB0b29sRGF0YSBmb3IgY29uc2lzdGVuY3lcclxuICpcclxuICogQHBhcmFtIHRvb2xEYXRhXHJcbiAqIEByZXR1cm5zIG9iamVjdCB3aXRoIHRvb2xkYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBjbGVhblRvb2xEYXRhKG9wdGlvbnMpIHtcclxuICAgIHZhciBkYXRhID0ge31cclxuICAgIGlmKG9wdGlvbnMpIHtcclxuICAgICAgICBkYXRhID0gb3B0aW9ucztcclxuICAgIH1cclxuICAgIGlmICghZGF0YS5oYXNPd25Qcm9wZXJ0eSgncm90YXRlQXhpcycpKSB7XHJcbiAgICAgICAgZGF0YS5yb3RhdGVBeGlzID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3RhY2tUb2dnbGUnKSkge1xyXG4gICAgICAgIGlmIChkYXRhLnN0YWNrVG9nZ2xlID09PSAnc3RhY2stZGF0YScgfHwgZGF0YS5zdGFja1RvZ2dsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnY29sb3JzJykpIHtcclxuICAgICAgICBkYXRhLmNvbG9yID0gZGF0YS5jb2xvcnM7XHJcbiAgICB9XHJcbiAgICBpZighZGF0YS5oYXNPd25Qcm9wZXJ0eSgndGhyZXNob2xkcycpKSB7XHJcbiAgICAgICAgZGF0YS50aHJlc2hvbGRzID0gW107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TWF4V2lkdGhGb3JBeGlzRGF0YShheGlzLCBheGlzRGF0YSwgX3ZhcnMsIGRpbWVuc2lvbnMsIG1hcmdpbiwgY2hhcnREaXYsIHR5cGUpIHtcclxuICAgIHZhciBtYXhBeGlzVGV4dCA9ICcnLFxyXG4gICAgICAgIGZvcm1hdFR5cGU7XHJcbiAgICAvL0R5bmFtaWMgbGVmdCBtYXJnaW4gZm9yIGNoYXJ0cyB3aXRoIHkgYXhpc1xyXG4gICAgaWYgKF92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAvL2dldCBsZW5ndGggb2YgbG9uZ2VzdCB0ZXh0IGxhYmVsIGFuZCBtYWtlIHRoZSBheGlzIGJhc2VkIG9mZiB0aGF0XHJcbiAgICAgICAgdmFyIG1heFN0cmluZyA9ICcnLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLmhlaWdodCkgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuXHJcbiAgICAgICAgLy9jaGVjayBpZiBsYWJlbHMgc2hvdWxkIGJlIHNob3duXHJcbiAgICAgICAgaWYgKGhlaWdodCAhPT0gMCAmJiBoZWlnaHQgLyBheGlzRGF0YS52YWx1ZXMubGVuZ3RoIDwgcGFyc2VJbnQoX3ZhcnMuZm9udFNpemUpKSB7XHJcbiAgICAgICAgICAgIGF4aXNEYXRhLmhpZGVWYWx1ZXMgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFN0ciA9IGF4aXNEYXRhLnZhbHVlc1tpXS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdHIubGVuZ3RoID4gbWF4U3RyaW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFN0cmluZyA9IGN1cnJlbnRTdHI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBtYXhTdHJpbmc7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICghIV92YXJzLnlMYWJlbEZvcm1hdCB8fCAhIV92YXJzLnhMYWJlbEZvcm1hdCkge1xyXG4gICAgICAgIHZhciBsYWJlbEZvcm1hdCA9IF92YXJzLnlMYWJlbEZvcm1hdDtcclxuICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgIGxhYmVsRm9ybWF0ID0gX3ZhcnMueExhYmVsRm9ybWF0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9ybWF0VHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKGF4aXNEYXRhLnZhbHVlcyk7XHJcbiAgICAgICAgdmFyIGV4cHJlc3Npb24gPSBnZXRGb3JtYXRFeHByZXNzaW9uKGxhYmVsRm9ybWF0KTtcclxuICAgICAgICBpZiAoZXhwcmVzc2lvbiAhPT0gJycpIHtcclxuICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBleHByZXNzaW9uKGF4aXNEYXRhLm1heCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBqdkZvcm1hdFZhbHVlKGF4aXNEYXRhLm1heCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBmb3JtYXRUeXBlID0ganZGb3JtYXRWYWx1ZVR5cGUoYXhpc0RhdGEudmFsdWVzKTtcclxuICAgICAgICBpZiAoIWF4aXNEYXRhLmhhc093blByb3BlcnR5KCdtYXgnKSkge1xyXG4gICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBheGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChheGlzRGF0YS52YWx1ZXNbaV0ubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gYXhpc0RhdGEudmFsdWVzW2ldLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBtYXhBeGlzVGV4dCA9IGF4aXNEYXRhLnZhbHVlc1tpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0ganZGb3JtYXRWYWx1ZShheGlzRGF0YS5tYXgsIGZvcm1hdFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBpZiAodHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAvLyAgICAgLy9hbHNvIG5lZWQgdG8gY2hlY2sgd2lkdGggb2YgbGFiZWxcclxuICAgIC8vICAgICBpZiAobWF4QXhpc1RleHQubGVuZ3RoIDwgYXhpc0RhdGEubGFiZWwubGVuZ3RoICsgNSkge1xyXG4gICAgLy8gICAgICAgICAvL25lZWQgYWRkZWQgc3BhY2VcclxuICAgIC8vICAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgLy8gICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBheGlzRGF0YS5sYWJlbDtcclxuICAgIC8vICAgICAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gYXhpc0RhdGEubGFiZWwgKyAnRXh0cmEnO1xyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vQ3JlYXRlIGR1bW15IHN2ZyB0byBwbGFjZSBtYXggc2l6ZWQgdGV4dCBlbGVtZW50IG9uXHJcbiAgICB2YXIgZHVtbXlTVkcgPSBjaGFydERpdi5hcHBlbmQoJ3N2ZycpLmF0dHIoJ2NsYXNzJywgJ2R1bW15LXN2ZycpO1xyXG5cclxuICAgIC8vQ3JlYXRlIGR1bW15IHRleHQgZWxlbWVudFxyXG4gICAgdmFyIGF4aXNEdW1teSA9IGR1bW15U1ZHXHJcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGF4aXMgPT09ICd5JyAmJiBfdmFycy55TGFiZWxGb250U2l6ZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZhcnMueUxhYmVsRm9udFNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGF4aXMgPT09ICd4JyAmJiBfdmFycy54TGFiZWxGb250U2l6ZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3ZhcnMueExhYmVsRm9udFNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIF92YXJzLmZvbnRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAwKVxyXG4gICAgICAgIC5hdHRyKCd5JywgMClcclxuICAgICAgICAudGV4dChtYXhBeGlzVGV4dCk7XHJcblxyXG4gICAgLy9DYWxjdWxhdGUgdGhlIHdpZHRoIG9mIHRoZSBkdW1teSB0ZXh0XHJcbiAgICB2YXIgd2lkdGggPSBheGlzRHVtbXkubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgIC8vUmVtb3ZlIHRoZSBzdmcgYW5kIHRleHQgZWxlbWVudFxyXG4gICAgY2hhcnREaXYuc2VsZWN0KCcuZHVtbXktc3ZnJykucmVtb3ZlKCk7XHJcbiAgICByZXR1cm4gd2lkdGg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbHVlcyhvYmplY3QsIGRhdGFUYWJsZUFsaWduLCB0eXBlKSB7XHJcbiAgICB2YXIgdmFsdWVzQXJyYXkgPSBbXTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ2JhcicgfHwgdHlwZSA9PT0gJ3BpZScgfHwgdHlwZSA9PT0gJ2xpbmUnIHx8IHR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgIC8vZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgXy5rZXlzKGRhdGFUYWJsZUFsaWduKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlQWxpZ24uaGFzT3duUHJvcGVydHkoJ3ZhbHVlICcgKyBpKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdFtkYXRhVGFibGVBbGlnblsndmFsdWUgJyArIGldXSAhPSBudWxsKSB7Ly8hPSBjaGVja3MgZm9yIG51bGxcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXNBcnJheS5wdXNoKG9iamVjdFtkYXRhVGFibGVBbGlnblsndmFsdWUgJyArIGldXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcclxuICAgICAgICAgICAgaWYgKG9iamVjdC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNBcnJheS5wdXNoKG9iamVjdFtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZXNBcnJheTtcclxufVxyXG4vKipnZXRZU2NhbGVcclxuICpcclxuICogZ2V0cyB0aGUgc2NhbGUgZm9yIHRoZSB5IGF4aXNcclxuICogQHBhcmFtcyB5QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRZU2NhbGUoeUF4aXNEYXRhLCBjb250YWluZXIsIHBhZGRpbmcsIHlSZXZlcnNlZCkge1xyXG4gICAgdmFyIHlBeGlzU2NhbGU7XHJcbiAgICB2YXIgbGVmdFBhZGRpbmcgPSAwLjQsXHJcbiAgICAgICAgcmlnaHRQYWRkaW5nID0gMC4yO1xyXG4gICAgaWYgKHBhZGRpbmcgPT09ICduby1wYWRkaW5nJykge1xyXG4gICAgICAgIGxlZnRQYWRkaW5nID0gMDtcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh5QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgeUF4aXNTY2FsZSA9IGQzLnNjYWxlLm9yZGluYWwoKS5kb21haW4oeUF4aXNEYXRhLnZhbHVlcykucmFuZ2VQb2ludHMoWzAsIGNvbnRhaW5lci5oZWlnaHRdKVxyXG4gICAgICAgICAgICAucmFuZ2VSb3VuZEJhbmRzKFswLCBjb250YWluZXIuaGVpZ2h0XSwgbGVmdFBhZGRpbmcsIHJpZ2h0UGFkZGluZyk7XHJcbiAgICB9IGVsc2UgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICB2YXIgbWF4ID0geUF4aXNEYXRhLnZhbHVlc1soeUF4aXNEYXRhLnZhbHVlcy5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgdmFyIG1pbiA9IHlBeGlzRGF0YS52YWx1ZXNbMF07XHJcbiAgICAgICAgaWYgKHlSZXZlcnNlZCkge1xyXG4gICAgICAgICAgICB5QXhpc1NjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW21heCwgbWluXSkucmFuZ2VSb3VuZChbY29udGFpbmVyLmhlaWdodCwgMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHlBeGlzU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbbWF4LCBtaW5dKS5yYW5nZVJvdW5kKFswLCBjb250YWluZXIuaGVpZ2h0XSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHlBeGlzU2NhbGU7XHJcbn1cclxuLyoqZ2V0WlNjYWxlXHJcbiAqXHJcbiAqIGdldHMgdGhlIHNjYWxlIGZvciB0aGUgeiBheGlzXHJcbiAqIEBwYXJhbXMgekF4aXNEYXRhLCBjb250YWluZXIsIHBhZGRpbmdcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0WlNjYWxlKHpBeGlzRGF0YSwgY29udGFpbmVyLCBfdmFycykge1xyXG4gICAgdmFyIHpBeGlzU2NhbGU7XHJcblxyXG4gICAgekF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFtkMy5taW4oekF4aXNEYXRhLnZhbHVlcyksIGQzLm1heCh6QXhpc0RhdGEudmFsdWVzKV0pLnJhbmdlUm91bmQoW192YXJzLk5PREVfTUlOX1NJWkUsIF92YXJzLk5PREVfTUFYX1NJWkVdKS5uaWNlKCk7XHJcbiAgICByZXR1cm4gekF4aXNTY2FsZTtcclxufVxyXG5cclxuICAgIC8qKmdlbmVyYXRlRXZlbnRHcm91cHNcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBjaGFydENvbnRhaW5lciwgYmFyRGF0YSwgY2hhcnRcclxuICAgICAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUV2ZW50R3JvdXBzKGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgZGF0YVRvUGxvdCA9IGp2Q2hhcnRzLmdldFBsb3REYXRhKGJhckRhdGEsIGNoYXJ0KSxcclxuICAgICAgICBldmVudEdyb3VwcztcclxuXHJcbiAgICAvL0ludmlzaWJsZSByZWN0YW5nbGVzIG9uIHNjcmVlbiB0aGF0IHJlcHJlc2VudCBiYXIgZ3JvdXBzLiBVc2VkIHRvIHNob3cvaGlkZSB0b29sIHRpcHMgb24gaG92ZXJcclxuICAgIGV2ZW50R3JvdXBzID0gY2hhcnRDb250YWluZXJcclxuICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2V2ZW50LXJlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgIHJldHVybiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA/IDAgOiAoY29udGFpbmVyLndpZHRoIC8gYmFyRGF0YS5sZW5ndGggKiBpKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7IC8vc2V0cyB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgYmFyXHJcbiAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gKGNvbnRhaW5lci5oZWlnaHQgLyBiYXJEYXRhLmxlbmd0aCAqIGkpIDogMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uICgpIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgIHJldHVybiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA/IGNvbnRhaW5lci53aWR0aCA6IChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uICgpIHsgLy9zZXRzIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyAoY29udGFpbmVyLmhlaWdodCAvIGJhckRhdGEubGVuZ3RoKSA6IGNvbnRhaW5lci5oZWlnaHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZmlsbCcsICd0cmFuc3BhcmVudCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdldmVudC1yZWN0IGVkaXRhYmxlLWJhciBiYXItY29sLScgKyBTdHJpbmcoYmFyRGF0YVtpXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdKS5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJ19kb3RfJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGV2ZW50R3JvdXBzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVRocmVzaG9sZExlZ2VuZChjaGFydCkge1xyXG4gICAgdmFyIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcbiAgICB2YXIgY29sb3JMZWdlbmREYXRhID0gW107XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMudGhyZXNob2xkcyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBPYmplY3Qua2V5cyhjaGFydC5fdmFycy50aHJlc2hvbGRzKS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb2xvckxlZ2VuZERhdGEucHVzaChjaGFydC5fdmFycy50aHJlc2hvbGRzW2pdLnRocmVzaG9sZE5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgZ0xlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0aHJlc2hvbGRMZWdlbmRDb250YWluZXInKTtcclxuXHJcbiAgICB2YXIgbGVnZW5kID0gZ0xlZ2VuZC5zZWxlY3RBbGwoJy50aHJlc2hvbGRMZWdlbmQnKVxyXG4gICAgICAgIC5kYXRhKGNvbG9yTGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0aHJlc2hvbGRMZWdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gMTk7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAxOSAqIGNvbG9yTGVnZW5kRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICB2YXIgaG9yeiA9IC0yICogMTI7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ID0gaSAqIGhlaWdodCAtIG9mZnNldDtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGhvcnogKyAnLCcgKyB2ZXJ0ICsgJyknO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIDEyKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCAxMilcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMudGhyZXNob2xkc1tpXS50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cigneCcsIDI0KVxyXG4gICAgICAgIC5hdHRyKCd5JywgOClcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgJy43NWVtJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSk7XHJcblxyXG4gICAgLy9DZW50ZXJzIHRoZSBsZWdlbmQgaW4gdGhlIHBhbmVsXHJcbiAgICBpZiAoZ0xlZ2VuZCkge1xyXG4gICAgICAgIHZhciBsZWdlbmRXaWR0aCA9IGdMZWdlbmQubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICBnTGVnZW5kLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIChjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoIC0gbGVnZW5kV2lkdGgpICsgJywnICsgKDEwICogY29sb3JMZWdlbmREYXRhLmxlbmd0aCkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMpIHtcclxuICAgIC8vQWRkaW5nIHRoZSBjbGljayBldmVudCB0byBsZWdlbmQgcmVjdGFuZ2xlcyBmb3IgdG9nZ2xpbmcgb24vb2ZmXHJcblxyXG4gICAgbGVnZW5kRWxlbWVudHNcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSZWN0ID0gZDMuc2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSZWN0Ll9ncm91cHNbMF1bMF0uYXR0cmlidXRlcy5vcGFjaXR5LnZhbHVlICE9PSAnMC4yJykge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAnMC4yJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsICcxJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vR2V0cyB0aGUgaGVhZGVycyBvZiB0aGUgZGF0YSB0byBiZSBkcmF3blxyXG4gICAgICAgICAgICB2YXIgZGF0YUhlYWRlcnMgPSB1cGRhdGVEYXRhRnJvbUxlZ2VuZChsZWdlbmRFbGVtZW50cy5fZ3JvdXBzKTtcclxuXHJcbiAgICAgICAgICAgIC8vU2V0cyB0aGUgbGVnZW5kRGF0YSB0byB0aGUgdXBkYXRlZCBoZWFkZXJzXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycyA9IGRhdGFIZWFkZXJzO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IGRhdGFIZWFkZXJzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL1Bsb3RzIHRoZSBkYXRhXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydFtkcmF3RnVuY10oY2hhcnQuZmxpcHBlZERhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnRbZHJhd0Z1bmNdKGNoYXJ0LmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlVmVydGljYWxMZWdlbmRFbGVtZW50c1xyXG4gKlxyXG4gKiBDcmVhdGVzIHRoZSBsZWdlbmQgZWxlbWVudHMtLXJlY3RhbmdsZXMgYW5kIGxhYmVsc1xyXG4gKiBAcGFyYW1zIGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuY1xyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYykge1xyXG4gICAgdmFyIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBsZWdlbmQsXHJcbiAgICAgICAgbGVnZW5kRGF0YUxlbmd0aCA9IGxlZ2VuZERhdGEubGVuZ3RoLFxyXG4gICAgICAgIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheTtcclxuXHJcbiAgICBjaGFydC5fdmFycy5ncmlkU2l6ZSA9IDIwO1xyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXgpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID0gTWF0aC5mbG9vcihsZWdlbmREYXRhTGVuZ3RoIC8gY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMC4wMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy9DaGVjayB0byBzZWUgaWYgbGVnZW5kIGVsZW1lbnQgdG9nZ2xlIGFycmF5IG5lZWRzIHRvIGJlIHNldFxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID49IDApIHtcclxuICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobGVnZW5kRGF0YSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGxlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAxOCArICcsJyArIDIwICsgJyknKTtcclxuXHJcbiAgICAvL0FkZGluZyBjb2xvcmVkIHJlY3RhbmdsZXMgdG8gdGhlIGxlZ2VuZFxyXG4gICAgdmFyIGxlZ2VuZFJlY3RhbmdsZXMgPSBsZWdlbmQuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZFJlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgJzMnKVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChjaGFydC5fdmFycy5ncmlkU2l6ZSkgKiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKiAxLjE7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoKCFsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgJiYgIWNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHx8IChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmICFsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBpLCBsZWdlbmREYXRhW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKCFjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IHRydWUpIHx8XHJcbiAgICAgICAgICAgICAgICAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgaSwgbGVnZW5kRGF0YVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLmVtcHR5TGVnZW5kU3F1YXJlO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICYmIGkgPD0gKChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKyAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdvcGFjaXR5JywgJzEnKTtcclxuXHJcbiAgICAvL0FkZGluZyB0ZXh0IGxhYmVscyBmb3IgZWFjaCByZWN0YW5nbGUgaW4gbGVnZW5kXHJcbiAgICB2YXIgbGVnZW5kVGV4dCA9IGxlZ2VuZC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2xlZ2VuZFRleHQgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50IGVkaXRhYmxlLWxlZ2VuZC0nICsgaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUgKyA3KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChjaGFydC5fdmFycy5ncmlkU2l6ZSkgKiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKiAxLjEgKyAxMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgLmF0dHIoJ2R5JywgJzAuMzVlbScpIC8vVmVydGljYWxseSBhbGlnbiB3aXRoIG5vZGVcclxuICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0Ll92YXJzLmZvbnRDb2xvcilcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICYmIGkgPD0gKChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgKyAoY2hhcnQuX3ZhcnMubGVnZW5kTWF4IC0gMSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50TmFtZSA9IGxlZ2VuZERhdGFbaV07XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50TmFtZS5sZW5ndGggPiAyMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnROYW1lLnN1YnN0cmluZygwLCAxOSkgKyAnLi4uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9BZGRpbmcgaW5mbyBib3ggdG8gbGVnZW5kIGVsZW1lbnRzIHdoZW4gaG92ZXJpbmcgb3ZlclxyXG4gICAgbGVnZW5kVGV4dFxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL09ubHkgY3JlYXRlIGNhcm91c2VsIGlmIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgZXhjZWVkcyBvbmUgbGVnZW5kIFwicGFnZVwiXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPiAwKSB7XHJcbiAgICAgICAgY3JlYXRlVmVydGljYWxDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZWdlbmRSZWN0YW5nbGVzO1xyXG59XHJcblxyXG4vKipjcmVhdGVWZXJ0aWNhbENhcm91c2VsXHJcbiAqXHJcbiAqIERyYXdzIHRoZSB2ZXJ0aWNhbCBsZWdlbmQgY2Fyb3VzZWxcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVZlcnRpY2FsQ2Fyb3VzZWwoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGxlZ2VuZFBvbHlnb247XHJcblxyXG4gICAgLy9BZGRpbmcgY2Fyb3VzZWwgdG8gbGVnZW5kXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kLWNhcm91c2VsJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCcjbGVnZW5kLXRleHQtaW5kZXgnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBsZWdlbmRQb2x5Z29uID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZC1jYXJvdXNlbCcpO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBsZWZ0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZnRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Ll92YXJzLmxlZ2VuZEFycm93Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgKChjaGFydC5fdmFycy5sZWdlbmRNYXggKiBjaGFydC5fdmFycy5ncmlkU2l6ZSkgKyA1MCkgKyAnKScpXHJcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsICcwLDcuNSwgMTUsMCwgMTUsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBkcmF3RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmxvY2FsQ2FsbGJhY2tBcHBseUVkaXRzKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcGFnZSBudW1iZXIgZm9yIGNhcm91c2VsIG5hdmlnYXRpb25cclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignaWQnLCAnbGVnZW5kLXRleHQtaW5kZXgnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgMzUpXHJcbiAgICAgICAgLmF0dHIoJ3knLCAyNDIuNSlcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICsgJyAvICcgKyBjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgZGlzcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ3JlYXRlcyByaWdodCBuYXZpZ2F0aW9uIGFycm93IGZvciBjYXJvdXNlbFxyXG4gICAgbGVnZW5kUG9seWdvbi5hcHBlbmQoJ3BvbHlnb24nKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdyaWdodENoZXZyb24nKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdwb2ludGVyLWN1cnNvcicpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgY2hhcnQuX3ZhcnMubGVnZW5kQXJyb3dDb2xvcilcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg4NSwnICsgKChjaGFydC5fdmFycy5sZWdlbmRNYXggKiBjaGFydC5fdmFycy5ncmlkU2l6ZSkgKyA1MCkgKyAnKScpXHJcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsICcxNSw3LjUsIDAsMCwgMCwxNScpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4IDwgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXgpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKTtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIGRyYXdGdW5jLCBsZWdlbmREYXRhKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgZGlzcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID09PSBjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufVxyXG5cclxuLy9CaW5kIGZ1bmN0aW9ucyB0byBwcm90b3R5cGUgb3IganZDaGFydHMgb2JqZWN0XHJcbmp2Q2hhcnRzLmdldENvbG9ycyA9IGdldENvbG9ycztcclxuanZDaGFydHMuc2V0QmFyTGluZUxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YTtcclxuanZDaGFydHMuY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdDtcclxuanZDaGFydHMudmFsdWVzID0gdmFsdWVzO1xyXG5qdkNoYXJ0cy5nZXRZU2NhbGUgPSBnZXRZU2NhbGU7XHJcbmp2Q2hhcnRzLmdldFpTY2FsZSA9IGdldFpTY2FsZTtcclxuanZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5O1xyXG5qdkNoYXJ0cy5nZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cztcclxuanZDaGFydHMudXBkYXRlRGF0YUZyb21MZWdlbmQgPSB1cGRhdGVEYXRhRnJvbUxlZ2VuZDtcclxuanZDaGFydHMuY3JlYXRlQ2Fyb3VzZWwgPSBjcmVhdGVDYXJvdXNlbDtcclxuanZDaGFydHMuZ2VuZXJhdGVUaHJlc2hvbGRMZWdlbmQgPSBnZW5lcmF0ZVRocmVzaG9sZExlZ2VuZDtcclxuanZDaGFydHMuYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZCA9IGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQ7XHJcbmp2Q2hhcnRzLmdlbmVyYXRlVmVydGljYWxMZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlVmVydGljYWxMZWdlbmRFbGVtZW50cztcclxuanZDaGFydHMuY3JlYXRlVmVydGljYWxDYXJvdXNlbCA9IGNyZWF0ZVZlcnRpY2FsQ2Fyb3VzZWw7XHJcbmp2Q2hhcnRzLmdldFRvZ2dsZWREYXRhID0gZ2V0VG9nZ2xlZERhdGE7XHJcbmp2Q2hhcnRzLmdldFBsb3REYXRhID0gZ2V0UGxvdERhdGE7XHJcbmp2Q2hhcnRzLmdldFBvc0NhbGN1bGF0aW9ucyA9IGdldFBvc0NhbGN1bGF0aW9ucztcclxuanZDaGFydHMuZ2V0WFNjYWxlID0gZ2V0WFNjYWxlO1xyXG5qdkNoYXJ0cy5nZXRZU2NhbGUgPSBnZXRZU2NhbGU7XHJcbmp2Q2hhcnRzLnNldEJhckxpbmVMZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGE7XHJcbmp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWUgPSBqdkZvcm1hdFZhbHVlO1xyXG5qdkNoYXJ0cy5nZXRGb3JtYXRFeHByZXNzaW9uID0gZ2V0Rm9ybWF0RXhwcmVzc2lvbjtcclxuanZDaGFydHMuZ2VuZXJhdGVFdmVudEdyb3VwcyA9IGdlbmVyYXRlRXZlbnRHcm91cHM7XHJcbmp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWVUeXBlID0ganZGb3JtYXRWYWx1ZVR5cGU7XHJcbmp2Q2hhcnRzLmdldEF4aXNTY2FsZSA9IGdldEF4aXNTY2FsZTtcclxuanZDaGFydHMuc2V0Q2hhcnRDb2xvcnMgPSBzZXRDaGFydENvbG9ycztcclxuanZDaGFydHMuZ2V0RGF0YVR5cGVGcm9tS2V5cyA9IGdldERhdGFUeXBlRnJvbUtleXM7XHJcbmp2Q2hhcnRzLmNsZWFuVG9vbERhdGEgPSBjbGVhblRvb2xEYXRhO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIvKioqICBqdkNvbW1lbnQgKioqL1xyXG5mdW5jdGlvbiBqdkNvbW1lbnQoY29uZmlnT2JqKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcztcclxuICAgIGNvbW1lbnRPYmouY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICBjb21tZW50T2JqLnNob3dDb21tZW50cyA9IGZhbHNlO1xyXG4gICAgY29tbWVudE9iai5jb21tZW50cyA9IGNvbmZpZ09iai5jb21tZW50cyA/IGNvbmZpZ09iai5jb21tZW50cyA6IHt9O1xyXG4gICAgY29tbWVudE9iai5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgY29tbWVudE9iai5kcmF3Q29tbWVudE5vZGVzKCk7XHJcbiAgICBjb21tZW50T2JqLnRvZ2dsZUNvbW1lbnRNb2RlID0gZnVuY3Rpb24gKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICB2YXIgZW50aXJlU3ZnID0gY29tbWVudE9iai5jaGFydERpdi5zZWxlY3QoXCJzdmdcIik7XHJcbiAgICAgICAgaWYgKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICAgICAgZW50aXJlU3ZnLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBjb21tZW50T2JqLm1ha2VDb21tZW50KHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgIGVudGlyZVN2Zy5vbignY2xpY2snLCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29tbWVudE9iai5yZW1vdmVDb21tZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29tbWVudE9iai5zYXZlQ2FsbGJhY2tGdW5jdGlvbiA9IGNvbmZpZ09iai5zYXZlQ2FsbGJhY2tGdW5jdGlvbjtcclxuICAgIGNvbW1lbnRPYmouZ2V0TW9kZSA9IGNvbmZpZ09iai5nZXRNb2RlO1xyXG59XHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQWxsIENvbW1lbnQgTW9kZSBGdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5qdkNvbW1lbnQucHJvdG90eXBlLm1ha2VDb21tZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgY29tbWVudE9iaiA9IHRoaXM7XHJcblxyXG4gICAgY29tbWVudE9iai5zaG93Q29tbWVudHMgPSBmYWxzZTtcclxuICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtcmVhZG9ubHlcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgaWYgKGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3hcIikuX2dyb3Vwc1swXS5sZW5ndGggPT09IDAgJiYgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1lZGl0XCIpLl9ncm91cHNbMF0ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgdmFyIHggPSBwYXJzZUludChkMy5tb3VzZShldmVudClbMF0pO1xyXG4gICAgICAgIHZhciB5ID0gcGFyc2VJbnQoZDMubW91c2UoZXZlbnQpWzFdKTtcclxuXHJcbiAgICAgICAgLy9jYWxjdWxhdGUgcG9zaXRpb24gb2Ygb3ZlcmxheSBkaXZcclxuICAgICAgICB2YXIgY29tbWVudEhlaWdodCA9IDE0NSxcclxuICAgICAgICAgICAgY29tbWVudFdpZHRoID0gMjAwLFxyXG4gICAgICAgICAgICBwb3NpdGlvbiA9IGNvbW1lbnRPYmoub3ZlcmxheURpdlBvc2l0aW9uKGNvbW1lbnRXaWR0aCwgY29tbWVudEhlaWdodCwgeCwgeSk7XHJcblxyXG4gICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiY29tbWVudGJveFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImlkXCIsIFwiY29tbWVudGJveFwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXHJcbiAgICAgICAgICAgIC5odG1sKFwiPGRpdiBjbGFzcz0ndGl0bGUnPjxiPkFkZCBOZXcgQ29tbWVudDwvYj48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjx0ZXh0YXJlYSBwbGFjZWhvbGRlcj0nRW50ZXIgY29tbWVudC4uLicgZm9ybT0nY29tbWVudGZvcm0nIHN0eWxlPSdyZXNpemU6bm9uZScgY2xhc3M9J2NvbW1lbnQtdGV4dGFyZWEnIHJvd3M9JzQnIGNvbHM9JzI3JyBuYW1lPSdjb21tZW50JyBpZCA9ICd0ZXh0YXJlYTEnPjwvdGV4dGFyZWE+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8YnI+PGJ1dHRvbiBjbGFzcz0nY29tbWVudGJveC1jbG9zZScgaWQgPSdjYW5jZWwnPjxpIGNsYXNzPSdmYSBmYS1jbG9zZSc+PC9pPjwvYnV0dG9uPlwiICtcclxuICAgICAgICAgICAgICAgIFwiPGJ1dHRvbiBjbGFzcz0nc21zcy1idG4gY29tbWVudGJveC1zdWJtaXQnIGlkID0gJ3N1Ym1pdCc+U3VibWl0IENvbW1lbnQ8L2J1dHRvbj5cIilcclxuICAgICAgICAgICAgLnN0eWxlKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIHBvc2l0aW9uLnggKyBcInB4XCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCBwb3NpdGlvbi55ICsgXCJweFwiKTtcclxuXHJcbiAgICAgICAgLy9BdXRvZm9jdXMgb24gdGhlIHRleHQgYXJlYVxyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGV4dGFyZWExXCIpLmZvY3VzKCk7XHJcblxyXG4gICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3hcIikuc2VsZWN0KFwiI2NhbmNlbFwiKVxyXG4gICAgICAgICAgICAub24oXCJjbGljay5kZWxldGVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29tbWVudE9iai5yZW1vdmVDb21tZW50KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgY29tbWVudFR5cGUgPSAnc3ZnTWFpbic7XHJcblxyXG4gICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3hcIikuc2VsZWN0KFwiI3N1Ym1pdFwiKVxyXG4gICAgICAgICAgICAub24oXCJjbGljay5zYXZlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb21tZW50VGV4dCA9IGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KFwiI2NvbW1lbnRib3hcIikuc2VsZWN0KFwiI3RleHRhcmVhMVwiKS5fZ3JvdXBzWzBdWzBdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbW1lbnRPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb21tZW50VGV4dCc6IGNvbW1lbnRUZXh0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZ3JvdXBJRCc6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd0eXBlJzogY29tbWVudFR5cGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdiaW5kaW5nJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiB4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiB5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3hDaGFydEFyZWEnOiBjb21tZW50T2JqLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50V2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneUNoYXJ0QXJlYSc6IGNvbW1lbnRPYmouY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRIZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY3VycmVudFgnOiB4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbnRZJzogeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3hcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICBpZihpc05hTihjb21tZW50T2JqLmNvbW1lbnRzLm1heElkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouY29tbWVudHMubWF4SWQgPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouc2F2ZUNhbGxiYWNrRnVuY3Rpb24obmV3Q29tbWVudE9iaiwgKytjb21tZW50T2JqLmNvbW1lbnRzLm1heElkLCAnYWRkJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbmp2Q29tbWVudC5wcm90b3R5cGUucmVtb3ZlQ29tbWVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcztcclxuICAgIHZhciBjaGFydERpdiA9IGNvbW1lbnRPYmouY2hhcnREaXY7XHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94JykucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5qdkNvbW1lbnQucHJvdG90eXBlLnNob3dBbGxDb21tZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcztcclxuXHJcbiAgICAvL1JlbW92ZSBhbnkgY29tbWVudCBib3hlcyBpZiBjb21tZW50cyBhcmUgYmVpbmcgdG9nZ2xlZFxyXG4gICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveFwiKS5yZW1vdmUoKTtcclxuICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtZWRpdFwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICBpZiAoY29tbWVudE9iai5zaG93Q29tbWVudHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSBpbiBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3QpIHtcclxuXHJcbiAgICAgICAgICAgIGlmICghY29tbWVudE9iai5jb21tZW50cy5saXN0W2ldWydiaW5kaW5nJ10pIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tbWVudCBpcyBpbiBvbGQgZm9ybWF0LCB3aWxsIG5vdCBkaXNwbGF5XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbaV07XHJcblxyXG4gICAgICAgICAgICB2YXIgY2hhcnRBcmVhV2lkdGggPSBjb21tZW50T2JqLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50V2lkdGg7XHJcbiAgICAgICAgICAgIHZhciBjaGFydEFyZWFIZWlnaHQgPSBjb21tZW50T2JqLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0O1xyXG5cclxuICAgICAgICAgICAgdmFyIHggPSAoY29tbWVudE9iai5jb21tZW50cy5saXN0W2ldWydiaW5kaW5nJ10ueCAvIGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtpXVsnYmluZGluZyddLnhDaGFydEFyZWEgKiBjaGFydEFyZWFXaWR0aCk7XHJcbiAgICAgICAgICAgIHZhciB5ID0gKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtpXVsnYmluZGluZyddLnkgLyBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbaV1bJ2JpbmRpbmcnXS55Q2hhcnRBcmVhICogY2hhcnRBcmVhSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjb21tZW50VGV4dCA9IHZhbHVlWydjb21tZW50VGV4dCddO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNvbW1lbnRIZWlnaHQgPSA4MCxcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRXaWR0aCA9IDE4NSxcclxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29tbWVudE9iai5vdmVybGF5RGl2UG9zaXRpb24oY29tbWVudFdpZHRoLCBjb21tZW50SGVpZ2h0LCB4LCB5KTtcclxuXHJcbiAgICAgICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNvbW1lbnRib3gtcmVhZG9ubHlcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJjb21tZW50Ym94LXJlYWRvbmx5XCIgKyBpKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxyXG4gICAgICAgICAgICAgICAgLy8uc3R5bGUoXCJib3JkZXJcIiwgXCIxcHggc29saWQgYmxhY2tcIilcclxuICAgICAgICAgICAgICAgIC5odG1sKFwiPHRleHRhcmVhIHJlYWRvbmx5IHN0eWxlPSdyZXNpemU6bm9uZScgY2xhc3M9J2NvbW1lbnQtdGV4dGFyZWEnIHJvd3M9JzQnIGNvbHM9JzI3JyBuYW1lPSdjb21tZW50Jz5cIiArIGNvbW1lbnRUZXh0ICsgXCI8L3RleHRhcmVhPlwiKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBwb3NpdGlvbi54ICsgXCJweFwiKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIHBvc2l0aW9uLnkgKyBcInB4XCIpXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBjb21tZW50T2JqLnNob3dDb21tZW50cyA9IHRydWU7XHJcbiAgICAgICAgLy9jaGFydC50b29sQmFyLnNlbGVjdChcIiN0b3BCYXJCdXR0b25cIitjaGFydC5jb25maWcubmFtZStcInNob3dhbGxjb21tZW50c1wiKS5zZWxlY3QoJ2J1dHRvbicpLmNsYXNzZWQoJ3RvZ2dsZWQnLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtcmVhZG9ubHlcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgY29tbWVudE9iai5zaG93Q29tbWVudHMgPSBmYWxzZTtcclxuICAgICAgICAvL2NoYXJ0LnRvb2xCYXIuc2VsZWN0KFwiI3RvcEJhckJ1dHRvblwiK2NoYXJ0LmNvbmZpZy5uYW1lK1wic2hvd2FsbGNvbW1lbnRzXCIpLnNlbGVjdCgnYnV0dG9uJykuY2xhc3NlZCgndG9nZ2xlZCcsIGZhbHNlKTtcclxuICAgIH1cclxufTtcclxuXHJcbmp2Q29tbWVudC5wcm90b3R5cGUuZHJhd0NvbW1lbnROb2RlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcztcclxuXHJcbiAgICB2YXIgY29tbWVudHMgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Q7XHJcbiAgICB2YXIgY2hhcnREaXYgPSBjb21tZW50T2JqLmNoYXJ0RGl2O1xyXG4gICAgdmFyIHN2ZyA9IGNoYXJ0RGl2LnNlbGVjdChcInN2Z1wiKTtcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiLm1pbi1jb21tZW50XCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGZvciAodmFyIGkgaW4gY29tbWVudHMpIHtcclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiBjaGFydERpdi5fZ3JvdXBzID09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tbWVudCBkYXRhIGlzIGluIG9sZCBmb3JtYXQsIHdpbGwgbm90IGRpc3BsYXkgb3IgY2hhcnQgZGl2IGRvZXNudCBleGlzdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjb21tZW50c1tpXVsnYmluZGluZyddIHx8ICFjaGFydERpdi5fZ3JvdXBzWzBdWzBdKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tbWVudCBkYXRhIGlzIGluIG9sZCBmb3JtYXQsIHdpbGwgbm90IGRpc3BsYXkgb3IgY2hhcnQgZGl2IGRvZXNudCBleGlzdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIHZhciBjaGFydEFyZWFXaWR0aCA9IGNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdmFyIGNoYXJ0QXJlYUhlaWdodCA9IGNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0O1xyXG5cclxuICAgICAgICB2YXIgeCA9IChjb21tZW50c1tpXVsnYmluZGluZyddLnggLyBjb21tZW50c1tpXVsnYmluZGluZyddLnhDaGFydEFyZWEgKiBjaGFydEFyZWFXaWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSAoY29tbWVudHNbaV1bJ2JpbmRpbmcnXS55IC8gY29tbWVudHNbaV1bJ2JpbmRpbmcnXS55Q2hhcnRBcmVhICogY2hhcnRBcmVhSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29tbWVudHNbaV1bJ2JpbmRpbmcnXS5jdXJyZW50WCA9IChjb21tZW50c1tpXVsnYmluZGluZyddLnggLyBjb21tZW50c1tpXVsnYmluZGluZyddLnhDaGFydEFyZWEgKiBjaGFydEFyZWFXaWR0aCk7XHJcbiAgICAgICAgY29tbWVudHNbaV1bJ2JpbmRpbmcnXS5jdXJyZW50WSA9IChjb21tZW50c1tpXVsnYmluZGluZyddLnkgLyBjb21tZW50c1tpXVsnYmluZGluZyddLnlDaGFydEFyZWEgKiBjaGFydEFyZWFIZWlnaHQpO1xyXG5cclxuICAgICAgICB2YXIgY29tbWVudE5vZGUgPSBzdmcuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibWluLWNvbW1lbnRcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcIm5vZGVcIiArIGkpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIiNlNmU2ZTZcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIHgpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCB5KVxyXG4gICAgICAgICAgICAuYXR0cihcImZvbnQtZmFtaWx5XCIsIFwiRm9udEF3ZXNvbWVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCJkYXJrZ3JheVwiKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnMTVweCc7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1xcdWYwZTUnO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgMSlcclxuICAgICAgICAgICAgLm9uKFwiZGJsY2xpY2suY29tbWVudFwiLCBmdW5jdGlvbiAobm9kZSkgey8vRWRpdCB0ZXh0IG9yIGRlbGV0ZSB0aGUgY29tbWVudFxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LWVkaXRcIikuX2dyb3Vwc1swXS5sZW5ndGggPT09IDAgJiYgY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3hcIikuX2dyb3Vwc1swXS5sZW5ndGggPT09IDApIHsvL05vIGNvbW1lbnRzIGFyZSBvcGVuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRPYmouZ2V0TW9kZSgpID09PSAnY29tbWVudC1tb2RlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50T2JqLnNob3dDb21tZW50cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1yZWFkb25seVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRDb21tZW50O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiBpbiBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnYmluZGluZyddLmN1cnJlbnRYKSA9PT0gTWF0aC5yb3VuZCh0aGlzLnguYmFzZVZhbFswXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5yb3VuZChjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2JpbmRpbmcnXS5jdXJyZW50WSkgPT09IE1hdGgucm91bmQodGhpcy55LmJhc2VWYWxbMF0udmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRUZXh0ID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdLmNvbW1lbnRUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydiaW5kaW5nJ10uY3VycmVudFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2JpbmRpbmcnXS5jdXJyZW50WTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENvbW1lbnQgPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudEhlaWdodCA9IDE0NSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRXaWR0aCA9IDIwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29tbWVudE9iai5vdmVybGF5RGl2UG9zaXRpb24oY29tbWVudFdpZHRoLCBjb21tZW50SGVpZ2h0LCB4LCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNvbW1lbnRib3gtZWRpdFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBwb3NpdGlvbi54ICsgXCJweFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIHBvc2l0aW9uLnkgKyBcInB4XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy5zdHlsZShcImJvcmRlclwiLCBcIjFweCBzb2xpZCBibGFja1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmh0bWwoXCI8ZGl2IGNsYXNzPSd0aXRsZSc+PGI+RWRpdCBDb21tZW50PC9iPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjx0ZXh0YXJlYSBpZD0nZWRpdCcgc3R5bGU9J3Jlc2l6ZTpub25lJyBjbGFzcz0nY29tbWVudC10ZXh0YXJlYScgcm93cz0nNCcgY29scz0nMjcnIG5hbWU9J2NvbW1lbnQnPlwiICsgY29tbWVudFRleHQgKyBcIjwvdGV4dGFyZWE+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGJyPjxidXR0b24gY2xhc3M9J2NvbW1lbnRib3gtY2xvc2UnIGlkID0nY2FuY2VsLWVkaXQnPjxpIGNsYXNzPSdmYSBmYS1jbG9zZSc+PC9pPjwvYnV0dG9uPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxidXR0b24gY2xhc3M9J3Ntc3MtYnRuJyBpZCA9J2RlbGV0ZSc+RGVsZXRlPC9idXR0b24+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGJ1dHRvbiBjbGFzcz0nc21zcy1idG4nIGlkID0gJ3NhdmUnPlNhdmU8L2J1dHRvbj5cIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1lZGl0XCIpLnNlbGVjdChcIiNkZWxldGVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrLmRlbGV0ZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3gtZWRpdFwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveC1yZWFkb25seVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoXCIjbm9kZVwiICsgY3VycmVudENvbW1lbnQpLmF0dHIoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVkcmF3IGNvbW1lbnQgbm9kZXMgd2l0aCBuZXcgaW5kZXhlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouc2F2ZUNhbGxiYWNrRnVuY3Rpb24oY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XSwgY3VycmVudENvbW1lbnQsICdyZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtZWRpdFwiKS5zZWxlY3QoXCIjc2F2ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2suc2F2ZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRUZXh0ID0gY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3gtZWRpdFwiKS5zZWxlY3QoXCIjZWRpdFwiKS5fZ3JvdXBzWzBdWzBdLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtjdXJyZW50Q29tbWVudF0uY29tbWVudFRleHQgPSBjb21tZW50VGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveC1yZWFkb25seVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveC1lZGl0XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouc2F2ZUNhbGxiYWNrRnVuY3Rpb24oY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XSwgY3VycmVudENvbW1lbnQsICdlZGl0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LWVkaXRcIikuc2VsZWN0KFwiI2NhbmNlbC1lZGl0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJjbGljay5jYW5jZWwtZWRpdFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3gtcmVhZG9ubHlcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3gtZWRpdFwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oXCJtb3VzZWVudGVyLmNvbW1lbnRcIiwgZnVuY3Rpb24gKGQpIHsvL1Nob3cgaG92ZXIgb3ZlciBib3ggd2hlbiBtb3VzZSBlbnRlcnMgbm9kZVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50VGV4dCA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogaW4gY29tbWVudE9iai5jb21tZW50cy5saXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnYmluZGluZyddLmN1cnJlbnRYKSA9PT0gTWF0aC5yb3VuZCh0aGlzLnguYmFzZVZhbFswXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnYmluZGluZyddLmN1cnJlbnRZKSA9PT0gTWF0aC5yb3VuZCh0aGlzLnkuYmFzZVZhbFswXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50VGV4dCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnY29tbWVudFRleHQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydiaW5kaW5nJ10uY3VycmVudFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnYmluZGluZyddLmN1cnJlbnRZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudEhlaWdodCA9IDgwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50V2lkdGggPSAxODUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29tbWVudE9iai5vdmVybGF5RGl2UG9zaXRpb24oY29tbWVudFdpZHRoLCBjb21tZW50SGVpZ2h0LCB4LCB5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnREaXYgPSBjaGFydERpdi5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjb21tZW50Ym94LXJlYWRvbmx5XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLy5zdHlsZShcImJvcmRlclwiLCBcIjFweCBzb2xpZCBibGFja1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChcIjx0ZXh0YXJlYSByZWFkb25seSByb3dzPSc0JyBzdHlsZT0ncmVzaXplOm5vbmUnIGNvbHM9JzI3JyBjbGFzcz0ndGV4dGFyZWEnIG5hbWU9J2NvbW1lbnQnPlwiICsgY29tbWVudFRleHQgKyBcIjwvdGV4dGFyZWE+XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgcG9zaXRpb24ueCArIFwicHhcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIHBvc2l0aW9uLnkgKyBcInB4XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oXCJtb3VzZW91dC5jb21tZW50XCIsIGZ1bmN0aW9uIChkKSB7Ly9SZW1vdmUgaG92ZXIgb3ZlciBib3ggd2hlbiBtb3VzZSBtb3ZlcyBhd2F5XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tbWVudE9iai5zaG93Q29tbWVudHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KFwiLmNvbW1lbnRib3gtcmVhZG9ubHlcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBVdGlsaXR5IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuanZDb21tZW50LnByb3RvdHlwZS5vdmVybGF5RGl2UG9zaXRpb24gPSBmdW5jdGlvbiAoZGl2V2lkdGgsIGRpdkhlaWdodCwgbW91c2VYLCBtb3VzZVkpIHtcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcztcclxuICAgIHZhciBwb3NpdGlvbiA9IHt9O1xyXG4gICAgaWYgKG1vdXNlWCA+IChwYXJzZUludChjb21tZW50T2JqLmNoYXJ0RGl2LnN0eWxlKCd3aWR0aCcpKSkgLyAyKSB7XHJcbiAgICAgICAgcG9zaXRpb24ueCA9IG1vdXNlWCAtIGRpdldpZHRoIC0gNTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG9zaXRpb24ueCA9IG1vdXNlWCArIDEwO1xyXG4gICAgfVxyXG4gICAgaWYgKG1vdXNlWSAtIGRpdkhlaWdodCAtIDEwID4gMCkge1xyXG4gICAgICAgIHBvc2l0aW9uLnkgPSBtb3VzZVkgLSBkaXZIZWlnaHQgLSAxMDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG9zaXRpb24ueSA9IG1vdXNlWSArIDEwO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNvbW1lbnQ7XHJcbiIsIiB2YXIgZWRpdFRlbXBsYXRlID0gcmVxdWlyZSgnLi9lZGl0T3B0aW9uc1RlbXBsYXRlLmpzJyk7XHJcblxyXG4vKioqICBqdkVkaXQgKioqL1xyXG5mdW5jdGlvbiBqdkVkaXQoY29uZmlnT2JqKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIGVkaXRPYmouY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICBlZGl0T2JqLmVkaXRPcHRpb25zID0gJyc7XHJcbiAgICBlZGl0T2JqLnZpek9wdGlvbnMgPSBjb25maWdPYmoudml6T3B0aW9ucyA/IGNvbmZpZ09iai52aXpPcHRpb25zIDoge307XHJcbiAgICBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID0gMDtcclxuICAgIGVkaXRPYmouZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCcuZWRpdC1kaXYnKS5yZW1vdmUoKTtcclxuICAgIGVkaXRPYmouZWRpdERpdiA9IGVkaXRPYmouY2hhcnREaXYuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdlZGl0LWRpdiBzZW1vc3MtZDMtdGlwIGFic29sdXRlJyk7XHJcbiAgICBlZGl0T2JqLmFwcGx5QWxsRWRpdHMoKTtcclxuICAgIGVkaXRPYmouc2F2ZVZpek9wdGlvbnMgPSBjb25maWdPYmouc2F2ZVZpek9wdGlvbnNGdW5jdGlvbjtcclxuICAgIGVkaXRPYmoudG9nZ2xlRWRpdE1vZGUgPSBmdW5jdGlvbiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgIHZhciBlbnRpcmVTdmcgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdChcInN2Z1wiKTtcclxuICAgICAgICBpZiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcuc2VsZWN0QWxsKFwiLmV2ZW50LXJlY3RcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2VkaXQgbW9kZSBldmVudHNcclxuICAgICAgICAgICAgICAgIC8vZ29pbmcgdG8gYmUgbW91c2VvdmVyIHRvIGhpZ2hsaWdodCBvcHRpb25zIGZvciB3aGF0ZXZlciBwaWVjZSB5b3UgaG92ZXIgb3ZlclxyXG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzVGV4dCA9IGQzLnNlbGVjdChkMy5ldmVudC50YXJnZXQpLmF0dHIoJ2NsYXNzJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2xhc3NUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzVGV4dC5pbmRleE9mKCdlZGl0YWJsZScpID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWRpdE9iai5kaXNwbGF5RWRpdCh0aGlzLCBjbGFzc1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5zZWxlY3RBbGwoJy5lZGl0YWJsZScpLmNsYXNzZWQoJ3BvaW50ZXInLCB0cnVlKTtcclxuICAgICAgICAgICAgZW50aXJlU3ZnLm9uKCdkYmxjbGljaycsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgICAgICAgICAgZW50aXJlU3ZnLnNlbGVjdEFsbCgnLmVkaXRhYmxlJykuY2xhc3NlZCgncG9pbnRlcicsIGZhbHNlKTtcclxuICAgICAgICAgICAgZW50aXJlU3ZnLnNlbGVjdEFsbChcIi5ldmVudC1yZWN0XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImRpc3BsYXlcIiwgXCJibG9ja1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEFsbCBFZGl0IE1vZGUgRnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqIGRpc3BsYXlFZGl0XHJcbiAqXHJcbiAqIERpc3BsYXlzIHRoZSBlZGl0IGRpdiwgZ3JhYmJpbmcgaXQgZnJvbSB0aGUgdGVtcGxhdGVcclxuICpcclxuICovXHJcbmp2RWRpdC5wcm90b3R5cGUuZGlzcGxheUVkaXQgPSBmdW5jdGlvbiAoZXZlbnQsIG9wdGlvbnMpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuXHJcbiAgICAvL3JldHVybiBpZiB5b3UgY2xpY2sgb24gdGhlIHNhbWUgZWxlbWVudCB0d2ljZSwgbm8gbmVlZCB0byBkaXNwbGF5IGEgc2Vjb25kIGVkaXQgZGl2IGlmIHRoZSBjdXJyZW50IG9uZSBpcyBzdGlsbCBvcGVuXHJcbiAgICBpZiAoZWRpdE9iai5lZGl0T3B0aW9ucyA9PT0gb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGVkaXRPYmouZWRpdERpdi5odG1sKCcnKTtcclxuICAgIGVkaXRPYmouZWRpdE9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgdmFyIG1vdXNlWCA9IGQzLm1vdXNlKGV2ZW50KVswXSxcclxuICAgICAgICBtb3VzZVkgPSBkMy5tb3VzZShldmVudClbMV07XHJcblxyXG5cclxuICAgIC8vYXNzaWduIGh0bWwgdG8gZWRpdERpdiAoYmFzaWNhbGx5IGRpc3BsYXlzIHRoZSBkaXYpXHJcbiAgICBlZGl0T2JqLmVkaXREaXYuaHRtbChlZGl0VGVtcGxhdGUpO1xyXG5cclxuICAgIC8vb3B0aW9uVmFsdWVzIC0gYW4gYXJyYXkgb2Ygc3RyaW5ncy5cclxuICAgIC8vICAgICAgU3RyaW5nIGlzIHRoZSBpZCB0byB0aGUgZWxlbWVudCBpbiB0aGUgZWRpdERpdiBmb3JtLlxyXG4gICAgLy8gICAgICBUaGlzIHN0cmluZyBjb250YWlucyB0aGUgc3BlY2lmaWMgb3B0aW9uIHRoYXQgaXMgYmVpbmcgY2hhbmdlZFxyXG5cclxuICAgIC8vaXRlbVRvQ2hhbmdlXHJcbiAgICAvLyAgICAgIFN0cmluZyB0aGF0IGlzIHRoZSBjbGFzcyBvZiB0aGUgc3ZnIGVsZW1lbnQgdG8gYmUgY2hhbmdlZCBvbiB0aGUgdml6IGl0c2VsZlxyXG5cclxuXHJcbiAgICB2YXIgb3B0aW9uVmFsdWVzID0gW10sXHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gJycsXHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQgPSBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiI2VkaXQtb3B0aW9uLWVsZW1lbnRcIik7XHJcblxyXG4gICAgLy9pZiBzdGF0ZW1lbnRzIHRvIGRldGVybWluZSB3aGljaCBlZGl0IG9wdGlvbnMgdG8gZGlzcGxheVxyXG4gICAgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUteUF4aXMnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFkgQXhpcycpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneUF4aXMnO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXhBeGlzJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBYIEF4aXMnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3hBeGlzJztcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCd5TGFiZWwnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFkgTGFiZWwnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3lMYWJlbCc7XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZigneExhYmVsJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBYIExhYmVsJyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9ICd4TGFiZWwnO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2xlZ2VuZFRleHQnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIExlZ2VuZCBJdGVtJyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtbGVnZW5kLScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWJhcicpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgQmFyIENoYXJ0Jyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtYmFyXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWJhcicpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignYmFyLWNvbC0nKSkuc3BsaXQoJyAnKVswXTtcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1waWUnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFBpZSBTbGljZScpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXBpZVwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS1waWUnKTtcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSBvcHRpb25zLnN1YnN0cmluZyhvcHRpb25zLmluZGV4T2YoJ3BpZS1zbGljZS0nKSkuc3BsaXQoJyAnKVswXTtcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1zY2F0dGVyJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBTY2F0dGVyIFBsb3QnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1zY2F0dGVyXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLXNjYXR0ZXInKTtcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSBvcHRpb25zLnN1YnN0cmluZyhvcHRpb25zLmluZGV4T2YoJ3NjYXR0ZXItY2lyY2xlLScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1zdmcnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIEFsbCBUZXh0Jyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtdGV4dC1zaXplLWJ1dHRvbnNcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAvL2VkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtZGVmYXVsdC1hbmQtYXBwbHlcIikuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS10ZXh0LXNpemUnKTtcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSAnc3ZnJztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3RpbGwgbmVlZCB0byBhZGQgb3B0aW9uIHRvIGRpc3BsYXkgZWRpdFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1udW0nKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1udW0tZm9ybWF0XCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLW51bS1mb3JtYXQnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXRleHQnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS10ZXh0LWNvbG9yXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLXRleHQtY29sb3InKTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXRleHQtc2l6ZVwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS10ZXh0LXNpemUnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWNvbnRlbnQnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1jb250ZW50XCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWNvbnRlbnQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvL3BvcHVsYXRlIGVkaXQgZGl2IHdpdGggaW5pdGlhbCB2YWx1ZXNcclxuICAgIGlmIChlZGl0T2JqLnZpek9wdGlvbnNbaXRlbVRvQ2hhbmdlXSkge1xyXG4gICAgICAgIHBvcHVsYXRlU2VsZWN0aW9uc0VkaXRNb2RlKGVkaXRPYmouZWRpdERpdiwgZWRpdE9iai52aXpPcHRpb25zW2l0ZW1Ub0NoYW5nZV0pO1xyXG4gICAgfVxyXG4gICAgZWRpdE9iai5lZGl0RGl2XHJcbiAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIDAgKyAncHgnKVxyXG4gICAgICAgIC5zdHlsZShcInRvcFwiLCAwICsgJ3B4Jyk7XHJcblxyXG4gICAgLy9jYWxjdWxhdGUgcG9zaXRpb24gb2Ygb3ZlcmxheSBkaXZcclxuICAgIHZhciBlZGl0SGVpZ2h0ID0gcGFyc2VGbG9hdChlZGl0T2JqLmVkaXREaXYuc3R5bGUoJ2hlaWdodCcpKSxcclxuICAgICAgICBlZGl0V2lkdGggPSBwYXJzZUZsb2F0KGVkaXRPYmouZWRpdERpdi5zdHlsZSgnd2lkdGgnKSksXHJcbiAgICAgICAgcG9zaXRpb24gPSBlZGl0T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihlZGl0V2lkdGgsIGVkaXRIZWlnaHQsIG1vdXNlWCwgbW91c2VZKTtcclxuXHJcbiAgICAvL3Nob3cgdGhlIG5ldyBlZGl0IGRpdlxyXG4gICAgZWRpdE9iai5lZGl0RGl2XHJcbiAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBwb3NpdGlvbi54ICsgJ3B4JylcclxuICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgcG9zaXRpb24ueSArICdweCcpO1xyXG5cclxuICAgIC8vYWRkIHN1Ym1pdCwgZGVmYXVsdCwgYW5kIGV4aXQgbGlzdGVuZXJzIHRvIHRoZSBkaXZcclxuICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJyNzdWJtaXRFZGl0TW9kZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN1Ym1pdEVkaXRNb2RlKGVkaXRPYmosIG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlKTtcclxuICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnI3N1Ym1pdEVkaXRNb2RlRGVmYXVsdCcpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN1Ym1pdEVkaXRNb2RlKGVkaXRPYmosIG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlLCB0cnVlKTtcclxuICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnI2V4aXRFZGl0TW9kZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVkaXRPYmoucmVtb3ZlRWRpdCgpO1xyXG4gICAgfSk7XHJcbiAgICBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID0gMDtcclxuICAgIC8vQWRkaW5nIGNsaWNrIGV2ZW50cyBmb3IgaW5jcmVhc2UvZGVjcmVhc2UgZm9udCBzaXplIGJ1dHRvbnNcclxuICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIjaW5jcmVhc2VGb250U2l6ZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlZGl0T2JqLmluY3JlYXNlRm9udFNpemUoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIiNkZWNyZWFzZUZvbnRTaXplXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVkaXRPYmouZGVjcmVhc2VGb250U2l6ZSgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vKiogaW5jcmVhc2VGb250U2l6ZVxyXG4gKlxyXG4gKiBJbmNyZWFzZXMgdGhlIGZvbnQgc2l6ZSBieSAxIHdoZW4gaW5jcmVhc2VkIHZpYSBlZGl0IG9wdGlvbnMgZm9yIGFsbCB0ZXh0XHJcbiAqXHJcbiAqL1xyXG5qdkVkaXQucHJvdG90eXBlLmluY3JlYXNlRm9udFNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXMsXHJcbiAgICAgICAgZm9udEluY3JlbWVudCA9IDEsXHJcbiAgICAgICAgbWF4U2l6ZSA9IDI4O1xyXG4gICAgaWYoZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCA8IG1heFNpemUpIHtcclxuICAgICAgICBlZGl0T2JqLmNoYW5nZUZvbnRTaXplKGZvbnRJbmNyZW1lbnQpO1xyXG4gICAgICAgIGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnQrKztcclxuICAgICAgICBlZGl0T2JqLnZpek9wdGlvbnNbXCJ0ZXh0XCJdID0geydlZGl0YWJsZS10ZXh0LWluY3JlbWVudCc6IGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnR9O1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqIGRlY3JlYXNlRm9udFNpemVcclxuICpcclxuICogRGVjcmVhc2VzIHRoZSBmb250IHNpemUgYnkgMSB3aGVuIGRlY3JlYXNlZCB2aWEgZWRpdCBvcHRpb25zIGZvciBhbGwgdGV4dFxyXG4gKlxyXG4gKi9cclxuanZFZGl0LnByb3RvdHlwZS5kZWNyZWFzZUZvbnRTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzLFxyXG4gICAgICAgIGZvbnREZWNyZW1lbnQgPSAtMSxcclxuICAgICAgICBtaW5TaXplID0gLTEyO1xyXG4gICAgLy9taW4gc2l6ZSBpcyBuZWcgMTIgYmVjYXVzZSBkZWZhdWx0IHNpemUgaXMgMTJweCBvbiBvdXIgY2hhcnRzXHJcbiAgICBpZihlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID4gbWluU2l6ZSkge1xyXG4gICAgICAgIGVkaXRPYmouY2hhbmdlRm9udFNpemUoZm9udERlY3JlbWVudCk7XHJcbiAgICAgICAgZWRpdE9iai5mb250U2l6ZUluY3JlbWVudC0tO1xyXG4gICAgICAgIGVkaXRPYmoudml6T3B0aW9uc1tcInRleHRcIl0gPSB7J2VkaXRhYmxlLXRleHQtaW5jcmVtZW50JzogZWRpdE9iai5mb250U2l6ZUluY3JlbWVudH07XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKiogY2hhbmdlRm9udFNpemVcclxuICpcclxuICogSW5jcmVhc2VzIG9yIGRlY3JlYXNlcyBmb250IHNpemUgYnkgYSBjZXJ0YWluIGluY3JlbWVudFxyXG4gKlxyXG4gKi9cclxuanZFZGl0LnByb3RvdHlwZS5jaGFuZ2VGb250U2l6ZSA9IGZ1bmN0aW9uIChpbmNyZW1lbnQpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcyxcclxuICAgICAgICBuZXdTaXplO1xyXG5cclxuICAgIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCd0ZXh0JykuZWFjaChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgIHZhciB0aGlzRGl2ID0gdGhpcyxcclxuICAgICAgICAgICAgdGV4dFNpemUgPSAxMjtcclxuICAgICAgICBpZiAodGhpc0Rpdi5nZXRBdHRyaWJ1dGUoJ2ZvbnQtc2l6ZScpKSB7XHJcbiAgICAgICAgICAgIHRleHRTaXplID0gdGhpc0Rpdi5nZXRBdHRyaWJ1dGUoJ2ZvbnQtc2l6ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdTaXplID0gcGFyc2VJbnQodGV4dFNpemUpICsgaW5jcmVtZW50O1xyXG4gICAgICAgIHRoaXNEaXYuc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCBuZXdTaXplKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbi8qKiBwb3B1bGF0ZVNlbGVjdGlvbnNFZGl0TW9kZVxyXG4gKlxyXG4gKiBJbml0aWFsbHkgcG9wdWxhdGVzIHRoZSBlZGl0RGl2IGlmIHRoZXJlIGFyZSB2aXpPcHRpb25zXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3B1bGF0ZVNlbGVjdGlvbnNFZGl0TW9kZShlZGl0RGl2LCB2aXpPcHRpb25zKSB7XHJcbiAgICBmb3IgKHZhciBvcHRpb24gaW4gdml6T3B0aW9ucykge1xyXG4gICAgICAgIGlmICh2aXpPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkT2JqZWN0ID0gZWRpdERpdi5zZWxlY3QoJyMnICsgb3B0aW9uKS5fZ3JvdXBzWzBdWzBdO1xyXG4gICAgICAgICAgICAvL2RlZmF1bHQgY29sb3IgaW5wdXRzIHRvIGdyYXlcclxuICAgICAgICAgICAgaWYgKHZpek9wdGlvbnNbb3B0aW9uXSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QudHlwZSA9PT0gJ2NvbG9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdC5pZC5pbmRleE9mKCd0ZXh0JykgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gJyMwMDAwMDAnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gJyNhYWFhYWEnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gdml6T3B0aW9uc1tvcHRpb25dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKiogc3VibWl0RWRpdE1vZGVcclxuICpcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHN1Ym1pdEVkaXRNb2RlKGVkaXRPYmosIG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlLCBkZWZhdWx0QnRuQ2xpY2tlZCkge1xyXG4gICAgdmFyIG9wdGlvbkFycmF5ID0gb3B0aW9uVmFsdWVzLFxyXG4gICAgICAgIHNlbGVjdGVkRWRpdE9wdGlvbnMgPSB7fSxcclxuICAgICAgICBlZGl0VmFsdWUsXHJcbiAgICAgICAgc2VsZWN0ZWRPYmo7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25BcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChvcHRpb25BcnJheVtpXS5pbmRleE9mKCdlZGl0YWJsZS1sZWdlbmQnKSA+IDApIHtcclxuICAgICAgICAgICAgLy9jaGFuZ2UgaXRlbSB0byBjaGFuZ2UgZm9yIGxlZ2VuZCBlbGVtZW50c1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSBvcHRpb25BcnJheVtpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZWN0ZWRPYmogPSBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcjJyArIG9wdGlvbkFycmF5W2ldKTtcclxuICAgICAgICAvL3NlZSBpZiBzZWxlY3RlZCBvYmplY3QgZXhpc3RzXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkT2JqICYmIHNlbGVjdGVkT2JqLl9ncm91cHNbMF0gJiYgc2VsZWN0ZWRPYmouX2dyb3Vwc1swXVswXSkge1xyXG4gICAgICAgICAgICBlZGl0VmFsdWUgPSBzZWxlY3RlZE9iai5fZ3JvdXBzWzBdWzBdLnZhbHVlO1xyXG4gICAgICAgICAgICAvL2dldCBzZWxlY3RlZCBvcHRpb24gZnJvbSBlZGl0IGRpdlxyXG4gICAgICAgICAgICBpZiAob3B0aW9uQXJyYXlbaV0gPT09ICdlZGl0YWJsZS1jb250ZW50JyAmJiBlZGl0VmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAvL2RvbnQgYWRkIGFuIGVtcHR5IHN0cmluZyB0byB0aGUgdml6IG9wdGlvbnMgZm9yIGVkaXRhYmxlIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRWRpdE9wdGlvbnNbb3B0aW9uQXJyYXlbaV1dID0gZWRpdFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoKCFzZWxlY3RlZEVkaXRPcHRpb25zW29wdGlvbkFycmF5W2ldXSkgJiYgb3B0aW9uQXJyYXlbaV0uaW5kZXhPZignY29udGVudCcpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRFZGl0T3B0aW9uc1tvcHRpb25BcnJheVtpXV0gPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYoZGVmYXVsdEJ0bkNsaWNrZWQpe1xyXG4gICAgICAgIGlmKGl0ZW1Ub0NoYW5nZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGVkaXRPYmoudml6T3B0aW9uc1sndGV4dCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgZWRpdE9iai52aXpPcHRpb25zW2l0ZW1Ub0NoYW5nZV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVkaXRPYmoudml6T3B0aW9uc1tpdGVtVG9DaGFuZ2VdID0gc2VsZWN0ZWRFZGl0T3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBpZihpdGVtVG9DaGFuZ2UgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgZGVsZXRlIGVkaXRPYmoudml6T3B0aW9uc1snc3ZnJ107XHJcbiAgICB9XHJcblxyXG4gICAgLy9zYXZlIHZpek9wdGlvbnNcclxuICAgIGVkaXRPYmouc2F2ZVZpek9wdGlvbnMoZWRpdE9iai52aXpPcHRpb25zKTtcclxufVxyXG5cclxuXHJcbmp2RWRpdC5wcm90b3R5cGUuYXBwbHlFZGl0TW9kZSA9IGZ1bmN0aW9uIChpdGVtVG9DaGFuZ2UsIG9wdGlvbnMpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIHZhciBvYmplY3QgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdChcIi5cIiArIGl0ZW1Ub0NoYW5nZSk7XHJcbiAgICB2YXIgb2JqZWN0R3JvdXBzID0gb2JqZWN0Ll9ncm91cHM7XHJcbiAgICB2YXIgb2JqZWN0VGFnTmFtZSA9IG9iamVjdEdyb3Vwc1swXVswXSA/IG9iamVjdEdyb3Vwc1swXVswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xyXG5cclxuICAgIGlmIChpdGVtVG9DaGFuZ2UgPT09ICd0ZXh0Jykge1xyXG4gICAgICAgIC8vZG8gc29tZXRoaW5nIGlmIGl0IGlzIGFsbCB0aGUgdGV4dCB0aGF0IGlzIGJlaW5nIGNoYW5nZWRcclxuICAgICAgICBvYmplY3QgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcInRleHRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy9vcHRpb25zIGJ5IHRhZ05hbWVcclxuICAgIGlmIChvYmplY3RUYWdOYW1lID09PSAnZycpIHtcclxuICAgICAgICBvYmplY3QgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdChcIi5cIiArIGl0ZW1Ub0NoYW5nZSkuc2VsZWN0QWxsKCd0ZXh0Jyk7XHJcbiAgICB9IGVsc2UgaWYgKG9iamVjdFRhZ05hbWUgPT09ICdyZWN0Jykge1xyXG4gICAgICAgIGlmIChvcHRpb25zWydlZGl0YWJsZS1iYXInXSkge1xyXG4gICAgICAgICAgICBvYmplY3QuYXR0cignZmlsbCcsIG9wdGlvbnNbJ2VkaXRhYmxlLWJhciddKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG9iamVjdFRhZ05hbWUgPT09ICdjaXJjbGUnKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2VkaXRhYmxlLXNjYXR0ZXInXSkge1xyXG4gICAgICAgICAgICBvYmplY3QuYXR0cignZmlsbCcsIG9wdGlvbnNbJ2VkaXRhYmxlLXNjYXR0ZXInXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChvYmplY3RUYWdOYW1lID09PSAncGF0aCcpIHtcclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtcGllJ10pIHtcclxuICAgICAgICAgICAgb2JqZWN0LmF0dHIoJ2ZpbGwnLCBvcHRpb25zWydlZGl0YWJsZS1waWUnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vc3RhbmRhcmQgb3B0aW9uc1xyXG4gICAgLy9JZiBhIHRleHQgaW5jcmVtZW50IGV4aXN0cywgYXBwbHkgaXQgYmFzZWQgb24gdGhlIHNpZ24gb2YgdGhlIHZhcmlhYmxlXHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnKSkge1xyXG4gICAgICAgIGVkaXRPYmouY2hhbmdlRm9udFNpemUob3B0aW9uc1snZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnXSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtdGV4dC1zaXplJykpIHtcclxuICAgICAgICBvYmplY3Quc3R5bGUoJ2ZvbnQtc2l6ZScsIG9wdGlvbnNbJ2VkaXRhYmxlLXRleHQtc2l6ZSddKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdlZGl0YWJsZS10ZXh0LWNvbG9yJykpIHtcclxuICAgICAgICBvYmplY3Quc3R5bGUoJ2ZpbGwnLCBvcHRpb25zWydlZGl0YWJsZS10ZXh0LWNvbG9yJ10pO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlLW51bS1mb3JtYXQnKSkge1xyXG4gICAgICAgIHZhciBleHByZXNzaW9uID0gZ2V0Rm9ybWF0RXhwcmVzc2lvbihvcHRpb25zWydlZGl0YWJsZS1udW0tZm9ybWF0J10pO1xyXG4gICAgICAgIG9iamVjdFxyXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGQpICYmIHR5cGVvZiBleHByZXNzaW9uID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChleHByZXNzaW9uKGQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdlZGl0YWJsZS1jb250ZW50JykpIHtcclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtY29udGVudCddLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgb2JqZWN0Lmh0bWwob3B0aW9uc1snZWRpdGFibGUtY29udGVudCddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxufTtcclxuXHJcbmp2RWRpdC5wcm90b3R5cGUuYXBwbHlBbGxFZGl0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuXHJcbiAgICBmb3IgKHZhciBvcHRpb24gaW4gZWRpdE9iai52aXpPcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGVkaXRPYmoudml6T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pICYmIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgZWRpdE9iai5hcHBseUVkaXRNb2RlKG9wdGlvbiwgZWRpdE9iai52aXpPcHRpb25zW29wdGlvbl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmp2RWRpdC5wcm90b3R5cGUucmVtb3ZlRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIGlmIChlZGl0T2JqLmVkaXREaXYpIHtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuaHRtbCgnJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2XHJcbiAgICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XHJcbiAgICB9XHJcbiAgICBlZGl0T2JqLmVkaXRPcHRpb25zID0gJyc7XHJcbn07XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogVXRpbGl0eSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmp2RWRpdC5wcm90b3R5cGUub3ZlcmxheURpdlBvc2l0aW9uID0gZnVuY3Rpb24gKGRpdldpZHRoLCBkaXZIZWlnaHQsIG1vdXNlWCwgbW91c2VZKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcbiAgICB2YXIgcG9zaXRpb24gPSB7fTtcclxuICAgIGlmIChtb3VzZVggPiAocGFyc2VJbnQoZWRpdE9iai5jaGFydERpdi5zdHlsZSgnd2lkdGgnKSkpIC8gMikge1xyXG4gICAgICAgIHBvc2l0aW9uLnggPSBtb3VzZVggLSBkaXZXaWR0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG9zaXRpb24ueCA9IG1vdXNlWDtcclxuICAgIH1cclxuICAgIGlmIChtb3VzZVkgLSBkaXZIZWlnaHQgLSAxMCA+IDApIHtcclxuICAgICAgICBwb3NpdGlvbi55ID0gbW91c2VZIC0gZGl2SGVpZ2h0IC0gMTA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc2l0aW9uLnkgPSBtb3VzZVkgKyAxMDtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxufTtcclxuXHJcbi8qKiBnZXRGb3JtYXRFeHByZXNzaW9uXHJcbiAqXHJcbiAqIEBkZXNjIHJldHVybnMgdGhlIGQzIGZvcm1hdCBleHByZXNzaW9uIGZvciBhIGdpdmVuIG9wdGlvblxyXG4gKiBAcGFyYW1zIG9wdGlvblxyXG4gKiBAcmV0dXJucyBzdHJpbmcgZXhwcmVzc2lvblxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Rm9ybWF0RXhwcmVzc2lvbihvcHRpb24pIHtcclxuICAgIHZhciBleHByZXNzaW9uID0gJyc7XHJcbiAgICBpZiAob3B0aW9uID09PSBcImN1cnJlbmN5XCIpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KFwiJCxcIik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSBcImZpeGVkQ3VycmVuY3lcIikge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoXCIoJC4yZlwiKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09IFwicGVyY2VudFwiKSB7XHJcbiAgICAgICAgdmFyIHAgPSBNYXRoLm1heCgwLCBkMy5wcmVjaXNpb25GaXhlZCgwLjA1KSAtIDIpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoXCIuXCIgKyBwICsgXCIlXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gXCJtaWxsaW9uc1wiKSB7XHJcbiAgICAgICAgdmFyIHAgPSBkMy5wcmVjaXNpb25QcmVmaXgoMWU1LCAxLjNlNik7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdFByZWZpeChcIi5cIiArIHAsIDEuM2U2KTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdjb21tYXMnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdChcIiwuMGZcIik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnbm9uZScgfHwgb3B0aW9uID09PSAnJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGV4cHJlc3Npb247XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFlBeGlzTGFiZWxXaWR0aCh0ZXh0U2l6ZSl7XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2RWRpdDtcclxuIiwiLyoqKiAganZFZGl0ICoqKi9cclxuZnVuY3Rpb24ganZTZWxlY3QoY29uZmlnT2JqKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBzZWxlY3RPYmogPSB0aGlzO1xyXG4gICAgc2VsZWN0T2JqLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgc2VsZWN0T2JqLnRvZ2dsZVNlbGVjdE1vZGUgPSBmdW5jdGlvbiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgIHZhciBlbnRpcmVTdmcgPSBzZWxlY3RPYmouY2hhcnREaXYuc2VsZWN0KFwic3ZnXCIpO1xyXG4gICAgICAgIGlmKHRvZ2dsZUJvb2wpe1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBkMy5zZWxlY3QoZDMuZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhcmdldCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcub24oJ2RibGNsaWNrJywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFNlbGVjdCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdlNlbGVjdDsiLCIvKioqICBqdlRpcCAqKiovXHJcblxyXG5mdW5jdGlvbiBqdlRpcChjb25maWdPYmopIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIHRpcCA9IHRoaXM7XHJcblxyXG4gICAgdGlwLnR5cGUgPSBjb25maWdPYmoudHlwZTtcclxuICAgIHRpcC5jaGFydERpdiA9IGNvbmZpZ09iai5jaGFydERpdjtcclxuXHJcbiAgICAvL0NyZWF0ZSBpbml0aWFsIGRpdlxyXG4gICAgdGlwLmNoYXJ0RGl2LnNlbGVjdCgnLmp2LXRvb2x0aXAnKS5yZW1vdmUoKTtcclxuXHJcbiAgICB0aXAuY2hhcnREaXYuYXBwZW5kKFwiZGl2XCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInRvb2x0aXAganYtdG9vbHRpcFwiKVxyXG4gICAgICAgIC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKTtcclxufVxyXG5cclxuanZUaXAucHJvdG90eXBlLnNob3dUaXAgPSBmdW5jdGlvbiAoZXZlbnQsIHRyYW5zaXRpb25EdXJhdGlvbiA9IDEwMCkge1xyXG4gICAgdmFyIHRpcCA9IHRoaXM7XHJcbiAgICB2YXIgbGVmdCA9ICdhdXRvJyxcclxuICAgICAgICB0b3AgPSAnYXV0byc7XHJcbiAgICAvL0xvZ2ljIHRvIGRldGVybWluZSB3aGVyZSB0b29sdGlwIHdpbGwgYmUgcGxhY2VkIG9uIHBhZ2VcclxuICAgIHZhciBsZWZ0T2ZNb3VzZSA9IGV2ZW50Lm9mZnNldFggPiAodGlwLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50V2lkdGggLyAyKSxcclxuICAgICAgICB0b3BPZk1vdXNlID0gZXZlbnQub2Zmc2V0WSA8ICh0aXAuY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRIZWlnaHQgLyAyKTtcclxuICAgXHJcbiAgICBpZiAobGVmdE9mTW91c2UpIHtcclxuICAgICAgICB2YXIgdG9vbHRpcFdpZHRoID0gdGlwLnRvb2xUaXAuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aDtcclxuICAgICAgICBpZih0b29sdGlwV2lkdGggPT09IDApe1xyXG4gICAgICAgICAgICB0b29sdGlwV2lkdGggPSAyNTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxlZnQgPSBldmVudC5vZmZzZXRYIC0gdG9vbHRpcFdpZHRoICsgXCJweFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBsZWZ0ID0gZXZlbnQub2Zmc2V0WCArIFwicHhcIjtcclxuICAgIH1cclxuICAgIGlmICh0b3BPZk1vdXNlKSB7XHJcbiAgICAgICAgdG9wID0gKGV2ZW50Lm9mZnNldFkpICsgXCJweFwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgdG9vbHRpcEhlaWdodCA9IHRpcC50b29sVGlwLl9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0ID09PSAwID8gNzUgOiB0aXAudG9vbFRpcC5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodDtcclxuICAgICAgICBpZih0b29sdGlwSGVpZ2h0ID09PSAwKXtcclxuICAgICAgICAgICAgdG9vbHRpcEhlaWdodCA9IDc1O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0b3AgPSBldmVudC5vZmZzZXRZIC0gdG9vbHRpcEhlaWdodCArIFwicHhcIjtcclxuICAgIH1cclxuXHJcbiAgICBpZighbGVmdE9mTW91c2UgJiYgdG9wT2ZNb3VzZSkge1xyXG4gICAgICAgIGxlZnQgPSBldmVudC5vZmZzZXRYICsgMTMgKyBcInB4XCI7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHQgPSBkMy50cmFuc2l0aW9uKClcclxuICAgICAgICAuZHVyYXRpb24odHJhbnNpdGlvbkR1cmF0aW9uKVxyXG4gICAgICAgIC5lYXNlKGQzLmVhc2VMaW5lYXIpO1xyXG4gICAgXHJcbiAgICB0aXAudG9vbFRpcFxyXG4gICAgICAgIC50cmFuc2l0aW9uKHQpXHJcbiAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBsZWZ0KVxyXG4gICAgICAgIC5zdHlsZShcInRvcFwiLCAgdG9wKVxyXG4gICAgICAgIC5zdHlsZShcImRpc3BsYXlcIiwgXCJibG9ja1wiKVxyXG4gICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSk7XHJcbn1cclxuXHJcbmp2VGlwLnByb3RvdHlwZS5oaWRlVGlwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHRpcCA9IHRoaXM7XHJcbiAgICB2YXIgdCA9IGQzLnRyYW5zaXRpb24oKVxyXG4gICAgICAgIC5kdXJhdGlvbignMTAwJylcclxuICAgICAgICAuZWFzZShkMy5lYXNlTGluZWFyKTtcclxuICAgIGlmICh0aXAudG9vbFRpcCkge1xyXG4gICAgICAgIHRpcC50b29sVGlwLnRyYW5zaXRpb24odCkuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogIERlY2xhcmUganYgdGlwIGNvbXBvbmVudHMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxudmFyIGp2SHIgPSBgPGhyIHN0eWxlPSdtYXJnaW46M3B4IDAgM3B4IDA7Jy8+YDtcclxuXHJcbmZ1bmN0aW9uIGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSwgY29sb3JUaWxlKSB7XHJcbiAgICB2YXIgdmFsdWVTdHJpbmcgPSB2YWx1ZSA/IGA6ICR7dmFsdWV9YCA6ICcnO1xyXG4gICAgdmFyIGNvbG9yVGlsZVN0cmluZyA9IGNvbG9yVGlsZSA/IGNvbG9yVGlsZSA6ICcnXHJcbiAgICByZXR1cm4gYDxzcGFuIGNsYXNzPSdzZW1vc3MtZDMtdGlwLWNvbnRlbnQganYtdGlwLXNpZGUtbWFyZ2lucyc+JHtjb2xvclRpbGVTdHJpbmd9JHtpdGVtfSR7dmFsdWVTdHJpbmd9PC9zcGFuPjxici8+YDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VGl0bGVUZW1wbGF0ZShkYXRhT2JqKSB7XHJcbiAgICByZXR1cm4gYDxkaXYgY2xhc3M9J3RpdGxlIGp2LXRvcC1tYXJnaW4ganYtaW5saW5lJz48Yj4ke2RhdGFPYmoudGl0bGV9PC9iPjwvZGl2PiR7anZIcn1gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb2xvclRpbGUoY29sb3IpIHtcclxuICAgIGlmKGNvbG9yKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPSdkMy10b29sdGlwLWNpcmNsZSBqdi1pbmxpbmUganYtdGlwLXNpZGUtbWFyZ2lucycgc3R5bGU9J2JhY2tncm91bmQ6JHtjb2xvcn0nPjwvZGl2PmA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdqdi1pbmxpbmUganYtdGlwLXNpZGUtbWFyZ2lucyc+XCJcclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFZpeiBTcGVjaWZpYyBGdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG5qdlRpcC5wcm90b3R5cGUuZ2VuZXJhdGVTaW1wbGVUaXAgPSBmdW5jdGlvbiAoZGF0YU9iaiwgZGF0YVRhYmxlLCBldmVudCkge1xyXG4gICAgdmFyIHRpcCA9IHRoaXM7XHJcbiAgICB2YXIgdG9vbHRpcEh0bWwgPSAnJztcclxuICAgXHJcbiAgICBpZihkYXRhT2JqLmhhc093blByb3BlcnR5KCd0aXRsZScpICYmIGRhdGFPYmoudGl0bGUgPT09ICcnKXtcclxuICAgICAgICBkYXRhT2JqLnRpdGxlID0gJ0VtcHR5J1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhT2JqLnZpeiA9PT0gJ2NsdXN0ZXJzJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ2NpcmNsZXZpZXdwbG90JyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3NjYXR0ZXJwbG90JyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3RyZWVtYXAnIHx8IGRhdGFPYmoudml6ID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICB0b29sdGlwSHRtbCA9IGdlbmVyYXRlU2luZ2xlQ29sb3JIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGFPYmoudml6ID09PSAncmFkaWFsJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3BpZScpIHtcclxuICAgICAgICB0b29sdGlwSHRtbCA9IGdlbmVyYXRlUGllSFRNTChkYXRhT2JqLCBkYXRhVGFibGUpO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ2NpcmNsZXBhY2snIHx8IGRhdGFPYmoudml6ID09PSAnc3VuYnVyc3QnKSB7XHJcbiAgICAgICAgdG9vbHRpcEh0bWwgPSBnZW5lcmF0ZVBhY2tIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGFPYmoudml6ID09PSAnaGVhdG1hcCcgfHwgZGF0YU9iai52aXogPT09ICdjbG91ZCcpIHtcclxuICAgICAgICB0b29sdGlwSHRtbCA9IGdlbmVyYXRlSGVhdG1hcEhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgIH0gZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdzYW5rZXknKSB7XHJcbiAgICAgICAgdG9vbHRpcEh0bWwgPSBnZW5lcmF0ZVNhbmtleUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9vbHRpcEh0bWwgPSBnZW5lcmF0ZVNpbXBsZUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2FkZCBjb250ZW50IHRvIHRvb2x0aXBcclxuICAgIHRpcC50b29sVGlwID0gdGlwLmNoYXJ0RGl2LnNlbGVjdChcIi50b29sdGlwXCIpXHJcbiAgICAgICAgLmh0bWwodG9vbHRpcEh0bWwpO1xyXG5cclxuICAgIGlmKGV2ZW50KXtcclxuICAgICAgICB0aXAuc2hvd1RpcChldmVudCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRpcC50b29sdGlwO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVTaW1wbGVIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXY+PGRpdiBjbGFzcz0ndGl0bGUganYtdGlwLWNvbnRhaW5lciBqdi10aXAtc2lkZS1tYXJnaW5zIGp2LXRvcC1tYXJnaW4nPjxiPiR7ZGF0YU9iai50aXRsZX08L2I+PC9kaXY+JHtqdkhyfWA7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSwgZ2V0Q29sb3JUaWxlKGRhdGFPYmouY29sb3JbaXRlbV0pKTtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2luZ2xlQ29sb3JIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0LFxyXG4gICAgICAgIHRvb2x0aXBDb2xvcixcclxuICAgICAgICBzaG93Q29sb3JDaXJjbGUgPSB0cnVlLFxyXG4gICAgICAgIGNvbG9yQ2lyY2xlID0gXCJcIjtcclxuXHJcbiAgICBpZiAoISFkYXRhT2JqLmNvbG9yW2RhdGFPYmouZGF0YVtkYXRhVGFibGUuc2VyaWVzXV0pIHtcclxuICAgICAgICB0b29sdGlwQ29sb3IgPSBkYXRhT2JqLmNvbG9yW2RhdGFPYmouZGF0YVtkYXRhVGFibGUuc2VyaWVzXV07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghIWRhdGFPYmouY29sb3JbZGF0YVRhYmxlLmxhYmVsXSAmJiBkYXRhT2JqLnZpeiAhPT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgdG9vbHRpcENvbG9yID0gZGF0YU9iai5jb2xvcltkYXRhVGFibGUubGFiZWxdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2hvd0NvbG9yQ2lyY2xlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNob3dDb2xvckNpcmNsZSkge1xyXG4gICAgICAgIGNvbG9yQ2lyY2xlID0gZ2V0Q29sb3JUaWxlKHRvb2x0aXBDb2xvcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb2xvckNpcmNsZSA9IGdldENvbG9yVGlsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXYgY2xhc3M9J2p2LWlubGluZSc+JHtjb2xvckNpcmNsZX08ZGl2IGNsYXNzPSd0aXRsZSBqdi10aXAtc2lkZS1tYXJnaW5zIGp2LWlubGluZSBqdi10b3AtbWFyZ2luJz48Yj4ke2RhdGFPYmoudGl0bGV9PC9iPjwvZGl2PiR7anZIcn1gO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuICAgICAgICB0b29sdGlwVGV4dCArPSBnZXRWYWx1ZUNvbnRlbnQoaXRlbSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQYWNrSFRNTChkYXRhT2JqKSB7XHJcbiAgICB2YXIgdG9vbHRpcFRleHQ7XHJcbiAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPlxyXG4gICAgICAgICR7Z2V0Q29sb3JUaWxlKGRhdGFPYmouZGF0YS5jb2xvcil9XHJcbiAgICAgICAgJHtnZXRUaXRsZVRlbXBsYXRlKGRhdGFPYmopfWA7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUhlYXRtYXBIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXYgY2xhc3M9J2p2LWlubGluZSc+XHJcbiAgICAgICAgJHtnZXRDb2xvclRpbGUoZGF0YU9iai5jb2xvcil9XHJcbiAgICAgICAgJHtnZXRUaXRsZVRlbXBsYXRlKGRhdGFPYmopfWA7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVBpZUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKSB7XHJcbiAgICB2YXIgdG9vbHRpcFRleHQ7XHJcbiAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPlxyXG4gICAgJHtnZXRDb2xvclRpbGUoZGF0YU9iai5jb2xvcltkYXRhT2JqLmRhdGEubGFiZWxdKX1cclxuICAgICR7Z2V0VGl0bGVUZW1wbGF0ZShkYXRhT2JqKX1gO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuICAgICAgICB0b29sdGlwVGV4dCArPSBnZXRWYWx1ZUNvbnRlbnQoZGF0YVRhYmxlW2l0ZW1dLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVNhbmtleUhUTUwoZGF0YU9iaikge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSBgPGRpdiBjbGFzcz0nanYtaW5saW5lJz4ke2dldFRpdGxlVGVtcGxhdGUoZGF0YU9iail9YDtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gZ2V0VmFsdWVDb250ZW50KGl0ZW0sIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKHZhbCkge1xyXG4gICAgaWYgKCFpc05hTih2YWwpKSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdChcIiwuMGZcIik7XHJcbiAgICAgICAgaWYgKHZhbCA+PSAxMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIC8vbWlsbGlvbnNcclxuICAgICAgICAgICAgLy8gdmFyIHAgPSBkMy5wcmVjaXNpb25QcmVmaXgoMWU1LCAxLjNlNik7XHJcbiAgICAgICAgICAgIC8vIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdFByZWZpeChcIi5cIiArIHAsIDEuM2U2KTtcclxuICAgICAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KFwiLC4yZlwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZhbCA8PSAxMDApIHtcclxuICAgICAgICAgICAgLy8yIGRlY2ltYWxzXHJcbiAgICAgICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdChcIiwuMmZcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZUaXA7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2V0RGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucztcclxuXHJcbmZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb25zKHVzZXJPcHRpb25zID0ge30pIHtcclxuICAgIHZhciBfdmFycyA9IHt9O1xyXG5cclxuICAgIC8vR2VuZXJhbCBTdHlsZXMvQXR0cmlidXRlc1xyXG4gICAgLy9DT05TVCB2YXJpYWJsZXMgLSB0cnkgdG8gbm90IHVzZSBpbiBqdkNoYXJ0cyBhcyB0aGV5IGRvIG5vdCBoYXZlIG11Y2ggY29udGV4dFxyXG4gICAgX3ZhcnMuR1JBWSA9IFwiI2NjY2NjY1wiO1xyXG4gICAgX3ZhcnMuV0hJVEUgPSAnI0ZGRkZGRic7XHJcbiAgICBfdmFycy5CTEFDSyA9ICcjMDAwMDAwJztcclxuICAgIF92YXJzLlNNQUxMX1NUUk9LRV9XSURUSCA9ICcxcHgnO1xyXG4gICAgX3ZhcnMubGlnaHQgPSAnI0JCQkJCQic7XHJcbiAgICBfdmFycy5zdHJva2VXaWR0aCA9IFwiMnB4XCI7XHJcbiAgICBcclxuICAgIC8vQWN0aW9uIEF0dHJpYnV0ZXNcclxuICAgIF92YXJzLmhpZ2hsaWdodEJvcmRlckNvbG9yID0gX3ZhcnMuQkxBQ0s7XHJcbiAgICBfdmFycy5oaWdobGlnaHRCb3JkZXJXaWR0aCA9IFwiMnB4XCI7XHJcblxyXG4gICAgLy9Db21wb25lbnQgU3BlY2lmaWMgU3R5bGVzL0F0dHJpYnV0ZXNcclxuICAgIF92YXJzLnRocmVzaG9sZHMgPSAnbm9uZSc7IC8vaWYgbm90IG5vbmUsIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XHJcbiAgICBfdmFycy50aHJlc2hvbGRMZWdlbmQgPSBmYWxzZTtcclxuICAgIF92YXJzLmJhY2tncm91bmRDb2xvciA9ICdub25lJztcclxuICAgIF92YXJzLmF4aXNDb2xvciA9IF92YXJzLkdSQVk7XHJcbiAgICBfdmFycy5heGlzV2lkdGggPSBfdmFycy5zdHJva2VXaWR0aDtcclxuICAgIF92YXJzLmdyaWRMaW5lU3Ryb2tlV2lkdGggPSBfdmFycy5TTUFMTF9TVFJPS0VfV0lEVEg7XHJcbiAgICBfdmFycy5kaXNwbGF5VmFsdWVzID0gZmFsc2U7XHJcbiAgICBfdmFycy50b2dnbGVMZWdlbmQgPSBmYWxzZTtcclxuICAgIF92YXJzLmxlZ2VuZEFycm93Q29sb3IgPSAnYzJjMmQ2JztcclxuICAgIF92YXJzLmxlZ2VuZE1heCA9IDk7XHJcbiAgICBfdmFycy5ncmlkU2l6ZSA9IDEyO1xyXG4gICAgX3ZhcnMueFJldmVyc2VkID0gZmFsc2U7XHJcbiAgICBfdmFycy55UmV2ZXJzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvL2ZvbnQgc3R5bGVzXHJcbiAgICBfdmFycy5mb250U2l6ZSA9ICcxMnB4JztcclxuICAgIF92YXJzLmZvbnRDb2xvciA9IF92YXJzLkJMQUNLO1xyXG4gICAgX3ZhcnMueExhYmVsRm9udFNpemUgPSAnbm9uZSc7XHJcbiAgICBfdmFycy55TGFiZWxGb250U2l6ZSA9ICdub25lJztcclxuXHJcbiAgICAvL0hlYXRtYXAgU3BlY2lmaWMgU3R5bGVzL0F0dHJpYnV0ZXNcclxuICAgIF92YXJzLmNvbG9yID0gXCIjZmYwMDAwXCI7XHJcbiAgICBfdmFycy50b2dnbGVMZWdlbmQgPSBmYWxzZTtcclxuICAgIF92YXJzLmJ1Y2tldHMgPSBcIjEwXCI7XHJcbiAgICBfdmFycy5jb2xvckxhYmVsID0gJ25vbmUnO1xyXG4gICAgX3ZhcnMubWluID0gXCIwXCI7XHJcbiAgICBfdmFycy5tYXggPSBcIjEwXCI7XHJcbiAgICBfdmFycy5kb21haW5BcnJheSA9IFwiXCI7XHJcbiAgICBfdmFycy5zdGVwID0gXCIxXCI7XHJcbiAgICBfdmFycy5xdWFudGlsZXMgPSB0cnVlO1xyXG4gICAgX3ZhcnMuaGVhdExlZ2VuZFNwYWNpbmcgPSAyO1xyXG4gICAgX3ZhcnMuaGVhdEdyaWRTaXplID0gMjA7XHJcbiAgICBfdmFycy5jb2xvcnMgPSBbXHJcbiAgICAgIFwiI2ZiZjJkMlwiLFxyXG4gICAgICBcIiNmZGVkYjVcIixcclxuICAgICAgXCIjZmVlN2EwXCIsXHJcbiAgICAgIFwiI2ZmZGE4NFwiLFxyXG4gICAgICBcIiNmZmM2NjVcIixcclxuICAgICAgXCIjZmViNDRlXCIsXHJcbiAgICAgIFwiI2ZlYTc0M1wiLFxyXG4gICAgICBcIiNmZDliM2ZcIixcclxuICAgICAgXCIjZmQ4YzNjXCIsXHJcbiAgICAgIFwiI2ZkNzczNVwiLFxyXG4gICAgICBcIiNmZDYwMmZcIixcclxuICAgICAgXCIjZmI0YjI5XCIsXHJcbiAgICAgIFwiI2Y0MzcyM1wiLFxyXG4gICAgICBcIiNlYTI0MWVcIixcclxuICAgICAgXCIjZTAxNjFjXCIsXHJcbiAgICAgIFwiI2Q2MGIyMFwiLFxyXG4gICAgICBcIiNjODAzMjRcIixcclxuICAgICAgXCIjYjEwMDI2XCIsXHJcbiAgICAgIFwiIzg3MDAyNVwiLFxyXG4gICAgICBcIiM2MjAwMjNcIlxyXG4gICAgXTtcclxuXHJcbiAgICAvL3BpZSBzcGVjaWZpY1xyXG4gICAgX3ZhcnMucGllQm9yZGVyID0gX3ZhcnMuV0hJVEU7XHJcbiAgICBfdmFycy5waWVCb3JkZXJXaWR0aCA9IF92YXJzLlNNQUxMX1NUUk9LRV9XSURUSDtcclxuICAgIF92YXJzLnBpZVRleHRDb2xvciA9IF92YXJzLldISVRFO1xyXG4gICAgX3ZhcnMuZW1wdHlMZWdlbmRTcXVhcmUgPSBfdmFycy5XSElURTtcclxuXHJcbiAgICAvL2xpbmUgc3BlY2lmaWNcclxuICAgIF92YXJzLmxpbmVDdXJ2ZVR5cGUgPSAnTGluZWFyJztcclxuXHJcbiAgICAvL2JhciBzcGVjaWZpY1xyXG4gICAgX3ZhcnMuZGlzcGxheVZhbHVlc1N0YWNrQXNQZXJjZW50ID0gZmFsc2U7XHJcbiAgICBfdmFycy5kaXNwbGF5VmFsdWVzU3RhY2tUb3RhbCA9IGZhbHNlO1xyXG4gICAgX3ZhcnMuZGlzcGxheVlBeGlzTGFiZWwgPSB0cnVlO1xyXG5cclxuICAgIC8vc2luZ2xlIGF4aXMgc3BlY2lmaWNcclxuICAgIF92YXJzLnNpbmdsZUF4aXNGaWxsSG92ZXJDb2xvciA9ICdyZWQnO1xyXG5cclxuXHJcbiAgICBPYmplY3QuYXNzaWduKF92YXJzLCB1c2VyT3B0aW9ucyk7XHJcbiAgICByZXR1cm4gX3ZhcnM7XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi92aXN1YWxzL2p2TGluZS5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmFyZWEgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZmlsbEFyZWEgPSBmaWxsQXJlYTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogTGluZSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0TGluZURhdGFcclxuICogIGdldHMgbGluZSBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAvL3NvcnQgY2hhcnQgZGF0YSBpZiB0aGVyZSBpcyBhIHNvcnQgdHlwZSBhbmQgbGFiZWwgaW4gdGhlIF92YXJzXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc29ydFR5cGUpIHtcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc29ydExhYmVsICYmIGNoYXJ0Ll92YXJzLnNvcnRUeXBlICE9PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgY2hhcnQub3JnYW5pemVDaGFydERhdGEoY2hhcnQuX3ZhcnMuc29ydExhYmVsLCBjaGFydC5fdmFycy5zb3J0VHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vcmVtb3ZlIGlmIHdlIGFkZCBub24gbGluZWFyIHRvIGFyZWEgY2hhcnRcclxuICAgIGNoYXJ0Ll92YXJzLmxpbmVDdXJ2ZVR5cGUgPSAnTGluZWFyJztcclxuXHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5kYXRhKTtcclxuXHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnICYmIGl0ZW0uaW5kZXhPZigndG9vbHRpcCcpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZVtpdGVtXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuLyoqIHBhaW50TGluZUNoYXJ0XHJcbiAqXHJcbiAqIFRoZSBpbml0aWFsIHN0YXJ0aW5nIHBvaW50IGZvciBsaW5lIGNoYXJ0LCBiZWdpbnMgdGhlIGRyYXdpbmcgcHJvY2Vzcy4gTXVzdCBhbHJlYWR5IGhhdmUgdGhlIGRhdGEgc3RvcmVkIGluIHRoZSBjaGFydFxyXG4gKiBvYmplY3RcclxuICovXHJcbmZ1bmN0aW9uIHBhaW50KCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIC8vVXNlcyB0aGUgb3JpZ2luYWwgZGF0YSBhbmQgdGhlbiBtYW5pcHVsYXRlcyBpdCBiYXNlZCBvbiBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xyXG4gICAgdmFyIGRhdGFPYmogPSBjaGFydC5nZXRCYXJEYXRhRnJvbU9wdGlvbnMoKTtcclxuXHJcbiAgICAvL2Fzc2lnbiBjdXJyZW50IGRhdGEgd2hpY2ggaXMgdXNlZCBieSBhbGwgYmFyIGNoYXJ0IG9wZXJhdGlvbnNcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuXHJcbiAgICAvL092ZXJ3cml0ZSBhbnkgcHJlLWV4aXN0aW5nIHpvb21cclxuICAgIGNoYXJ0LmNvbmZpZy56b29tRXZlbnQgPSBudWxsO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhkYXRhT2JqLmxlZ2VuZERhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhkYXRhT2JqLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGRhdGFPYmoueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGRhdGFPYmoubGVnZW5kRGF0YSwgJ2dlbmVyYXRlTGluZScpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZUxpbmUoZGF0YU9iaik7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGZpbGxBcmVhKGxpbmVEYXRhKSB7XHJcblxyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICAvL2xpbmVEYXRhID0gY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgY29sb3JzID0gY2hhcnQuX3ZhcnMuY29sb3I7XHJcblxyXG4gICAgLy9JZiBhIGxlZ2VuZCBlbGVtZW50IGlzIHRvZ2dsZWQgb2ZmLCB1c2UgdGhlIG5ldyBsaXN0IG9mIGhlYWRlcnNcclxuICAgIGlmIChjaGFydC5fdmFycy5oYXNPd25Qcm9wZXJ0eSgnbGVnZW5kSGVhZGVycycpKSB7XHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy9HZXQgdGhlIFggYW5kIFkgU2NhbGVcclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzLCAnbm8tcGFkZGluZycpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMsICduby1wYWRkaW5nJyk7XHJcblxyXG4gICAgLy9JZiBheGlzIGFyZSBub3JtYWxcclxuICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIHZhciBhcmVhID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC54KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZC54ID09PSAnJyApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geCgnRU1QVFlfU1RSSU5HJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geChkLngpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueTAoY29udGFpbmVyLmhlaWdodClcclxuICAgICAgICAgICAgLnkxKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBhcmVhID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueDEoMClcclxuICAgICAgICAgICAgLngwKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geChkLngpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGRhdGEgPSB7fTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsZWdlbmREYXRhLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGVnZW5kRGF0YSAhPT0gXCJ1bmRlZmluZWRcIikgey8vQWNjb3VudGluZyBmb3IgbGVnZW5kIHRvZ2dsZXNcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmREYXRhW2tdLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0Rvbid0IHdyaXRlIGFueXRoaW5nIHRvIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IGxpbmVEYXRhW2ldW3lBeGlzRGF0YS5sYWJlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsvL0luaXRpYWwgY3JlYXRpb24gb2YgdmlzdWFsaXphdGlvbiB3L28gbGVnZW5kIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd4JzogbGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBsaW5lRGF0YVtpXVt5QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAneCc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5hcmVhXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGZvciAodmFyIGkgaW4gZGF0YSkge1xyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJwYXRoXCIpXHJcbiAgICAgICAgICAgIC5kYXR1bShkYXRhW2ldKVxyXG4gICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuY29sb3JMaW5lID09IHRydWUgJiYgY2hhcnQuX3ZhcnMudGhyZXNob2xkcyAhPSAnbm9uZScgJiYgY2hhcnQuX3ZhcnMuY29sb3JDaGFydCAhPSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFyZWEgYXJlYS10aHJlc2hvbGRcIlxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcmVhXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZFwiLCBhcmVhKVxyXG4gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaywgaSkpXHJcbiAgICAgICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjYpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IGNvbnRhaW5lci5oZWlnaHQgLyBsaW5lRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZSgwLCBcIiArIHRyYW5zbGF0aW9uICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBjb250YWluZXIud2lkdGggLyBsaW5lRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRyYW5zbGF0aW9uICsgXCIsIDApXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuYmFyID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUJhclRocmVzaG9sZCA9IGdlbmVyYXRlQmFyVGhyZXNob2xkO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVCYXJzID0gZ2VuZXJhdGVCYXJzO1xyXG5cclxuXHJcbi8qKnBhaW50XHJcbiAqXHJcbiAqIFRoZSBpbml0aWFsIHN0YXJ0aW5nIHBvaW50IGZvciBiYXIgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQodHJhbnNpdGlvblRpbWUpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBpZih0cmFuc2l0aW9uVGltZSB8fCB0cmFuc2l0aW9uVGltZSA9PT0gMCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lID0gdHJhbnNpdGlvblRpbWU7XHJcbiAgICB9IGVsc2UgaWYoIWNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lKXtcclxuICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IDgwMDtcclxuICAgIH1cclxuICAgIC8vVXNlcyB0aGUgb3JpZ2luYWwgZGF0YSBhbmQgdGhlbiBtYW5pcHVsYXRlcyBpdCBiYXNlZCBvbiBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xyXG4gICAgdmFyIGRhdGFPYmogPSBjaGFydC5nZXRCYXJEYXRhRnJvbU9wdGlvbnMoKTtcclxuXHJcbiAgICAvL2Fzc2lnbiBjdXJyZW50IGRhdGEgd2hpY2ggaXMgdXNlZCBieSBhbGwgYmFyIGNoYXJ0IG9wZXJhdGlvbnNcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuXHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoZGF0YU9iai5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoZGF0YU9iai54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVZQXhpcyhkYXRhT2JqLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChkYXRhT2JqLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUJhcnMnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQmFycyhkYXRhT2JqKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcygpLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqU2V0cyB0aGUgZGF0YSBmb3IgdGhlIGJhciBjaGFydCBwcmlvciB0byBwYWludGluZ1xyXG4gKiAgQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbXMge09iamVjdH0gZGF0YSAtIERhdGEgcGFzc2VkIGludG8gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMge09iamVjdH0gZGF0YVRhYmxlIC0gU2hvd3Mgd2hpY2ggZGF0YSBjb2x1bW4gaXMgYXNzb2NpYXRlZCB3aXRoIGVhY2ggZmllbGQgaW4gdmlzdWFsIHBhbmVsXHJcbiAqIEBwYXJhbXMge09iamVjdH0gZGF0YVRhYmxlS2V5cyAtIENvbnRhaW5zIHRoZSBkYXRhIHR5cGUgZm9yIGVhY2ggY29sdW1uIG9mIGRhdGFcclxuICogQHBhcmFtcyB7T2JqZWN0fSBjb2xvcnMgLSBDb2xvcnMgb2JqZWN0IHVzZWQgdG8gY29sb3IgdGhlIGJhcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgLy9zb3J0IGNoYXJ0IGRhdGEgaWYgdGhlcmUgaXMgYSBzb3J0IHR5cGUgYW5kIGxhYmVsIGluIHRoZSBfdmFyc1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmhhc093blByb3BlcnR5KCdzb3J0VHlwZScpICYmIGNoYXJ0Ll92YXJzLnNvcnRUeXBlKSB7XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNvcnRMYWJlbCAmJiBjaGFydC5fdmFycy5zb3J0VHlwZSAhPT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0Lm9yZ2FuaXplQ2hhcnREYXRhKGNoYXJ0Ll92YXJzLnNvcnRMYWJlbCwgY2hhcnQuX3ZhcnMuc29ydFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldEJhckxpbmVMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneCcsIGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS55QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneScsIGNoYXJ0LmRhdGEpO1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICBjaGFydC5zZXRGbGlwcGVkU2VyaWVzKGNoYXJ0LmRhdGEuZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZmxpcHBlZERhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldEJhckxpbmVMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShpdGVtKSkge1xyXG4gICAgICAgICAgICBpZiAoaXRlbSAhPT0gJ2xhYmVsJyAmJiBpdGVtLmluZGV4T2YoJ3Rvb2x0aXAnKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGVbaXRlbV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJhciBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUJhclRocmVzaG9sZCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIHdpZHRoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICB0aHJlc2hvbGRzID0gY2hhcnQuX3ZhcnMudGhyZXNob2xkcyxcclxuICAgICAgICBsZW5ndGggPSB0aHJlc2hvbGRzICE9PSAnbm9uZScgPyBPYmplY3Qua2V5cyh0aHJlc2hvbGRzKS5sZW5ndGggOiAwO1xyXG5cclxuICAgIHZhciB4ID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZTtcclxuICAgIHZhciB5ID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNTY2FsZTtcclxuXHJcbiAgICBpZiAodGhyZXNob2xkcyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gdGhyZXNob2xkc1tpXTtcclxuICAgICAgICAgICAgaWYgKCFjaGFydC5fdmFycy54QXhpc1RocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHgodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHgodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHkodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuY29sb3JDaGFydCA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkUmVjdHMgPSBkMy5zZWxlY3RBbGwoJ3JlY3QucmVjdC0nICsgaSk7XHJcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGRSZWN0cy5hdHRyKCdmaWxsJywgdGhyZXNob2xkLnRocmVzaG9sZENvbG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLyoqZ2VuZXJhdGVCYXJzXHJcbiAqXHJcbiAqIERvZXMgdGhlIGFjdHVhbCBwYWludGluZyBvZiBiYXJzIG9uIHRoZSBiYXIgY2hhcnRcclxuICogQHBhcmFtcyBiYXJEYXRhXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVCYXJzKGJhckRhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnO1xyXG5cclxuICAgIC8vVXNlZCB0byBkcmF3IGxpbmUgdGhhdCBhcHBlYXJzIHdoZW4gdG9vbCB0aXBzIGFyZSB2aXNpYmxlXHJcbiAgICB2YXIgdGlwTGluZVggPSAwLFxyXG4gICAgICAgIHRpcExpbmVXaWR0aCA9IDAsXHJcbiAgICAgICAgdGlwTGluZUhlaWdodCA9IDAsXHJcbiAgICAgICAgdGlwTGluZVkgPSAwO1xyXG5cclxuICAgIC8vUmVtb3ZlcyBhbnkgZXhpc3RpbmcgYmFyIGNvbnRhaW5lcnMgYW5kIGNyZWF0ZXMgYSBuZXcgb25lXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLmJhci1jb250YWluZXInKS5yZW1vdmUoKTtcclxuICAgIHZhciBiYXJzID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1jb250YWluZXInKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cnKTtcclxuXHJcbiAgICAvL0FkZCBsb2dpYyB0byBmaWx0ZXIgYmFyZGF0YVxyXG4gICAgdmFyIGRhdGFIZWFkZXJzID0gYmFyRGF0YS5sZWdlbmREYXRhO1xyXG5cclxuICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycztcclxuICAgIH0gZWxzZSBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYmFyRGF0YU5ldyA9IGp2Q2hhcnRzLmdldFRvZ2dsZWREYXRhKGJhckRhdGEsIGRhdGFIZWFkZXJzKTtcclxuXHJcbiAgICBnZW5lcmF0ZUJhckdyb3VwcyhiYXJzLCBiYXJEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgdmFyIGV2ZW50R3JvdXBzID0ganZDaGFydHMuZ2VuZXJhdGVFdmVudEdyb3VwcyhiYXJzLCBiYXJEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgLy9BZGQgbGlzdGVuZXJzXHJcblxyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcudGlwLWxpbmUnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VJdGVtID0gZDMuc2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGlwTGluZVggPSBtb3VzZUl0ZW0ubm9kZSgpLmdldEJCb3goKS54O1xyXG4gICAgICAgICAgICAgICAgdGlwTGluZVdpZHRoID0gbW91c2VJdGVtLm5vZGUoKS5nZXRCQm94KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aXBMaW5lSGVpZ2h0ID0gbW91c2VJdGVtLm5vZGUoKS5nZXRCQm94KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGlwTGluZVkgPSBtb3VzZUl0ZW0ubm9kZSgpLmdldEJCb3goKS55O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyBsaW5lIGluIGNlbnRlciBvZiBldmVudC1yZWN0XHJcbiAgICAgICAgICAgICAgICBzdmdcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAndGlwLWxpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyAwIDogdGlwTGluZVggKyB0aXBMaW5lV2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA/IHRpcExpbmVXaWR0aCA6IHRpcExpbmVYICsgdGlwTGluZVdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyB0aXBMaW5lWSArIHRpcExpbmVIZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyB0aXBMaW5lWSArIHRpcExpbmVIZWlnaHQgLyAyIDogdGlwTGluZUhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzaGFwZS1yZW5kZXJpbmcnLCAnY3Jpc3BFZGdlcycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcxcHgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnbGluZS50aXAtbGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY2hhcnQuZGlzcGxheVZhbHVlcygpO1xyXG4gICAgLy9jaGFydC5nZW5lcmF0ZUNsaXBQYXRoKCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUJhclRocmVzaG9sZCgpO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZUJhckdyb3Vwc1xyXG4gKlxyXG4gKiBQYWludHMgdGhlIGdyb3VwcyBvZiB0aGUgYmFyc1xyXG4gKiBAcGFyYW1zIGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydFxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVCYXJHcm91cHMoY2hhcnRDb250YWluZXIsIGJhckRhdGEsIGNoYXJ0KSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yO1xyXG5cclxuXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcbiAgICB2YXIgeSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgdmFyIHBvc0NhbGMgPSBqdkNoYXJ0cy5nZXRQb3NDYWxjdWxhdGlvbnMoYmFyRGF0YSwgY2hhcnQuX3ZhcnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0KTtcclxuXHJcblxyXG4gICAgdmFyIGRhdGFUb1Bsb3QgPSBqdkNoYXJ0cy5nZXRQbG90RGF0YShiYXJEYXRhLCBjaGFydCk7XHJcblxyXG4gICAgdmFyIGJhckdyb3VwcztcclxuICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnIHx8ICF4QXhpc0RhdGEuaGFzT3duUHJvcGVydHkoJ21pbicpKSB7XHJcbiAgICAgICAgLy9DcmVhdGVzIGJhciBncm91cHNcclxuICAgICAgICBiYXJHcm91cHMgPSBjaGFydENvbnRhaW5lclxyXG4gICAgICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1ncm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgLy9UcmFuc2xhdGUgdGhlIGJhciBncm91cHMgYnkgKG91dGVyIHBhZGRpbmcgKiBzdGVwKSBhbmQgdGhlIHdpZHRoIG9mIHRoZSBiYXJzIChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCAqIGkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgKCh4LnBhZGRpbmdPdXRlcigpICogeC5zdGVwKCkpICsgKHguc3RlcCgpICogaSkpICsgJywwKSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgLy9DcmVhdGVzIGJhciBncm91cHNcclxuICAgICAgICBiYXJHcm91cHMgPSBjaGFydENvbnRhaW5lclxyXG4gICAgICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1ncm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgLy9UcmFuc2xhdGUgdGhlIGJhciBncm91cHMgYnkgKG91dGVyIHBhZGRpbmcgKiBzdGVwKSBhbmQgdGhlIHdpZHRoIG9mIHRoZSBiYXJzIChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCAqIGkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyAoKHkucGFkZGluZ091dGVyKCkgKiB5LnN0ZXAoKSkgKyAoeS5zdGVwKCkgKiBpKSkgKyAnKSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL0NyZWF0ZXMgYmFycyB3aXRoaW4gYmFyIGdyb3Vwc1xyXG4gICAgdmFyIGV4dGVybmFsQ291bnRlckZvckogPSAtMTtcclxuICAgIHZhciBiYXJzID0gYmFyR3JvdXBzLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBleHRlcm5hbENvdW50ZXJGb3JKKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxhYmVsID0gU3RyaW5nKGJhckRhdGFbZXh0ZXJuYWxDb3VudGVyRm9ySl1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSkucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICdfZG90XycpO1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kVmFsID0gU3RyaW5nKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGFbaV0pLnJlcGxhY2UoL1xccy9nLCAnXycpLnJlcGxhY2UoL1xcLi9nLCAnX2RvdF8nKTtcclxuICAgICAgICAgICAgdmFyIHRocmVzaG9sZERpcjtcclxuXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy54QXhpc1RocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkRGlyID0gY2hhcnQuc2V0VGhyZXNob2xkKGJhckRhdGFbZXh0ZXJuYWxDb3VudGVyRm9ySl1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGREaXIgPSBjaGFydC5zZXRUaHJlc2hvbGQoZCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnZWRpdGFibGUgZWRpdGFibGUtYmFyIGJhci1jb2wtJyArIGxhYmVsICsgJy1pbmRleC0nICsgbGVnZW5kVmFsICsgJyBoaWdobGlnaHQtY2xhc3MtJyArIGxhYmVsICsgJyByZWN0ICcgKyB0aHJlc2hvbGREaXI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnN0YXJ0eChkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuc3RhcnR5KGQsIGkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuc3RhcnR3aWR0aChkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5zdGFydGhlaWdodChkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVyc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnNbaV0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3J4JywgMClcclxuICAgICAgICAuYXR0cigncnknLCAwKVxyXG4gICAgICAgIC5hdHRyKCdvcGFjaXR5JywgMC45KVxyXG4gICAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCA+IDMwMDAwMDAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3VybCgjY2xpcC1hYm92ZSknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAndXJsKCNjbGlwLWJlbG93KSc7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYoY2hhcnQuX3ZhcnMudHJhbnNpdGlvblRpbWUgPiAwKSB7XHJcbiAgICAgICAgICAgIGJhcnNcclxuICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgIC5kdXJhdGlvbig4MDApXHJcbiAgICAgICAgICAgICAgICAuZWFzZShkMy5lYXNlUG9seU91dClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy54KGQsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy55KGQsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMud2lkdGgoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuaGVpZ2h0KGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgIGJhcnNcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy54KGQsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy55KGQsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMud2lkdGgoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuaGVpZ2h0KGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcblxyXG4gICAgcmV0dXJuIGJhckdyb3VwczsvL3JldHVybnMgdGhlIGJhciBjb250YWluZXJzXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nYW50dCA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUdhbnR0QmFycyA9IGdlbmVyYXRlR2FudHRCYXJzO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2V0R2FudHRMZWdlbmREYXRhID0gc2V0R2FudHRMZWdlbmREYXRhO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2V0R2FudHRBeGlzRGF0YSA9IHNldEdhbnR0QXhpc0RhdGE7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEdhbnR0IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRhXHJcbiAqIEBwYXJhbSBkYXRhVGFibGVcclxuICogQHBhcmFtIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBjaGFydC5zZXRHYW50dExlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LnNldEdhbnR0QXhpc0RhdGEoY2hhcnQsICd4Jyk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEdhbnR0QXhpc0RhdGEoY2hhcnQsICd5Jyk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEdhbnR0TGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IE9iamVjdC5rZXlzKGRhdGEuZGF0YVRhYmxlKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShbXCJzdGFydCBcIiArIGldKSkge1xyXG4gICAgICAgICAgICAvL2NoZWNrIHRvIG1ha2Ugc3VyZSBpdCBoYXMgYSBtYXRjaGluZyBlbmQgZGF0ZVxyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoW1wiZW5kIFwiICsgaV0pKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW1wic3RhcnQgXCIgKyBpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRHYW50dEF4aXNEYXRhKGNoYXJ0LCBheGlzKSB7XHJcbiAgICB2YXIgYXhpc0RhdGEgPSBbXSxcclxuICAgICAgICBkYXRhID0gY2hhcnQuZGF0YSxcclxuICAgICAgICBjaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVHlwZTtcclxuXHJcbiAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gZGF0YS5kYXRhVGFibGUuZ3JvdXA7XHJcbiAgICAgICAgZGF0YVR5cGUgPSAnREFURSc7XHJcblxyXG4gICAgICAgIHZhciBudW1CYXJzID0gZGF0YS5sZWdlbmREYXRhLmxlbmd0aDtcclxuICAgICAgICAvL0xvb3AgdGhyb3VnaCBkYXRhVGFibGUgYW5kIGFzc2lnbiBsYWJlbHMgYmFzZWQgb24gaG93IG1hbnkgZ3JvdXBzIHRoZXJlIGFyZVxyXG4gICAgICAgIHZhciB2YWx1ZUNvbnRhaW5lciA9IFtdO1xyXG4gICAgICAgIHZhbHVlQ29udGFpbmVyLnB1c2goZGF0YS5kYXRhVGFibGVbXCJzdGFydCAxXCJdKTtcclxuICAgICAgICB2YWx1ZUNvbnRhaW5lci5wdXNoKGRhdGEuZGF0YVRhYmxlW1wiZW5kIDFcIl0pO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgbnVtQmFyczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhbHVlQ29udGFpbmVyLnB1c2goZGF0YS5kYXRhVGFibGVbXCJzdGFydCBcIiArIChpICsgMSldKTtcclxuICAgICAgICAgICAgdmFsdWVDb250YWluZXIucHVzaChkYXRhLmRhdGFUYWJsZVtcImVuZCBcIiArIChpICsgMSldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vR2V0IGFsbCB0aGUgc3RhcnQgYW5kIGVuZCBkYXRlcyBhbmQgYWRkIHRoZW0gdG8gYXhpcyBkYXRhXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZUNvbnRhaW5lci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpaSA9IDA7IGlpIDwgY2hhcnREYXRhLmxlbmd0aDsgaWkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGF0YVtpaV1bdmFsdWVDb250YWluZXJbaV1dICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpaV1bdmFsdWVDb250YWluZXJbaV1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9BZGQgYW55IGF4aXMgZm9ybWF0dGluZyB0byB0aGlzIG9iamVjdCwgbmVlZCB0byB1c2Ugd2hlbiBwYWludGluZ1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnhBeGlzRm9ybWF0dGluZyA9IHt9O1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YVR5cGUgPSBcIlNUUklOR1wiO1xyXG4gICAgICAgIHZhciBsYWJlbCA9IGRhdGEuZGF0YVRhYmxlLmdyb3VwO1xyXG5cclxuICAgICAgICAvL0FkZCBhbnkgYXhpcyBmb3JtYXR0aW5nIHRvIHRoaXMgb2JqZWN0LCBuZWVkIHRvIHVzZSB3aGVuIHBhaW50aW5nXHJcbiAgICAgICAgY2hhcnQuX3ZhcnMueUF4aXNGb3JtYXR0aW5nID0ge307XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goY2hhcnREYXRhW2ldW2xhYmVsXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ2xhYmVsJzogbGFiZWwsXHJcbiAgICAgICAgJ3ZhbHVlcyc6IGF4aXNEYXRhLFxyXG4gICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcblxyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTtcclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWUF4aXMoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUdhbnR0QmFycycpO1xyXG4gICAgY2hhcnQuZHJhd0dyaWRsaW5lcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVHYW50dEJhcnMoY2hhcnQuY3VycmVudERhdGEpO1xyXG4gICAgaWYgKHR5cGVvZiBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUdhbnR0QmFycyhnYW50dERhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IGdhbnR0RGF0YS5jb2xvcixcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGdhbnR0RGF0YS55QXhpc0RhdGE7XHJcblxyXG4gICAgLy9SZW1vdmUgZXhpc3RpbmcgYmFycyBmcm9tIHBhZ2VcclxuICAgIHN2Zy5zZWxlY3RBbGwoXCJnLmJhci1jb250YWluZXJcIikucmVtb3ZlKCk7XHJcbiAgICB2YXIgYmFycyA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImJhci1jb250YWluZXJcIiksXHJcbiAgICAgICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID8gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA6IGdhbnR0RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGdhbnR0RGF0YU5ldyA9IGp2Q2hhcnRzLmdldFRvZ2dsZWREYXRhKGdhbnR0RGF0YSwgZGF0YUhlYWRlcnMpLFxyXG4gICAgICAgIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCBnYW50dERhdGEueEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKSxcclxuICAgICAgICB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgZ2FudHREYXRhLnlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyksXHJcbiAgICAgICAgc2FtcGxlRGF0YSA9IGdhbnR0RGF0YU5ldztcclxuXHJcbiAgICBjaGFydC5fdmFycy5yb3RhdGVBeGlzID0gdHJ1ZTtcclxuXHJcbiAgICB2YXIgbnVtQmFycyA9IGdhbnR0RGF0YS5sZWdlbmREYXRhLmxlbmd0aDtcclxuICAgIHZhciBnYW50dEJhcnMgPSBbXTtcclxuICAgIC8vY3JlYXRlIGFycmF5IG9mIHN0YXJ0IGRhdGVzIGFuZCBlbmQgZGF0ZXMgdG8gaXRlcmF0ZSB0aHJvdWdoXHJcbiAgICB2YXIgc3RhcnREYXRlcyA9IFtdO1xyXG4gICAgdmFyIGVuZERhdGVzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBudW1CYXJzOyBpKyspIHtcclxuICAgICAgICBzdGFydERhdGVzLnB1c2goY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlW1wic3RhcnQgXCIgKyBpXSk7XHJcbiAgICAgICAgZW5kRGF0ZXMucHVzaChjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGVbXCJlbmQgXCIgKyBpXSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG51bUJhcnM7IGlpKyspIHtcclxuICAgICAgICBnYW50dEJhcnNbaWldID0gYmFycy5zZWxlY3RBbGwoXCIuZ2FudHQtYmFyXCIgKyBpaSlcclxuICAgICAgICAgICAgLmRhdGEoc2FtcGxlRGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgLmFwcGVuZChcInJlY3RcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdhbnR0LWJhclwiICsgaWkpXHJcbiAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgeS5iYW5kd2lkdGgoKSAvIG51bUJhcnMpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRbc3RhcnREYXRlc1tpaV1dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgobmV3IERhdGUoZFtzdGFydERhdGVzW2lpXV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB5KGRbeUF4aXNEYXRhLmxhYmVsXSkgKyAoeS5iYW5kd2lkdGgoKSAvIG51bUJhcnMgKiBpaSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwicnhcIiwgMylcclxuICAgICAgICAgICAgLmF0dHIoXCJyeVwiLCAzKVxyXG4gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlVmFsID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlW1wiVHlwZVwiICsgKGlpICsgMSldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCAwLCBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzW2lpXSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIDAsIGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGFbaWldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcjtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICBnYW50dEJhcnNbaWldLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAuZHVyYXRpb24oNDAwKVxyXG4gICAgICAgICAgICAuZGVsYXkoMTAwKVxyXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSB4KG5ldyBEYXRlKGRbZW5kRGF0ZXNbaWldXSkpIC0geChuZXcgRGF0ZShkW3N0YXJ0RGF0ZXNbaWldXSkpOy8vKHgoZC5TdGFydERhdGUpIC0geChkLkVuZERhdGUpKTtcclxuICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhVG9QbG90ID0ganZDaGFydHMuZ2V0UGxvdERhdGEoZ2FudHREYXRhTmV3LCBjaGFydCk7XHJcbiAgICB2YXIgZXZlbnRHcm91cHMgPSBiYXJzLnNlbGVjdEFsbChcIi5ldmVudC1yZWN0XCIpXHJcbiAgICAgICAgLmRhdGEoZGF0YVRvUGxvdClcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJldmVudC1yZWN0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDApXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0IC8gZ2FudHREYXRhTmV3Lmxlbmd0aCAqIGk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIGNvbnRhaW5lci53aWR0aClcclxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmhlaWdodCAvIGdhbnR0RGF0YU5ldy5sZW5ndGg7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJ0cmFuc3BhcmVudFwiKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsMClcIik7XHJcbiAgICBldmVudEdyb3Vwc1xyXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvLyBUcmFuc2l0aW9ucyBpbiBEMyBkb24ndCBzdXBwb3J0IHRoZSAnb24nIGZ1bmN0aW9uIFRoZXkgb25seSBleGlzdCBvbiBzZWxlY3Rpb25zLiBTbyBuZWVkIHRvIG1vdmUgdGhhdCBldmVudCBsaXN0ZW5lciBhYm92ZSB0cmFuc2l0aW9uIGFuZCBhZnRlciBhcHBlbmRcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdmFyIGRhdGVEYXRhID0gW2N1cnJlbnREYXRlXTtcclxuICAgIC8vRHJhd3MgYSBsaW5lIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBkYXRlXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiLmN1cnJlbnREYXRlTGluZVwiKVxyXG4gICAgICAgIC5kYXRhKGRhdGVEYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZChcImxpbmVcIilcclxuICAgICAgICAuYXR0cihcIngxXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ4MlwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geChkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieTFcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiMHB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInkyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjdXJyZW50RGF0ZUxpbmVcIilcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBjaGFydC5fdmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgY2hhcnQuX3ZhcnMuU1RST0tFX1dJRFRIKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLWRhc2hhcnJheVwiLCAoXCIzLCAzXCIpKTtcclxuXHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5jdXJyZW50RGF0ZUxhYmVsXCIpXHJcbiAgICAgICAgLmRhdGEoZGF0ZURhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgdmFyIGRkID0gdG9kYXkuZ2V0RGF0ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbW0gPSB0b2RheS5nZXRNb250aCgpICsgMTsgLy9KYW51YXJ5IGlzIDAhXHJcblxyXG4gICAgICAgICAgICB2YXIgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgIGlmIChkZCA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICBkZCA9ICcwJyArIGRkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1tIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIG1tID0gJzAnICsgbW1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdG9kYXkgPSBtbSArICcvJyArIGRkICsgJy8nICsgeXl5eTtcclxuICAgICAgICAgICAgcmV0dXJuIHRvZGF5O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIi0xMHB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5oZWF0bWFwID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlSGVhdE1hcCA9IGdlbmVyYXRlSGVhdE1hcDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogSGVhdE1hcCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuZnVuY3Rpb24gcXVhbnRpemVkKGNoYXJ0LCBtaW4sIG1heCkge1xyXG4gICAgdmFyIGJ1Y2tldENvdW50ID0gY2hhcnQuX3ZhcnMuYnVja2V0cztcclxuICAgIHZhciBzZWN0aW9uVmFsdWUgPSAobWF4IC0gbWluKSAvIGJ1Y2tldENvdW50O1xyXG4gICAgdmFyIHF1YW50aXplZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldENvdW50OyBpKyspIHtcclxuICAgICAgICBxdWFudGl6ZWRBcnJheVtpXSA9IG1pbiArIGkgKiBzZWN0aW9uVmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcXVhbnRpemVkQXJyYXk7XHJcbn1cclxuXHJcbi8qKnNldEhlYXRNYXBEYXRhXHJcbiAqICBnZXRzIGhlYXRtYXAgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIGF4aXNOYW1lcyA9IHNldEhlYXRBeGlzTmFtZXMoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IGF4aXNOYW1lcy54QXhpc0RhdGE7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGF4aXNOYW1lcy55QXhpc0RhdGE7XHJcbiAgICBjaGFydC5kYXRhLnByb2Nlc3NlZERhdGEgPSBzZXRQcm9jZXNzZWREYXRhKGNoYXJ0LmRhdGEsIGNoYXJ0LmRhdGEueEF4aXNEYXRhLnZhbHVlcywgY2hhcnQuZGF0YS55QXhpc0RhdGEudmFsdWVzKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLnhBeGlzRGF0YS52YWx1ZXMsIGNoYXJ0LmNvbG9ycyk7XHJcbiAgICBjaGFydC5kYXRhLmhlYXREYXRhID0gc2V0SGVhdG1hcExlZ2VuZERhdGEoY2hhcnQsIGNoYXJ0LmRhdGEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRIZWF0bWFwTGVnZW5kRGF0YShjaGFydCwgZGF0YSkge1xyXG4gICAgdmFyIGhlYXREYXRhO1xyXG4gICAgdmFyIGJ1Y2tldE1hcHBlciA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF07XHJcbiAgICB2YXIgYnVja2V0Q291bnQ7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvcnMgPSBvcmdhbml6ZUNvbG9ycyhjaGFydCk7XHJcblxyXG4gICAgZGF0YS5oZWF0U2NvcmVzLnNvcnQoZnVuY3Rpb24oYSwgYikge1xyXG4gICAgICAgIHJldHVybiBhIC0gYjtcclxuICAgIH0pO1xyXG5cclxuICAgIGNoYXJ0LmRhdGEuY29sb3JTY2FsZSA9IGQzLnNjYWxlUXVhbnRpbGUoKVxyXG4gICAgICAgIC5kb21haW4oZGF0YS5oZWF0U2NvcmVzKVxyXG4gICAgICAgIC5yYW5nZShjaGFydC5fdmFycy5jb2xvcnMpO1xyXG5cclxuICAgIGlmIChjaGFydC5fdmFycy5xdWFudGlsZXMgPT09IHRydWUpIHtcclxuICAgICAgICB2YXIgdGVtcCA9IGNoYXJ0LmRhdGEuY29sb3JTY2FsZS5xdWFudGlsZXMoKTtcclxuICAgICAgICBpZih0ZW1wWzBdID09PSAwKXtcclxuICAgICAgICAgICAgaGVhdERhdGEgPSBjaGFydC5kYXRhLmNvbG9yU2NhbGUucXVhbnRpbGVzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaGVhdERhdGEgPSBbMF0uY29uY2F0KGNoYXJ0LmRhdGEuY29sb3JTY2FsZS5xdWFudGlsZXMoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBidWNrZXRDb3VudCA9IGJ1Y2tldE1hcHBlcltjaGFydC5fdmFycy5idWNrZXRzIC0gMV07XHJcbiAgICAgICAgaGVhdERhdGEgPSBxdWFudGl6ZWQoY2hhcnQsIGRhdGEuaGVhdFNjb3Jlc1swXSwgZGF0YS5oZWF0U2NvcmVzW2RhdGEuaGVhdFNjb3Jlcy5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBoZWF0RGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3JnYW5pemVDb2xvcnMoY2hhcnQpIHtcclxuICAgIHZhciBjb2xvclNlbGVjdGVkQnVja2V0ID0gW107XHJcbiAgICBmb3IgKHZhciBjIGluIGNoYXJ0Ll92YXJzLmNvbG9ycykge1xyXG4gICAgICAgIGNvbG9yU2VsZWN0ZWRCdWNrZXQucHVzaChjaGFydC5fdmFycy5jb2xvcnNbY10pO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzVmFsdWUgPSBjaGFydC5fdmFycy5idWNrZXRzO1xyXG4gICAgdmFyIG5ld0NvbG9ycyA9IFtdO1xyXG4gICAgdmFyIGJ1Y2tldE1hcHBlciA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF07XHJcbiAgICB2YXIgYnVja2V0Q291bnQgPSBidWNrZXRNYXBwZXJbc1ZhbHVlIC0gMV07XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldENvdW50OyBpKyspIHtcclxuICAgICAgICBpZiAoaSA+PSBidWNrZXRDb3VudCAvIDIpIHtcclxuICAgICAgICAgICAgbmV3Q29sb3JzW2ldID0gY29sb3JTZWxlY3RlZEJ1Y2tldFtNYXRoLnJvdW5kKChpICsgMSkgLyBidWNrZXRDb3VudCAqIDIwKSAtIDFdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld0NvbG9yc1tpXSA9IGNvbG9yU2VsZWN0ZWRCdWNrZXRbTWF0aC5yb3VuZCgoaSkgLyBidWNrZXRDb3VudCAqIDIwKV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGNvbG9ycyA9IG5ld0NvbG9ycy5zbGljZSgwKTtcclxuICAgIHJldHVybiBjb2xvcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEhlYXRBeGlzTmFtZXMoZGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0RGF0YSA9IGRhdGEuY2hhcnREYXRhO1xyXG4gICAgdmFyIHhBeGlzTmFtZSA9IGRhdGEuZGF0YVRhYmxlLng7XHJcbiAgICB2YXIgeUF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueTtcclxuICAgIHZhciB4QXhpc0FycmF5ID0gW107XHJcbiAgICB2YXIgeUF4aXNBcnJheSA9IFtdO1xyXG4gICAgdmFyIHJldHVybk9iaiA9IHt9O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgPT09ICd4Jykge1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhID0ge307XHJcbiAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEuZGF0YVR5cGUgPSBkYXRhLmRhdGFUYWJsZUtleXNbaV0udHlwZTtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5sYWJlbCA9IGRhdGEuZGF0YVRhYmxlLng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZUtleXNbaV0udml6VHlwZSA9PT0gJ3knKSB7XHJcbiAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEgPSB7fTtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5kYXRhVHlwZSA9IGRhdGEuZGF0YVRhYmxlS2V5c1tpXS50eXBlO1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLmxhYmVsID0gZGF0YS5kYXRhVGFibGUueTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoeEF4aXNBcnJheS5pbmRleE9mKGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgeEF4aXNBcnJheS5wdXNoKGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdKTtcclxuICAgICAgICAgICAgLy9UT0RPIG1ha2UgaW50byAxIGZ1bmN0aW9uIGZvciBtaW4gbWF4Li4uIHdhc3RlIG9mIHNwYWNlXHJcbiAgICAgICAgICAgIGlmIChyZXR1cm5PYmoueEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgLy9wdXNoIG1pbiBhbmQgbWF4IGluZm9cclxuICAgICAgICAgICAgICAgIGlmICghcmV0dXJuT2JqLnhBeGlzRGF0YS5taW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhLm1pbiA9IGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1beEF4aXNOYW1lXSA8IHJldHVybk9iai54QXhpc0RhdGEubWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5taW4gPSBjaGFydERhdGFbaV1beEF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldHVybk9iai54QXhpc0RhdGEubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5tYXggPSBjaGFydERhdGFbaV1beEF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW3hBeGlzTmFtZV0gPCByZXR1cm5PYmoueEF4aXNEYXRhLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEubWF4ID0gY2hhcnREYXRhW2ldW3hBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHlBeGlzQXJyYXkuaW5kZXhPZihjaGFydERhdGFbaV1beUF4aXNOYW1lXSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHlBeGlzQXJyYXkucHVzaChjaGFydERhdGFbaV1beUF4aXNOYW1lXSk7XHJcbiAgICAgICAgICAgIGlmIChyZXR1cm5PYmoueUF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgLy9wdXNoIG1pbiBhbmQgbWF4IGluZm9cclxuICAgICAgICAgICAgICAgIGlmICghcmV0dXJuT2JqLnlBeGlzRGF0YS5taW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLm1pbiA9IGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1beUF4aXNOYW1lXSA8IHJldHVybk9iai55QXhpc0RhdGEubWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5taW4gPSBjaGFydERhdGFbaV1beUF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldHVybk9iai55QXhpc0RhdGEubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5tYXggPSBjaGFydERhdGFbaV1beUF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW3lBeGlzTmFtZV0gPCByZXR1cm5PYmoueUF4aXNEYXRhLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEubWF4ID0gY2hhcnREYXRhW2ldW3lBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm5PYmoueEF4aXNEYXRhLnZhbHVlcyA9IHhBeGlzQXJyYXk7XHJcbiAgICByZXR1cm5PYmoueUF4aXNEYXRhLnZhbHVlcyA9IHlBeGlzQXJyYXk7XHJcblxyXG4gICAgcmV0dXJuIHJldHVybk9iajtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0UHJvY2Vzc2VkRGF0YShkYXRhLCB4QXhpc0FycmF5LCB5QXhpc0FycmF5KSB7XHJcbiAgICB2YXIgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGE7XHJcbiAgICB2YXIgeEF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueDtcclxuICAgIHZhciB5QXhpc05hbWUgPSBkYXRhLmRhdGFUYWJsZS55O1xyXG4gICAgdmFyIGhlYXQgPSBkYXRhLmRhdGFUYWJsZS5oZWF0O1xyXG4gICAgdmFyIGRhdGFBcnJheSA9IFtdO1xyXG4gICAgZGF0YS5oZWF0U2NvcmVzID0gW107XHJcbiAgICAgICAgLypBc3NpZ24gZWFjaCBuYW1lIGEgbnVtYmVyIGFuZCBwbGFjZSBtYXRyaXggY29vcmRpbmF0ZXMgaW5zaWRlIG9mIGRhdGFBcnJheSAqL1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBkYXRhQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgIHZhbHVlOiBjaGFydERhdGFbaV1baGVhdF0sXHJcbiAgICAgICAgICAgIHhBeGlzTmFtZTogY2hhcnREYXRhW2ldW3hBeGlzTmFtZV0sXHJcbiAgICAgICAgICAgIHlBeGlzTmFtZTogY2hhcnREYXRhW2ldW3lBeGlzTmFtZV1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL1RoaXMgYXJyYXkgc3RvcmVzIHRoZSB2YWx1ZXMgYXMgbnVtYmVyc1xyXG4gICAgICAgIGRhdGEuaGVhdFNjb3Jlcy5wdXNoKGNoYXJ0RGF0YVtpXVtoZWF0XSk7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB4QXhpc0FycmF5Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmICh4QXhpc0FycmF5W2pdID09PSBkYXRhQXJyYXlbaV0ueEF4aXNOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhQXJyYXlbaV0ueEF4aXMgPSBqO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB5QXhpc0FycmF5Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmICh5QXhpc0FycmF5W2pdID09PSBkYXRhQXJyYXlbaV0ueUF4aXNOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhQXJyYXlbaV0ueUF4aXMgPSBqO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YUFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG4gICAgdmFyIGN1c3RvbU1hcmdpbiA9IHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDQwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgYm90dG9tOiAyMFxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIGN1c3RvbU1hcmdpbik7XHJcbiAgICAvL2NoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUhlYXRNYXAnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlSGVhdE1hcCgpO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZUhlYXRNYXBcclxuICpcclxuICogcGFpbnRzIHRoZSBIZWF0TWFwIG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIEhlYXRNYXBEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUhlYXRNYXAoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcnMsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBtaW5Db250YWluZXIgPSAzMDAsXHJcbiAgICAgICAgcXVhbnRpbGVzID0gY2hhcnQuX3ZhcnMucXVhbnRpbGVzLFxyXG4gICAgICAgIGRhdGEgPSBjaGFydC5kYXRhLnByb2Nlc3NlZERhdGEsXHJcbiAgICAgICAgdG9nZ2xlTGVnZW5kID0gIWNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCxcclxuICAgICAgICBoZWF0TWFwRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLFxyXG4gICAgICAgIGdyaWRTaXplID0gY2hhcnQuX3ZhcnMuaGVhdEdyaWRTaXplLFxyXG4gICAgICAgIGxlZ2VuZFNwYWNpbmcgPSBjaGFydC5fdmFycy5oZWF0TGVnZW5kU3BhY2luZztcclxuXHJcbiAgICB2YXIgZGl2ID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0b29sdGlwJylcclxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKTtcclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwwKScpLmF0dHIoJ2NsYXNzJywgJ2hlYXRtYXAnKTtcclxuXHJcbiAgICB2YXIgeUF4aXNUaXRsZSA9IHZpcy5zZWxlY3RBbGwoJy5oZWF0bWFwJylcclxuICAgICAgICAuZGF0YShbaGVhdE1hcERhdGEuZGF0YVRhYmxlLnldKTtcclxuXHJcbiAgICB5QXhpc1RpdGxlLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpc0xhYmVscyBib2xkJylcclxuICAgICAgICAuYXR0cigneCcsIC0yMSlcclxuICAgICAgICAuYXR0cigneScsIC01KVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgtJyArIChjaGFydC5fdmFycy5oZWF0bWFwWW1hcmdpbisxMCkgKyAnLCcgKyAwICsgJylyb3RhdGUoLTkwKSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB5QXhpc1RpdGxlLmV4aXQoKS5yZW1vdmUoKTtcclxuICAgIHZhciBmb3JtYXRUeXBlID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLnZhbHVlcywgY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLmRhdGFUeXBlKTtcclxuXHJcbiAgICB2YXIgeUF4aXMgPSB2aXMuc2VsZWN0QWxsKCcueEF4aXMnKVxyXG4gICAgICAgIC5kYXRhKGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdzdmc6ZycpO1xyXG5cclxuICAgIHlBeGlzLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgdmFyIHN0ciA9IGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VHlwZSk7XHJcbiAgICAgICAgICAgIGlmKHN0ci5sZW5ndGggPiAxNSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwxNCkrJy4uLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXHJcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgtNiwnICsgZ3JpZFNpemUgLyAxLjUgKyAnKScpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuICdyb3dMYWJlbCBwb2ludGVyJzsgfSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWludCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmKGQgPT09IGNoYXJ0Ll92YXJzLnNlbGVjdGVkWCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMuc2VsZWN0ZWRYID0gJyc7XHJcbiAgICAgICAgICAgICAgICBwYWludCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMuc2VsZWN0ZWRYID0gZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9mYWRlIGFsbCByZWN0cyBleGNlcHQgaW4gdGhpcyByb3dcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLnZhbHVlc1tpXSA9PT0gZCAmJiBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyLnlBeGlzICE9IGkgJiYgcGFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgeUF4aXMuYXBwZW5kKCd0aXRsZScpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIHhBeGlzVGl0bGUgPSB2aXMuc2VsZWN0QWxsKCcueEF4aXNUaXRsZScpXHJcbiAgICAgICAgLmRhdGEoW2hlYXRNYXBEYXRhLmRhdGFUYWJsZS54XSk7XHJcblxyXG4gICAgeEF4aXNUaXRsZS5lbnRlcigpLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNMYWJlbHMgYm9sZCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCA2KVxyXG4gICAgICAgIC5hdHRyKCd5JywgOSlcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIDAgKyAnLCAtJyArIChjaGFydC5fdmFycy5oZWF0bWFwWG1hcmdpbi0xMCkgKycpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHhBeGlzVGl0bGUuZXhpdCgpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciB4QXhpcyA9IHZpcy5zZWxlY3RBbGwoJy54QXhpcycpXHJcbiAgICAgICAgLmRhdGEoaGVhdE1hcERhdGEueEF4aXNEYXRhLnZhbHVlcylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3N2ZzpnJyk7XHJcblxyXG4gICAgZm9ybWF0VHlwZSA9IGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWVUeXBlKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXMsIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS5kYXRhVHlwZSk7XHJcblxyXG4gICAgeEF4aXMuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICB2YXIgc3RyID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZShkLCBmb3JtYXRUeXBlKTtcclxuICAgICAgICAgICAgaWYoc3RyLmxlbmd0aCA+IDE1KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLDE0KSsnLi4uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCA2KVxyXG4gICAgICAgIC5hdHRyKCd5JywgNylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gJ2NvbExhYmVsIHBvaW50ZXInOyB9KVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgKChpICogZ3JpZFNpemUpKSArICcsIC02KXJvdGF0ZSgtNDUpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd0aXRsZScsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAvL3JlbW92aW5nIHN0eWxpbmdcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcucm93TGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuY29sTGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1ib3JkZXInLCBmYWxzZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgdmFyIHBhaW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYoZCA9PT0gY2hhcnQuX3ZhcnMuc2VsZWN0ZWRYKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5zZWxlY3RlZFggPSAnJztcclxuICAgICAgICAgICAgICAgIHBhaW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5zZWxlY3RlZFggPSBkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vZmFkZSBhbGwgcmVjdHMgZXhjZXB0IGluIHRoaXMgY29sdW1uXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXNbaV0gPT09IGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIueEF4aXMgIT09IGkgJiYgcGFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB4QXhpcy5hcHBlbmQoJ3RpdGxlJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgd2lkdGggPSBoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAqIGdyaWRTaXplO1xyXG4gICAgdmFyIGhlaWdodCA9IGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICogZ3JpZFNpemU7XHJcbiAgICB2YXIgZm9ybWF0VmFsdWVUeXBlID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUoY2hhcnQuZGF0YS5oZWF0RGF0YSk7XHJcblxyXG4gICAgLy92ZXJ0aWNhbCBsaW5lc1xyXG4gICAgdmFyIHZMaW5lID0gdmlzLnNlbGVjdEFsbCgnLnZsaW5lJylcclxuICAgICAgICAuZGF0YShkMy5yYW5nZShoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aCArIDEpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcik7XHJcblxyXG4gICAgLy9ob3Jpem9udGFsIGxpbmVzXHJcbiAgICB2YXIgaExpbmUgPSB2aXMuc2VsZWN0QWxsKCcuaGxpbmUnKVxyXG4gICAgICAgIC5kYXRhKGQzLnJhbmdlKGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICsgMSkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCBjaGFydC5fdmFycy5heGlzQ29sb3IpO1xyXG5cclxuICAgIHZhciBoZWF0TWFwID0gdmlzLnNlbGVjdEFsbCgnLmhlYXQnKVxyXG4gICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZC54QXhpcykgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChkLnlBeGlzKSAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3J4JywgMilcclxuICAgICAgICAuYXR0cigncnknLCAyKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdoZWF0JylcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBncmlkU2l6ZSAtIDEpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGdyaWRTaXplIC0gMSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAocXVhbnRpbGVzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZG9tYWluQXJyYXkubGVuZ3RoID09PSAwIHx8IChkLnZhbHVlID49IGNoYXJ0Ll92YXJzLmRvbWFpbkFycmF5WzBdICYmIGQudmFsdWUgPD0gY2hhcnQuX3ZhcnMuZG9tYWluQXJyYXlbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0LmRhdGEuY29sb3JTY2FsZShkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnd2hpdGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5kb21haW5BcnJheS5sZW5ndGggPT0gMCB8fCAoZC52YWx1ZSA+PSBjaGFydC5fdmFycy5kb21haW5BcnJheVswXSAmJiBkLnZhbHVlIDw9IGNoYXJ0Ll92YXJzLmRvbWFpbkFycmF5WzFdKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFF1YW50aXplZENvbG9yKGNoYXJ0LmRhdGEuaGVhdERhdGEsIGQudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnd2hpdGUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgIHRpcERhdGEuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yU2NhbGUoZC52YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAvL0RyYXcgdGlwXHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIC8vcmVtb3Zpbmcgc3R5bGluZ1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5yb3dMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5jb2xMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWJvcmRlcicsIGZhbHNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAvL2JvcmRlciBhcm91bmQgc2VsZWN0ZWQgcmVjdFxyXG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcykuY2xhc3NlZCgncmVjdC1ib3JkZXInLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vRmFkZSByb3cgbGFiZWxzXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmdW5jdGlvbiAociwgcmkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKHJpID09IChkLnlBeGlzKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2ZhZGUgY29sdW1uIGxhYmVsc1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5jb2xMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShyaSA9PSAoZC54QXhpcykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9mYWRlIGFsbCByZWN0cyBleGNlcHQgc2VsZWN0ZWRcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoci55QXhpcyAhPSBkLnlBeGlzIHx8IHIueEF4aXMgIT0gZC54QXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBcclxuICAgIGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdChcInN2Zy5oZWF0TGVnZW5kXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGlmICh0b2dnbGVMZWdlbmQpIHtcclxuICAgICAgICB2YXIgbGVnZW5kQ29udGFpbmVyID0gY2hhcnQuY2hhcnREaXYuYXBwZW5kKCdzdmcnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3RvcCcsIGNoYXJ0LmNvbmZpZy5tYXJnaW4udG9wICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKCdiYWNrZ3JvdW5kJywgY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnaGVhdExlZ2VuZCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNoYXJ0LmNvbmZpZy5oZWF0V2lkdGgpO1xyXG5cclxuICAgICAgICB2YXIgbGVnZW5kID0gbGVnZW5kQ29udGFpbmVyLnNlbGVjdEFsbCgnLmxlZ2VuZCcpXHJcbiAgICAgICAgICAgIC5kYXRhKGNoYXJ0LmRhdGEuaGVhdERhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGdyaWRTaXplICsgbGVnZW5kU3BhY2luZztcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBoZWlnaHQgKiBjaGFydC5kYXRhLmNvbG9yU2NhbGUuZG9tYWluKCkubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgICAgIHZhciBob3J6ID0gLTIgKiBncmlkU2l6ZTtcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ID0gaSAqIGhlaWdodCAtIG9mZnNldDtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyAwICsgJywnICsgKGdyaWRTaXplICogaSkgKyAnKSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGdyaWRTaXplKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgZ3JpZFNpemUpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JzW2ldO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIC8vcmVtb3Zpbmcgc3R5bGluZ1xyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ2RibGNsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIC8vcmVtb3Zpbmcgc3R5bGluZ1xyXG4gICAgICAgICAgICAgICAgLy9mYWRlIGFsbCByZWN0cyBleGNlcHQgc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyLnZhbHVlIDwgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxlZ2VuZC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kVGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZ3JpZFNpemUgKyBsZWdlbmRTcGFjaW5nKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIGdyaWRTaXplIC0gbGVnZW5kU3BhY2luZylcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgY2hhcnQuX3ZhcnMuYmxhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFF1YW50aXplZENvbG9yKHF1YW50aXplZEFycmF5LCB2YWx1ZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcXVhbnRpemVkQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgcXVhbnRpemVkQXJyYXlbaV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcnNbaSAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xvcnNbcXVhbnRpemVkQXJyYXkubGVuZ3RoIC0gMV07XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcblxyXG5cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5saW5lID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlTGluZSA9IGdlbmVyYXRlTGluZTtcclxuanZDaGFydHMucHJvdG90eXBlLnNldExpbmVUaHJlc2hvbGREYXRhID0gc2V0TGluZVRocmVzaG9sZERhdGE7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIExpbmUgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldExpbmVEYXRhXHJcbiAqICBnZXRzIGxpbmUgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgLy9zb3J0IGNoYXJ0IGRhdGEgaWYgdGhlcmUgaXMgYSBzb3J0IHR5cGUgYW5kIGxhYmVsIGluIHRoZSBfdmFyc1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnNvcnRUeXBlKSB7XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNvcnRMYWJlbCAmJiBjaGFydC5fdmFycy5zb3J0VHlwZSAhPT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0Lm9yZ2FuaXplQ2hhcnREYXRhKGNoYXJ0Ll92YXJzLnNvcnRMYWJlbCwgY2hhcnQuX3ZhcnMuc29ydFR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldEJhckxpbmVMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneCcsIGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS55QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneScsIGNoYXJ0LmRhdGEpO1xyXG5cclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufTtcclxuXHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnICYmIGl0ZW0uaW5kZXhPZigndG9vbHRpcCcpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZVtpdGVtXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuLyoqcGFpbnRMaW5lQ2hhcnRcclxuICpcclxuICogVGhlIGluaXRpYWwgc3RhcnRpbmcgcG9pbnQgZm9yIGxpbmUgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgLy9Vc2VzIHRoZSBvcmlnaW5hbCBkYXRhIGFuZCB0aGVuIG1hbmlwdWxhdGVzIGl0IGJhc2VkIG9uIGFueSBleGlzdGluZyBvcHRpb25zXHJcbiAgICB2YXIgZGF0YU9iaiA9IGNoYXJ0LmdldEJhckRhdGFGcm9tT3B0aW9ucygpO1xyXG5cclxuICAgIC8vYXNzaWduIGN1cnJlbnQgZGF0YSB3aGljaCBpcyB1c2VkIGJ5IGFsbCBiYXIgY2hhcnQgb3BlcmF0aW9uc1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG4gICAgXHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoZGF0YU9iai5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoZGF0YU9iai54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVZQXhpcyhkYXRhT2JqLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChkYXRhT2JqLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUxpbmUnKTtcclxuICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcnQuZ2VuZXJhdGVMaW5lKGRhdGFPYmopO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZUxpbmVcclxuICpcclxuICogUGFpbnRzIHRoZSBsaW5lc1xyXG4gKiBAcGFyYW1zIGxpbmVEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUxpbmUobGluZURhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnO1xyXG5cclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLmxpbmUtY29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICB2YXIgbGluZXMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluZS1jb250YWluZXInKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cnKTtcclxuXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBsaW5lRGF0YS5sZWdlbmREYXRhO1xyXG5cclxuICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycztcclxuICAgIH0gZWxzZSBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbGluZURhdGFOZXcgPSBqdkNoYXJ0cy5nZXRUb2dnbGVkRGF0YShsaW5lRGF0YSwgZGF0YUhlYWRlcnMpO1xyXG5cclxuICAgIC8vSWYgaXQncyBhbiBhcmVhIGNoYXJ0LCBhZGQgdGhlIGFyZWFcclxuICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgY2hhcnQuZmlsbEFyZWEobGluZURhdGFOZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlTGluZUdyb3VwcyhsaW5lcywgbGluZURhdGFOZXcsIGNoYXJ0KTtcclxuICAgIHZhciBldmVudEdyb3VwcyA9IGp2Q2hhcnRzLmdlbmVyYXRlRXZlbnRHcm91cHMobGluZXMsIGxpbmVEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXBcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLnRpcC1saW5lJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY2hhcnQuZGlzcGxheVZhbHVlcygpO1xyXG4gICAgLy8gY2hhcnQuZ2VuZXJhdGVDbGlwUGF0aCgpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVMaW5lVGhyZXNob2xkKCk7XHJcblxyXG4gICAgcmV0dXJuIGxpbmVzO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZUxpbmVHcm91cHNcclxuICpcclxuICogUGFpbnRzIHRoZSBncm91cHMgb2YgdGhlIGxpbmVzXHJcbiAqIEBwYXJhbXMgY2hhcnRDb250YWluZXIsIGJhckRhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUxpbmVHcm91cHMobGluZUNvbnRhaW5lciwgbGluZURhdGEsIGNoYXJ0KSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yLFxyXG4gICAgICAgIGxpbmVzLFxyXG4gICAgICAgIGxpbmVMZW5ndGggPSBsaW5lRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgbGVnZW5kTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGg7XHJcblxyXG4gICAgLy9HZXQgUG9zaXRpb24gQ2FsY3VsYXRpb25zXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycywgJ25vLXBhZGRpbmcnKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzLCAnbm8tcGFkZGluZycpO1xyXG5cclxuICAgIHZhciB4VHJhbnNsYXRlLFxyXG4gICAgICAgIHlUcmFuc2xhdGU7XHJcblxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPT09IHRydWUpIHtcclxuICAgICAgICB4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGQgPT09ICcnICkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHgoJ0VNUFRZX1NUUklORycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgeVRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeShsaW5lRGF0YVtpXVt5QXhpc0RhdGEubGFiZWxdKSkgKyAoY29udGFpbmVyLmhlaWdodCAvIChsaW5lTGVuZ3RoKSAvIDIpOy8vKyBjb250YWluZXIuaGVpZ2h0IC8gKGxpbmVMZW5ndGgpIC8gMiAgLSB5LnBhZGRpbmdJbm5lcigpKTtcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGxpbmVEYXRhW2ldW3hBeGlzRGF0YS5sYWJlbF0gPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdID0gJ0VNUFRZX1NUUklORyc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICh4KGxpbmVEYXRhW2ldW3hBeGlzRGF0YS5sYWJlbF0pKSArIChjb250YWluZXIud2lkdGggLyAobGluZUxlbmd0aCkgLyAyKTsvLysgY29udGFpbmVyLndpZHRoIC8gKGxpbmVMZW5ndGgpIC8gMiAtIHgucGFkZGluZ0lubmVyKCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgeVRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5KGQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy9BcHBlbmQgbGluZXMgYW5kIGNpcmNsZXNcclxuXHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGxlZ2VuZExlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhcnQuX3ZhcnMubGVnZW5kT3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHsvL0FjY291bnRpbmcgZm9yIGxlZ2VuZCB0b2dnbGVzXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kT3B0aW9uc1trXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Eb24ndCB3cml0ZSBhbnl0aGluZyB0byBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vV3JpdGUgc29tZXRoaW5nIHRvIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2gocGFyc2VGbG9hdChsaW5lRGF0YVtpXVtsZWdlbmREYXRhW2tdXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ICAgICAgICAgICAgZWxzZSB7Ly9Jbml0aWFsIGNyZWF0aW9uIG9mIHZpc3VhbGl6YXRpb24gdy9vIGxlZ2VuZCBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtsZWdlbmREYXRhW2tdXS5sZW5ndGggPCBsaW5lTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcubGluZXMnKS5yZW1vdmUoKTtcclxuICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy5saW5lJykucmVtb3ZlKCk7XHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcuY2lyY2xlJykucmVtb3ZlKCk7XHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcjbGluZS1ncmFkaWVudCcpLnJlbW92ZSgpO1xyXG5cclxuICAgIGxpbmVzID0gY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLmxpbmUtY29udGFpbmVyJyk7XHJcblxyXG4gICAgLy9jdXJ2ZXMgb2JqZWN0XHJcbiAgICB2YXIgY3VydmVzID0ge1xyXG4gICAgICAgICdMaW5lYXInOiBkMy5jdXJ2ZUxpbmVhcixcclxuICAgICAgICAnU3RlcCc6IGQzLmN1cnZlU3RlcCxcclxuICAgICAgICAnU3RlcCBCZWZvcmUnOiBkMy5jdXJ2ZVN0ZXBCZWZvcmUsXHJcbiAgICAgICAgJ1N0ZXAgQWZ0ZXInOiBkMy5jdXJ2ZVN0ZXBBZnRlcixcclxuICAgICAgICAnQmFzaXMnOiBkMy5jdXJ2ZUJhc2lzLFxyXG4gICAgICAgICdDYXJkaW5hbCc6IGQzLmN1cnZlQ2FyZGluYWwsXHJcbiAgICAgICAgJ01vbm90b25lIFgnOiBkMy5jdXJ2ZU1vbm90b25lWCxcclxuICAgICAgICAnQ2F0bXVsbCBSb20nOiBkMy5jdXJ2ZUNhdG11bGxSb21cclxuICAgIH07XHJcblxyXG4gICAgdmFyIHZhbHVlbGluZSA9IHt9O1xyXG4gICAgdmFyIGNpcmNsZXMgPSB7fTtcclxuICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICB2YXIgbGluZUNvbG9ycyA9IFtdO1xyXG4gICAgdmFyIHRocmVzaG9sZGluZyA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIgayBpbiBkYXRhKSB7XHJcbiAgICAgICAgLy9DcmVhdGUgcGF0aCBnZW5lcmF0b3IgZm9yIGVhY2ggc2VyaWVzXHJcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoaykpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFba10gPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhW2tdID0gJ0VNUFRZX1NUUklORyc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhbHVlbGluZVtrXSA9IGQzLmxpbmUoKS8vbGluZSBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAuY3VydmUoY3VydmVzW2NoYXJ0Ll92YXJzLmxpbmVDdXJ2ZVR5cGVdKVxyXG4gICAgICAgICAgICAgICAgLngoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geVRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vQWRkIGxpbmVzIHRvIHRoZSBsaW5lLWNvbnRhaW5lclxyXG4gICAgICAgICAgICBsaW5lc1xyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluZSAnICsgKGspKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgncGF0aCcpLy9kcmF3cyB0aGUgbGluZVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yT2JqID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgayk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGluZUNvbG9ycy5wdXNoKGNvbG9yT2JqKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JPYmo7XHJcbiAgICAgICAgICAgICAgICB9KSAgIC8vZmlsbHMgdGhlIGJhciB3aXRoIGNvbG9yXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgJzInKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIHZhbHVlbGluZVtrXShkYXRhW2tdKSk7XHJcblxyXG4gICAgICAgICAgICAvL0NvbG9yIFRocmVzaG9sZGluZyBmb3IgZWFjaCB0aWVyXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy50aHJlc2hvbGRzICE9ICdub25lJyAmJiBjaGFydC5fdmFycy5jb2xvckNoYXJ0ICE9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuY29sb3JMaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZFBlcmNlbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZExlbmd0aCA9IE9iamVjdC5rZXlzKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMpLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6ZXJvID0geyBwZXJjZW50OiAwLCBjb2xvcjogbGluZUNvbG9yc1tpbmRleF0gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkUGVyY2VudHMucHVzaCh6ZXJvKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgdGhyZXNob2xkTGVuZ3RoOyB6KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwQ2VudCA9ICgoY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XS50aHJlc2hvbGQpICogMTAwKSAvICh4QXhpc0RhdGEubWF4IC0geEF4aXNEYXRhLm1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHsgcGVyY2VudDogcENlbnQsIGNvbG9yOiBjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZENvbG9yIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRQZXJjZW50cy5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHplcm8gPSB7IHBlcmNlbnQ6IDAsIGNvbG9yOiBsaW5lQ29sb3JzW2luZGV4XSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRQZXJjZW50cy5wdXNoKHplcm8pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCB0aHJlc2hvbGRMZW5ndGg7IHorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBDZW50ID0gKChjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZCkgKiAxMDApIC8gKHlBeGlzRGF0YS5tYXggLSB5QXhpc0RhdGEubWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0geyBwZXJjZW50OiBwQ2VudCwgY29sb3I6IGNoYXJ0Ll92YXJzLnRocmVzaG9sZHNbel0udGhyZXNob2xkQ29sb3IgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZFBlcmNlbnRzLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkRGF0YSA9IGNoYXJ0LnNldExpbmVUaHJlc2hvbGREYXRhKGNoYXJ0LCB0aHJlc2hvbGRQZXJjZW50cywgbGluZUNvbG9yc1tpbmRleF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsaW5lcy5zZWxlY3RBbGwoJ3BhdGgnKS5hdHRyKCdjbGFzcycsICdsaW5lLXRocmVzaG9sZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5zdmcuYXBwZW5kKCdsaW5lYXJHcmFkaWVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLCAnbGluZS1ncmFkaWVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZ3JhZGllbnRVbml0cycsICd1c2VyU3BhY2VPblVzZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB4VHJhbnNsYXRlKHhBeGlzRGF0YS5taW4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHhUcmFuc2xhdGUoeEF4aXNEYXRhLm1heCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnc3RvcCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aHJlc2hvbGREYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdzdG9wJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdvZmZzZXQnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3RvcC1jb2xvcicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbG9yOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5zdmcuYXBwZW5kKCdsaW5lYXJHcmFkaWVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLCAnbGluZS1ncmFkaWVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZ3JhZGllbnRVbml0cycsICd1c2VyU3BhY2VPblVzZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeVRyYW5zbGF0ZSh5QXhpc0RhdGEubWluKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB5VHJhbnNsYXRlKHlBeGlzRGF0YS5tYXgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnc3RvcCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aHJlc2hvbGREYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdzdG9wJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdvZmZzZXQnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3RvcC1jb2xvcicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbG9yOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0FkZCBjaXJjbGVzIGF0IGpvaW50cyBpbiB0aGUgbGluZXNcclxuICAgICAgICAgICAgY2lyY2xlc1trXSA9IGxpbmVzXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdjaXJjbGUgJyArIChrKSlcclxuICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgICAuZGF0YShkYXRhW2tdKVxyXG4gICAgICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpLy9DaXJjbGVzIGZvciB0aGUgam9pbnRzIGluIHRoZSBsaW5lXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnY2lyY2xlLScgKyBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjeCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geFRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlUcmFuc2xhdGUoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRocmVzaG9sZGluZyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBPYmplY3Qua2V5cyhjaGFydC5fdmFycy50aHJlc2hvbGRzKS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IGxlbmd0aDsgeiA+IC0xOyB6LS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA+PSB0aHJlc2hvbGQudGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IGxlbmd0aDsgeiA+IC0xOyB6LS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA+PSB0aHJlc2hvbGQudGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgayk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3InLCAyLjUpO1xyXG5cclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9SZXR1cm4gbGluZSBncm91cHNcclxuICAgIHJldHVybiBsaW5lcy5zZWxlY3RBbGwoJy5jaXJjbGUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGluZVRocmVzaG9sZERhdGEoY2hhcnQsIHRocmVzaG9sZHMpIHtcclxuICAgIHZhciBkYXRhID0gW107XHJcbiAgICB2YXIgdGhyZXNob2xkTGVuZ3RoID0gdGhyZXNob2xkcy5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHRocmVzaG9sZExlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgdmFyIGdyYWRpZW50T25lID0geyBvZmZzZXQ6IHRocmVzaG9sZHNba10ucGVyY2VudCArICclJywgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICBkYXRhLnB1c2goZ3JhZGllbnRPbmUpO1xyXG5cclxuICAgICAgICBpZiAoayArIDEgPCB0aHJlc2hvbGRMZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGdyYWRpZW50VHdvID0geyBvZmZzZXQ6IHRocmVzaG9sZHNbayArIDFdLnBlcmNlbnQgKyAnJScsIGNvbG9yOiB0aHJlc2hvbGRzW2tdLmNvbG9yIH07XHJcbiAgICAgICAgICAgIGRhdGEucHVzaChncmFkaWVudFR3byk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoayA9PSB0aHJlc2hvbGRMZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0ID0geyBvZmZzZXQ6ICcxMDAlJywgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGxhc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jaXJjbGVwYWNrID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlUGFjayA9IGdlbmVyYXRlUGFjaztcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUGFjayBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0UGFja0NoYXJ0RGF0YVxyXG4gKiAgZ2V0cyBwYWNrIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldFBhY2tMZWdlbmREYXRhKGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0gY2hhcnQuY29sb3JzO1xyXG59XHJcblxyXG4vKipzZXRQYWNrTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRQYWNrTGVnZW5kRGF0YShkYXRhVGFibGUpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgdmFyIGxhYmVsID0gJydcclxuICAgIGZvciAodmFyIGtleSBpbiBkYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ3ZhbHVlJykge1xyXG4gICAgICAgICAgICAgICAgbGFiZWwgPSBkYXRhVGFibGVba2V5XTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmKGtleSAhPT0gJ3Rvb2x0aXAgMScpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGFUYWJsZVtrZXldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGxlZ2VuZEFycmF5LnVuc2hpZnQobGFiZWwpO1xyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgcGFja01hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiAzMCxcclxuICAgICAgICByaWdodDogMjAsXHJcbiAgICAgICAgYm90dG9tOiAxNSxcclxuICAgICAgICBsZWZ0OiAyMFxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIHBhY2tNYXJnaW5zKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlVmVydGljYWxMZWdlbmQoJ2dlbmVyYXRlUGFjaycpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVQYWNrKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxufTtcclxuXHJcbi8qKiBnZW5lcmF0ZVBhY2tcclxuICpcclxuICogcGFpbnRzIHRoZSBwYWNrIG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHBhY2tEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVBhY2soKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIHcgPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaCA9IGNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgciA9IE1hdGgubWluKGggLyAyLCB3IC8gMyksXHJcbiAgICAgICAgbWFyZ2luID0gMjAsXHJcbiAgICAgICAgZGlhbWV0ZXIgPSByICogMjtcclxuXHJcbiAgICBjaGFydC5jaGlsZHJlbiA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG5cclxuICAgIHZhciBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbCgpXHJcbiAgICAgICAgLnJhbmdlKGNoYXJ0LmRhdGEuY29sb3JcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYykgeyBjID0gZDMucmdiKGMpOyBjLm9wYWNpdHkgPSAwLjg7IHJldHVybiBjOyB9KSk7XHJcblxyXG4gICAgLy8gIGFzc2lnbnMgdGhlIGRhdGEgdG8gYSBoaWVyYXJjaHkgdXNpbmcgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcHNcclxuICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KGNoYXJ0LmNoaWxkcmVuLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLmNoaWxkcmVuO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHBhY2sgPSBkMy5wYWNrKClcclxuICAgICAgICAuc2l6ZShbY29udGFpbmVyLndpZHRoLCBjb250YWluZXIuaGVpZ2h0XSlcclxuICAgICAgICAucGFkZGluZygyKTtcclxuXHJcbiAgICBwYWNrKHJvb3RcclxuICAgICAgICAuc3VtKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLmhhc093blByb3BlcnR5KCdjaGlsZHJlbicpID8gMCA6IGQubmFtZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiLmhlaWdodCAtIGEuaGVpZ2h0IHx8IGIudmFsdWUgLSBhLnZhbHVlO1xyXG4gICAgICAgIH0pKVxyXG4gICAgICAgIC5kZXNjZW5kYW50cygpO1xyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIucGFja1wiKS5yZW1vdmUoKTtcclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwicGFja1wiKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgKHcgLyAyKSArIFwiLFwiICsgciArIFwiKVwiKTtcclxuXHJcbiAgICB2YXIgY2lyY2xlID0gdmlzLnNlbGVjdEFsbChcImNpcmNsZVwiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnBhcmVudCA/IGQuY2hpbGRyZW4gPyBcIm5vZGVcIiA6IFwibm9kZSBub2RlLS1sZWFmXCIgOiBcIm5vZGUgbm9kZS0tcm9vdFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBkLmNvbG9yID0gY29sb3IoZC5kZXB0aCk7XHJcbiAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVuID8gY29sb3IoZC5kZXB0aCkgOiBudWxsO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGZvY3VzICE9PSBkKSB7XHJcbiAgICAgICAgICAgICAgICB6b29tKGQpLCBkMy5ldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgIC8vIHZhciB0RGF0YSA9IGNoYXJ0LmRhdGEudGlwRGF0YS5nZXQoZC5kYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICAvLyB0RGF0YS5uYW1lID0gZC5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIC8vIHREYXRhLmNvbG9yID0gZC5jb2xvcjtcclxuICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uIChkLGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gdmFyIHRleHQgPSB2aXMuc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgLy8gICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSlcclxuICAgIC8vICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAvLyAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXHJcbiAgICAvLyAgICAgLnN0eWxlKFwiZGlzcGxheVwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gcm9vdCA/IFwiaW5saW5lXCIgOiBcIm5vbmVcIjtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICB2YXIgbm9kZSA9IHN2Zy5zZWxlY3RBbGwoXCJjaXJjbGUsdGV4dFwiKTtcclxuXHJcbiAgICBkMy5zZWxlY3QoXCJib2R5XCIpXHJcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB6b29tKHJvb3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHpvb21Ubyhbcm9vdC54LCByb290LnksIHJvb3QuciAqIDIgKyBtYXJnaW5dKTtcclxuXHJcbiAgICBmdW5jdGlvbiB6b29tKGQpIHtcclxuICAgICAgICB2YXIgZm9jdXMgPSBkO1xyXG5cclxuICAgICAgICBkMy50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKGQzLmV2ZW50LmFsdEtleSA/IDc1MDAgOiA3NTApXHJcbiAgICAgICAgICAgIC50d2VlbihcInpvb21cIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGVab29tKHZpZXcsIFtmb2N1cy54LCBmb2N1cy55LCBmb2N1cy5yICogMiArIG1hcmdpbl0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgem9vbVRvKGkodCkpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHRyYW5zaXRpb24uc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgICAgIC8vICAgICAuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gZm9jdXMgfHwgdGhpcy5zdHlsZS5kaXNwbGF5ID09PSBcImlubGluZVwiO1xyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGQucGFyZW50ID09PSBmb2N1cyA/IDEgOiAwO1xyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gZm9jdXMgPyBcImlubGluZVwiIDogXCJub25lXCI7XHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC5lYWNoKFwic3RhcnRcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGQucGFyZW50ID09PSBmb2N1cykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyAgICAgLmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGQucGFyZW50ICE9PSBmb2N1cykge1xyXG4gICAgICAgIC8vICAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YXIgdmlldztcclxuICAgIGZ1bmN0aW9uIHpvb21Ubyh2KSB7XHJcbiAgICAgICAgdmFyIGsgPSBkaWFtZXRlciAvIHZbMl07XHJcblxyXG4gICAgICAgIC8vc2V0IGdsb2JhbCB6b29tXHJcbiAgICAgICAgdmlldyA9IHY7XHJcblxyXG4gICAgICAgIG5vZGUuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCAmJiBkLnggJiYgZC55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyAoZC54IC0gdlswXSkgKiBrICsgXCIsXCIgKyAoZC55IC0gdlsxXSkgKiBrICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlLmF0dHIoXCJyXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnIgKiBrO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbiB2YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnBpZSA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVBpZSA9IGdlbmVyYXRlUGllO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBQaWUgRGF0YSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0UGllRGF0YVxyXG4gKiAgZ2V0cyBwaWUgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0UGllTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG4vKipzZXRQaWVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldFBpZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gZGF0YS5jaGFydERhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIGN1c3RvbU1hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiA0MCxcclxuICAgICAgICByaWdodDogMjAsXHJcbiAgICAgICAgYm90dG9tOiAyMCxcclxuICAgICAgICBsZWZ0OiAyMFxyXG4gICAgfTtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcbiAgICBjaGFydC5sZWdlbmREYXRhID0gY2hhcnQuZGF0YS5sZWdlbmREYXRhO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjdXN0b21NYXJnaW5zKTtcclxuXHJcbiAgICAvL0lmIHRoZSBjb250YWluZXIgc2l6ZSBpcyBzbWFsbCwgZG9uJ3QgZ2VuZXJhdGUgYSBsZWdlbmRcclxuICAgIGlmIChjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoID4gNTUwKSB7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZCgnZ2VuZXJhdGVQaWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZVBpZShjaGFydC5jdXJyZW50RGF0YSk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlUGllXHJcbiAqXHJcbiAqIGNyZWF0ZXMgYW5kIGRyYXdzIGEgcGllIGNoYXJ0IG9uIHRoZSBzdmcgZWxlbWVudFxyXG4gKiBAcGFyYW1zIHN2ZywgcGllRGF0YSwgX3ZhcnMsIGNvbnRhaW5lciwgY2hhcnROYW1lXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUGllKGN1cnJlbnREYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBwaWVEYXRhID0gY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGE7XHJcblxyXG4gICAgLy9kZWZpbmUgdmFyaWFibGVzIHRvIGNoYW5nZSBhdHRyJ3NcclxuICAgIHN2Zy5zZWxlY3QoJ2cucGllLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcjtcclxuICAgIHZhciB3ID0gY29udGFpbmVyLndpZHRoO1xyXG4gICAgdmFyIGggPSBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgdmFyIHIgPSBNYXRoLm1pbihoIC8gMiwgdyAvIDMpO1xyXG5cclxuICAgIHZhciBkYXRhID0gW107XHJcbiAgICB2YXIgdG90YWwgPSAwO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGllRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICBmb3IobGV0IGogaW4gY2hhcnQuZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgb2JqW2pdID0gcGllRGF0YVtpXVtjaGFydC5kYXRhLmRhdGFUYWJsZVtqXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGFbaV0gPSBvYmo7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHBpZURhdGFOZXcgPSBkYXRhOy8vY29weSBvZiBwaWUgZGF0YVxyXG5cclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID0gbGVnZW5kRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzO1xyXG5cclxuICAgIHZhciBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBqdkNoYXJ0cy5nZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoZGF0YUhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG5cclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHBpZURhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gcGllRGF0YU5ld1tqXS5sYWJlbCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcGllRGF0YU5ldy5zcGxpY2UoaiwxKTtcclxuICAgICAgICAgICAgICAgICAgICBwaWVEYXRhTmV3W2pdLnZhbHVlID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaWVEYXRhTmV3Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdG90YWwgKz0gcGFyc2VGbG9hdChwaWVEYXRhTmV3W2ldLnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmRhdGEoW3BpZURhdGFOZXddKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdwaWUtY29udGFpbmVyJylcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgMjAwKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAodyAvIDIpICsgJywnICsgciArICcpJyk7XHJcblxyXG4gICAgdmFyIHBpZSA9IGQzLnBpZSgpLnZhbHVlKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2RlY2xhcmUgYW4gYXJjIGdlbmVyYXRvciBmdW5jdGlvblxyXG4gICAgdmFyIGFyYyA9IGQzLmFyYygpXHJcbiAgICAgICAgLmlubmVyUmFkaXVzKDApLy9Ob3JtYWwgcGllIGNoYXJ0IHdoZW4gdGhpcyA9IDAsIGNhbiBiZSBjaGFuZ2VkIHRvIGNyZWF0ZSBkb251dCBjaGFydFxyXG4gICAgICAgIC5vdXRlclJhZGl1cyhyKTtcclxuXHJcbiAgICAvLyB2YXIgYXJjT3ZlciA9IGQzLmFyYygpXHJcbiAgICAvLyAgICAgLmlubmVyUmFkaXVzKDApXHJcbiAgICAvLyAgICAgLm91dGVyUmFkaXVzKHIgKyAxNSk7XHJcblxyXG4gICAgLy9zZWxlY3QgcGF0aHMsIHVzZSBhcmMgZ2VuZXJhdG9yIHRvIGRyYXdcclxuICAgIHZhciBhcmNzID0gdmlzXHJcbiAgICAgICAgLnNlbGVjdEFsbCgnZy5zbGljZScpXHJcbiAgICAgICAgLmRhdGEocGllKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpLmF0dHIoJ2NsYXNzJywgJ3NsaWNlJyk7XHJcblxyXG4gICAgYXJjcy5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGQuZGF0YS5sYWJlbCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcmMoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2VkaXRhYmxlIGVkaXRhYmxlLXBpZSBwaWUtc2xpY2UtJyArIGkgKyAnIGhpZ2hsaWdodC1jbGFzcy0nICsgaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5waWVCb3JkZXIpXHJcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLnBpZUJvcmRlcldpZHRoKVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZC5kYXRhLCBpKTtcclxuICAgICAgICAgICAgICAgIC8vIERyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBhcmNzLmFwcGVuZCgnc3ZnOnRleHQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdzbGljZUxhYmVsJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgdmFyIHRlc3QgPSBhcmMuY2VudHJvaWQoZCk7XHJcbiAgICAgICAgICAgIHRlc3RbMF0gPSB0ZXN0WzBdICogMS42O1xyXG4gICAgICAgICAgICB0ZXN0WzFdID0gdGVzdFsxXSAqIDEuNjtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIHRlc3QgKyAnKSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBwZXJjZW50ID0gcGllRGF0YU5ld1tpXS52YWx1ZSAvIHRvdGFsICogMTAwO1xyXG4gICAgICAgICAgICBwZXJjZW50ID0gZDMuZm9ybWF0KCcuMWYnKShwZXJjZW50KTtcclxuICAgICAgICAgICAgaWYgKHBlcmNlbnQgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGVyY2VudCArICclJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMucGllVGV4dENvbG9yKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5yYWRpYWwgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVSYWRpYWwgPSBnZW5lcmF0ZVJhZGlhbDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUmFkaWFsIERhdGEgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLyoqc2V0UmFkaWFsQ2hhcnREYXRhXHJcbiAqICBnZXRzIGJhciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRSYWRpYWxMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgcmFkaWFsTWFyZ2lucyA9IHtcclxuICAgICAgICB0b3A6IDQwLFxyXG4gICAgICAgIHJpZ2h0OiAyMCxcclxuICAgICAgICBib3R0b206IDIwLFxyXG4gICAgICAgIGxlZnQ6IDIwXHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgcmFkaWFsTWFyZ2lucyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZVJhZGlhbCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVSYWRpYWwoKTtcclxufVxyXG5cclxuLyoqc2V0UmFkaWFsTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRSYWRpYWxMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChsZWdlbmRBcnJheS5pbmRleE9mKGRhdGEuY2hhcnREYXRhW2ldW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaCgoZGF0YS5jaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGUubGFiZWxdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZVJhZGlhbFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIHJhZGlsIGJhciBjaGFydCBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyByYWRpYWxEYXRhXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSYWRpYWwoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcixcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgcmFkaWFsRGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIHRpY2tOdW1iZXIgPSAzLFxyXG4gICAgICAgIGJhckhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQgLyAyIC0gNDAsXHJcbiAgICAgICAgd2lkdGggPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICByID0gTWF0aC5taW4oaGVpZ2h0IC8gMiwgd2lkdGggLyAzKSxcclxuICAgICAgICBkYXRhID0gW10sXHJcbiAgICAgICAgYWxsS2V5cyA9IFtjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbCwgY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdLFxyXG4gICAgICAgIHJhZGlhbERhdGFOZXcsXHJcbiAgICAgICAgZGF0YUhlYWRlcnMsXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gW10sXHJcbiAgICAgICAgcmFkaWFsRGF0YUZpbHRlcmVkO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaWFsRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICBmb3IobGV0IGogaW4gY2hhcnQuZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgb2JqW2pdID0gcmFkaWFsRGF0YVtpXVtjaGFydC5kYXRhLmRhdGFUYWJsZVtqXV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGFbaV0gPSBvYmo7XHJcbiAgICAgICAgLy90b3RhbCArPSBwYXJzZUZsb2F0KHBpZURhdGFbaV1ba2V5c1sxXV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJhZGlhbERhdGFOZXcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IGxlZ2VuZERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzO1xyXG4gICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIHJhZGlhbERhdGFGaWx0ZXJlZCA9IFtdO1xyXG5cclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJhZGlhbERhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gcmFkaWFsRGF0YU5ld1tqXS5sYWJlbCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhZGlhbERhdGFOZXdbal0udmFsdWUgPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJhZGlhbERhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAocmFkaWFsRGF0YU5ld1tqXS52YWx1ZSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmFkaWFsRGF0YUZpbHRlcmVkLnB1c2gocmFkaWFsRGF0YU5ld1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJhZGlhbERhdGFGaWx0ZXJlZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIGIudmFsdWUgLSBhLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9SZW1vdmUgZXhpc3RpbmcgYmFycyBmcm9tIHBhZ2VcclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cucmFkaWFsLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG5cclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGlhbC1jb250YWluZXInKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICh3aWR0aCAvIDIpICsgJywnICsgciArICcpJyk7XHJcblxyXG4gICAgdmFyIGV4dGVudCA9IGQzLmV4dGVudChyYWRpYWxEYXRhRmlsdGVyZWQsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2NvbW1hcyBhbmQgMCBkZWNpbWFsc1xyXG4gICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLC4wZicpO1xyXG4gICAgaWYgKGV4dGVudFsxXSA+PSAxMDAwMDAwKSB7XHJcbiAgICAgICAgLy9taWxsaW9uc1xyXG4gICAgICAgIHZhciBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdFByZWZpeCgnLicgKyBwLCAxLjNlNik7XHJcbiAgICB9IGVsc2UgaWYgKGV4dGVudFsxXSA8PSAxMDApIHtcclxuICAgICAgICAvLzIgZGVjaW1hbHNcclxuICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJywuMmYnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKGV4dGVudFswXSAhPT0gMCkge1xyXG4gICAgICAgIGV4dGVudFswXSA9IDA7XHJcbiAgICB9XHJcbiAgICB2YXIgYmFyU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgLmRvbWFpbihleHRlbnQpXHJcbiAgICAgICAgLnJhbmdlKFswLCBiYXJIZWlnaHRdKTtcclxuXHJcbiAgICB2YXIga2V5cyA9IHJhZGlhbERhdGFGaWx0ZXJlZC5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4gZC5sYWJlbDtcclxuICAgIH0pO1xyXG4gICAgdmFyIG51bUJhcnMgPSBrZXlzLmxlbmd0aDtcclxuXHJcbiAgICB2YXIgeCA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAuZG9tYWluKGV4dGVudClcclxuICAgICAgICAucmFuZ2UoWzAsIC1iYXJIZWlnaHRdKTtcclxuXHJcbiAgICAvL2NyZWF0ZSB4QXhpcyBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICB2YXIgeEF4aXMgPSBkMy5heGlzTGVmdCgpXHJcbiAgICAgICAgLnNjYWxlKHgpXHJcbiAgICAgICAgLnRpY2tzKHRpY2tOdW1iZXIpXHJcbiAgICAgICAgLnRpY2tGb3JtYXQoZm9ybWF0TnVtYmVyKTtcclxuXHJcbiAgICB2aXMuc2VsZWN0QWxsKCdjaXJjbGUnKVxyXG4gICAgICAgIC5kYXRhKHgudGlja3MoMykpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJhclNjYWxlKGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMiwyJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcuNXB4Jyk7XHJcblxyXG4gICAgdmFyIGFyYyA9IGQzLmFyYygpXHJcbiAgICAgICAgLnN0YXJ0QW5nbGUoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChpICogMiAqIE1hdGguUEkpIC8gbnVtQmFycztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lbmRBbmdsZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKChpICsgMSkgKiAyICogTWF0aC5QSSkgLyBudW1CYXJzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmlubmVyUmFkaXVzKDApO1xyXG5cclxuICAgIHZhciBzZWdtZW50cyA9IHZpcy5zZWxlY3RBbGwoJ3BhdGgnKVxyXG4gICAgICAgIC5kYXRhKHJhZGlhbERhdGFGaWx0ZXJlZClcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC8vLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXHJcbiAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgZC5vdXRlclJhZGl1cyA9IDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgZC5sYWJlbCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZCcsIGFyYylcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnbGluZS50aXAtbGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgc2VnbWVudHMudHJhbnNpdGlvbigpLmR1cmF0aW9uKDgwMCkuZWFzZShkMy5lYXNlRWxhc3RpYykuZGVsYXkoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4gNzUwIC0gNTAgKiBpO1xyXG4gICAgfSlcclxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZnVuY3Rpb24gKGQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGUoZC5vdXRlclJhZGl1cywgYmFyU2NhbGUoK2QudmFsdWUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICBkLm91dGVyUmFkaXVzID0gaSh0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmMoZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHZpcy5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgLmF0dHIoJ3InLCBiYXJIZWlnaHQpXHJcbiAgICAgICAgLmNsYXNzZWQoJ291dGVyJywgdHJ1ZSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJzEuNXB4Jyk7XHJcblxyXG4gICAgdmlzLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgLmRhdGEoa2V5cylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsYWJlbCcpXHJcbiAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgLWJhckhlaWdodCAtIDIwKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcuNXB4JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdyb3RhdGUoJyArIChpICogMzYwIC8gbnVtQmFycykgKyAnKSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIGF4aXNHcm91cCA9IHZpcy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd4QXhpcycpXHJcbiAgICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdub25lJylcclxuICAgICAgICAuY2FsbCh4QXhpcyk7XHJcbiAgICB2YXIgeUF4aXNDbGFzcyA9ICd5QXhpc0xhYmVscyBlZGl0YWJsZSBlZGl0YWJsZS15QXhpcyBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLW51bSc7XHJcblxyXG4gICAgYXhpc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKS8vQ3VzdG9taXplIHRoZSBjb2xvciBvZiBheGlzIGxhYmVsc1xyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIHlBeGlzQ2xhc3MpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID09PSB4QXhpcy5zY2FsZSgpLnRpY2tzKHRpY2tOdW1iZXIpW3RpY2tOdW1iZXJdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCAxMCknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsMCknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zYW5rZXkgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn1cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVNhbmtleSA9IGdlbmVyYXRlU2Fua2V5O1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBTYW5rZXkgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRhXHJcbiAqIEBwYXJhbSBkYXRhVGFibGVcclxuICogQHBhcmFtIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICB2YXIgc2Fua2V5RGF0YSA9IHt9LFxyXG4gICAgICAgIGRhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVGFibGUgPSBjaGFydC5kYXRhLmRhdGFUYWJsZTtcclxuXHJcbiAgICBzYW5rZXlEYXRhLmxpbmtzID0gW107XHJcbiAgICBzYW5rZXlEYXRhLm5vZGVzID0gW107XHJcblxyXG4gICAgLy9JdGVyYXRlIHRocm91Z2ggc291cmNlcyBhbmQgdGFyZ2V0cyB0byBtYWtlIGEgbm9kZSBsaXN0XHJcbiAgICB2YXIgbm9kZUxpc3QgPSBbXTtcclxuICAgIHZhciBub2RlR3JvdXAgPSAxO1xyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhVGFibGUpIHtcclxuICAgICAgICB2YXIgbm9kZUxpc3RGb3JMYWJlbCA9IFtdO1xyXG4gICAgICAgIGlmIChpdGVtID09PSAndmFsdWUnKSB7IGNvbnRpbnVlOyB9O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgcG90ZW50aWFsTm9kZSA9IGRhdGFbaV1bZGF0YVRhYmxlW2l0ZW1dXSArIFwiLVwiICsgbm9kZUdyb3VwO1xyXG4gICAgICAgICAgICB2YXIgYWRkVG9MaXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBub2RlTGlzdEZvckxhYmVsLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocG90ZW50aWFsTm9kZSA9PT0gbm9kZUxpc3RGb3JMYWJlbFtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTGlzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZGRUb0xpc3QpIHtcclxuICAgICAgICAgICAgICAgIG5vZGVMaXN0Rm9yTGFiZWwucHVzaChwb3RlbnRpYWxOb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBub2RlR3JvdXArKztcclxuICAgICAgICBub2RlTGlzdCA9IG5vZGVMaXN0LmNvbmNhdChub2RlTGlzdEZvckxhYmVsKTtcclxuICAgIH1cclxuICAgIC8vQ3JlYXRlIG5vZGVzIG9iamVjdFxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHNhbmtleURhdGEubm9kZXMucHVzaCh7XHJcbiAgICAgICAgICAgICduYW1lJzogbm9kZUxpc3RbaV1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL1NlZSBob3cgbWFueSBzZXRzIG9mIGxpbmtzIHlvdSBuZWVkXHJcbiAgICB2YXIgbGlua0dyb3VwcyA9IDA7XHJcblxyXG4gICAgZm9yIChsZXQgaXRlbSBpbiBkYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoaXRlbS5pbmRleE9mKCdsYWJlbCcpICE9PSAtMSkge1xyXG4gICAgICAgICAgICBsaW5rR3JvdXBzKys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGxpbmtHcm91cHM7IGkrKykge1xyXG4gICAgICAgIHZhciBsaW5rR3JvdXAgPSBbXTtcclxuICAgICAgICBsaW5rR3JvdXAgPSBkYXRhLm1hcChmdW5jdGlvbiAoeCkge1xyXG5cclxuICAgICAgICAgICAgdmFyIGxhYmVsMSA9IFwibGFiZWwgXCIgKyBpO1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwyID0gXCJsYWJlbCBcIiArIChpICsgMSk7XHJcbiAgICAgICAgICAgIGxldCBzb3VyY2UgPSBkYXRhVGFibGVbbGFiZWwxXTtcclxuICAgICAgICAgICAgbGV0IHRhcmdldCA9IGRhdGFUYWJsZVtsYWJlbDJdO1xyXG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBkYXRhVGFibGUudmFsdWU7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgJ3NvdXJjZSc6IHhbc291cmNlXSArIFwiLVwiICsgaSxcclxuICAgICAgICAgICAgICAgICd0YXJnZXQnOiB4W3RhcmdldF0gKyBcIi1cIiArIChpICsgMSksXHJcbiAgICAgICAgICAgICAgICAndmFsdWUnOiB4W3ZhbHVlXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgc2Fua2V5RGF0YS5saW5rcyA9IHNhbmtleURhdGEubGlua3MuY29uY2F0KGxpbmtHcm91cCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG5vZGVNYXAgPSB7fTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBzYW5rZXlEYXRhLm5vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc2Fua2V5RGF0YS5ub2Rlc1tpXS5ub2RlID0gaTtcclxuICAgICAgICBub2RlTWFwW3NhbmtleURhdGEubm9kZXNbaV0ubmFtZV0gPSBpO1xyXG4gICAgfVxyXG4gICAgc2Fua2V5RGF0YS5saW5rcyA9IHNhbmtleURhdGEubGlua3MubWFwKGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coeCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc291cmNlOiBub2RlTWFwW3guc291cmNlXSxcclxuICAgICAgICAgICAgdGFyZ2V0OiBub2RlTWFwW3gudGFyZ2V0XSxcclxuICAgICAgICAgICAgdmFsdWU6IHgudmFsdWVcclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9Hcm91cCBjb21tb24gc2Fua2V5IGxpbmtzIHRvZ2V0aGVyIGFuZCBhZGQgdGhlIHZhbHVlc1xyXG4gICAgdmFyIGFnZ3JlZ2F0ZVNhbmtleUxpbmtzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbmtleURhdGEubGlua3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgY3VycmVudExpbmsgPSB7fTtcclxuICAgICAgICBjdXJyZW50TGluay5zb3VyY2UgPSBzYW5rZXlEYXRhLmxpbmtzW2ldLnNvdXJjZTtcclxuICAgICAgICBjdXJyZW50TGluay50YXJnZXQgPSBzYW5rZXlEYXRhLmxpbmtzW2ldLnRhcmdldDtcclxuICAgICAgICBjdXJyZW50TGluay52YWx1ZSA9IHNhbmtleURhdGEubGlua3NbaV0udmFsdWU7XHJcblxyXG4gICAgICAgIC8vTWFrZSBzdXJlIHRoYXQgb25seSB1bmlxdWUgbGlua3MgYXJlIHB1c2hlZCB0byB0aGUgYWdncmVnYXRlZCBhcnJheVxyXG4gICAgICAgIGxldCBhZGRUb0FnZ3JlZ2F0ZSA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBhZ2dyZWdhdGVTYW5rZXlMaW5rcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICBpZiAoYWdncmVnYXRlU2Fua2V5TGlua3Nba10uc291cmNlID09PSBjdXJyZW50TGluay5zb3VyY2UgJiYgYWdncmVnYXRlU2Fua2V5TGlua3Nba10udGFyZ2V0ID09PSBjdXJyZW50TGluay50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGFkZFRvQWdncmVnYXRlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYoIWFkZFRvQWdncmVnYXRlKXtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1N1bSB0aGUgdmFsdWUgb2YgaWRlbnRpY2FsIGxpbmtzXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBzYW5rZXlEYXRhLmxpbmtzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChzYW5rZXlEYXRhLmxpbmtzW2ldLnNvdXJjZSA9PT0gc2Fua2V5RGF0YS5saW5rc1tqXS5zb3VyY2UgJiYgc2Fua2V5RGF0YS5saW5rc1tpXS50YXJnZXQgPT09IHNhbmtleURhdGEubGlua3Nbal0udGFyZ2V0KSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TGluay52YWx1ZSA9IGN1cnJlbnRMaW5rLnZhbHVlICsgc2Fua2V5RGF0YS5saW5rc1tqXS52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWdncmVnYXRlU2Fua2V5TGlua3MucHVzaChjdXJyZW50TGluayk7XHJcbiAgICB9XHJcblxyXG4gICAgc2Fua2V5RGF0YS5saW5rcyA9IGFnZ3JlZ2F0ZVNhbmtleUxpbmtzO1xyXG5cclxuICAgIGNoYXJ0LmRhdGEuY2hhcnREYXRhID0gc2Fua2V5RGF0YTtcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkyMCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBkYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcblxyXG4gICAgLy9nZW5lcmF0ZSBTVkdcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVTYW5rZXkoZGF0YSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBzYW5rZXkgY2hhcnQgd2l0aCB0aGUgZ2l2ZW4gZGF0YVxyXG4gKiBAcGFyYW0gc2Fua2V5RGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVTYW5rZXkoc2Fua2V5RGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29sb3IgPSBjaGFydC5fdmFycy5jb2xvcjtcclxuXHJcbiAgICB2YXIgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoO1xyXG4gICAgdmFyIGhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0O1xyXG5cclxuICAgIHZhciBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJywuMGYnKSwgICAgLy8gemVybyBkZWNpbWFsIHBsYWNlc1xyXG4gICAgICAgIGZvcm1hdCA9IGZ1bmN0aW9uIChkKSB7IHJldHVybiBmb3JtYXROdW1iZXIoZCkgKyAnICcgKyAnV2lkZ2V0cyc7IH0sXHJcbiAgICAgICAgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkyMCk7XHJcblxyXG4gICAgdmFyIHNhbmtleSA9IGQzLnNhbmtleSgpXHJcbiAgICAgICAgLm5vZGVXaWR0aCgxMClcclxuICAgICAgICAubm9kZVBhZGRpbmcoMTUpXHJcbiAgICAgICAgLnNpemUoW3dpZHRoLCBoZWlnaHRdKTtcclxuXHJcbiAgICB2YXIgcGF0aCA9IHNhbmtleS5saW5rKCk7XHJcblxyXG4gICAgLy8gLy9BZGRpbmcgem9vbSB2NCBiZWhhdmlvciB0byBzYW5rZXlcclxuICAgIGQzLnNlbGVjdEFsbCgnc3ZnJylcclxuICAgICAgICAuY2FsbChkMy56b29tKClcclxuICAgICAgICAgICAgLnNjYWxlRXh0ZW50KFsuMSwgMTBdKVxyXG4gICAgICAgICAgICAub24oJ3pvb20nLCB6b29tKSk7Ly96b29tIGV2ZW50IGxpc3RlbmVyXHJcblxyXG4gICAgc2Fua2V5XHJcbiAgICAgICAgLm5vZGVzKHNhbmtleURhdGEubm9kZXMpXHJcbiAgICAgICAgLmxpbmtzKHNhbmtleURhdGEubGlua3MpXHJcbiAgICAgICAgLmxheW91dCgzMik7XHJcblxyXG4gICAgdmFyIGxpbmsgPSBzdmcuYXBwZW5kKCdnJykuc2VsZWN0QWxsKCcuc2Fua2V5LWxpbmsnKVxyXG4gICAgICAgIC5kYXRhKHNhbmtleURhdGEubGlua3MpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlID4gMDsgfSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc2Fua2V5LWxpbmsnKVxyXG4gICAgICAgIC5hdHRyKCdkJywgcGF0aClcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgxLCBkLmR5KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBiLmR5IC0gYS5keTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgbm9kZSA9IHN2Zy5hcHBlbmQoJ2cnKS5zZWxlY3RBbGwoJy5ub2RlJylcclxuICAgICAgICAuZGF0YShzYW5rZXlEYXRhLm5vZGVzKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZSA+IDA7IH0pXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ25vZGUnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgZC54ICsgJywgJyArIGQueSArICcpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYWxsKGQzLmRyYWcoKVxyXG4gICAgICAgICAgICAuc3ViamVjdChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignc3RhcnQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgZDMuZXZlbnQuc291cmNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignZHJhZycsIGRyYWdtb3ZlKSk7XHJcblxyXG4gICAgbm9kZS5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAvL3JldHVybiBkLmR5O1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoZC5keSk7XHJcbiAgICAgICAgICAgIC8vcmV0dXJuIE1hdGgubWF4KGQuZHksIDIpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgc2Fua2V5Lm5vZGVXaWR0aCgpKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLmNvbG9yID0gY29sb3IoZC5uYW1lKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQzLnJnYihkLmNvbG9yKS5kYXJrZXIoMik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbm9kZS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgLTYpXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5keSAvIDI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBudWxsKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBudWxsKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIC8vUmVtb3ZlIHRoZSB0aGUgbm9kZUdyb3VwIHRhZyBhbmQgaHlwaGVuIGZyb20gdGhlIGVuZCBvZiB0aGUgbGFiZWxcclxuICAgICAgICAgICAgcmV0dXJuIGQubmFtZS5zbGljZSgwLCAtMik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnggPCB3aWR0aCAvIDI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneCcsIDYgKyBzYW5rZXkubm9kZVdpZHRoKCkpXHJcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0Jyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZHJhZ21vdmUoZCkge1xyXG4gICAgICAgIGQzLnNlbGVjdCh0aGlzKS5hdHRyKCd0cmFuc2Zvcm0nLFxyXG4gICAgICAgICAgICAndHJhbnNsYXRlKCcgKyAoXHJcbiAgICAgICAgICAgICAgICBkLnggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih3aWR0aCAtIGQuZHgsIGQzLmV2ZW50LngpKVxyXG4gICAgICAgICAgICApICsgJywnICsgKFxyXG4gICAgICAgICAgICAgICAgZC55ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oaGVpZ2h0IC0gZC5keSwgZDMuZXZlbnQueSkpXHJcbiAgICAgICAgICAgICkgKyAnKScpO1xyXG4gICAgICAgIHNhbmtleS5yZWxheW91dCgpO1xyXG4gICAgICAgIGxpbmsuYXR0cignZCcsIHBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHpvb20oKSB7IC8vSW1wbGVtZW50aW5nIHRoZSB2NCB6b29taW5nIGZlYXR1cmVcclxuICAgICAgICBzdmcuYXR0cigndHJhbnNmb3JtJywgZDMuZXZlbnQudHJhbnNmb3JtKTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnNjYXR0ZXJwbG90ID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlU2NhdHRlciA9IGdlbmVyYXRlU2NhdHRlcjtcclxuanZDaGFydHMucHJvdG90eXBlLmNyZWF0ZUxpbmVHdWlkZSA9IGNyZWF0ZUxpbmVHdWlkZTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogU2NhdHRlciBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0U2NhdHRlckRhdGFcclxuICogIGdldHMgc2NhdHRlciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRTY2F0dGVyTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gc2V0U2NhdHRlckF4aXNEYXRhKGNoYXJ0LmRhdGEsICd4JywgY2hhcnQuX3ZhcnMpO1xyXG4gICAgY2hhcnQuZGF0YS55QXhpc0RhdGEgPSBzZXRTY2F0dGVyQXhpc0RhdGEoY2hhcnQuZGF0YSwgJ3knLCBjaGFydC5fdmFycyk7XHJcbiAgICBjaGFydC5kYXRhLnpBeGlzRGF0YSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCd6JykgPyBzZXRTY2F0dGVyQXhpc0RhdGEoY2hhcnQuZGF0YSwgJ3onLCBjaGFydC5fdmFycykgOiB7fTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuLyoqc2V0U2NhdHRlckxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0U2NhdHRlckxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NlcmllcycpKSB7XHJcbiAgICAgICAgdmFyIGl0ZW0gPSBkYXRhLmRhdGFUYWJsZS5zZXJpZXM7XHJcbiAgICAgICAgZm9yICh2YXIgdmFsdWUgaW4gZGF0YS5jaGFydERhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnQgPSBkYXRhLmNoYXJ0RGF0YVt2YWx1ZV1baXRlbV07XHJcbiAgICAgICAgICAgIGlmIChsZWdlbmRBcnJheS5pbmRleE9mKGxlZ2VuZEVsZW1lbnQpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChsZWdlbmRFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ2xhYmVsJykpIHtcclxuICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlLmxhYmVsKTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgbGVnZW5kQXJyYXlbMF0gPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlLmxhYmVsKTtcclxuICAgIH1cclxuICAgIC8vb3JkZXIgbGVnZW5kIGRhdGEgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXHJcbiAgICBsZWdlbmRBcnJheS5zb3J0KCk7XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuXHJcbi8qKnNldFNjYXR0ZXJBeGlzRGF0YVxyXG4gKiAgZ2V0cyB6IGF4aXMgZGF0YSBiYXNlZCBvbiB0aGUgY2hhcnREYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlXHJcbiAqIEByZXR1cm5zIG9iamVjdCB3aXRoIGxhYmVsIGFuZCB2YWx1ZXNcclxuICovXHJcbmZ1bmN0aW9uIHNldFNjYXR0ZXJBeGlzRGF0YShkYXRhLCBheGlzLCBfdmFycykge1xyXG4gICAgLy9kZWNsYXJlIHZhcnNcclxuICAgIHZhciBheGlzRGF0YSA9IFtdLFxyXG4gICAgICAgIGNoYXJ0RGF0YSA9IGRhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIHNjYXR0ZXJMYWJlbCA9IGRhdGEuZGF0YVRhYmxlW2F4aXNdLFxyXG4gICAgICAgIG1pbiA9IHNjYXR0ZXJMYWJlbCA/IGNoYXJ0RGF0YVswXVtzY2F0dGVyTGFiZWxdIDogMCxcclxuICAgICAgICBtYXggPSBzY2F0dGVyTGFiZWwgPyBjaGFydERhdGFbMF1bc2NhdHRlckxhYmVsXSA6IDAsXHJcbiAgICAgICAgZGF0YVR5cGU7XHJcbiAgICBcclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5kYXRhVGFibGVLZXlzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlS2V5c1tqXS52aXpUeXBlID09PSBheGlzKSB7XHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gZGF0YS5kYXRhVGFibGVLZXlzW2pdLnR5cGU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vbG9vcCBvdmVyIGRhdGEgdG8gZmluZCBtYXggYW5kIG1pblxyXG4gICAgLy9hbHNvIGRldGVybWluZXMgdGhlIHkgYXhpcyB0b3RhbCBpZiB0aGUgZGF0YSBpcyBzdGFja2VkXHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChjaGFydERhdGFbaV0uaGFzT3duUHJvcGVydHkoc2NhdHRlckxhYmVsKSkge1xyXG4gICAgICAgICAgICB2YXIgbnVtID0gY2hhcnREYXRhW2ldW3NjYXR0ZXJMYWJlbF07XHJcbiAgICAgICAgICAgIGlmICghaXNOYU4obnVtKSkge1xyXG4gICAgICAgICAgICAgICAgbnVtID0gcGFyc2VGbG9hdChudW0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG51bSA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IG51bTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtIDwgbWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluID0gbnVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGF4aXMgIT09ICd6Jykge1xyXG4gICAgICAgIG1pbiAqPSAwLjk7XHJcbiAgICAgICAgbWF4ICo9IDEuMTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3ZhcnMueU1pbiAmJiAhaXNOYU4oX3ZhcnMueU1pbikgJiYgYXhpcyA9PT0gJ3knKSB7XHJcbiAgICAgICAgbWluID0gX3ZhcnMueU1pbjtcclxuICAgIH1cclxuICAgIGlmIChfdmFycy55TWF4ICYmICFpc05hTihfdmFycy55TWF4KSAmJiBheGlzID09PSAneScpIHtcclxuICAgICAgICBtYXggPSBfdmFycy55TWF4O1xyXG4gICAgfVxyXG4gICAgaWYgKF92YXJzLnhNaW4gJiYgIWlzTmFOKF92YXJzLnhNaW4pICYmIGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgIG1pbiA9IF92YXJzLnhNaW47XHJcbiAgICB9XHJcbiAgICBpZiAoX3ZhcnMueE1heCAmJiAhaXNOYU4oX3ZhcnMueE1heCkgJiYgYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgbWF4ID0gX3ZhcnMueE1heDtcclxuICAgIH1cclxuXHJcbiAgICBheGlzRGF0YS5wdXNoKG1pbik7XHJcbiAgICBheGlzRGF0YS5wdXNoKG1heCk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgICdsYWJlbCc6IHNjYXR0ZXJMYWJlbCxcclxuICAgICAgICAndmFsdWVzJzogYXhpc0RhdGEsXHJcbiAgICAgICAgJ2RhdGFUeXBlJzogJ05VTUJFUicsXHJcbiAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAnbWF4JzogbWF4XHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICB2YXIgZGF0YU9iaiA9IHt9O1xyXG5cclxuICAgIGRhdGFPYmouY2hhcnREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcbiAgICBkYXRhT2JqLmxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGE7XHJcbiAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlO1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG4gICAgZGF0YU9iai54QXhpc0RhdGEgPSBjaGFydC5kYXRhLnhBeGlzRGF0YTtcclxuICAgIGRhdGFPYmoueUF4aXNEYXRhID0gY2hhcnQuZGF0YS55QXhpc0RhdGE7XHJcbiAgICBkYXRhT2JqLnpBeGlzRGF0YSA9IGNoYXJ0LmRhdGEuekF4aXNEYXRhO1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG5cclxuXHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoZGF0YU9iai5sZWdlbmREYXRhKTtcclxuXHJcbiAgICAvL1RPRE8gcmVtb3ZlIHRoZXNlIGZyb20gZHJhdyBvYmplY3RcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWUF4aXMoY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZVNjYXR0ZXInKTtcclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNjYXR0ZXIoKTtcclxuICAgIGNoYXJ0LmNyZWF0ZUxpbmVHdWlkZSgpO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlTWVhbihkYXRhLCB0eXBlKSB7XHJcbiAgICByZXR1cm4gZDMubWVhbihkYXRhLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gK3ZhbHVlW3R5cGVdO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmVHdWlkZSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgY2hhcnREYXRhID0gY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGRhdGFUYWJsZSA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhO1xyXG5cclxuICAgIHZhciB4TGluZVZhbCA9IGNhbGN1bGF0ZU1lYW4oY2hhcnREYXRhLCBkYXRhVGFibGUueCk7XHJcbiAgICB2YXIgeUxpbmVWYWwgPSBjYWxjdWxhdGVNZWFuKGNoYXJ0RGF0YSwgZGF0YVRhYmxlLnkpO1xyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLmxpbmVndWlkZS54JykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLmxpbmVndWlkZS55JykucmVtb3ZlKCk7XHJcblxyXG4gICAgdmFyIGxpbmVHcm91cCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lLWdyb3VwJyk7XHJcblxyXG4gICAgLy94IGxpbmUgZ3JvdXAgZm9yIGNyb3NzaGFpclxyXG4gICAgdmFyIGxpbmVHdWlkZVggPSBsaW5lR3JvdXAuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluZWd1aWRlIHgnKVxyXG4gICAgICAgIC5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2dyYXknKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKVxyXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxpbmVHdWlkZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnYmxhY2snKTtcclxuXHJcbiAgICAvL3kgbGluZSBncm91cCBmb3IgY3Jvc3NoYWlyXHJcbiAgICB2YXIgbGluZUd1aWRlWSA9IGxpbmVHcm91cC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lZ3VpZGUgeScpXHJcbiAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnZ3JheScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpXHJcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGluZUd1aWRlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICdibGFjaycpO1xyXG5cclxuICAgIC8vY3JlYXRlIGNyb3NzaGFpciBiYXNlZCBvbiBtZWRpYW4geCAodXAvZG93bikgJ3BvdGVudGlhbGx5JyBwYXNzZWQgd2l0aCBkYXRhXHJcbiAgICBsaW5lR3VpZGVYXHJcbiAgICAgICAgLmF0dHIoJ3gxJywgeCh4TGluZVZhbCkpXHJcbiAgICAgICAgLmF0dHIoJ3kxJywgMClcclxuICAgICAgICAuYXR0cigneDInLCB4KHhMaW5lVmFsKSlcclxuICAgICAgICAuYXR0cigneTInLCBjb250YWluZXIuaGVpZ2h0KTtcclxuXHJcbiAgICAvL2NyZWF0ZSBjcm9zc2hhaXIgYmFzZWQgb24gbWVkaWFuIHkgKGxlZnQvcmlnaHQpICdwb3RlbnRpYWxseScgcGFzc2VkIHdpdGggZGF0YVxyXG4gICAgbGluZUd1aWRlWVxyXG4gICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgLmF0dHIoJ3kxJywgeSh5TGluZVZhbCkpXHJcbiAgICAgICAgLmF0dHIoJ3gyJywgY29udGFpbmVyLndpZHRoKVxyXG4gICAgICAgIC5hdHRyKCd5MicsIHkoeUxpbmVWYWwpKTtcclxuXHJcbiAgICByZXR1cm4gbGluZUdyb3VwO1xyXG59XHJcbi8qKmdlbmVyYXRlU2NhdHRlclxyXG4gKlxyXG4gKiBjcmVhdGVzIGFuZCBkcmF3cyBhIHNjYXR0ZXIgcGxvdCBvbiB0aGUgc3ZnIGVsZW1lbnRcclxuICogQHBhcmFtcyBzdmcsIHNjYXR0ZXJEYXRhLCBfdmFycywgeEF4aXNEYXRhLCB5QXhpc0RhdGEsIHpBeGlzRGF0YSwgY29udGFpbmVyLCBkYXRhVGFibGUgbGVnZW5kRGF0YSwgY2hhcnROYW1lXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2NhdHRlcigpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgc2NhdHRlckRhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgekF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEuekF4aXNEYXRhLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yLFxyXG4gICAgICAgIHNjYXR0ZXJEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzY2F0dGVyRGF0YSkpO1xyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkUgPSA0LjU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5OT0RFX01BWF9TSVpFID0gMjU7XHJcbiAgICB9XHJcblxyXG4gICAgLy9zZXQgY2xpcCBwYXRoIHJlY3RhbmdsZVxyXG4gICAgc3ZnLmFwcGVuZCgnY2xpcFBhdGgnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdzY2F0dGVyLWFyZWEnKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgMSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBjb250YWluZXIud2lkdGggLSAxKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjb250YWluZXIuaGVpZ2h0KVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yKTtcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnNjYXR0ZXItY29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnNjYXR0ZXItY29udGFpbmVyLmVkaXRhYmxlLXNjYXR0ZXInKS5yZW1vdmUoKTsgICAgICAgIFxyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIHZhciBzY2F0dGVyRGF0YUZpbHRlcmVkID0gW107XHJcblxyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NhdHRlckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gJ3VuZGVmaW5lZCcgfHwgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUuel0gPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUuc2VyaWVzXSAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS54XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS56XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NhdHRlckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdICE9PSAtMSAmJiBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUueV0gIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHNjYXR0ZXJEYXRhRmlsdGVyZWQucHVzaChzY2F0dGVyRGF0YU5ld1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICBpZiAoekF4aXNEYXRhICYmIHR5cGVvZiB6QXhpc0RhdGEgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHpBeGlzRGF0YSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHpBeGlzRGF0YSk7XHJcbiAgICAgICAgdmFyIHogPSBqdkNoYXJ0cy5nZXRaU2NhbGUoekF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGN4VHJhbnNsYXRlLFxyXG4gICAgICAgIGN5VHJhbnNsYXRlO1xyXG5cclxuICAgIGN4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4geChzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW3hBeGlzRGF0YS5sYWJlbF0pO1xyXG4gICAgfTtcclxuICAgIGN5VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4geShzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW3lBeGlzRGF0YS5sYWJlbF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc2NhdHRlcnMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc2NhdHRlci1jb250YWluZXInKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cnKTtcclxuICAgIHZhciB0ZW1wTW91c2VPdmVyO1xyXG4gICAgc2NhdHRlcnNcclxuICAgICAgICAuZGF0YShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2F0dGVyRGF0YUZpbHRlcmVkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNzY2F0dGVyLWFyZWEpJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2VkaXRhYmxlIGVkaXRhYmxlLXNjYXR0ZXIgc2NhdHRlci1jaXJjbGUtJyArIGkgKyAnIGhpZ2hsaWdodC1jbGFzcyc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignY3gnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3hUcmFuc2xhdGUoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignY3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3lUcmFuc2xhdGUoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyAuYXR0cihcImNsaXAtcGF0aFwiLCBcInVybCgubGluZS1ncm91cClcIilcclxuICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgMC44KVxyXG4gICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgneicpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMudG9nZ2xlWiAmJiB6QXhpc0RhdGEgJiYgdHlwZW9mIHpBeGlzRGF0YSA9PT0gJ29iamVjdCcgJiYgT2JqZWN0LmtleXMoekF4aXNEYXRhKS5sZW5ndGggPiAwICYmIHNjYXR0ZXJEYXRhRmlsdGVyZWRbaV1bZGF0YVRhYmxlLnpdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHooc2NhdHRlckRhdGFGaWx0ZXJlZFtpXVtkYXRhVGFibGUuel0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2NsaXAtcGF0aCcsICcnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2NsaXAtcGF0aCcsICd1cmwoI3NjYXR0ZXItYXJlYSknKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yO1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzZXJpZXMnKSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW2RhdGFUYWJsZS5zZXJpZXNdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgc2NhdHRlckRhdGFGaWx0ZXJlZFtpXVtkYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHNjYXR0ZXJzO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2luZ2xlYXhpcyA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZXRTaW5nbGVBeGlzRGF0YSA9IGdldFNpbmdsZUF4aXNEYXRhO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2V0U2luZ2xlQXhpc1ogPSBnZXRTaW5nbGVBeGlzWjtcclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlUG9pbnRzID0gZ2VuZXJhdGVQb2ludHM7XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBTaW5nbGUgQXhpcyBDbHVzdGVyIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0geyBjaGFydERhdGE6IGNoYXJ0LmRhdGEuY2hhcnREYXRhLCBkYXRhVGFibGU6IGNoYXJ0LmRhdGEuZGF0YVRhYmxlIH07XHJcblxyXG4gICAgLy9TZXQgdGhlIGxlZ2VuZCBEYXRhIHRvIHRoZSBsYWJlbCBmcm9tIGRhdGFUYWJsZSBLZXlzXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhID0gW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS54XTtcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LmdldFNpbmdsZUF4aXNEYXRhKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSwgY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlKTtcclxuXHJcbiAgICBpZiAoY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzaXplJykpIHtcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YS56QXhpc0RhdGEgPSBjaGFydC5nZXRTaW5nbGVBeGlzWihjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhLmNvbG9yID0gJ3JlZCc7Ly9jaGFydC5zZXRDaGFydENvbG9ycyAoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY29sb3JzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcblx0dmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBzcGxpdERhdGEgPSB7fSwvL0lmIHRoZXJlIGlzIGEgc3BsaXQsIHRoZSBkYXRhIHRoYXQgaGFzIGJlZW4gc3BsaXRcclxuICAgIG51bVZpenplcywvL0lmIHRoZXJlIGlzIGEgc3BsaXQsIHRoZSBudW1iZXIgb2Ygc2luZ2xlIGF4aXMgY2x1c3RlcnMgdGhhdCBhcmUgY3JlYXRlZFxyXG4gICAgY3VzdG9tU2l6ZSA9IHt9LC8vSWYgdGhlcmUgaXMgYSBzcGxpdCwgdGhlIHN2ZyBuZWVkcyB0byBiZSBhIGN1c3RvbSBwcmVkZWZpbmVkIGhlaWdodFxyXG4gICAgbWFyZ2luID0ge1xyXG4gICAgICAgIHRvcDogNDAsXHJcbiAgICAgICAgbGVmdDogMTAwLFxyXG4gICAgICAgIHJpZ2h0OiA3NSxcclxuICAgICAgICBib3R0b206IDUwLFxyXG4gICAgfTtcclxuXHJcbiAgICAvL0lmIHRoZXJlIGlzIGEgc3BsaXQgb24gdGhlIHZpeiwgcnVuIHRocm91Z2ggdGhpcyBsb2dpY1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnNwbGl0RGF0YSAhPSBcIlwiICYmIGNoYXJ0Ll92YXJzLnNwbGl0RGF0YSAhPSBcIm5vbmVcIikge1xyXG4gICAgICAgIC8vQ2hlY2sgdG8gc2VlIGhvdyBtYW55IHZpenplcyBuZWVkIHRvIGJlIGNyZWF0ZWQgYmVjYXVzZSBvZiB0aGUgc3BsaXRcclxuICAgICAgICB2YXIgc3BsaXREYXRhS2V5cyA9IFtdO1xyXG4gICAgICAgIHZhciBzcGxpdE9wdGlvbk5hbWUgPSBjaGFydC5fdmFycy5zcGxpdERhdGEucmVwbGFjZSgvXy9nLCBcIiBcIik7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBhZGRUb0tleXMgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNwbGl0RGF0YUtleXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bc3BsaXRPcHRpb25OYW1lXSA9PT0gc3BsaXREYXRhS2V5c1tqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFRvS2V5cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZGRUb0tleXMpIHtcclxuICAgICAgICAgICAgICAgIHNwbGl0RGF0YUtleXMucHVzaChjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bc3BsaXRPcHRpb25OYW1lXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQ3JlYXRlIE9iamVjdCB3aXRoIGtleXMgYW5kIGFzc2lnbiBlYWNoIGVsZW1lbnQgb2YgdGhlIGRhdGEgYXJyYXkgdG8gY29ycmVzcG9uZGluZyBvYmplY3RcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0RGF0YUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3BsaXREYXRhW3NwbGl0RGF0YUtleXNbaV1dID0gW107Ly9Bc3NpZ24gZW1wdHkgYXJyYXkgdG8gZWFjaCBsb2NhdGlvblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Bc3NpZ24gRGF0YSBlbGVtZW50cyB0byBhcHByb3ByaWF0ZSBwbGFjZSBpbiBzcGxpdERhdGEgb2JqZWN0XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3BsaXREYXRhW2NoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YVtpXVtzcGxpdE9wdGlvbk5hbWVdXS5wdXNoKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YVtpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBudW1WaXp6ZXMgPSBzcGxpdERhdGFLZXlzLmxlbmd0aDtcclxuXHJcblxyXG4gICAgICAgIGN1c3RvbVNpemUuaGVpZ2h0ID0gKG51bVZpenplcykgKiAzMDA7XHJcblxyXG4gICAgICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsIG1hcmdpbiwgY3VzdG9tU2l6ZSk7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG4gICAgICAgIGNoYXJ0LmRyYXdHcmlkbGluZXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1WaXp6ZXM7IGkrKykge1xyXG4gICAgICAgICAgICBjaGFydC5nZW5lcmF0ZVBvaW50cyhzcGxpdERhdGFbc3BsaXREYXRhS2V5c1tpXV0sIGkpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL1doZW4gdGhlcmUgaXNuJ3QgYSBzcGxpdCwgdGhlIGJhc2UgY2FzZVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgbWFyZ2luLCBjdXN0b21TaXplKTtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICAgICAgY2hhcnQuZHJhd0dyaWRsaW5lcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG4gICAgICAgIGNoYXJ0LmdlbmVyYXRlUG9pbnRzKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmKHR5cGVvZiBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTaW5nbGVBeGlzWihkYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHNpemUgPSBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUuc2l6ZSxcclxuICAgICAgICBtaW4gPSBkYXRhWzBdW3NpemVdLFxyXG4gICAgICAgIG1heCA9IGRhdGFbMF1bc2l6ZV07XHJcbiAgICAvL0ZpbmQgbWluIGFuZCBtYXggb2YgdGhlIGRhdGFcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBudW0gPSBkYXRhW2ldW3NpemVdO1xyXG4gICAgICAgIGlmIChudW0gPiBtYXgpIHtcclxuICAgICAgICAgICAgbWF4ID0gbnVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChudW0gPCBtaW4pIHtcclxuICAgICAgICAgICAgbWluID0gbnVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgICdtaW4nOiBtaW4sXHJcbiAgICAgICAgJ21heCc6IG1heCxcclxuICAgICAgICAnbGFiZWwnOiBzaXplXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUG9pbnRzKGRhdGEsIHlMZXZlbCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIGRhdGFUYWJsZSA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgekF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEuekF4aXNEYXRhLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgcG9pbnRDb2xvciA9IFwiIzYwOWNkYlwiLFxyXG4gICAgICAgIGNvbG9yZWRQb2ludCA9IFwiI2U4OGExN1wiO1xyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgY29uc3QgU1BMSVRfQ0xVU1RFUl9IRUlHSFQgPSAzMDA7XHJcbiAgICBjb25zdCBUUkFOU0xBVEVfU1BMSVRfQ0xVU1RFUiA9IDE1MDtcclxuXHJcblxyXG4gICAgLy9JZiB0aGVyZSdzIGEgc3BsaXQsIGFjY291bnQgZm9yIHRoZSBtdWx0aXBsZSBheGVzXHJcbiAgICB2YXIgY3VycmVudEF4aXNIZWlnaHQ7XHJcbiAgICBpZiAoeUxldmVsICE9IG51bGwpIHtcclxuICAgICAgICBjdXJyZW50QXhpc0hlaWdodCA9ICh5TGV2ZWwgKiBTUExJVF9DTFVTVEVSX0hFSUdIVCkgKyBUUkFOU0xBVEVfU1BMSVRfQ0xVU1RFUjsvL0VhY2ggaGVpZ2h0IGlzIDEwMHB4XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjdXJyZW50QXhpc0hlaWdodCA9IGhlaWdodCAvIDI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRSA9IDQuNTtcclxuICAgIH1cclxuICAgIGlmICghY2hhcnQuX3ZhcnMuTk9ERV9NQVhfU0laRSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUgPSAyNTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FkZCBhIHBhdGggbGluZSB0aHJvdWdoIHRoZSBoZWlnaHQgb2YgdGhlIGF4aXNcclxuICAgIGlmICh5TGV2ZWwgIT0gbnVsbCkge1xyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCBjb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgY3VycmVudEF4aXNIZWlnaHQpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgY3VycmVudEF4aXNIZWlnaHQpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFwid2hpdGVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgXCIyMHB4XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsIFwiICsgVFJBTlNMQVRFX1NQTElUX0NMVVNURVIgKyBcIilcIik7XHJcblxyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5kYXR1bShkYXRhKVxyXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGN1cnJlbnRBeGlzSGVpZ2h0KVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRbMF1bY2hhcnQuX3ZhcnMuc3BsaXREYXRhLnJlcGxhY2UoL18vZywgJyAnKV07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKC04NSwgMClcIik7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgdmFyIHNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24oZGF0YSlcclxuICAgICAgICAuYWxwaGFEZWNheSguMDUpXHJcbiAgICAgICAgLmZvcmNlKFwieFwiLCBkMy5mb3JjZVgoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoZFtkYXRhVGFibGUueF0pO1xyXG4gICAgICAgIH0pLnN0cmVuZ3RoKDEpKVxyXG4gICAgICAgIC5mb3JjZShcInlcIiwgZDMuZm9yY2VZKGN1cnJlbnRBeGlzSGVpZ2h0KSlcclxuICAgICAgICAuZm9yY2UoXCJjb2xsaWRlXCIsIGQzLmZvcmNlQ29sbGlkZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAvL1NldCBjb2xsaXNpb24gcmFkaXVzIGVxdWFsIHRvIHRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzaXplJykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtID0gKGRbZGF0YVRhYmxlLnNpemVdIC0gekF4aXNEYXRhLm1pbikgLyAoekF4aXNEYXRhLm1heCAtIHpBeGlzRGF0YS5taW4pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IChjaGFydC5fdmFycy5OT0RFX01BWF9TSVpFIC0gY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRSkgKiBub3JtICsgY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfSkuc3RyZW5ndGgoMSkpXHJcbiAgICAgICAgLmZvcmNlKFwiY2hhcmdlXCIsIGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtNikpXHJcbiAgICAgICAgLnN0b3AoKTtcclxuICAgIC8vXHJcblxyXG4gICAgLy9PbiBEcmF3IE1vdmUgUG9pbnRzXHJcbiAgICBmdW5jdGlvbiBtb3ZlVG93YXJkRGF0YVBvc2l0aW9uKGFscGhhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGQueCArPSAoeChkLngpIC0gZC54KSAqIC4xICogYWxwaGE7XHJcbiAgICAgICAgICAgIGQueSArPSAoeShkLnkpIC0gZC55KSAqIC4wNSAqIGFscGhhO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjA7ICsraSkgc2ltdWxhdGlvbi50aWNrKCk7XHJcblxyXG4gICAgdmFyIGNlbGwgPSBzdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjZWxsc1wiKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXHJcbiAgICAgICAgLmRhdGEoZDMudm9yb25vaSgpXHJcbiAgICAgICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcclxuICAgICAgICAgICAgLngoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLng7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC55O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAucG9seWdvbnMoZGF0YSlcclxuICAgICAgICApXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJjZWxsLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICBjZWxsXHJcbiAgICAgICAgLmFwcGVuZChcImNpcmNsZVwiKVxyXG4gICAgICAgIC5hdHRyKFwiclwiLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzaXplJykgJiYgZCAhPSBudWxsICYmIGQuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm0gPSAoZC5kYXRhW2RhdGFUYWJsZS5zaXplXSAtIHpBeGlzRGF0YS5taW4pIC8gKHpBeGlzRGF0YS5tYXggLSB6QXhpc0RhdGEubWluKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4obm9ybSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gKGNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUgLSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFKSAqIG5vcm0gKyBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7Ly9JZiB0aGVyZSBpcyBvbmx5IDEgbm9kZSBvbiB0aGUgY2hhcnRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gMDsvL0Rvbid0IGRpc3BsYXkgdW5kZWZpbmVkIG5vZGVzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRTsvL0RlZmF1bHQgbm9kZSBzaXplIG9mIDE1XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy92YWwgPSAzO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJjeFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuZGF0YS55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCAmJiBkLmRhdGFbY2hhcnQuX3ZhcnMuY29sb3JEYXRhQ2F0ZWdvcnldID09PSBjaGFydC5fdmFycy5jb2xvckRhdGFJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yZWRQb2ludDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludENvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgLjgpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCJibGFja1wiKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDEpXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGNoYXJ0Ll92YXJzLnNpbmdsZUF4aXNGaWxsSG92ZXJDb2xvcik7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCAmJiBkLmRhdGFbY2hhcnQuX3ZhcnMuY29sb3JEYXRhQ2F0ZWdvcnldID09PSBjaGFydC5fdmFycy5jb2xvckRhdGFJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JlZFBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50Q29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNpbmdsZUF4aXNEYXRhKGRhdGEsIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBsYWJlbCxcclxuICAgICAgICBkYXRhVHlwZSxcclxuICAgICAgICBtaW4sXHJcbiAgICAgICAgbWF4LFxyXG4gICAgICAgIHZhbHVlcyA9IFtdO1xyXG5cclxuICAgIGlmIChkYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCd4JykpIHtcclxuICAgICAgICAgICAgbGFiZWwgPSBkYXRhVGFibGUueDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZGF0YVR5cGUgPSAnTlVNQkVSJztcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YWx1ZXMucHVzaChkYXRhW2ldW2RhdGFUYWJsZS54XSk7XHJcbiAgICB9XHJcblxyXG4gICAgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKTtcclxuICAgIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyk7XHJcblxyXG4gICAgLy9BZGQgYSAxMCUgYnVmZmVyIHRvIGJvdGggc2lkZXNcclxuICAgIG1pbiA9IE1hdGguZmxvb3IobWluIC0gKChtYXggLSBtaW4pICogLjEwKSk7XHJcbiAgICBtYXggPSBNYXRoLmNlaWwobWF4ICsgKChtYXggLSBtaW4pICogLjEwKSk7XHJcblxyXG4gICAgLy9Gb3IgYXhpcyBtaW4vbWF4IHdpZGdldFxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmhhc093blByb3BlcnR5KCd4TWluJykgJiYgY2hhcnQuX3ZhcnMueE1pbiAhPSAnbm9uZScpIHtcclxuICAgICAgICBtaW4gPSBjaGFydC5vcHRpb25zLnhNaW47XHJcbiAgICB9XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuaGFzT3duUHJvcGVydHkoJ3hNYXgnKSAmJiBjaGFydC5fdmFycy54TWF4ICE9ICdub25lJykge1xyXG4gICAgICAgIG1heCA9IGNoYXJ0Ll92YXJzLnhNYXg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAnbGFiZWwnOiBsYWJlbCxcclxuICAgICAgICAndmFsdWVzJzogdmFsdWVzLFxyXG4gICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlLFxyXG4gICAgICAgICdtaW4nOiBtaW4sXHJcbiAgICAgICAgJ21heCc6IG1heFxyXG4gICAgfVxyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc3VuYnVyc3QgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVTdW5idXJzdCA9IGdlbmVyYXRlU3VuYnVyc3Q7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFN1bmJ1cnN0IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRTdW5idXJzdENoYXJ0RGF0YVxyXG4gKiAgZ2V0cyBzdW5idXJzdCBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0gY2hhcnQuY29sb3JzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgc3VuYnVyc3RNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogMTUsXHJcbiAgICAgICAgcmlnaHQ6IDE1LFxyXG4gICAgICAgIGJvdHRvbTogMTUsXHJcbiAgICAgICAgbGVmdDogMTVcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBzdW5idXJzdE1hcmdpbnMpO1xyXG4gICAgLy9jaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVTdW5idXJzdCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVTdW5idXJzdChjaGFydC5jdXJyZW50RGF0YSk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlU3VuYnVyc3RcclxuICpcclxuICogcGFpbnRzIHRoZSBzdW5idXJzdCBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyBzdW5idXJzdERhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU3VuYnVyc3Qoc3VuYnVyc3REYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGFsbEZpbHRlckxpc3QgPSBbXSxcclxuICAgICAgICByZWxhdGlvbk1hcCA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIGNoYXJ0TmFtZSA9IGNoYXJ0LmNvbmZpZy5uYW1lLFxyXG4gICAgICAgIHdpZHRoID0gY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgcmFkaXVzID0gKE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMikgLSAxMDtcclxuXHJcbiAgICBjaGFydC5jaGlsZHJlbiA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG5cclxuICAgIHZhciBuZXdEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydC5jaGlsZHJlbikpOy8vY29weSBvZiBwaWUgZGF0YVxyXG5cclxuICAgIHZhciBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJyxkJyk7XHJcblxyXG4gICAgdmFyIHggPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgLnJhbmdlKFswLCAyICogTWF0aC5QSV0pO1xyXG5cclxuICAgIHZhciB5ID0gZDMuc2NhbGVTcXJ0KClcclxuICAgICAgICAucmFuZ2UoWzAsIHJhZGl1c10pO1xyXG5cclxuICAgIHZhciBjb2xvciA9IGQzLnNjYWxlT3JkaW5hbCgpXHJcbiAgICAgICAgLnJhbmdlKGNoYXJ0LmRhdGEuY29sb3JcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYykgeyBjID0gZDMucmdiKGMpOyBjLm9wYWNpdHkgPSAxOyByZXR1cm4gYzsgfSkpO1xyXG5cclxuICAgIC8vdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApO1xyXG5cclxuICAgIHZhciBwYXJ0aXRpb24gPSBkMy5wYXJ0aXRpb24oKTtcclxuXHJcbiAgICB2YXIgYXJjID0gZDMuYXJjKClcclxuICAgICAgICAuc3RhcnRBbmdsZShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMiAqIE1hdGguUEksIHgoZC54MCkpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lbmRBbmdsZShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMiAqIE1hdGguUEksIHgoZC54MSkpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5pbm5lclJhZGl1cyhmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgeShkLnkwKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub3V0ZXJSYWRpdXMoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHkoZC55MSkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vYXNzaWducyB0aGUgZGF0YSB0byBhIGhpZXJhcmNoeSB1c2luZyBwYXJlbnQtY2hpbGQgcmVsYXRpb25zaGlwc1xyXG4gICAgdmFyIHJvb3QgPSBkMy5oaWVyYXJjaHkoY2hhcnQuY2hpbGRyZW4sIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW47XHJcbiAgICB9KTtcclxuXHJcbiAgICByb290LnN1bShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdzdW5idXJzdCcpXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodClcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgd2lkdGggLyAyICsgJywnICsgKGhlaWdodCAvIDIpICsgJyknKTtcclxuXHJcblxyXG4gICAgdmlzLnNlbGVjdEFsbCgncGF0aCcpXHJcbiAgICAgICAgLmRhdGEocGFydGl0aW9uKHJvb3QpLmRlc2NlbmRhbnRzKCkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnbm9kZScpO1xyXG5cclxuICAgIHZhciBwYXRoID0gdmlzLnNlbGVjdEFsbCgnLm5vZGUnKVxyXG4gICAgICAgIC5hcHBlbmQoJ3BhdGgnKVxyXG4gICAgICAgIC5hdHRyKCdkJywgYXJjKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkLmRhdGEubmFtZSA9PT0gJ3Jvb3QnKSB7XHJcbiAgICAgICAgICAgICAgICBkLmNvbG9yID0gY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkLmNvbG9yID0gY29sb3IoZC5kYXRhLm5hbWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29sb3IoZC5kYXRhLm5hbWUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIHREYXRhID0gY2hhcnQuZGF0YS50aXBEYXRhLmdldChkLmRhdGEubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB0RGF0YS5uYW1lID0gZC5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAvLyB0RGF0YS5jb2xvciA9IGQuY29sb3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGNsaWNrKVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGlmIChjaGFydC5fdmFycy5kaXNwbGF5VmFsdWVzKSB7XHJcbiAgICAgICAgdmFyIHRleHQgPSB2aXMuc2VsZWN0QWxsKCcubm9kZScpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAncm90YXRlKCcgKyBjb21wdXRlVGV4dFJvdGF0aW9uKGQpICsgJyknO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkwKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ2R4JywgJzYnKSAvL21hcmdpblxyXG4gICAgICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKSAvL3ZlcnRpY2FsLWFsaWduXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLm5hbWUgPT09ICdyb290JyA/ICcnIDogZC5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBjbGljayhkKSB7XHJcbiAgICAgICAgLy9mYWRlIG91dCBhbGwgdGV4dCBlbGVtZW50c1xyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5kaXNwbGF5VmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHRleHQudHJhbnNpdGlvbigpLmF0dHIoJ29wYWNpdHknLCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZpcy50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDc1MClcclxuICAgICAgICAgICAgLnR3ZWVuKCdzY2FsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciB4ZCA9IGQzLmludGVycG9sYXRlKHguZG9tYWluKCksIFtkLngwLCBkLngxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgeWQgPSBkMy5pbnRlcnBvbGF0ZSh5LmRvbWFpbigpLCBbZC55MCwgMV0pLFxyXG4gICAgICAgICAgICAgICAgICAgIHlyID0gZDMuaW50ZXJwb2xhdGUoeS5yYW5nZSgpLCBbZC55MCA/IDIwIDogMCwgcmFkaXVzXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHguZG9tYWluKHhkKHQpKTsgeS5kb21haW4oeWQodCkpLnJhbmdlKHlyKHQpKTsgfTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNlbGVjdEFsbCgncGF0aCcpXHJcbiAgICAgICAgICAgIC5hdHRyVHdlZW4oJ2QnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJjKGQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdlbmQnLCBmdW5jdGlvbiAoZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmRpc3BsYXlWYWx1ZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIHRoZSBhbmltYXRlZCBlbGVtZW50J3MgZGF0YSBlIGxpZXMgd2l0aGluIHRoZSB2aXNpYmxlIGFuZ2xlIHNwYW4gZ2l2ZW4gaW4gZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLngwID4gZC54MCAmJiBlLngwIDwgZC54MSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBhIHNlbGVjdGlvbiBvZiB0aGUgYXNzb2NpYXRlZCB0ZXh0IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyY1RleHQgPSBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5zZWxlY3QoJ3RleHQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mYWRlIGluIHRoZSB0ZXh0IGVsZW1lbnQgYW5kIHJlY2FsY3VsYXRlIHBvc2l0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmNUZXh0LnRyYW5zaXRpb24oKS5kdXJhdGlvbig3NTApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAndmlzaWJsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gJ3JvdGF0ZSgnICsgY29tcHV0ZVRleHRSb3RhdGlvbihlKSArICcpJzsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHkoZC55MCk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEubmFtZSA9PT0gJ3Jvb3QnID8gJycgOiBkLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcHV0ZVRleHRSb3RhdGlvbihkKSB7XHJcbiAgICAgICAgcmV0dXJuICh4KChkLngwICsgZC54MSkgLyAyKSAtIE1hdGguUEkgLyAyKSAvIE1hdGguUEkgKiAxODA7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS50cmVlbWFwID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlVHJlZU1hcCA9IGdlbmVyYXRlVHJlZU1hcDtcclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBUcmVlTWFwIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRUcmVlTWFwRGF0YVxyXG4gKiAgZ2V0cyB0cmVlbWFwIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldFRyZWVNYXBMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG4vKipzZXRUcmVlTWFwTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRUcmVlTWFwTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFydERhdGEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAobGVnZW5kQXJyYXkuaW5kZXhPZihkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbltpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbltpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgdHJlZU1hcE1hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiA0NSxcclxuICAgICAgICByaWdodDogNTAsXHJcbiAgICAgICAgbGVmdDogNTAsXHJcbiAgICAgICAgYm90dG9tOiAxMzBcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCB0cmVlTWFwTWFyZ2lucyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVUcmVlTWFwJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVRyZWVNYXAoY2hhcnQuY3VycmVudERhdGEpO1xyXG5cclxuXHJcbn07XHJcblxyXG4vKiogZ2VuZXJhdGVUcmVlTWFwXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgdHJlZW1hcCBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyB0cmVlTWFwRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVUcmVlTWFwKHRyZWVNYXBEYXRhKSB7XHJcblxyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29sb3JzID0gdHJlZU1hcERhdGEuY29sb3IsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBhbGxGaWx0ZXJMaXN0ID0gW10sXHJcbiAgICAgICAgcmVsYXRpb25NYXAgPSBjaGFydC5kYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB0cmVlbWFwID0gbnVsbCxcclxuICAgICAgICBjaGFydE5hbWUgPSBjaGFydC5jb25maWcubmFtZTtcclxuXHJcbiAgICBjaGFydC5jaGlsZHJlbiA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG5cclxuICAgIHZhciBuZXdEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydC5jaGlsZHJlbikpOy8vY29weSBvZiBwaWUgZGF0YVxyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcblxyXG4gICAgdmFyIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IGp2Q2hhcnRzLmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheShkYXRhSGVhZGVycywgY2hhcnQuZGF0YS5sZWdlbmREYXRhKTtcclxuXHJcblxyXG5cclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0RhdGEuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gbmV3RGF0YS5jaGlsZHJlbltqXVtyZWxhdGlvbk1hcC5zZXJpZXNdICYmIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YS5jaGlsZHJlbltqXS5zaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRyZWVNYXBEYXRhRmlsdGVyZWQgPSB7fTtcclxuICAgIHRyZWVNYXBEYXRhRmlsdGVyZWRbXCJQYXJlbnRcIl0gPSBcIlRvcCBMZXZlbFwiO1xyXG4gICAgdHJlZU1hcERhdGFGaWx0ZXJlZC5jaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3RGF0YS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChuZXdEYXRhLmNoaWxkcmVuW2pdLnNob3cgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHRyZWVNYXBEYXRhRmlsdGVyZWQuY2hpbGRyZW4ucHVzaChuZXdEYXRhLmNoaWxkcmVuW2pdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIGFzc2lnbnMgdGhlIGRhdGEgdG8gYSBoaWVyYXJjaHkgdXNpbmcgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcHNcclxuICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KHRyZWVNYXBEYXRhRmlsdGVyZWQsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW47XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgdHJlZW1hcCA9IGQzLnRyZWVtYXAoKVxyXG4gICAgICAgIC5zaXplKFtjb250YWluZXIud2lkdGgsIGNvbnRhaW5lci5oZWlnaHRdKVxyXG4gICAgICAgIC5wYWRkaW5nKDIpO1xyXG5cclxuICAgIHZhciBub2RlcyA9IHRyZWVtYXAocm9vdFxyXG4gICAgICAgIC5zdW0oZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRbcmVsYXRpb25NYXAuc2l6ZV07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYi5oZWlnaHQgLSBhLmhlaWdodCB8fCBiLnZhbHVlIC0gYS52YWx1ZTtcclxuICAgICAgICB9KSlcclxuICAgICAgICAuZGVzY2VuZGFudHMoKTtcclxuXHJcbiAgICAvL1JlbW92ZSBleGlzdGluZyBiYXJzIGZyb20gcGFnZVxyXG4gICAgc3ZnLnNlbGVjdEFsbChcImcudHJlZW1hcFwiKS5yZW1vdmUoKTtcclxuICAgIHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcInRyZWVtYXBcIik7XHJcblxyXG4gICAgdmFyIG5vZGUgPSBzdmcuc2VsZWN0KFwiLnRyZWVtYXBcIilcclxuICAgICAgICAuc2VsZWN0QWxsKFwiZ1wiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QubGVhdmVzKCkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoMCwwKSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbm9kZS5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC8vIC5jYWxsKHBvc2l0aW9uKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC54MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC55MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueDEgLSBkLngwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueTEgLSBkLnkwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBkLmRhdGFbcmVsYXRpb25NYXAuc2VyaWVzXSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImZpbGwtb3BhY2l0eVwiLCAuOClcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBjaGFydC5fdmFycy53aGl0ZSlcclxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCBjaGFydC5fdmFycy5zdHJva2VXaWR0aClcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcbiAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcblxyXG4gICAgICAgICAgICAvLyB2YXIgcmVjdCA9IGQzLnNlbGVjdCh0aGlzKTtcclxuICAgICAgICAgICAgLy8gcmVjdC5hdHRyKFwiZmlsbFwiLCBjaGFydC5fdmFycy5saWdodCk7XHJcbiAgICAgICAgICAgIC8vIHJlY3QudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAvLyB2YXIgcmVjdCA9IGQzLnNlbGVjdCh0aGlzKTtcclxuICAgICAgICAgICAgLy8gcmVjdC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGQuZGF0YVtyZWxhdGlvbk1hcC5zZXJpZXNdKTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgIC8vIHJlY3QudHJhbnNpdGlvbigpLmR1cmF0aW9uKDIwMCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbm9kZS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC8vIC5jYWxsKHBvc2l0aW9uKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC54MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC55MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueDEgLSBkLngwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueTEgLSBkLnkwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMywgMTgpXCIpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQuZHkgIT09IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVuID8gbnVsbCA6IGQuZGF0YVtyZWxhdGlvbk1hcC5sYWJlbF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgLyogRG9uJ3QgZGlzcGxheSB0ZXh0IGlmIHRleHQgaXMgd2lkZXIgdGhhbiByZWN0ICovXHJcbiAgICB2YXIgdGVtcCA9IHN2Zy5zZWxlY3QoXCIudHJlZW1hcFwiKS5zZWxlY3RBbGwoXCJnXCIpLnNlbGVjdEFsbChcInRleHRcIik7XHJcbiAgICB0ZW1wLmF0dHIoXCJzdHlsZVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEJCb3goKS53aWR0aCA+PSAoZC54MSAtIGQueDApIC0gNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJkaXNwbGF5Om5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0QkJveCgpLmhlaWdodCA+PSAoZC55MSAtIGQueTApIC0gNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJkaXNwbGF5Om5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmNsb3VkID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQ2xvdWQgPSBnZW5lcmF0ZUNsb3VkO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDbG91ZCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0Q2xvdWREYXRhXHJcbiAqICBnZXRzIGNsb3VkIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0gY2hhcnQuY29sb3JzO1xyXG59O1xyXG5cclxuLyoqc2V0Q2xvdWRMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldENsb3VkTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFydERhdGEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAobGVnZW5kQXJyYXkuaW5kZXhPZihkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbltpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbltpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBpZiAoIWNoYXJ0LnNtYWxsZXJGb250UmVwYWludCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmZvbnRTaXplTWF4ID0gODA7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2hhcnQuZGF0YSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICB2YXIgY2xvdWRNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogMTUsXHJcbiAgICAgICAgcmlnaHQ6IDE1LFxyXG4gICAgICAgIGxlZnQ6IDE1LFxyXG4gICAgICAgIGJvdHRvbTogMTVcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBjbG91ZE1hcmdpbnMpO1xyXG4gICAgLy8gY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlQ2xvdWQnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQ2xvdWQoY2hhcnQuY3VycmVudERhdGEpO1xyXG59O1xyXG5cclxuLyoqIGdlbmVyYXRlQ2xvdWRcclxuICpcclxuICogcGFpbnRzIHRoZSBjbG91ZCAgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgY2xvdWQgRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVDbG91ZChjbG91ZERhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgYWxsRmlsdGVyTGlzdCA9IFtdLFxyXG4gICAgICAgIHJlbGF0aW9uTWFwID0gY2hhcnQuZGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgY2hhcnROYW1lID0gY2hhcnQuY29uZmlnLm5hbWUsXHJcbiAgICAgICAgd2lkdGggPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICBtYXJnaW4gPSBjaGFydC5jb25maWcubWFyZ2luLFxyXG4gICAgICAgIG1pbixcclxuICAgICAgICBtYXg7XHJcblxyXG4gICAgdmFyIGNhdGVnb3JpZXMgPSBkMy5rZXlzKGQzLm5lc3QoKS5rZXkoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICBpZiAoIW1pbiAmJiAhbWF4KSB7XHJcbiAgICAgICAgICAgIG1pbiA9IGRbcmVsYXRpb25NYXAudmFsdWVdO1xyXG4gICAgICAgICAgICBtYXggPSBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZFtyZWxhdGlvbk1hcC52YWx1ZV0gPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgIG1heCA9IGRbcmVsYXRpb25NYXAudmFsdWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkW3JlbGF0aW9uTWFwLnZhbHVlXSA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgbWluID0gZFtyZWxhdGlvbk1hcC52YWx1ZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgIH0pLm1hcChjbG91ZERhdGEuY2hhcnREYXRhKSk7XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5mb250U2l6ZU1heCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmZvbnRTaXplTWF4ID0gODA7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKClcclxuICAgICAgICAucmFuZ2UoY2hhcnQuZGF0YS5jb2xvclxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IGMgPSBkMy5yZ2IoYyk7IGMub3BhY2l0eSA9IDAuODsgcmV0dXJuIGM7IH0pKTtcclxuXHJcbiAgICB2YXIgZm9udFNpemUgPSBkMy5zY2FsZVBvdygpLmV4cG9uZW50KDUpLmRvbWFpbihbMCwgMV0pLnJhbmdlKFsxMCwgY2hhcnQuX3ZhcnMuZm9udFNpemVNYXhdKTtcclxuICAgIGNoYXJ0LnNtYWxsZXJGb250UmVwYWludCA9IGZhbHNlO1xyXG4gICAgdmFyIGxheW91dCA9IGQzLmxheW91dC5jbG91ZCgpXHJcbiAgICAgICAgLnRpbWVJbnRlcnZhbCgxMClcclxuICAgICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pXHJcbiAgICAgICAgLndvcmRzKGNsb3VkRGF0YS5jaGFydERhdGEpXHJcbiAgICAgICAgLnJvdGF0ZShmdW5jdGlvbiAoZCkgeyByZXR1cm4gMDsgfSlcclxuICAgICAgICAuZm9udCgnUm9ib3RvJylcclxuICAgICAgICAuZm9udFNpemUoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvbnRTaXplKG1heCAtIG1pbiAhPT0gMCA/IChkW3JlbGF0aW9uTWFwLnZhbHVlXSAtIG1pbikgLyAobWF4IC0gbWluKSA6IDApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnJlcGFpbnRXaXRoU21hbGxlckZvbnQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5mb250U2l6ZU1heCA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5mb250U2l6ZU1heCAtPSA1O1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuc21hbGxlckZvbnRSZXBhaW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHBhaW50KGNoYXJ0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGRbcmVsYXRpb25NYXAubGFiZWxdOyB9KVxyXG4gICAgICAgIC5zcGlyYWwoXCJhcmNoaW1lZGVhblwiKVxyXG4gICAgICAgIC5vbihcImVuZFwiLCBkcmF3KVxyXG4gICAgICAgIC5zdGFydCgpO1xyXG5cclxuICAgIHZhciB3b3JkY2xvdWQgPSBzdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd3b3JkY2xvdWQnKVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcclxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHdpZHRoIC8gMiArIFwiLFwiICsgaGVpZ2h0IC8gMiArIFwiKVwiKTtcclxuXHJcbiAgICBmdW5jdGlvbiBkcmF3KHdvcmRzKSB7XHJcbiAgICAgICAgaWYgKGNoYXJ0LnNtYWxsZXJGb250UmVwYWludCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdvcmRjbG91ZC5zZWxlY3RBbGwoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5kYXRhKGNsb3VkRGF0YS5jaGFydERhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3dvcmQnKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLnNpemUgKyBcInB4XCI7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdHlsZShcImZvbnQtZmFtaWx5XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5mb250O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IoZFtyZWxhdGlvbk1hcC52YWx1ZV0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgICAgIC50cmFuc2l0aW9uKCkuZHVyYXRpb24oXCIxMDAwXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBcInRyYW5zbGF0ZShcIiArIFtkLngsIGQueV0gKyBcIilyb3RhdGUoXCIgKyBkLnJvdGF0ZSArIFwiKVwiOyB9KVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC50ZXh0OyB9KVxyXG4gICAgICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB0aXBEYXRhLmNvbG9yID0gY29sb3IoZFtyZWxhdGlvbk1hcC52YWx1ZV0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXBcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIl19
