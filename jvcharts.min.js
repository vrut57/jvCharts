(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var html = "<!--Top title bar of edit popup-->\n<div class='title'>\n    <div class=\"jv-inline\">\n        <b>Edit Options<div id=\"edit-option-element\" class=\"jv-inline\" style=\"visibility: hidden;\"></div>:</b>\n    </div>\n\n    <div id='exitEditMode' class='jv-pull-right jv-pointer'>\n        <i class='fa fa-times'></i>\n    </div>\n</div>\n\n<!--Line dividing top bar with form options below-->\n<hr style='margin:3px 0 3px 0;'/>\n\n<!--Form Options-->\n<div id=\"form'+chart.config.name+'\">\n\n    <!--Number formatting options-->\n    <div class=\"jv-full-width editable-num-format\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Number Format:\n            <select id=\"editable-num-format\">\n                <option value=\"\">--Select Option--</option>\n                <option value=\"currency\">Currency</option>\n                <option value=\"fixedCurrency\">Fixed Point Currency</option>\n                <option value=\"percent\">Percent</option>\n                <option value=\"millions\">Millions</option>\n                <option value=\"commas\">Commas</option>\n                <option value=\"none\">None</option>\n            </select>\n        </div>\n        <br/>\n    </div>\n\n    <!--Text formatting options-->\n    <div class=\"editable-text-size-buttons jv-center topBarOption increasefont jv-pointer\" style=\"display: none;\">\n        <button id='decreaseFontSize' title='Decrease the font size' class='topbar-button font jv-button jv-pointer'><i class='fa fa-font'></i><i class='fa fa-long-arrow-down'></i></button>\n        <button id='increaseFontSize' title='Increase the font size' class='topbar-button font jv-button jv-pointer'><i class='fa fa-font'></i><i class='fa fa-long-arrow-up'></i></button>\n    </div>\n\n\n    <div class=\"jv-full-width editable-text-color\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text Color:\n            <input type=\"color\" id=\"editable-text-color\" value=\"#000000\">\n        </div>\n        <br/>\n    </div>\n\n    <div class=\"jv-full-width editable-text-size\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text Size:\n            <input type=\"number\" id=\"editable-text-size\" min=\"0\" max=\"30\" value=\"12\">\n        </div>\n        <br/>\n    </div>\n\n    <div class=\"jv-full-width editable-content\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Text:\n            <input type=\"text\" id=\"editable-content\" placeholder=\"Enter text here\">\n        </div>\n        <br/>\n    </div>\n\n    <!--bar chart formatting-->\n    <div class=\"jv-full-width editable-bar\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Bar Color:\n            <input type=\"color\" id=\"editable-bar\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--pie chart formatting-->\n    <div class=\"jv-full-width editable-pie\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Pie Slice Color:\n            <input type=\"color\" id=\"editable-pie\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--scatter plot formatting-->\n    <div class=\"jv-full-width editable-scatter\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Scatter Circle Color:\n            <input type=\"color\" id=\"editable-scatter\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--bubble chart formatting-->\n    <div class=\"jv-full-width editable-bubble\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Bubble Color:\n            <input type=\"color\" id=\"editable-bubble\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--box and whisker plot formatting-->\n    <div class=\"jv-full-width editable-box\" style=\"display: none;\">\n        <div class=\"jv-edit-mode-input\">Box Color:\n            <input type=\"color\" id=\"editable-box\" value=\"#aaaaaa\">\n        </div>\n        <br/>\n    </div>\n\n    <!--Submit button-->\n    <div class=\"editable-default-and-apply\">\n        <button id=\"submitEditModeDefault\" class=\"jv-button jv-pull-left\">Default</button>\n        <button id=\"submitEditMode\" class=\"jv-button jv-button-green jv-pull-right\">Apply</button>\n    </div>\n</div>";

module.exports = html;

},{}],2:[function(require,module,exports){
'use strict';
//add all required files

require('./jvVars.js');
require('./jvEvents.js');
require('./jvTip.js');
require('./jvBrush.js');
require('./jvComment.js');
require('./jvEdit.js');
require('./visuals/jvBar.js');
require('./visuals/jvPie.js');
require('./visuals/jvLine.js');
require('./visuals/jvScatter.js');
require('./visuals/jvArea.js');
require('./visuals/jvGantt.js');
require('./visuals/jvHeatmap.js');
require('./visuals/jvPack.js');
require('./visuals/jvRadial.js');
require('./visuals/jvSankey.js');
require('./visuals/jvSingleAxis.js');
require('./visuals/jvSunburst.js');
require('./visuals/jvTreemap.js');
require('./visuals/jvWordCloud.js');
require('./visuals/jvBoxWhisker.js');
require('./visuals/jvBubble.js');
require('./visuals/jvClustergram.js');

//attach jv charts objects to the window
var jvCharts = require('./jvCharts.js');
var jvBrush = require('./jvBrush.js');
var jvComment = require('./jvComment.js');
var jvEdit = require('./jvEdit.js');
var jvSelect = require('./jvSelect');
// var jvDoodle = require('./jvDoodle.js');

//Comment out to remove from window object - if you are not using jvCharts as a minified file
window.jvCharts = jvCharts;
window.jvBrush = jvBrush;
window.jvComment = jvComment;
window.jvEdit = jvEdit;
window.jvSelect = jvSelect;

//add polyfill for Object.assign() if unsupported
if (typeof Object.assign !== 'function') {
    Object.assign = function (target) {
        //.length of function is 2
        'use strict';

        if (target == null) {
            //TypeError if undefined or null
            throw new TypeError('Cannot convert undefined or null to object');
        }
        var to = Object(target);
        for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];

            if (nextSource != null) {
                //Skip over if undefined or null
                for (var nextKey in nextSource) {
                    //Avoid bugs when hasOwnProperty is shadowed
                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                        to[nextKey] = nextSource[nextKey];
                    }
                }
            }
        }
        return to;
    };
}

},{"./jvBrush.js":3,"./jvCharts.js":4,"./jvComment.js":5,"./jvEdit.js":6,"./jvEvents.js":7,"./jvSelect":8,"./jvTip.js":9,"./jvVars.js":10,"./visuals/jvArea.js":11,"./visuals/jvBar.js":12,"./visuals/jvBoxWhisker.js":13,"./visuals/jvBubble.js":14,"./visuals/jvClustergram.js":15,"./visuals/jvGantt.js":16,"./visuals/jvHeatmap.js":17,"./visuals/jvLine.js":18,"./visuals/jvPack.js":19,"./visuals/jvPie.js":20,"./visuals/jvRadial.js":21,"./visuals/jvSankey.js":22,"./visuals/jvScatter.js":23,"./visuals/jvSingleAxis.js":24,"./visuals/jvSunburst.js":25,"./visuals/jvTreemap.js":26,"./visuals/jvWordCloud.js":27}],3:[function(require,module,exports){
'use strict';

/***  jvBrush ***/
function jvBrush(configObj) {
    'use strict';

    var brushObj = this;
    brushObj.chartDiv = configObj.chartDiv;
    brushObj.brushDiv = '';
    brushObj.jvChart = configObj.jvChart;
    brushObj.disabled = false;
    brushObj.onBrushCallback = configObj.onBrushCallback;
}

/********************************************* All Brush Mode Functions **************************************************/

jvBrush.prototype.removeBrush = function () {
    var brushObj = this,
        svg = brushObj.jvChart.svg;

    svg.selectAll('.brusharea').remove();
};

jvBrush.prototype.startBrush = function (event) {
    var brushObj = this,
        height = brushObj.jvChart.config.container.height,
        width = brushObj.jvChart.config.container.width,
        svg = brushObj.jvChart.svg;

    if (brushObj.jvChart.config.type === 'singleaxis') {
        brushObj.brushType = 'x';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brushX().extent([[0, 0], [width, height]]).on('end', brushEnd));
    } else {
        brushObj.brushType = 'xy';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brush().extent([[0, 0], [width, height]]).on('end', brushEnd));
    }

    if (event) {
        //dispatch brush at the event
        var brush_elm = svg.select(".brusharea").node();
        var new_click_event = new Event('mousedown');
        new_click_event.pageX = d3.event.pageX;
        new_click_event.clientX = d3.event.clientX;
        new_click_event.pageY = d3.event.pageY;
        new_click_event.clientY = d3.event.clientY;
        new_click_event.view = d3.event.view;
        brush_elm.__data__ = { type: "overlay" };
        brush_elm.dispatchEvent(new_click_event);
    }

    /**brushEnd
     * @desc - function called at the end of the user brushing
     */
    function brushEnd() {
        var xScale = brushObj.jvChart.currentData.xAxisScale,
            yScale = brushObj.jvChart.currentData.yAxisScale,
            filteredXAxisLabels = [],
            filteredYAxisLabels = [],
            shouldReset = false,
            e = d3.event.selection,
            returnObj,
            filteredLabels = [],
            filteredConcepts = {},
            index,
            filterCol,
            filteredLabelsX,
            filteredLabelsY;

        if (e) {
            if (brushObj.brushType === 'xy') {
                if (xScale && typeof xScale.invert !== 'function') {
                    //means that the scale is ordinal and not linear
                    returnObj = calculateBrushAreaOrdinal(e[0][0], e[1][0], xScale);
                    filteredXAxisLabels = returnObj.filteredAxisLabels;
                    shouldReset = returnObj.shouldReset;
                } else if (xScale) {
                    //calculate labels for linear scale
                    returnObj = calculateBrushAreaLinear(e[0][0], e[1][0], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                    filteredXAxisLabels = returnObj.filteredAxisLabels;
                    shouldReset = returnObj.shouldReset;
                }

                if (yScale && typeof yScale.invert !== 'function') {
                    //means that the scale is oridnal and not linear
                    returnObj = calculateBrushAreaOrdinal(e[0][1], e[1][1], yScale);
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (yScale) {
                    //calculate labels for linear scale
                    returnObj = calculateBrushAreaLinear(e[0][1], e[1][1], yScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'y');
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (brushObj.jvChart.config.type === 'cloud') {
                    returnObj = calculateCloudBrush(e, brushObj.jvChart.currentData);
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (brushObj.jvChart.config.type === 'heatmap') {
                    returnObj = calculateHeatmapBrush(e, brushObj.jvChart.currentData, brushObj.jvChart);
                    filteredLabelsX = returnObj.filteredXAxisLabels;
                    filteredLabelsY = returnObj.filteredYAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                }
            } else if (brushObj.brushType === 'x') {
                returnObj = calculateBrushAreaLinear(e[0], e[1], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                filteredXAxisLabels = returnObj.filteredAxisLabels;
                if (returnObj.shouldReset) {
                    shouldReset = true;
                }
            }
        } else {
            shouldReset = true;
        }

        if (filteredXAxisLabels.length > 0 && filteredYAxisLabels.length > 0) {
            //merge axisLabels
            for (var j = 0; j < filteredXAxisLabels.length; j++) {
                index = filteredYAxisLabels.indexOf(filteredXAxisLabels[j]);
                if (index > -1) {
                    filteredLabels.push(filteredXAxisLabels[j]);
                }
            }
        } else if (filteredXAxisLabels.length > 0) {
            filteredLabels = filteredXAxisLabels;
        } else if (filteredYAxisLabels.length > 0) {
            filteredLabels = filteredYAxisLabels;
        }

        if (brushObj.jvChart.config.type === 'heatmap') {
            if (!shouldReset) {
                var filterColX = brushObj.jvChart.currentData.dataTable.x;
                var filterColY = brushObj.jvChart.currentData.dataTable.y;
                if (filteredLabelsX.length > 0) {
                    filteredConcepts[filterColX] = filteredLabelsX;
                }
                if (filteredLabelsY.length > 0) {
                    filteredConcepts[filterColY] = filteredLabelsY;
                }
            }
        } else {
            if (brushObj.jvChart.config.type === 'gantt') {
                filterCol = brushObj.jvChart.currentData.dataTable.group;
            } else {
                filterCol = brushObj.jvChart.currentData.dataTable.label;
            }
            filteredConcepts[filterCol] = filteredLabels;
        }

        //calls back to update data with brushed data
        brushObj.onBrushCallback({
            data: filteredConcepts,
            reset: shouldReset,
            clean: true
        });
    }
};

/**calculateBrushAreaOrdinal
 *
 * @param mousePosMin
 * @param mousePosMax
 * @param scale
 * @returns Object
 * @desc calculates the ordinal values that are in the brushed area
 */
function calculateBrushAreaOrdinal(mousePosMin, mousePosMax, scale) {
    var domain = scale.domain(),
        padding = scale.padding(),
        step = scale.step(),
        minIndex,
        maxIndex,
        paddingDistance = padding * step / 2,
        filteredAxisLabels;

    //determine min index
    if (mousePosMin % step > step - paddingDistance) {
        //don't include on min side
        minIndex = Math.floor(mousePosMin / step) + 1;
    } else {
        //include on min side
        minIndex = Math.floor(mousePosMin / step);
    }

    //determine max index
    if (mousePosMax % step < paddingDistance) {
        //don't include on max side
        maxIndex = Math.floor(mousePosMax / step) - 1;
    } else {
        //include on max side
        maxIndex = Math.floor(mousePosMax / step);
        if (maxIndex === domain.length) {
            maxIndex -= 1;
        }
    }

    filteredAxisLabels = domain.slice(minIndex, maxIndex + 1);

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

/**calculateBrushAreaOrdinal
 *
 * @param mousePosMin
 * @param mousePosMax
 * @param scale
 * @param data chartData
 * @param type visual type
 * @param axis - x / y
 * @returns Object
 * @desc calculates the ordinal values that are in the brushed area
 */
function calculateBrushAreaLinear(mousePosMin, mousePosMax, scale, data, type, axis) {
    var filteredAxisLabels = [],
        min,
        max,
        axisLabel;

    //switch min and max if scale is y due to svg drawing (y axis increases up the screen while mousePos decreases)
    if (axis === 'y') {
        max = scale.invert(mousePosMin);
        min = scale.invert(mousePosMax);
    } else {
        min = scale.invert(mousePosMin);
        max = scale.invert(mousePosMax);
    }

    if (type === 'bar') {
        for (var i = 0; i < data.legendData.length; i++) {
            axisLabel = data.legendData[i];
            for (var j = 0; j < data.chartData.length; j++) {
                if (data.chartData[j][axisLabel] >= min) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
                }
            }
        }
    } else if (type === 'gantt') {
        max = new Date(max);
        min = new Date(min);
        for (var i = 0; i < data.legendData.length; i++) {
            var count = i + 1;
            for (var j = 0; j < data.chartData.length; j++) {
                var startDate = new Date(data.chartData[j][data.dataTable['start ' + count]]);
                var endDate = new Date(data.chartData[j][data.dataTable['end ' + count]]);
                if (startDate <= max && startDate >= min || endDate <= max && endDate >= min || startDate <= min && endDate >= max) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.group]);
                }
            }
        }
    } else if (type === 'line' || type === 'area' || type === 'singleaxis') {
        for (var i = 0; i < data.legendData.length; i++) {
            axisLabel = data.legendData[i];
            for (var j = 0; j < data.chartData.length; j++) {
                if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
                }
            }
        }
    } else if (type === 'scatterplot') {
        axisLabel = data.dataTable[axis];
        for (var j = 0; j < data.chartData.length; j++) {
            if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
            }
        }
    } else if (type === 'heatmap') {
        axisLabel = data.dataTable[axis];
        for (var j = 0; j < data.chartData.length; j++) {
            if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
            }
        }
    }

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

function calculateCloudBrush(e, data) {
    for (var i = 0; i < data.length; i++) {
        var d = data[i];
        var mouseX0 = e[0][0];
        var mouseX1 = e[0][1];
        var mouseY0 = e[1][0];
        var mouseY1 = e[1][1];
    }

    return [];
}

function calculateHeatmapBrush(e, data, chart) {
    var mouseXmin = e[0][0];
    var mouseYmin = e[0][1];
    var mouseXmax = e[1][0];
    var mouseYmax = e[1][1];
    var filteredXAxisLabels = [];
    var filteredYAxisLabels = [];
    var filteredData = [];
    var reset = true;

    var xBucketMax = Math.floor(mouseXmax / chart._vars.heatGridSize) + 1;
    var yBucketMax = Math.floor(mouseYmax / chart._vars.heatGridSize) + 1;

    var xBucketMin = Math.floor(mouseXmin / chart._vars.heatGridSize);
    var yBucketMin = Math.floor(mouseYmin / chart._vars.heatGridSize);

    for (var i = 0; i < xBucketMax; i++) {
        if (i >= xBucketMin) {
            filteredXAxisLabels.push(data.xAxisData.values[i]);
            reset = false;
        }
    }
    for (var i = 0; i < yBucketMax; i++) {
        if (i >= yBucketMin) {
            filteredYAxisLabels.push(data.yAxisData.values[i]);
            reset = false;
        }
    }

    //Might need when new PKQL pixel... comes out
    // for (var i = 0; i < data.chartData.length; i++) {
    //     var d = data.chartData[i];
    //     if(filteredXAxisLabels.includes(d[data.dataTable.x]) && filteredYAxisLabels.includes(d[data.dataTable.y])) {
    //         filteredDataX.push(d[data.dataTable.x]);
    //         filteredDataY.push(d[data.dataTable.y]);
    //     }
    // }

    return { filteredXAxisLabels: filteredXAxisLabels, filteredYAxisLabels: filteredYAxisLabels, shouldReset: reset };
}

module.exports = jvBrush;

},{}],4:[function(require,module,exports){
'use strict';
/***  jvCharts ***/

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var jvTip = require('./jvTip.js');

/**Create a jvCharts object
 * @constructor
 * @param {Object} configObj - Configuration object passed into jvCharts constructor
 * @param {string} configObj.type - The type of chart
 * @param {string} configObj.name - The name of the chart
 * @param {Object} configObj.container - The container of the chart
 * @param {Object} configObj.userOptions - UI options for the chart
 * @param {Object} configObj.tipConfig - Configuration object for jvTooltip
 * @param {Object} configObj.chartDiv - A div wrapper for the chart and other jv features
 */

var jvCharts = function () {
    function jvCharts(configObj) {
        _classCallCheck(this, jvCharts);

        var chart = this;
        configObj.type = configObj.type.toLowerCase();
        chart.chartDiv = configObj.chartDiv;
        configObj.options = cleanToolData(configObj.options, configObj.editOptions);
        chart._vars = chart.getDefaultOptions(configObj.options);
        chart.mode = configObj.mode || 'default-mode';

        //remove pieces from config that have been copied somewhere else
        delete configObj.chartDiv;
        delete configObj.options;
        delete configObj.mode;

        chart.config = configObj;

        chart.createTooltip();
        chart.setData();
        chart.paint();
    }

    _createClass(jvCharts, [{
        key: 'createTooltip',
        value: function createTooltip() {
            var chart = this;
            chart.tip = new jvTip({
                config: chart.config.tipConfig,
                chartDiv: chart.chartDiv
            });
        }
    }, {
        key: 'setData',
        value: function setData() {
            var chart = this;
            if (chart.config.setData) {
                chart.data = {
                    chartData: chart.config.setData.data,
                    dataTable: chart.config.setData.dataTable,
                    dataTableKeys: chart.config.setData.dataTableKeys,
                    tipData: chart.config.setData.tipData
                };
                chart.colors = chart.config.setData.colors;
                if (chart.config.setData.additionalInfo) {
                    chart.data.additionalInfo = chart.config.setData.additionalInfo;
                }
                if (chart.config.setData.markerType) {
                    chart.data.markerType = chart.config.setData.markerType;
                }
                if (chart.config.setData.materiality) {
                    chart.data.materiality = chart.config.setData.materiality;
                }
                if (chart.config.setData.slidervalue) {
                    chart.data.slidervalue = chart.config.setData.slidervalue;
                }
                chart[chart.config.type].setData.call(chart);
            }
        }
    }, {
        key: 'paint',
        value: function paint() {
            var chart = this;
            if (chart.data && _typeof(chart[chart.config.type]) === 'object' && typeof chart[chart.config.type].paint === 'function') {
                chart[chart.config.type].paint.call(chart);
                chart.initializeModes();
            } else {
                console.log('no paint function for: ' + chart.config.type);
            }
        }

        // end of constructor


    }, {
        key: 'setAxisData',
        value: function setAxisData(axis, data, keys) {
            var chart = this;
            var axisData = [];
            var chartData = data.chartData;
            var label = '';
            var maxStack = 0,
                dataTableKeys = data.dataTableKeys,
                dataType;

            if (!dataTableKeys) {
                dataTableKeys = keys;
            }

            //Step 1: find out what the label is for the axis
            if (axis === 'x') {
                if (data.dataTable) {
                    if (data.dataTable.hasOwnProperty('label')) {
                        label = data.dataTable.label;
                    } else {
                        console.error("Label doesn't exist in dataTable");
                        // throw new Error('Label doesn\'t exist in dataTable');
                    }
                } else {
                    console.log('DataTable does not exist');
                }

                dataType = 'STRING';

                //Replace underscores with spaces
                label = label.replace(/_/g, ' ');

                //loop through data to populate axisData
                for (var i = 0; i < chartData.length; i++) {
                    if (chartData[i][label] === null) {
                        axisData.push('NULL_VALUE');
                    } else if (chartData[i][label] === '') {
                        axisData.push('EMPTY_STRING');
                    } else if (chartData[i][label] || chartData[i][label] === 0) {
                        axisData.push(chartData[i][label]);
                    }
                }
            } else {
                if (dataTableKeys === undefined) {
                    console.error('dataTableKeys do not exist');
                    // throw new Error('dataTableKeys do not exist');
                }
                //Find the max value for Y Data
                var count = 0;

                for (var i = 0; i < dataTableKeys.length; i++) {
                    if (dataTableKeys[i].vizType !== 'label' && dataTableKeys[i].vizType !== 'tooltip' && dataTableKeys[i].vizType !== 'series') {
                        label = dataTableKeys[i].varKey;
                        count++;
                    }
                }
                dataType = getDataTypeFromKeys(label, dataTableKeys, 'NUMBER');

                //Add all values that are on yaxis to axis data
                for (var i = 0; i < chartData.length; i++) {
                    var stack = 0; //Keeps track of the maximum size of stacked data so that axis can be scaled to fit max size
                    for (var k in data.dataTable) {
                        if (chartData[i].hasOwnProperty(data.dataTable[k]) && k !== 'label' && k.indexOf('tooltip') === -1 && k !== 'series') {
                            stack += chartData[i][data.dataTable[k]];
                            axisData.push(chartData[i][data.dataTable[k]]);
                        }
                    }
                    if (stack > maxStack) {
                        maxStack = stack;
                    }
                }
                //Replace underscores with spaces since label is retrieved from dataTableKeys

                //If there are multiple values on the yAxis, don't specify a label
                if (count > 1) {
                    label = "";
                }
                label = label.replace(/_/g, ' ');
            }

            //Find the min and max of numeric data for building axes and add it to the returned object
            if (dataType === 'NUMBER') {
                if (chart._vars.stackToggle) {
                    var max = maxStack;
                } else {
                    var max = Math.max.apply(null, axisData);
                }

                var min = Math.min.apply(null, axisData);
                min = Math.min(0, min);

                //Check if there's an axis min/max set

                if (axis === 'x') {
                    if (chart._vars.xMin != null && chart._vars.xMin !== 'none') {
                        min = chart._vars.xMin;
                    }
                    if (chart._vars.xMax != null && chart._vars.xMax !== 'none') {
                        max = chart._vars.xMax;
                    }
                } else if (axis === 'y') {
                    if (chart._vars.yMin != null && chart._vars.yMin !== 'none') {
                        min = chart._vars.yMin;
                    }
                    if (chart._vars.yMax != null && chart._vars.yMax !== 'none') {
                        max = chart._vars.yMax;
                    }
                }

                if (dataType === 'NUMBER' && axisData.length === 1) {
                    if (axisData[0] >= 0) {
                        axisData.unshift(0);
                    } else {
                        axisData.push(0);
                    }
                }

                var temp;
                var tempMin = parseInt(min);
                var tempMax = parseInt(max);
                //Make sure that axis min and max don't get flipped
                if (tempMin > tempMax) {
                    temp = min;
                    min = max;
                    max = temp;
                }

                return {
                    'label': label,
                    'values': axisData,
                    'dataType': dataType,
                    'min': min,
                    'max': max
                };
            }

            return {
                'label': label,
                'values': axisData,
                'dataType': dataType
            };
        }

        /**setFlippedSeries
         *  flips series and returns flipped data
         *
         * @params chartData, dataTable, dataLabel
         * @returns Object of data and table for flipped series
         */

    }, {
        key: 'setFlippedSeries',
        value: function setFlippedSeries(dataTableKeys) {
            var chart = this;
            var chartData = chart.data.chartData;
            var dataTable = chart.data.dataTable;
            var dataLabel = chart.data.xAxisData.label;

            var flippedData = [];
            var flippedDataTable = {};
            var valueCount = 1;
            var filteredDataTableArray = [];

            for (var k in dataTable) {
                if (dataTable.hasOwnProperty(k)) {
                    var flippedObject = {};
                    if (dataTable[k] !== dataLabel) {
                        flippedObject[dataLabel] = dataTable[k];
                        for (var i = 0; i < chartData.length; i++) {
                            flippedObject[chartData[i][dataLabel]] = chartData[i][dataTable[k]];
                            if (filteredDataTableArray.indexOf(chartData[i][dataLabel]) === -1) {
                                flippedDataTable['value ' + valueCount] = chartData[i][dataLabel];
                                valueCount++;
                                filteredDataTableArray.push(chartData[i][dataLabel]);
                            }
                        }
                        flippedData.push(flippedObject);
                    }
                }
            }
            flippedDataTable.label = dataLabel;
            chart.flippedData = { chartData: flippedData, dataTable: flippedDataTable };

            if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                chart.flippedData.xAxisData = chart.setAxisData('x', chart.flippedData, dataTableKeys);
                chart.flippedData.yAxisData = chart.setAxisData('y', chart.flippedData, dataTableKeys);
                chart.flippedData.legendData = setBarLineLegendData(chart.flippedData);
            } else {
                console.log('Add additional chart type to set flipped series');
            }
        }

        /**organizeChartData
         *  reorders all data based on the sortLabel and sortType
         *  -Only for chartData, does not work with flipped data
         *
         * @params sortLabel , sortType
         * @returns [] sorted data
         */

    }, {
        key: 'organizeChartData',
        value: function organizeChartData(sortParam, sortType) {
            var chart = this,
                organizedData,
                dataType,
                dataTableKeys = chart.data.dataTableKeys,
                sortLabel = sortParam;

            //If sortLabel doesn't exist, sort on the x axis label by default
            if (sortLabel === 'none') {
                for (var i = 0; i < dataTableKeys.length; i++) {
                    if (dataTableKeys[i].vizType === 'label') {
                        sortLabel = dataTableKeys[i].uri;
                        break;
                    }
                }
            }

            //Remove underscores from sortLabel
            if (sortLabel) {
                sortLabel = sortLabel.replace(/_/g, ' ');
            }

            if (!chart.data.chartData[0][sortLabel]) {
                //Check if the sort label is a calculatedBy field
                var isValidSortLabel = false;
                for (var i = 0; i < dataTableKeys.length; i++) {
                    var obj1 = dataTableKeys[i];
                    if (obj1.operation.hasOwnProperty('calculatedBy') && obj1.operation.calculatedBy[0] === sortLabel) {
                        sortLabel = obj1.uri.replace(/_/g, ' ');
                        isValidSortLabel = true;
                        break;
                    }
                }
                //If it's not a valid sort label, return and don't sort the data
                if (!isValidSortLabel) {
                    console.error('Not a valid sort');
                    // throw new Error('Not a valid sort');
                }
            }

            //Check the data type to determine which logic to flow through
            for (var i = 0; i < dataTableKeys.length; i++) {
                var obj = dataTableKeys[i];
                //Loop through dataTableKeys to find sortLabel
                if (obj.uri.replace(/_/g, ' ') === sortLabel) {
                    dataType = obj.type;
                    break;
                }
            }

            //Date sorting
            if (dataType != null && dataType === 'DATE') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    var c = new Date(a[sortLabel]);
                    var d = new Date(b[sortLabel]);
                    return c - d;
                });
            } else if (dataType != null && dataType === 'NUMBER') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        return a[sortLabel] - b[sortLabel];
                    }
                });
            } else {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        if (parseFloat(a[sortLabel]) < parseFloat(b[sortLabel])) {
                            //sort string ascending
                            return -1;
                        }
                        if (parseFloat(a[sortLabel]) > parseFloat(b[sortLabel])) {
                            return 1;
                        }
                        return 0;
                    }
                    if (a[sortLabel].toLowerCase() < b[sortLabel].toLowerCase()) {
                        //sort string ascending
                        return -1;
                    }
                    if (a[sortLabel].toLowerCase() > b[sortLabel].toLowerCase()) {
                        return 1;
                    }
                    return 0;
                });
            }

            switch (sortType) {
                case 'sortAscending':
                case 'ascending':
                    chart.data.chartData = organizedData;
                    break;
                case 'sortDescending':
                case 'descending':
                    chart.data.chartData = organizedData.reverse();
                    break;
                default:
                    chart.data.chartData = organizedData;
            }
        }

        /**setTipData
         *
         * creates data object to display in tooltip
         * @params
         * @returns {{}}
         */

    }, {
        key: 'setTipData',
        value: function setTipData(d, i) {
            var chart = this,
                data = chart.currentData.chartData;

            //Get Color from chartData and add to object
            var color = chart._vars.color;

            var title = d[chart.data.dataTable.label];
            var dataTable = {};

            if (chart.config.type === 'treemap') {
                for (var item in d) {
                    if (item !== chart.data.dataTable.label && item !== 'Parent') {
                        dataTable[item] = d[item];
                    }
                }
            } else if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                title = data[i][chart.data.dataTable.label];
                for (var item in data[i]) {
                    if (item !== chart.data.dataTable.label) {
                        dataTable[item] = data[i][item];
                    } else {
                        continue;
                    }
                }
            } else if (chart.config.type === 'gantt') {
                //Calculate length of dates
                for (item in data[i]) {
                    if (data[i].hasOwnProperty(item) && item !== chart.data.dataTable.group) {
                        dataTable[item] = data[i][item];
                    }
                }

                var start, end, difference;

                //Calculting duration of date ranges to add to tooltip
                var numPairs = Math.floor(Object.keys(chart.data.dataTable).length / 2);
                for (var j = 1; j <= numPairs; j++) {
                    start = new Date(data[i][chart.data.dataTable['start ' + j]]);
                    end = new Date(data[i][chart.data.dataTable['end ' + j]]);
                    difference = end.getTime() - start.getTime();
                    dataTable['Duration ' + j] = Math.ceil(difference / (1000 * 60 * 60 * 24)) + ' days';
                }

                title = data[i][chart.data.dataTable.group];
            } else if (chart.config.type === 'pie' || chart.config.type === 'radial') {
                title = d.label;
                for (var item in d) {
                    if (item !== 'label') {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
                delete dataTable.outerRadius;
            } else if (chart.config.type === 'circlepack' || chart.config.type === 'sunburst') {
                title = d.data.name;
                dataTable[chart.data.dataTable.value] = d.value;
                // title = d.name;
                // dataTable[chart.data.dataTable.value] = d[chart.data.dataTable.value.replace(/_/g, ' ')];
                // if(typeof d[chart.data.dataTable["tooltip 1"]] != 'undefined'){
                //     dataTable[chart.data.dataTable["tooltip 1"]] = d[chart.data.dataTable["tooltip 1"]];
                // }
            } else if (chart.config.type === 'cloud') {
                title = d[chart.data.dataTable.label];
                dataTable[chart.data.dataTable.value] = d[chart.data.dataTable.value];
                if (typeof d[chart.data.dataTable["tooltip 1"]] != 'undefined') {
                    dataTable[chart.data.dataTable["tooltip 1"]] = d[chart.data.dataTable["tooltip 1"]];
                }
            } else if (chart.config.type === 'heatmap') {
                title = d.yAxisName + ' to ' + d.xAxisName;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
                for (var tooltip in d) {
                    if (tooltip.indexOf('tooltip') > -1) {
                        dataTable[chart.data.dataTable[tooltip]] = d[tooltip];
                    }
                }
            } else if (chart.config.type === 'clustergram') {
                title = d.y_child_value + ' to ' + d.x_child_value;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
                for (var tooltip in d) {
                    if (tooltip.indexOf('tooltip') > -1) {
                        dataTable[chart.data.dataTable[tooltip]] = d[tooltip];
                    }
                }
            } else if (chart.config.type === 'sankey') {
                title = d.source.name.slice(0, -2) + ' to ' + d.target.name.slice(0, -2);

                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
            } else if (chart.config.type === 'singleaxis') {
                title = d.data[chart.data.dataTable.label];

                for (var item in chart.data.dataTable) {
                    if (item != 'label') {
                        dataTable[chart.data.dataTable[item]] = d.data[chart.data.dataTable[item]];
                    }
                }
            } else {
                for (var item in d) {
                    if (item !== chart.data.dataTable.label) {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
            }

            return { 'data': d, 'tipData': dataTable, 'index': i, 'title': title, 'color': color, 'viz': chart.config.type };
        }

        /************************************************ Draw functions ******************************************************/

        /**generateSVG
         *creates an SVG element on the panel
         *
         * @params container, margin, name
         *
         */

    }, {
        key: 'generateSVG',
        value: function generateSVG(legendData, customMarginParam, customSizeParam) {
            var chart = this,
                margin = {},
                container = {},
                dimensions = chart.chartDiv.node().getBoundingClientRect(),
                customMargins = customMarginParam,
                customSize = customSizeParam,
                textWidth;

            if (chart._vars.customMargins) {
                customMargins = chart._vars.customMargins;
            }

            //set margins
            if (!customMargins) {
                //declare margins if they arent passed in
                margin = {
                    top: 55,
                    right: 50,
                    left: 100,
                    bottom: 70
                };
                if (legendData != null) {
                    if (legendData.length <= 3) {
                        margin.bottom = 70;
                    } else if (legendData.length <= 6) {
                        margin.bottom = 85;
                    } else {
                        margin.bottom = 130;
                    }
                }
            } else {
                margin = customMargins;
            }

            //reduce margins if legend is toggled off
            //TODO make this better
            if (chart._vars.toggleLegend === false) {
                if (chart.config.type === 'pie' || chart.config.type === 'radial' || chart.config.type === 'circlepack' || chart.config.type === 'heatmap') {
                    margin.left = 40;
                } else if (chart.config.type === 'treemap' || chart.config.type === 'bar' || chart.config.type === 'gantt' || chart.config.type === 'scatter' || chart.config.type === 'line') {
                    margin.bottom = 40;
                }
            }

            //set yAxis margins
            if (chart.currentData && chart.currentData.yAxisData) {
                textWidth = getMaxWidthForAxisData('y', chart.currentData.yAxisData, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                if (textWidth > 100 && chart.config.type === 'heatmap') {
                    textWidth = 100;
                }
                chart._vars.heatmapYmargin = textWidth;
                margin.left = Math.ceil(textWidth) + 30;
            }

            //set xAxis top margins
            if (chart.config.type === 'heatmap' && chart.currentData && chart.currentData.xAxisData) {
                textWidth = getMaxWidthForAxisData('x', chart.currentData.xAxisData, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                //subtract space for tilt
                textWidth = Math.ceil(textWidth);
                if (textWidth > 100) {
                    textWidth = 100;
                }
                //specific to heatmap
                if (chart.config.type === 'heatmap') {
                    if (textWidth > 100) {
                        textWidth = 100;
                    } else if (textWidth < 80) {
                        textWidth = 80;
                    }
                }
                chart._vars.heatmapXmargin = textWidth;
                margin.top = textWidth;
                customSize = {};
                //set container
                customSize.width = chart.currentData.xAxisData.values.length * 20;
                customSize.height = chart.currentData.yAxisData.values.length * 20;

                if (!chart._vars.toggleLegend) {
                    var dummyObj = {};
                    dummyObj.values = chart.data.heatData;
                    dummyObj.values.sort(function (a, b) {
                        return a - b;
                    });
                    dummyObj.label = "";
                    dummyObj.min = dummyObj.values[0];
                    dummyObj.max = dummyObj.values[dummyObj.values.length - 1];

                    textWidth = getMaxWidthForAxisData('y', dummyObj, chart._vars, dimensions, margin, chart.chartDiv, chart.config.type);
                    chart.config.heatWidth = Math.ceil(textWidth) + 30;
                    margin.left = margin.left + chart.config.heatWidth;
                }

                if (customSize.width + margin.left + margin.right < dimensions.width) {
                    margin.right = parseInt(dimensions.width) - margin.left - customSize.width - 20;
                }
                if (customSize.height + margin.top + margin.bottom < dimensions.height) {
                    margin.bottom = parseInt(dimensions.height) - margin.top - customSize.height - 10;
                }
                customSize.width += margin.right + margin.left;
                customSize.height += margin.top + margin.bottom;
            }

            //set container attributes
            //Set svg size based on calculation margins or custom size if specified
            if (customSize && customSize.hasOwnProperty('height')) {
                container.height = customSize.height - margin.top - margin.bottom;
            } else {
                container.height = parseInt(dimensions.height) - margin.top - margin.bottom;
                if (container.height <= 50) {
                    margin.top = 10;
                    margin.bottom = 10;
                    container.height = parseInt(dimensions.height) - margin.top - margin.bottom;
                    chart._vars.xLabelFontSize = 0;
                }
            }

            if (customSize && customSize.hasOwnProperty('width')) {
                container.width = customSize.width - margin.left - margin.right;
            } else {
                container.width = parseInt(dimensions.width) - margin.left - margin.right;
            }

            //add margin and container to chart config object
            chart.config.margin = margin;
            chart.config.container = container;

            //remove old svg if it exists
            chart.svg = chart.chartDiv.select('svg').remove();

            //svg layer
            if (chart.config.type === 'heatmap' || chart.config.type === 'singleaxis') {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('class', 'container').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            } else if (chart.config.type === 'clustergram') {
                if (chart.data.chartData[2].length * 10 > container.width || chart.data.chartData[2].length * 10 > container.height) {
                    chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', chart.data.chartData[2].length * 10).attr('height', chart.data.chartData[2].length * 10).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
                } else {
                    chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width).attr('height', container.height).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
                }
            } else {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            }

            //TODO move to edit mode
            if (chart._vars.backgroundColor !== 'none') {
                chart.colorBackground(chart._vars.backgroundColor);
            }
        }

        /**generateXAxis
         * creates x axis on the svg
         *
         * @params xAxisData
         */

    }, {
        key: 'generateXAxis',
        value: function generateXAxis(xAxisData, ticks) {
            //declare variables
            var chart = this,
                xAxis,

            //Need to getXAxisScale each time so that axis updates on resize
            xAxisScale = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart._vars),
                containerHeight = chart.config.container.height,
                containerWidth = chart.config.container.width,
                xAxisClass = 'xAxisLabels editable editable-xAxis editable-text';

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (xAxisData.dataType === 'NUMBER') {
                xAxisClass += ' editable-num';
            }

            //remove previous xAxis container if its there
            chart.svg.selectAll('.xAxisContainer').remove();

            //Save the axis scale to chart object
            chart.currentData.xAxisScale = xAxisScale;

            var tickSize = 0;
            if (chart.currentData.xAxisData.dataType === 'NUMBER') {
                tickSize = 5;
            }

            //create xAxis drawing function
            if (chart.config.type === 'singleaxis') {
                xAxis = d3.axisTop(xAxisScale).tickSize(tickSize);
            } else {
                xAxis = d3.axisBottom(xAxisScale).tickSize(tickSize);
            }

            if (ticks) {
                xAxis.ticks(ticks);
            }

            var axisHeight = containerHeight;
            if (chart.config.type === 'singleaxis') {
                //For any axes that are on top of the data
                axisHeight = 0;
            }

            var xContent = chart.svg.append('g').attr('class', 'xAxisContainer').attr('transform', 'translate(0,' + axisHeight + ')');

            var xAxisGroup = xContent.append('g').attr('class', 'xAxis').call(xAxis);

            var formatValueType = jvFormatValueType(xAxisData.values);

            //Styling the axis
            xAxisGroup.select('path').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.strokeWidth);

            //Styling for ticks
            xAxisGroup.selectAll('line').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.stroke);

            //Styling the labels for each piece of data
            xAxisGroup.selectAll('text').attr('fill', chart._vars.fontColor) //Customize the color of axis labels
            .attr('class', xAxisClass).style('text-anchor', 'middle').attr('font-size', chart._vars.fontSize).attr('transform', 'translate(0, 3)').text(function (d) {
                if (xAxisData.dataType === 'NUMBER' || chart._vars.rotateAxis) {
                    return jvFormatValue(d, formatValueType);
                }
                return d;
            });

            //Styling the label for the entire axis
            xContent.append('g').attr('class', 'xLabel').append('text').attr('class', 'xLabel editable editable-text editable-content').attr('text-anchor', 'middle').attr('font-size', chart._vars.fontSize).text(function () {
                if (xAxisData.dataType === 'DATE') {
                    return '';
                }
                return xAxisData.label;
            }).attr('transform', 'translate(' + containerWidth / 2 + ', 33)');
        }

        /**FormatXAxisLabels
         *
         * If x-axis labels are too long/overlapping, they will be hidden/shortened
         */

    }, {
        key: 'formatXAxisLabels',
        value: function formatXAxisLabels(dataLength, recursion) {
            var chart = this,
                showAxisLabels = true,
                xAxisLength = chart.config.container.width,
                textWidth = [],
                formatValueType = null,
                dataType = chart.currentData.xAxisData.dataType,
                axisValues = chart.currentData.xAxisData.values;

            if (dataType === 'NUMBER') {
                formatValueType = jvFormatValueType(axisValues);
            }

            //create dummy text to determine computed text length for the axis labels
            //necessary to do this because axis labels getBBox() is returning 0 since they do not seem to be drawn yet
            chart.svg.append('g').selectAll('.dummyText').data(axisValues).enter().append('text').attr('font-family', 'sans-serif').attr('font-size', chart._vars.fontSize).text(function (d) {
                var returnVal = d;
                if (dataType === 'NUMBER') {
                    returnVal = jvFormatValue(d, formatValueType);
                }
                return returnVal;
            }).each(function () {
                //adding 10px buffer
                var thisWidth = this.getComputedTextLength() + 10;
                textWidth.push(thisWidth);
                this.remove(); //remove them just after displaying them
            });

            for (var i = 0; i < textWidth.length; i++) {
                var textEleWidth = textWidth[i];
                if (textEleWidth > xAxisLength / dataLength) {
                    showAxisLabels = false;
                }
            }

            if (showAxisLabels) {
                if (recursion) {
                    chart.generateXAxis(chart.currentData.xAxisData, dataLength);
                }
                chart.svg.selectAll('.xAxisLabels').style('display', 'block');
            } else if (dataLength > 1 && chart.currentData.xAxisData.dataType === 'NUMBER') {
                //recursively keep decreasing to figure out ticks length to repaint the xAxis if its numeric
                chart.formatXAxisLabels(dataLength - 1, true);
            } else {
                chart.svg.selectAll('.xAxis').selectAll('text').style('display', 'none');
            }
        }

        /**generateYAxis
         * creates y axis on the svg
         *
         * @params generateYAxis
         */

    }, {
        key: 'generateYAxis',
        value: function generateYAxis(yAxisData) {
            var chart = this,
                yAxisScale = jvCharts.getAxisScale('y', yAxisData, chart.config.container, chart._vars),
                yAxisClass = 'yAxisLabels editable editable-yAxis editable-text',
                maxYAxisLabelWidth,
                numberOfTicks = Math.floor(chart.config.container.height / 14),
                yAxis,
                yContent,
                yAxisGroup,
                forceFormatTypeTo = null,
                ylabel = '';

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (yAxisData.dataType === 'NUMBER') {
                yAxisClass += ' editable-num';
            }

            //Save y axis scale to chart object
            chart.currentData.yAxisScale = yAxisScale;

            //remove previous svg elements
            chart.svg.selectAll('.yAxisContainer').remove();
            chart.svg.selectAll('text.yLabel').remove();

            if (numberOfTicks > 10) {
                if (numberOfTicks < 20) {
                    numberOfTicks = 10;
                } else if (numberOfTicks < 30) {
                    numberOfTicks /= 2;
                } else {
                    numberOfTicks = 15;
                }
            }

            //If all y-axis values are the same, only show a tick for that value. If value is 1, don't show any decimal places
            if (yAxisData.values.length > 0 && !!yAxisData.values.reduce(function (a, b) {
                return a === b ? a : NaN;
            })) {
                numberOfTicks = 1;
                if (yAxisData.values[0] === 1) {
                    forceFormatTypeTo = 'nodecimals';
                }
            }
            yAxis = d3.axisLeft().ticks(numberOfTicks) //Link to D3.svg.axis options: https://github.com/mbostock/d3/wiki/SVG-Axes
            .scale(yAxisScale) //Sets the scale to use in the axis
            .tickSize(5) //Sets the thickness of the axis line
            .tickPadding(5);

            //Hide Axis values if necessary
            if (yAxisData.hideValues) {
                yAxis.tickFormat('');
            }
            if (chart._vars.displayYAxisLabel) {
                ylabel = yAxisData.label;
            }

            yContent = chart.svg.append('g').attr('class', 'yAxisContainer');

            yContent.append('g').attr('class', 'yLabel').append('text').attr('class', 'yLabel editable editable-text editable-content').attr('text-anchor', 'start').attr('font-size', chart._vars.fontSize).attr('x', 0).attr('y', 0).attr('transform', 'translate(' + (-chart.config.margin.left + 10) + ', -10)').text(ylabel).attr('fill-opacity', 1);

            yAxisGroup = yContent.append('g').attr('class', 'yAxis');

            yAxisGroup.call(yAxis);

            //Styling for Axis
            yAxisGroup.select('path').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.strokeWidth);

            maxYAxisLabelWidth = 0;

            if (yAxisData.hideValues) {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke-width', 0);
            } else {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.stroke);
                //Styling for data labels on axis
                yAxisGroup.selectAll('text').attr('fill', chart._vars.fontColor) //Customize the color of axis labels
                .attr('class', yAxisClass).attr('transform', 'rotate(0)') //Add logic to rotate axis based on size of title
                .attr('font-size', chart._vars.fontSize).append('svg:title');

                var formatValueType = jvFormatValueType(yAxisData.values);

                yAxisGroup.selectAll('text').text(function (d) {
                    if (chart._vars.rotateAxis) {
                        return d;
                    }
                    var maxLength = 13;
                    var current = '';
                    if (d.length > maxLength) {
                        current = d.substring(0, maxLength) + '...';
                    } else {
                        current = d;
                    }

                    if (forceFormatTypeTo !== null) {
                        formatValueType = forceFormatTypeTo;
                    }
                    return jvFormatValue(current, formatValueType);
                }).each(function (d, i, j) {
                    if (j[0].getBBox().width > maxYAxisLabelWidth) {
                        maxYAxisLabelWidth = j[0].getBBox().width;
                    }
                });
                if (maxYAxisLabelWidth > 0) {
                    chart._vars.yLabelWidth = Math.ceil(maxYAxisLabelWidth) + 20;
                }
            }
        }
        /************************************************ Legend functions ******************************************************/

    }, {
        key: 'generateLegend',
        value: function generateLegend(legendData, drawFunc) {
            var chart = this,
                svg = chart.svg;

            svg.selectAll('.legend').remove();

            //Returns the legend rectangles that are toggled on/off
            var legendElements = generateLegendElements(chart, legendData, drawFunc);
            if (drawFunc) {
                attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
            }

            if (chart._vars.thresholds !== 'none' && chart._vars.thesholdLegend === true) {
                if (chart.config.type === 'bar' || chart.config.type === 'area' || chart.config.type === 'line') {
                    if (chart.config.container.height > 300 && chart.config.container.width > 300) {
                        generateThresholdLegend(chart);
                    }
                }
            }

            if (!chart._vars.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**generateVerticalLegend
         *
         * creates and draws a vertical legend on the svg element
         * @params svg, legendData, options, container, chartData, xAxisData, yAxisData, chartType
         * @returns {{}}
         */

    }, {
        key: 'generateVerticalLegend',
        value: function generateVerticalLegend(paintFunc) {
            var chart = this,
                svg = chart.svg,
                legendData = chart.currentData.legendData;

            svg.selectAll('.legend').remove();

            //Returns the legend rectangles that are toggled on/off
            var legendElements = generateVerticalLegendElements(chart, legendData, paintFunc);
            if (paintFunc !== 'generatePack') {
                attachClickEventsToLegend(chart, legendElements, paintFunc, legendData);
            }

            if (!chart._vars.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**
         *
         * Generates a clip path that contains the contents of the chart area to the view of the chart area container
         * i.e - don't want bars going below the x axis
         */

    }, {
        key: 'generateClipPath',
        value: function generateClipPath() {
            var chart = this,
                svg = chart.svg,
                type = chart.config.type;

            svg.append('clipPath').attr('id', 'clip').append('rect').attr('x', 0).attr('y', 0).attr('width', chart.config.container.width).attr('height', chart.config.container.height);

            //Break this out into logic for all other vizzes that have overflow issues
            var containerName = '.' + type + '-container';
            svg.select(containerName).attr('clip-path', 'url(#clip)');
        }
    }, {
        key: 'setThreshold',
        value: function setThreshold(data) {
            var chart = this,
                thresholds = chart._vars.thresholds,
                length = thresholds ? Object.keys(thresholds).length : 0;

            if (thresholds !== 'none') {
                for (var i = length - 1; i > -1; i--) {
                    var threshold = thresholds[i];
                    //console.log(typeof data == "date");
                    if (data >= Number(threshold.threshold)) {
                        return 'rect-' + i;
                    }
                }
            }
        }
    }, {
        key: 'generateLineThreshold',
        value: function generateLineThreshold() {
            var chart = this,
                svg = chart.svg,
                width = chart.config.container.width,
                height = chart.config.container.height,
                thresholds = chart._vars.thresholds,
                length = Object.keys(chart._vars.thresholds).length;

            var x = chart.currentData.xAxisScale;
            var y = chart.currentData.yAxisScale;

            if (thresholds !== 'none') {
                for (var i = 0; i < length; i++) {
                    var threshold = thresholds[i];
                    if (chart._vars.rotateAxis) {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                    } else {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                    }
                }
            }
        }
    }, {
        key: 'colorBackground',
        value: function colorBackground(color) {
            var chart = this;
            var chartDiv = chart.chartDiv;
            chart._vars.backgroundColor = color;
            chartDiv.style('background-color', '' + color);
        }

        /**displayValues
         *
         * toggles data values that are displayed on the specific type of chart on the svg
         * @params svg, barData, options, xAxisData, yAxisData, container
         * @returns {{}}
         */

    }, {
        key: 'displayValues',
        value: function displayValues() {
            //TODO receive data similar to generateBar
            var chart = this,
                svg = chart.svg,
                container = chart.config.container,
                barData = chart.data.chartData,
                xAxisData = chart.currentData.xAxisData,
                yAxisData = chart.currentData.yAxisData,
                legendOptions = chart._vars.legendOptions;

            //If series is flipped, use flipped data; initialize with the full data set
            if (chart._vars.seriesFlipped) {
                barData = chart.flippedData.chartData;
                legendOptions = chart._vars.flippedLegendOptions;
            }

            if (chart._vars.displayValues === true) {
                svg.selectAll('.displayValueContainer').remove();

                var data = []; //Only stores values for bars
                var barDataNew = JSON.parse(JSON.stringify(barData)); //Copy of barData

                if (legendOptions) {
                    //Checking which legend elements are toggled on resize
                    for (var j = 0; j < barDataNew.length; j++) {
                        for (var i = 0; i < legendOptions.length; i++) {
                            if (legendOptions[i].toggle === false) {
                                delete barDataNew[j][legendOptions[i].element];
                            }
                        }
                    }
                }

                for (var i = 0; i < barDataNew.length; i++) {
                    //barDataNew used
                    var val = values(barDataNew[i], chart.currentData.dataTable, chart.config.type);
                    data.push(val.slice(0, barDataNew[i].length));
                }

                var posCalc = getPosCalculations(barDataNew, chart._vars, xAxisData, yAxisData, container, chart);

                var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
                var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

                //var format = getFormatExpression("displayValues");

                if (chart._vars.rotateAxis) {
                    //Add a container for display values over each bar group
                    var displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = y.paddingOuter() * y.step() + y.step() * i;
                        return 'translate(0,' + translate + ')';
                    });

                    displayValuesGroup.selectAll('text').data(function (d) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return posCalc.width(d, i, j) + posCalc.x(d, i, j);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return posCalc.y(d, i, j) + posCalc.height(d, i, j) / 2;
                    }).attr('dy', '.35em').attr('text-anchor', 'start').attr('fill', chart._vars.fontColor).text(function (d) {
                        var returnText = Math.round(d * 100) / 100; //round to 2 decimals
                        return jvFormatValue(returnText);
                    }).attr('font-size', chart._vars.fontSize);
                } else {
                    //Add a display values container over each bar group
                    var displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = x.paddingOuter() * x.step() + x.step() * i;
                        return 'translate(' + translate + ',0)';
                    });
                    var stackTotals = [];
                    displayValuesGroup.selectAll('text').data(function (d, i, j) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return Math.round(posCalc.x(d, i, j) + posCalc.width(d, i, j) / 2);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return Math.round(posCalc.y(d, i, j)) - 3; //+ posCalc.height(d, i, j) - 5);
                    }).attr('text-anchor', 'middle').attr('fill', chart._vars.fontColor).text(function (d, i, j) {
                        if (chart._vars.stackToggle && chart._vars.displayValuesStackAsPercent) {
                            var total = 0;
                            for (var index = 0; index < j.length; index++) {
                                total += j[index].__data__;
                            }
                            if (chart._vars.displayValuesStackTotal && i === 0) {
                                //only enter this one time per stack
                                stackTotals.push(total);
                            }
                            return jvFormatValue(d / total, 'percent');
                        }

                        return jvFormatValue(d);
                    }).attr('font-size', chart._vars.fontSize);

                    if (chart._vars.stackToggle && chart._vars.displayValuesStackTotal) {
                        var stackCounter = 0;
                        svg.append('g').attr('class', 'displayStackTotal').selectAll('g').data(data).enter().append('g').attr('transform', function (d, i) {
                            var translate = x.paddingOuter() * x.step() + x.step() * i;
                            return 'translate(' + translate + ',0)';
                        }).selectAll('text').data(function (d, i, j) {
                            return d;
                        }).enter().append('text').attr('x', function (d, i, j) {
                            //sets the x position of the bar)
                            return Math.round(posCalc.x(d, i, j) + posCalc.width(d, i, j) / 2);
                        }).attr('y', function (d, i, j) {
                            //sets the y position of the bar
                            return Math.round(posCalc.y(d, i, j)) - 18; //+ posCalc.height(d, i, j) - 5);
                        }).attr('text-anchor', 'middle').attr('fill', chart._vars.fontColor).text(function (d, i, j) {
                            var yLength = chart.currentData.yAxisData.values.length;
                            var xLength = chart.currentData.xAxisData.values.length;
                            var indexMax = yLength / xLength;
                            var stack = 0;
                            if (i + 1 === indexMax) {
                                for (var j = 0; j < indexMax; j++) {
                                    stack += chart.currentData.yAxisData.values[indexMax * stackCounter + j];
                                }
                                stackCounter++;
                                return jvFormatValue(stack);
                            }
                            return '';
                        }).attr('font-size', chart._vars.fontSize);
                    }
                }
            } else {
                svg.selectAll('.displayValueContainer').remove();
            }
        }
    }, {
        key: 'drawGridlines',
        value: function drawGridlines(axisData) {
            var chart = this;

            chart.svg.selectAll('g.gridLines').remove();
            chart.svg.append('g').attr('class', 'gridLines');
            var scaleData;

            //Determine if gridlines are horizontal or vertical based on rotateAxis
            if (chart._vars.rotateAxis === true || chart.config.type === 'gantt' || chart.config.type === 'singleaxis') {
                var gridLineHeight = chart.config.container.height;
                var xAxisScale = jvCharts.getAxisScale('x', axisData, chart.config.container, chart._vars);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = xAxisScale.ticks(10);
                }
                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', function (d, i) {
                    if (i > 0) {
                        return xAxisScale(d);
                    }
                    return 0;
                }).attr('x2', function (d, i) {
                    if (i > 0) {
                        return xAxisScale(d);
                    }
                    return 0;
                }).attr('y1', 0).attr('y2', function (d, i) {
                    if (i > 0) {
                        return gridLineHeight;
                    }
                    return 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.gridLineStrokeWidth);
            } else {
                var gridLineWidth = chart.config.container.width;
                var yAxisScale = jvCharts.getAxisScale('y', axisData, chart.config.container, chart._vars);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = yAxisScale.ticks(10);
                }
                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', 0).attr('x2', function (d, i) {
                    if (i > 0) {
                        return gridLineWidth;
                    }
                    return 0;
                }).attr('y1', function (d, i) {
                    if (i > 0) {
                        return yAxisScale(d);
                    }
                    return 0;
                }).attr('y2', function (d, i) {
                    if (i > 0) {
                        return yAxisScale(d);
                    }
                    return 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', chart._vars.axisColor).attr('stroke-width', chart._vars.gridLineStrokeWidth);
            }
        }

        /**getBarDataFromOptions
        * ^^ not just a bar function, line and area also use it
        *
        * Assigns the correct chart data to current data using the chart.options
        */

    }, {
        key: 'getBarDataFromOptions',
        value: function getBarDataFromOptions() {
            var chart = this;
            //creating these two data variables to avoid having to reference the chart obejct everytime
            var flipped = chart.flippedData;
            var data = chart.data;

            var dataObj = {};
            if (chart._vars.seriesFlipped) {
                dataObj.chartData = flipped.chartData;
                dataObj.legendData = flipped.legendData;
                dataObj.dataTable = flipped.dataTable;
                chart._vars.color = flipped.color;
                if (chart._vars.rotateAxis === true) {
                    dataObj.xAxisData = flipped.yAxisData;
                    dataObj.yAxisData = flipped.xAxisData;
                } else {
                    dataObj.xAxisData = flipped.xAxisData;
                    dataObj.yAxisData = flipped.yAxisData;
                }
            } else {
                dataObj.chartData = data.chartData;
                dataObj.legendData = data.legendData;
                dataObj.dataTable = data.dataTable;
                chart._vars.color = data.color;
                if (chart._vars.rotateAxis === true) {
                    dataObj.xAxisData = data.yAxisData;
                    dataObj.yAxisData = data.xAxisData;
                } else {
                    dataObj.xAxisData = data.xAxisData;
                    dataObj.yAxisData = data.yAxisData;
                }
            }

            return dataObj;
        }

        /************************************************ Utility functions ******************************************************/

        /**highlightItems
         *
         * highlights items on the svg element
         * @params items, svg
         * @returns {{}}
         */

    }, {
        key: 'highlightItem',
        value: function highlightItem(items, tag, highlightIndex, highlightUri) {
            var chart = this,
                svg = chart.svg;

            //TODO remove if statements
            if (highlightIndex >= 0) {
                if (chart.config.type === 'pie') {
                    //set all circles stroke width to 0
                    svg.select('.pie-container').selectAll(tag).attr('stroke', chart._vars.pieBorder).attr('stroke-width', 1);
                    //highlight necessary pie slices
                    svg.select('.pie-container').selectAll(tag).filter('.highlight-class-' + highlightIndex).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
                if (chart.config.type === 'scatterplot') {
                    //set all circles stroke width to 0
                    svg.select('.scatter-container').selectAll(tag).attr('stroke-width', 0);
                    //highlight necessary scatter dots
                    svg.select('.scatter-container').selectAll(tag).filter('.scatter-circle-' + highlightIndex).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
            } else if (highlightUri) {
                if (chart.config.type === 'bar') {
                    //set all bars stroke width to 0
                    svg.select('.bar-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary bars
                    svg.select('.bar-container').selectAll('.highlight-class-' + highlightUri).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
                if (chart.config.type === 'line' || chart.config.type === 'area') {
                    //set all circles stroke width to 0
                    svg.select('.line-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary cirlces
                    svg.select('.line-container').selectAll(tag).filter('.highlight-class-' + highlightUri).attr('stroke', chart._vars.highlightBorderColor).attr('stroke-width', chart._vars.highlightBorderWidth);
                }
            } else {
                console.log('need to pass highlight index to highlight item');
            }
        }

        /**
        *@desc Removes highlights that were applied with related insights
        *
        */

    }, {
        key: 'removeHighlight',
        value: function removeHighlight() {
            var chart = this;
            var svg = chart.svg;
            if (chart.config.type === 'pie') {
                //set all circles stroke width to 0
                svg.select('.pie-container').selectAll('path').attr('stroke', chart._vars.pieBorder).attr('stroke-width', 0);
            }
            if (chart.config.type === 'scatterplot') {
                svg.select('.scatter-container').selectAll('circle').attr('stroke-width', 0);
            }
            if (chart.config.type === 'bar') {
                svg.select('.bar-container').selectAll('rect').attr('stroke', 0).attr('stroke-width', 0);
            }
            if (chart.config.type === 'line' || chart.config.type === 'area') {
                svg.select('.line-container').selectAll('circle').attr('stroke', 0).attr('stroke-width', 0);
            }
        }
    }]);

    return jvCharts;
}();

function jvFormatValue(val, formatType) {
    if (!isNaN(val)) {
        var formatNumber = d3.format('.0f');

        if (formatType === 'billions') {
            return formatNumber(val / 1e9) + 'B';
        } else if (formatType === 'millions') {
            return formatNumber(val / 1e6) + 'M';
        } else if (formatType === 'thousands') {
            return formatNumber(val / 1e3) + 'K';
        } else if (formatType === 'decimals') {
            formatNumber = d3.format('.2f');
            return formatNumber(val);
        } else if (formatType === 'nodecimals') {
            return formatNumber(val);
        } else if (formatType === 'percent') {
            var p = Math.max(0, d3.precisionFixed(0.05) - 2);
            var expression = d3.format('.' + p + '%');
            return expression(val);
        } else if (formatType === '') {
            return val;
        }

        if (val === 0) {
            return 0;
        }

        if (Math.abs(val) >= 1000000000) {
            //Billions
            return formatNumber(val / 1e9) + 'B';
        } else if (Math.abs(val) >= 1000000) {
            //Millions
            return formatNumber(val / 1e6) + 'M';
        } else if (Math.abs(val) >= 1000) {
            //Thousands
            return formatNumber(val / 1e3) + 'K';
        } else if (Math.abs(val) <= 10) {
            //2 decimals
            formatNumber = d3.format('.2f');
        }
        return formatNumber(val);
    }
    return val;
}

/**
 * @param the set of values that you want to format uniformly
 * @return '' the level of formatting for the group of data
 * Problem with jvFormatValue function is that if you pass in values 10, 20... 90, 100, 1120, 120
 * you will get the formats 10.00, 20.00 .... 100, 110, 120 when you want 10, 20, ... 100, 110
 * --Format the value based off of the highest number in the group
 */
function jvFormatValueType(values, dataType) {
    if (values != null && dataType !== 'STRING') {
        var max = Math.max.apply(null, values);
        //After getting the max, check the min
        var min = Math.min.apply(null, values);
        var range = max - min;
        var incrememnt = Math.abs(Math.round(range / 10)); //10 being the number of axis labels to show

        if (Math.abs(incrememnt) >= 1000000000) {
            return 'billions';
        } else if (Math.abs(incrememnt) >= 1000000) {
            return 'millions';
        } else if (Math.abs(incrememnt) >= 1000) {
            return 'thousands';
        } else if (Math.abs(incrememnt) <= 10) {
            return 'decimals';
        } else if (Math.abs(incrememnt) >= 10) {
            return 'nodecimals';
        }
    }
    return '';
}

/**getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '',
        p;
    if (option === 'currency') {
        expression = d3.format('$,');
    }
    if (option === 'fixedCurrency') {
        expression = d3.format('($.2f');
    }
    if (option === 'percent') {
        p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format('.' + p + '%');
    }
    if (option === 'millions') {
        p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix('.' + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(',.0f');
    }
    if (option === 'none' || option === '') {
        expression = d3.format('');
    }
    if (option === 'displayValues') {
        expression = d3.format(',.2f');
    }

    return expression;
}

/**getToggledData
 *
 * Gets the headers of the data to be drawn and filters the data based on that
 * @params chartData, dataHeaders
 */
function getToggledData(chartData, dataHeaders) {
    var legendElementToggleArray = getLegendElementToggleArray(dataHeaders, chartData.legendData);
    var data = JSON.parse(JSON.stringify(chartData.chartData));
    if (legendElementToggleArray) {
        for (var j = 0; j < data.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].toggle === false) {
                    delete data[j][legendElementToggleArray[i].element];
                }
            }
        }
    }
    return data;
}

/**getLegendElementToggleArray
 *
 * Gets an array of legend elements with true/false tags for if toggled
 * @params selectedHeaders, allHeaders
 */
function getLegendElementToggleArray(selectedHeaders, allHeaders) {
    var legendElementToggleArray = [];
    for (var i = 0; i < allHeaders.length; i++) {
        legendElementToggleArray.push({ element: allHeaders[i] });
    }

    for (var i = 0; i < legendElementToggleArray.length; i++) {
        for (var j = 0; j < selectedHeaders.length; j++) {
            if (legendElementToggleArray[i].element === selectedHeaders[j]) {
                legendElementToggleArray[i].toggle = true;
                continue;
            }
        }
        if (legendElementToggleArray[i].toggle !== true) {
            legendElementToggleArray[i].toggle = false;
        }
    }
    return legendElementToggleArray;
}

/**generateLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        legend,
        legendRow = 0,
        legendColumn = 0,
        legendDataLength = legendData.length;

    if (!chart._vars.legendIndex) {
        chart._vars.legendIndex = 0;
    }

    if (!chart._vars.legendIndexMax) {
        chart._vars.legendIndexMax = Math.floor(legendDataLength / chart._vars.legendMax - 0.01);
    }

    //if legend headers don't exist, set them equal to legend data
    if (!chart._vars.legendHeaders && !chart._vars.seriesFlipped) {
        chart._vars.legendHeaders = JSON.parse(JSON.stringify(legendData));
    } else if (!chart._vars.flippedLegendHeaders && chart._vars.seriesFlipped) {
        chart._vars.flippedLegendHeaders = JSON.parse(JSON.stringify(legendData));
    }
    //Set legend element toggle array based on if series is flipped
    if (!chart._vars.seriesFlipped) {
        var legendElementToggleArray = getLegendElementToggleArray(chart._vars.legendHeaders, legendData);
    } else {
        var flippedLegendElementToggleArray = getLegendElementToggleArray(chart._vars.flippedLegendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend');

    //Adding colored rectangles to the legend
    var legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos;
    }).attr('y', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % chart._vars.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1) - 5; //Increment row when column limit is reached
    }).attr('width', chart._vars.gridSize).attr('height', chart._vars.gridSize).attr('fill', function (d, i) {
        return getColors(chart._vars.color, i, legendData[i]);
    }).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', function (d, i) {
        if (!legendElementToggleArray && !chart._vars.seriesFlipped || chart._vars.seriesFlipped && !flippedLegendElementToggleArray) {
            return '1';
        }
        if (!chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true || chart._vars.seriesFlipped && flippedLegendElementToggleArray[i].toggle === true) {
            return '1';
        }
        return '0.2';
    });

    legendRow = 0;
    legendColumn = 0;

    //Adding text labels for each rectangle in legend
    var legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos + 17;
    }).attr('y', function (d, i) {
        if (i % (chart._vars.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % chart._vars.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1); //Increment row when column limit is reached
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', chart._vars.fontColor).attr('font-size', chart._vars.fontSize).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (chart.config.type === 'gantt') {
            elementName = legendData[i].slice(0, -5); //Removing last 5 characters of legend label---i.e plannedSTART -> planned
        }
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (chart._vars.legendIndexMax > 0) {
        createCarousel(chart, legendData, drawFunc);
    }
    //Centers the legend in the panel
    if (legend) {
        var legendWidth = legend.node().getBBox().width;
        legend.attr('transform', 'translate(' + (container.width - legendWidth) / 2 + ', 30)');
    }

    return legendRectangles;
}

/**updateDataFromLegend
 *
 * Returns a list of data headers that should be displayed in viz
 * based off what is toggled on/off in legend
 * @params legendData
 */
function updateDataFromLegend(legendData) {
    var data = [];
    var legendElement = legendData[0];
    for (var i = 0; i < legendElement.length; i++) {
        if (legendElement[i].attributes.opacity.value !== '0.2') {
            //If not white, add it to the updated data array
            data.push(legendElement[i].__data__);
        }
    }
    return data;
}

/**createCarousel
 *
 * Draws the horizontal legend carousel
 * @params chart, legendData, drawFunc
 */
function createCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        legendPolygon;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(0,0)').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (chart._vars.legendIndex >= 1) {
            chart._vars.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 12.5).style('text-anchor', 'start').style('font-size', chart._vars.fontSize).text(function () {
        return chart._vars.legendIndex + 1 + ' / ' + (chart._vars.legendIndexMax + 1);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(85,0)').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (chart._vars.legendIndex < chart._vars.legendIndexMax) {
            chart._vars.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === chart._vars.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });

    //Centers the legend polygons in the panel
    if (legendPolygon) {
        var legendPolygonWidth = legendPolygon.node().getBBox().width;
        legendPolygon.attr('transform', 'translate(' + (container.width - legendPolygonWidth) / 2 + ',' + (container.height + 105) + ')');
    }
}

/**getPlotData
 *
 * Returns only data values to be plotted; input is the data object
 * @params objectData, chart
 */
function getPlotData(objectData, chart) {
    var data = [];
    var objDataNew = JSON.parse(JSON.stringify(objectData)); //Copy of barData
    for (var i = 0; i < objDataNew.length; i++) {
        var group = [];
        for (var j = 0; j < chart.currentData.legendData.length; j++) {
            if (typeof objDataNew[i][chart.currentData.legendData[j]] !== 'undefined') {
                group.push(objDataNew[i][chart.currentData.legendData[j]]);
            }
        }
        data.push(group);
    }
    return data;
}

/**getPosCalculations
 *Holds the logic for positioning all bars on a bar chart (depends on toolData)
 *
 * @params svg, barData, options, xAxisData, yAxisData, container
 * @returns {{}}
 */
function getPosCalculations(barData, _vars, xAxisData, yAxisData, container, chart) {
    var x = jvCharts.getAxisScale('x', xAxisData, container, _vars),
        y = jvCharts.getAxisScale('y', yAxisData, container, _vars),
        scaleFactor = 1,
        data = [],
        size = 0,
        positionFunctions = {};

    for (var item in chart.currentData.dataTable) {
        if (item !== 'label' && item.indexOf('tooltip') === -1) {
            size++;
        }
    }

    for (var i = 0; i < barData.length; i++) {
        var val = [];
        for (var key in barData[i]) {
            if (barData[i].hasOwnProperty(key)) {
                val.push(barData[i][key]);
            }
        }
        data.push(val.slice(1, barData[i].length));
    }

    if (_vars.rotateAxis === true && _vars.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return 0;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function () {
            return y.bandwidth() * 0.95;
        };
        positionFunctions.x = function (d, i, j) {
            var increment = 0; //Move the x up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return x(increment) === 0 ? 1 : x(increment);
        };
        positionFunctions.y = function () {
            return 0;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() * 0.95;
        };
    } else if (_vars.rotateAxis === true && _vars.stackToggle === false) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function (d) {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
        positionFunctions.x = function (d) {
            return x(0) - x(d) > 0 ? x(d) : x(0);
        };
        positionFunctions.y = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
    } else if (_vars.rotateAxis === false && _vars.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function () {
            return 0;
        };
        positionFunctions.y = function (d, i, j) {
            var increment = 0; //Move the y up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return y(parseFloat(d) + increment);
        };
        positionFunctions.width = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.height = function (d) {
            return container.height - y(d);
        };
    } else if (_vars.rotateAxis === false && _vars.stackToggle === false) {
        positionFunctions.startx = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.y = function (d) {
            return y(0) - y(d) > 0 ? y(d) : y(0);
        };
        positionFunctions.width = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.height = function (d) {
            return Math.abs(y(0) - y(d));
        };
    }
    return positionFunctions;
}

/**getColors
 *
 * gets the colors to apply to the specific chart
 * @params colorObj, index, label
 * @returns {{}}
 */
function getColors(colorObj, paramIndex, label) {
    var index = paramIndex;

    //logic to return the color if the colorObj passed in
    //is an object with the label being the key
    if (typeof label !== 'undefined' && colorObj.hasOwnProperty(label) && colorObj[label]) {
        return colorObj[label];
    }

    var cleanedColors = [];

    if (!Array.isArray(colorObj)) {
        cleanedColors = [];
        for (var k in colorObj) {
            if (colorObj.hasOwnProperty(k)) {
                if (colorObj[k]) {
                    cleanedColors.push(colorObj[k]);
                }
            }
        }
    } else {
        cleanedColors = colorObj;
    }

    //logic to return a repeating set of colors assuming that
    //the user changed data (ex: flip series on bar chart)
    if (!cleanedColors[index]) {
        while (index > cleanedColors.length - 1) {
            index = index - cleanedColors.length;
        }
    }
    return cleanedColors[index];
}

function getAxisScale(whichAxis, axisData, container, _vars, paddingType) {
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (paddingType === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }
    var axisScale, axis;

    whichAxis === 'x' ? axis = container.width : axis = container.height;

    if (axisData.dataType === 'DATE') {
        for (var i = 0; i < axisData.values.length; i++) {
            axisData.values[i] = new Date(axisData.values[i]);
        }

        var maxDate = Math.max.apply(null, axisData.values);
        var minDate = Math.min.apply(null, axisData.values);

        axisScale = d3.scaleTime().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, axis]);
    } else if (axisData.dataType === 'STRING') {
        axisScale = d3.scaleBand().domain(axisData.values).range([0, axis]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (axisData.dataType === 'NUMBER') {
        var domain;
        if (_vars.xReversed || _vars.yReversed) {
            if (_vars.xReversed && whichAxis === 'x' || whichAxis === 'y' && !_vars.yReversed) {
                domain = [axisData.max, axisData.min];
            }
            if (_vars.yReversed && whichAxis === 'y' || whichAxis === 'x' && !_vars.xReversed) {
                domain = [axisData.min, axisData.max];
            }
        } else {
            whichAxis === 'x' ? domain = [axisData.min, axisData.max] : domain = [axisData.max, axisData.min];
        }

        if (_vars.hasOwnProperty('axisType') && _vars.axisType === 'Logarithmic') {
            domain[1] = 0.1;
            axisScale = d3.scaleLog().base(10).domain(domain).rangeRound([0, axis]);
        } else {
            axisScale = d3.scaleLinear().domain(domain).rangeRound([0, axis]);
        }
    } else {
        console.error('Axis is not a valid data type');
        // throw new Error('Axis is not a valid data type');
    }
    return axisScale;
}

/**getXScale
 *
 * get the scale for the x axis
 * @params xAxisData, container, padding
 * @returns {{}}
 */
function getXScale(xAxisData, container, padding) {
    var xAxisScale;
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    //check if values length is greater than two incase the labels are all numbers. if it is a linear scale then there will only be a min and max
    if (xAxisData.dataType === 'DATE') {
        for (var i = 0; i < xAxisData.values.length; i++) {
            xAxisData.values[i] = new Date(xAxisData.values[i]);
        }

        var maxDate = Math.max.apply(null, xAxisData.values);
        var minDate = Math.min.apply(null, xAxisData.values);

        xAxisScale = d3.time.scale().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, container.width]);
    } else if (xAxisData.dataType === 'STRING' || xAxisData.values.length > 2) {
        xAxisScale = d3.scaleBand().domain(xAxisData.values).range([0, container.width]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (xAxisData.dataType === 'NUMBER') {
        var max = xAxisData.values[xAxisData.values.length - 1];
        var min = xAxisData.values[0];

        xAxisScale = d3.scaleBand().domain([min, max]).rangeRound([0, container.width]);
    }
    return xAxisScale;
}

/**getYScale
 *
 * gets the scale for the y axis
 * @params yAxisData, container, padding
 * @returns {{}}
 */
function getYScale(yAxisData, container) {
    var yAxisScale;

    if (yAxisData.dataType === 'STRING') {
        yAxisScale = d3.scaleOrdinal().domain(yAxisData.values).range([0, container.height]);
    } else if (yAxisData.dataType === 'NUMBER') {
        var max = yAxisData.values[yAxisData.values.length - 1];
        var min = yAxisData.values[0];
        yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([0, container.height]);
    }
    return yAxisScale;
}

/************************************************ Data functions ******************************************************/

/**
 * @function
 * @param {string} label - The field that is checked for type
 * @param {Object} dataTableKeys - Object that contains the data type for each column of data
 */
function getDataTypeFromKeys(label, dataTableKeys) {
    var defaultType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'STRING';

    var type = defaultType;

    for (var i = 0; i < dataTableKeys.length; i++) {
        //Replace underscores with spaces
        if (dataTableKeys[i].varKey.replace(/_/g, ' ') === label.replace(/_/g, ' ')) {
            if (dataTableKeys[i].hasOwnProperty('type')) {
                type = dataTableKeys[i].type;
                if (type === 'STRING') {
                    type = 'STRING';
                } else if (type === 'DATE') {
                    type = 'DATE';
                } else if (type === 'NUMBER') {
                    type = 'NUMBER';
                } else {
                    type = 'NUMBER';
                }
                break;
            }
        }
    }
    return type;
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/**setChartColors
 *  cleans incoming colors for consistency
 *
 * @params colorArray, legendData
 * @returns object with colors
 */

function setChartColors(toolData, legendData, defaultColorArray) {
    //function handles 3 color inputs
    //toolData as an array in toolData
    //toolData as an object
    //toolData as 'none'
    //any other case will result in using defaultColorArray

    var colors = {},
        usedColors = [],
        unaccountedLegendElements = [];

    //toolData is array
    if (Array.isArray(toolData)) {
        if (toolData.length > 0) {
            colors = createColorsWithDefault(legendData, toolData);
        } else {
            colors = createColorsWithDefault(legendData, defaultColorArray);
        }
    } else if (toolData === Object(toolData)) {
        for (var i = 0; i < legendData.length; i++) {
            var obj = legendData[i];
            if (toolData.hasOwnProperty(obj)) {
                usedColors.push(toolData[obj]);
            } else {
                unaccountedLegendElements.push(legendData[i]);
            }
        }
        //check if object has desired keys
        if (usedColors.length === legendData.length) {
            colors = toolData;
        } else if (usedColors.length > 0) {
            var toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        } else {
            var toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        }
    } else {
        colors = createColorsWithDefault(legendData, defaultColorArray);
    }

    return colors;
}

function createColorsWithDefault(legendData, colors) {
    var mappedColors = {},
        count = 0;
    for (var i = 0; i < legendData.length; i++) {
        if (count > colors.length - 1) {
            count = 0;
        }
        mappedColors[legendData[i]] = colors[count];
        count++;
    }
    return mappedColors;
}

/**cleanToolData
 *  cleans incoming toolData for consistency
 *
 * @param toolData
 * @returns object with tooldata
 */
function cleanToolData(options) {
    var editOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

    var data = {};
    if (options) {
        data = options;
    }
    if (!data.hasOwnProperty('rotateAxis')) {
        data.rotateAxis = false;
    }
    if (data.hasOwnProperty('stackToggle')) {
        if (data.stackToggle === 'stack-data' || data.stackToggle === true) {
            data.stackToggle = true;
        } else {
            data.stackToggle = false;
        }
    } else {
        data.stackToggle = false;
    }
    if (data.hasOwnProperty('colors')) {
        data.color = data.colors;
    }
    if (!data.hasOwnProperty('thresholds')) {
        data.thresholds = [];
    }

    //These are used in setting dynamic margins on the y Axis in jvCharts
    if (editOptions && editOptions.hasOwnProperty('yAxis') && editOptions.yAxis.hasOwnProperty('editable-text-size')) {
        data.yLabelFontSize = editOptions.yAxis['editable-text-size'];
        data.yLabelFormat = editOptions.yAxis['editable-num-format'];
    }
    return data;
}

function getMaxWidthForAxisData(axis, axisData, _vars, dimensions, margin, chartDiv, type) {
    var maxAxisText = '',
        formatType;
    //Dynamic left margin for charts with y axis
    if (_vars.rotateAxis) {
        //get length of longest text label and make the axis based off that
        var maxString = '',
            height = parseInt(dimensions.height) - margin.top - margin.bottom;

        //check if labels should be shown
        if (height !== 0 && height / axisData.values.length < parseInt(_vars.fontSize)) {
            axisData.hideValues = true;
        } else {
            for (var i = 0; i < axisData.values.length; i++) {
                var currentStr = axisData.values[i].toString();
                if (currentStr.length > maxString.length) {
                    maxString = currentStr;
                }
            }
            maxAxisText = maxString;
        }
    } else if (!!_vars.yLabelFormat || !!_vars.xLabelFormat) {
        var labelFormat = _vars.yLabelFormat;
        if (axis === 'x') {
            labelFormat = _vars.xLabelFormat;
        }

        formatType = jvFormatValueType(axisData.values);
        var expression = getFormatExpression(labelFormat);
        if (expression !== '') {
            maxAxisText = expression(axisData.max);
        } else {
            maxAxisText = jvFormatValue(axisData.max);
        }
    } else {
        formatType = jvFormatValueType(axisData.values);
        if (!axisData.hasOwnProperty('max')) {
            var maxLength = 0;
            for (var i = 0; i < axisData.values.length; i++) {
                if (axisData.values[i] && axisData.values[i].length > maxLength) {
                    maxLength = axisData.values[i].length;
                    maxAxisText = axisData.values[i];
                }
            }
        } else {
            maxAxisText = jvFormatValue(axisData.max, formatType);
        }
    }

    // if (type === 'heatmap') {
    //     //also need to check width of label
    //     if (maxAxisText.length < axisData.label.length + 5) {
    //         //need added space
    //         if (axis === 'x') {
    //             maxAxisText = axisData.label;
    //         } else {
    //             maxAxisText = axisData.label + 'Extra';
    //         }
    //     }
    // }

    //Create dummy svg to place max sized text element on
    var dummySVG = chartDiv.append('svg').attr('class', 'dummy-svg');

    //Create dummy text element
    var axisDummy = dummySVG.append('text').attr('font-size', function () {
        if (axis === 'y' && _vars.yLabelFontSize !== 'none') {
            return _vars.yLabelFontSize;
        }
        if (axis === 'x' && _vars.xLabelFontSize !== 'none') {
            return _vars.xLabelFontSize;
        }
        return _vars.fontSize;
    }).attr('x', 0).attr('y', 0).text(maxAxisText);

    //Calculate the width of the dummy text
    var width = axisDummy.node().getBBox().width;
    //Remove the svg and text element
    chartDiv.select('.dummy-svg').remove();
    return width;
}

function values(object, dataTableAlign, type) {
    var valuesArray = [];

    if (type === 'bar' || type === 'pie' || type === 'line' || type === 'area') {
        //for (var key in object) {
        for (var i = 1; i < _.keys(dataTableAlign).length; i++) {
            if (dataTableAlign.hasOwnProperty('value ' + i)) {
                if (object[dataTableAlign['value ' + i]] != null) {
                    //!= checks for null
                    valuesArray.push(object[dataTableAlign['value ' + i]]);
                }
            }
        }
    } else {
        for (var key in object) {
            if (object.hasOwnProperty(key)) {
                valuesArray.push(object[key]);
            }
        }
    }
    return valuesArray;
}
/**getYScale
 *
 * gets the scale for the y axis
 * @params yAxisData, container, padding
 * @returns {{}}
 */
function getYScale(yAxisData, container, padding, yReversed) {
    var yAxisScale;
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    if (yAxisData.dataType === 'STRING') {
        yAxisScale = d3.scale.ordinal().domain(yAxisData.values).rangePoints([0, container.height]).rangeRoundBands([0, container.height], leftPadding, rightPadding);
    } else if (yAxisData.dataType === 'NUMBER') {
        var max = yAxisData.values[yAxisData.values.length - 1];
        var min = yAxisData.values[0];
        if (yReversed) {
            yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([container.height, 0]);
        } else {
            yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([0, container.height]);
        }
    }
    return yAxisScale;
}
/**getZScale
 *
 * gets the scale for the z axis
 * @params zAxisData, container, padding
 * @returns {{}}
 */
function getZScale(zAxisData, container, _vars) {
    var zAxisScale;

    zAxisScale = d3.scaleLinear().domain([d3.min(zAxisData.values), d3.max(zAxisData.values)]).rangeRound([_vars.NODE_MIN_SIZE, _vars.NODE_MAX_SIZE]).nice();
    return zAxisScale;
}

/**generateEventGroups
 *
 *
 * @params chartContainer, barData, chart
 */
function generateEventGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        dataToPlot = jvCharts.getPlotData(barData, chart),
        eventGroups;

    //Invisible rectangles on screen that represent bar groups. Used to show/hide tool tips on hover
    eventGroups = chartContainer.data(dataToPlot).enter().append('rect').attr('class', 'event-rect').attr('x', function (d, i) {
        //sets the x position of the bar)
        return chart._vars.rotateAxis ? 0 : container.width / barData.length * i;
    }).attr('y', function (d, i) {
        //sets the y position of the bar
        return chart._vars.rotateAxis ? container.height / barData.length * i : 0;
    }).attr('width', function () {
        //sets the x position of the bar)
        return chart._vars.rotateAxis ? container.width : container.width / barData.length;
    }).attr('height', function () {
        //sets the y position of the bar
        return chart._vars.rotateAxis ? container.height / barData.length : container.height;
    }).attr('fill', 'transparent').attr('class', function (d, i) {
        return 'event-rect editable-bar bar-col-' + String(barData[i][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '_dot_');
    });

    return eventGroups;
}

function generateThresholdLegend(chart) {
    var svg = chart.svg;

    var colorLegendData = [];
    if (chart._vars.thresholds !== 'none') {
        for (var j = 0; j < Object.keys(chart._vars.thresholds).length; j++) {
            colorLegendData.push(chart._vars.thresholds[j].thresholdName);
        }
    }

    var gLegend = svg.append('g').attr('class', 'thresholdLegendContainer');

    var legend = gLegend.selectAll('.thresholdLegend').data(colorLegendData).enter().append('g').attr('class', 'thresholdLegend').attr('transform', function (d, i) {
        var height = 19;
        var offset = 19 * colorLegendData.length / 2;
        var horz = -2 * 12;
        var vert = i * height - offset;
        return 'translate(' + horz + ',' + vert + ')';
    });

    legend.append('rect').attr('width', 12).attr('height', 12).style('fill', function (d, i) {
        return chart._vars.thresholds[i].thresholdColor;
    });

    legend.append('text').attr('x', 24).attr('y', 8).attr('font-size', '.75em').text(function (d) {
        return d;
    });

    //Centers the legend in the panel
    if (gLegend) {
        var legendWidth = gLegend.node().getBBox().width;
        gLegend.attr('transform', 'translate(' + (chart.config.container.width - legendWidth) + ',' + 10 * colorLegendData.length + ')');
    }
}

function attachClickEventsToLegend(chart, legendElements, drawFunc) {
    //Adding the click event to legend rectangles for toggling on/off
    legendElements.on('click', function () {
        var selectedRect = d3.select(this);
        if (selectedRect._groups[0][0].attributes.opacity.value !== '0.2') {
            selectedRect.attr('opacity', '0.2');
        } else {
            selectedRect.attr('opacity', '1');
        }

        //Gets the headers of the data to be drawn
        var dataHeaders = updateDataFromLegend(legendElements._groups);
        //Sets the legendData to the updated headers
        if (chart._vars.seriesFlipped) {
            chart._vars.flippedLegendHeaders = dataHeaders;
        } else {
            chart._vars.legendHeaders = dataHeaders;
        }

        //Plots the data
        chart._vars.transitionTime = 800; //Keep transition for toggling legend elements
        if (chart._vars.seriesFlipped) {
            chart[drawFunc](chart.flippedData);
        } else {
            chart[drawFunc](chart.data);
        }
        if (chart.applyEditMode) {
            chart.applyEditMode();
        }
    });
}

/**generateVerticalLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateVerticalLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        legend,
        legendDataLength = legendData.length,
        legendElementToggleArray;

    chart._vars.gridSize = 20;

    if (!chart._vars.legendIndex) {
        chart._vars.legendIndex = 0;
    }

    if (!chart._vars.legendIndexMax) {
        chart._vars.legendIndexMax = Math.floor(legendDataLength / chart._vars.legendMax - 0.01);
    }

    //Check to see if legend element toggle array needs to be set
    if (chart._vars.legendIndexMax >= 0) {
        if (!chart._vars.legendHeaders) {
            chart._vars.legendHeaders = JSON.parse(JSON.stringify(legendData));
        }

        legendElementToggleArray = getLegendElementToggleArray(chart._vars.legendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend').attr('transform', 'translate(' + 18 + ',' + 20 + ')');

    //Adding colored rectangles to the legend
    var legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', '3').attr('y', function (d, i) {
        return chart._vars.gridSize * (i % chart._vars.legendMax) * 1.1;
    }).attr('width', chart._vars.gridSize).attr('height', chart._vars.gridSize).attr('fill', function (d, i) {
        if (!legendElementToggleArray && !chart._vars.seriesFlipped || chart._vars.seriesFlipped && !legendElementToggleArray) {
            return getColors(chart._vars.color, i, legendData[i]);
        }
        if (!chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true || chart._vars.seriesFlipped && legendElementToggleArray[i].toggle === true) {
            return getColors(chart._vars.color, i, legendData[i]);
        }
        return chart._vars.emptyLegendSquare;
    }).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', '1');

    //Adding text labels for each rectangle in legend
    var legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', chart._vars.gridSize + 7).attr('y', function (d, i) {
        return chart._vars.gridSize * (i % chart._vars.legendMax) * 1.1 + 10;
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', chart._vars.fontColor).attr('font-size', chart._vars.fontSize).attr('display', function (d, i) {
        if (i >= chart._vars.legendIndex * chart._vars.legendMax && i <= chart._vars.legendIndex * chart._vars.legendMax + (chart._vars.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (chart._vars.legendIndexMax > 0) {
        createVerticalCarousel(chart, legendData, drawFunc);
    }

    return legendRectangles;
}

/**createVerticalCarousel
 *
 * Draws the vertical legend carousel
 * @params chart, legendData, drawFunc
 */
function createVerticalCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        legendPolygon;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(0,' + (chart._vars.legendMax * chart._vars.gridSize + 50) + ')').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (chart._vars.legendIndex >= 1) {
            chart._vars.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 242.5).style('text-anchor', 'start').style('font-size', chart._vars.fontSize).text(function () {
        return chart._vars.legendIndex + 1 + ' / ' + (chart._vars.legendIndexMax + 1);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', chart._vars.legendArrowColor).attr('transform', 'translate(85,' + (chart._vars.legendMax * chart._vars.gridSize + 50) + ')').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (chart._vars.legendIndex < chart._vars.legendIndexMax) {
            chart._vars.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (chart._vars.legendIndex === chart._vars.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });
}

//Bind functions to prototype or jvCharts object
jvCharts.getColors = getColors;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.createColorsWithDefault = createColorsWithDefault;
jvCharts.values = values;
jvCharts.getYScale = getYScale;
jvCharts.getZScale = getZScale;
jvCharts.getLegendElementToggleArray = getLegendElementToggleArray;
jvCharts.generateLegendElements = generateLegendElements;
jvCharts.updateDataFromLegend = updateDataFromLegend;
jvCharts.createCarousel = createCarousel;
jvCharts.generateThresholdLegend = generateThresholdLegend;
jvCharts.attachClickEventsToLegend = attachClickEventsToLegend;
jvCharts.generateVerticalLegendElements = generateVerticalLegendElements;
jvCharts.createVerticalCarousel = createVerticalCarousel;
jvCharts.getToggledData = getToggledData;
jvCharts.getPlotData = getPlotData;
jvCharts.getPosCalculations = getPosCalculations;
jvCharts.getXScale = getXScale;
jvCharts.getYScale = getYScale;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.jvFormatValue = jvFormatValue;
jvCharts.getFormatExpression = getFormatExpression;
jvCharts.generateEventGroups = generateEventGroups;
jvCharts.jvFormatValueType = jvFormatValueType;
jvCharts.getAxisScale = getAxisScale;
jvCharts.setChartColors = setChartColors;
jvCharts.getDataTypeFromKeys = getDataTypeFromKeys;
jvCharts.cleanToolData = cleanToolData;

module.exports = jvCharts;

},{"./jvTip.js":9}],5:[function(require,module,exports){
'use strict';

/***  jvComment ***/
/**
* @name jvComment
* @desc creates comments for a jv visualization and fires a callback for the visuals to be saved
* @param {object} configObj - comment that the user clicked on
* @return {undefined} - no return
*/
function jvComment(configObj) {
    'use strict';

    var commentObj = this;
    commentObj.chartDiv = configObj.chartDiv;
    commentObj.showComments = false;
    commentObj.comments = configObj.comments ? configObj.comments : {};
    commentObj.disabled = false;
    commentObj.drawCommentNodes();
    commentObj.onSaveCallback = configObj.onSaveCallback;
    commentObj.getMode = configObj.getMode;
}

/**
* @name createMoveListener
* @desc creates the mousemove listener to determine if the user moves or resizes a comment
* @param {object} commentNode - comment that the user clicked on
* @return {undefined} - no return
*/
jvComment.prototype.createMoveListener = function (commentNode) {
    var commentObj = this,
        timeMouseDown = new Date().getTime();
    commentObj.chartDiv.on('mousemove', function () {
        //mouse move happend too quickly, chrome bug
        var timeMouseMove = new Date().getTime(),
            node = commentNode.node(),
            mouse = d3.mouse(node),
            mouseOnChartDiv = d3.mouse(commentObj.chartDiv.node()),
            resizeNode;
        if (timeMouseDown + 10 > timeMouseMove) {
            return;
        }
        //set the moved node, so we know to do a mouse up event
        commentObj.moved = commentNode;

        //resize in the right corner of the comment
        if (commentNode.select('.comment-padding')._groups[0][0] && (mouse[0] + 15 > node.clientWidth && mouse[1] + 15 > node.clientHeight || commentObj.moved.mouse)) {
            if (!commentObj.moved.mouse) {
                resizeNode = commentNode.select('.comment-padding');
                resizeNode.style('width', 'auto');
                resizeNode.style('height', 'auto');
            }
            //set the mouse event so we can update the location on mouse up
            commentObj.moved.mouse = mouse;
        } else {
            //move the comment node around the visual
            if (commentNode._groups[0][0].nodeName === 'text') {
                commentObj.chartDiv.select('.commentbox-readonly').remove();
            }
            commentNode.style('left', mouseOnChartDiv[0] + 'px').style('top', mouseOnChartDiv[1] + 'px');
            commentNode.attr('x', mouseOnChartDiv[0]).attr('y', mouseOnChartDiv[1]);
        }
    });
};

/**
* @name updatePosition
* @desc determines whether the user dragged a comment on the screen or updated its size and then creates the appropriate save function
* @return {undefined} - no return
*/
jvComment.prototype.updatePosition = function () {
    var commentObj = this,
        nodeToUpdate = commentObj.moved._groups[0][0],
        nodeId = nodeToUpdate.id.split('node')[1],
        comment = commentObj.comments.list[nodeId],
        x = void 0,
        y = void 0;
    if (Array.isArray(commentObj.moved.mouse)) {
        comment.binding.width = commentObj.moved.mouse[0];
        comment.binding.height = commentObj.moved.mouse[1];
    } else {
        x = Math.round(nodeToUpdate.getAttribute('x'));
        y = Math.round(nodeToUpdate.getAttribute('y'));
        comment.binding = {
            'x': x,
            'y': y,
            'xChartArea': commentObj.chartDiv._groups[0][0].clientWidth,
            'yChartArea': commentObj.chartDiv._groups[0][0].clientHeight,
            'currentX': x,
            'currentY': y,
            'showAsMarker': comment.binding.showAsMarker,
            'height': comment.binding.height,
            'width': comment.binding.width
        };
    }

    commentObj.onSaveCallback(comment, nodeId, 'edit');
};

/**
* @name makeComment
* @desc creates the comment entry box on the screen and attaches listeners to the save delete and cancel options
* @param {object} event - event that holds the mouse position for where the user wants to place the comment
* @return {undefined} - no return
*/
jvComment.prototype.makeComment = function (event) {
    if (this.chartDiv.select('.commentbox')._groups[0][0] || this.chartDiv.select('.commentbox-edit')._groups[0][0]) {
        //dont create new comment
        return;
    }

    var commentObj = this,
        x = parseInt(d3.mouse(event)[0], 10),
        y = parseInt(d3.mouse(event)[1], 10),
        commentHeight = 145,
        commentWidth = 200,

    //calculate position of overlay div
    position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y),
        commentType = 'svgMain';

    commentObj.chartDiv.selectAll('.commentbox-readonly').remove();

    commentObj.showComments = false;
    commentObj.chartDiv.append('div').attr('class', 'commentbox').attr('id', 'commentbox').style('opacity', 1).html("<div class='title'><b>Add New Comment</b></div>" + "<textarea placeholder='Enter comment...' form='commentform' class='comment-textarea' style='width:155px; height: 90px;' name='comment' id = 'textarea1'></textarea>" + "<br><input type='checkBox' class='commentbox-display' id ='display'> Display as marker" + "<br><button class='commentbox-close' id ='cancel'><i class='fa fa-close'></i></button>" + "<button class='smss-btn commentbox-submit' id = 'submit'>Submit Comment</button>").style('position', 'absolute').style('left', position.x + 'px').style('top', position.y + 'px');

    //Autofocus on the text area
    document.getElementById('textarea1').focus();

    commentObj.chartDiv.selectAll('.commentbox').select('#cancel').on('click.delete', function () {
        commentObj.removeComment();
    });

    commentObj.chartDiv.selectAll('.commentbox').select('#submit').on('click.save', function () {
        var commentText = commentObj.chartDiv.select('#commentbox').select('#textarea1')._groups[0][0].value,
            showAsMarker = commentObj.chartDiv.select('#commentbox').select('#display')._groups[0][0].checked,
            newCommentObj = void 0;

        newCommentObj = {
            'commentText': commentText,
            'groupID': 'group0',
            'type': commentType,
            'binding': {
                'x': x,
                'y': y,
                'xChartArea': commentObj.chartDiv._groups[0][0].clientWidth,
                'yChartArea': commentObj.chartDiv._groups[0][0].clientHeight,
                'currentX': x,
                'currentY': y,
                'showAsMarker': showAsMarker ? 'true' : 'false',
                'height': false,
                'width': false
            }
        };
        commentObj.chartDiv.select('.commentbox').remove();
        if (isNaN(commentObj.comments.maxId)) {
            commentObj.comments.maxId = -1;
        }
        commentObj.onSaveCallback(newCommentObj, ++commentObj.comments.maxId, 'add');
    });
};

/**
* @name removeComment
* @desc function to remove comment entry box
* @return {undefined} - no return
*/
jvComment.prototype.removeComment = function () {
    var commentObj = this;
    commentObj.chartDiv.selectAll('.commentbox').remove();
};

/**
* @name drawCommentNodes
* @desc function to draw a all comments on the visual
* @return {undefined} - no return
*/
jvComment.prototype.drawCommentNodes = function () {
    var commentObj = this,
        comments = commentObj.comments.list;

    commentObj.chartDiv.selectAll('.min-comment').remove();

    for (var id in comments) {
        if (comments.hasOwnProperty(id)) {
            commentObj.drawComment(comments[id], id);
        }
    }
};

/**
* @name drawComment
* @desc function to draw a single comment on the visual
* @param {object} comment - data used to pain the comment
* @param {number} id - id of the specific comment
* @return {undefined} - no return
*/
jvComment.prototype.drawComment = function (comment, id) {
    if (typeof this.chartDiv._groups === 'undefined') {
        console.log('Comment data is in old format, will not display or chart div doesnt exist');
        return;
    }

    if (!comment.binding || !this.chartDiv._groups[0][0]) {
        console.log('Comment data is in old format, will not display or chart div doesnt exist');
        return;
    }

    var commentObj = this,
        chartDiv = commentObj.chartDiv,
        binding = comment.binding,
        chartAreaWidth = chartDiv._groups[0][0].clientWidth,
        chartAreaHeight = chartDiv._groups[0][0].clientHeight,
        x = binding.x / binding.xChartArea * chartAreaWidth,
        y = binding.y / binding.yChartArea * chartAreaHeight,
        styleString = '',
        text = '',
        resize = false;

    binding.currentX = binding.x / binding.xChartArea * chartAreaWidth;
    binding.currentY = binding.y / binding.yChartArea * chartAreaHeight;

    if (comment.binding.showAsMarker === 'false') {
        if (comment.binding.width && comment.binding.height) {
            styleString = "style='width: " + comment.binding.width + 'px; height: ' + comment.binding.height + "px'";
        }
        if (comment.commentText.indexOf('<iframe') > -1 || comment.commentText.indexOf('<img') > -1 || comment.commentText.indexOf('<svg') > -1) {
            //contains elents that should resize
            text = "<div class='comment-padding text'" + styleString + "><div class='user-comment'>" + comment.commentText + '</div></div>';
            resize = true;
        } else {
            text = '<div class="text editable editable-text editable-comment-' + id + '">' + comment.commentText + '<div/>';
        }
        chartDiv.append('div').attr('class', 'min-comment').attr('id', 'node' + id).style('opacity', 1).style('position', 'absolute')
        //.style("border", "1px solid black")
        .html(text).style('left', x + 'px').style('top', y + 'px').on('dblclick.comment', function () {
            //Edit text or delete the comment
            commentObj.doubleClick(this, x, y);
        });
        if (resize) {
            var parent = d3.select('.user-comment');
            rescale(parent, parent.node());
        }
    } else {
        chartDiv.select('svg').append('text').attr('class', 'min-comment').attr('id', 'node' + id).attr('fill', '#e6e6e6').attr('x', x).attr('y', y).attr('font-family', 'FontAwesome').attr('stroke', 'darkgray').attr('font-size', '15px').text('\uF0E5').attr('opacity', 1).on('dblclick.comment', function () {
            //Edit text or delete the comment
            commentObj.doubleClick(this, x, y);
        }).on('mouseenter.comment', function () {
            //Show hover over box when mouse enters node
            if (commentObj.showComments === false) {
                var commentText = '',
                    commentHeight = 80,
                    commentWidth = 185,
                    position = void 0;

                for (var j in commentObj.comments.list) {
                    if (Math.round(commentObj.comments.list[j].binding.currentX) === Math.round(this.x.baseVal[0].value)) {
                        if (Math.round(commentObj.comments.list[j].binding.currentY) === Math.round(this.y.baseVal[0].value)) {
                            commentText = commentObj.comments.list[j].commentText;
                            x = commentObj.comments.list[j].binding.currentX;
                            y = commentObj.comments.list[j].binding.currentY;
                        }
                    }
                }
                position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

                chartDiv.append('div').attr('class', 'commentbox-readonly').style('opacity', 1).style('position', 'absolute').html("<textarea readonly rows='4' cols='27' class='textarea' name='comment'>" + commentText + '</textarea>').style('left', position.x + 'px').style('top', position.y + 'px');
            }
        }).on('mouseout.comment', function () {
            //Remove hover over box when mouse moves away
            if (commentObj.showComments === false) {
                chartDiv.select('.commentbox-readonly').remove();
            }
        });
    }
};

/**
* @name rescale
* @desc sets the children of the ele param to 100 percent height and width
* @param {d3node} ele - node to start recursive function
* @param {htmlNode} commentNode - unused parent node that can be used to calcualte percent height and widths
* @return {undefined} - no return
*/
function rescale(ele, commentNode) {
    var node = ele.node(),
        width = 100,
        height = 100;
    //width = node.clientWidth / commentNode.clientWidth * 100;
    //height = node.clientHeight / commentNode.clientHeight * 100;
    //if (width > 100) {
    //width = 100;
    //}

    //if (height > 100) {
    //height = 100;
    //}

    ele.style('width', width + '%');
    ele.style('height', height + '%');
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
        for (var _iterator = node.childNodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
            var child = _step.value;

            rescale(d3.select(child), commentNode);
        }
    } catch (err) {
        _didIteratorError = true;
        _iteratorError = err;
    } finally {
        try {
            if (!_iteratorNormalCompletion && _iterator.return) {
                _iterator.return();
            }
        } finally {
            if (_didIteratorError) {
                throw _iteratorError;
            }
        }
    }
}

/**
* @name doubleClick
* @desc click function after the user clicks on an existing comment
* @param {object} commentNode - current comment that the user clicked
* @param {number} x - x position of the click event
* @param {number} y - y position of the click event
* @return {undefined} - no return
*/
jvComment.prototype.doubleClick = function (commentNode, x, y) {
    if (this.chartDiv.select('.commentbox-edit')._groups[0][0] || this.getMode() !== 'comment-mode') {
        //dont create new comment
        return;
    }
    var commentObj = this,
        chartDiv = commentObj.chartDiv,
        currentComment = commentNode.id.split('node')[1],
        commentText = commentObj.comments.list[currentComment].commentText,
        commentHeight = 145,
        commentWidth = 200,
        position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

    commentObj.showComments = false;
    chartDiv.selectAll('.commentbox-readonly').remove();
    chartDiv.selectAll('.commentbox-edit').remove();
    chartDiv.selectAll('.commentbox').remove();

    chartDiv.append('div').attr('class', 'commentbox-edit').style('opacity', 1).style('left', position.x + 'px').style('top', position.y + 'px').style('position', 'absolute').html("<div class='title'><b>Edit Comment</b></div>" + "<textarea id='edit' class='comment-textarea' style='width:155px; height: 90px;' name='comment'>" + commentText + '</textarea>' + "<br><input type='checkBox' class='commentbox-display' id ='display'> Display as marker" + "<br><button class='commentbox-close' id ='cancel-edit'><i class='fa fa-close'></i></button>" + "<button class='smss-btn' id ='delete'>Delete</button>" + "<button class='smss-btn' id = 'save'>Save</button>");

    chartDiv.select('.commentbox-edit').select('#display')._groups[0][0].checked = commentObj.comments.list[currentComment].binding.showAsMarker === 'true';

    chartDiv.selectAll('.commentbox-edit').select('#delete').on('click.delete', function () {
        chartDiv.select('.commentbox-edit').remove();
        chartDiv.select('.commentbox-readonly').remove();
        chartDiv.select('#node' + currentComment).attr('display', 'none');
        //redraw comment nodes with new indexes
        commentObj.onSaveCallback(commentObj.comments.list[currentComment], currentComment, 'remove');
    });

    chartDiv.selectAll('.commentbox-edit').select('#save').on('click.save', function () {
        var text = chartDiv.select('.commentbox-edit').select('#edit')._groups[0][0].value,
            showAsMarker = chartDiv.select('.commentbox-edit').select('#display')._groups[0][0].checked;
        commentObj.comments.list[currentComment].commentText = text;
        commentObj.comments.list[currentComment].binding.showAsMarker = showAsMarker ? 'true' : 'false';
        chartDiv.select('.commentbox-readonly').remove();
        chartDiv.select('.commentbox-edit').remove();
        commentObj.onSaveCallback(commentObj.comments.list[currentComment], currentComment, 'edit');
    });

    chartDiv.selectAll('.commentbox-edit').select('#cancel-edit').on('click.cancel-edit', function () {
        chartDiv.select('.commentbox-readonly').remove();
        chartDiv.select('.commentbox-edit').remove();
    });
};

/******************************* Utility functions **********************************************/
/**
* @name overlayDivPosition
* @desc function to determine the placement of the comment entry box on the visual
* @param {object} divWidth - width of the comment entry box
* @param {number} divHeight - height of the comment entry box
* @param {number} mouseX - x position of the click event
* @param {number} mouseY - y position of the click event
* @return {undefined} - no return
*/
jvComment.prototype.overlayDivPosition = function (divWidth, divHeight, mouseX, mouseY) {
    var commentObj = this,
        position = {};
    if (mouseX > parseInt(commentObj.chartDiv.style('width'), 10) / 2) {
        position.x = mouseX - divWidth - 5;
    } else {
        position.x = mouseX + 10;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    } else {
        position.y = mouseY + 10;
    }
    return position;
};

module.exports = jvComment;

},{}],6:[function(require,module,exports){
'use strict';

var editTemplate = require('./editOptionsTemplate.js');

/***  jvEdit ***/
function jvEdit(configObj) {
    "use strict";

    var editObj = this;
    editObj.chartDiv = configObj.chartDiv;
    editObj.editOptions = '';
    editObj.vizOptions = configObj.vizOptions ? configObj.vizOptions : {};
    editObj.fontSizeIncrement = 0;
    editObj.disabled = false;
    editObj.chartDiv.selectAll('.edit-div').remove();
    editObj.editDiv = editObj.chartDiv.append('div').attr('class', 'edit-div semoss-d3-tip absolute');
    editObj.onSaveCallback = configObj.onSaveCallback;
}

/********************************************* All Edit Mode Functions **************************************************/

/** displayEdit
 *
 * Displays the edit div, grabbing it from the template
 *
 */
jvEdit.prototype.displayEdit = function (mouse, options) {
    var editObj = this;

    //return if you click on the same element twice, no need to display a second edit div if the current one is still open
    if (editObj.editOptions === options) {
        return;
    }
    editObj.editDiv.html('');
    editObj.editOptions = options;
    var mouseX = mouse[0],
        mouseY = mouse[1];

    //assign html to editDiv (basically displays the div)
    editObj.editDiv.html(editTemplate);

    //optionValues - an array of strings.
    //      String is the id to the element in the editDiv form.
    //      This string contains the specific option that is being changed

    //itemToChange
    //      String that is the class of the svg element to be changed on the viz itself


    var optionValues = [],
        itemToChange = '',
        editOptionElement = editObj.editDiv.select("#edit-option-element");

    //if statements to determine which edit options to display
    if (options.indexOf('editable-yAxis') >= 0) {
        editOptionElement.html('&nbsp;for Y Axis');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'yAxis';
    } else if (options.indexOf('editable-xAxis') >= 0) {
        editOptionElement.html('&nbsp;for X Axis');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'xAxis';
    } else if (options.indexOf('yLabel') >= 0) {
        editOptionElement.html('&nbsp;for Y Label');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'yLabel';
    } else if (options.indexOf('xLabel') >= 0) {
        editOptionElement.html('&nbsp;for X Label');
        editOptionElement.style('visibility', 'visible');
        itemToChange = 'xLabel';
    } else if (options.indexOf('legendText') >= 0) {
        editOptionElement.html('&nbsp;for Legend Item');
        editOptionElement.style('visibility', 'visible');
        itemToChange = options.substring(options.indexOf('editable-legend-')).split(' ')[0];
    } else if (options.indexOf('editable-bar') >= 0) {
        editOptionElement.html('&nbsp;for Bar Chart');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-bar").style('display', 'block');
        optionValues.push('editable-bar');
        itemToChange = options.substring(options.indexOf('bar-col-')).split(' ')[0];
    } else if (options.indexOf('editable-pie') >= 0) {
        editOptionElement.html('&nbsp;for Pie Slice');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-pie").style('display', 'block');
        optionValues.push('editable-pie');
        itemToChange = options.substring(options.indexOf('pie-slice-')).split(' ')[0];
    } else if (options.indexOf('editable-scatter') >= 0) {
        editOptionElement.html('&nbsp;for Scatter Plot');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-scatter").style('display', 'block');
        optionValues.push('editable-scatter');
        itemToChange = options.substring(options.indexOf('scatter-circle-')).split(' ')[0];
    } else if (options.indexOf('editable-bubble') >= 0) {
        editOptionElement.html('&nbsp;for Bubble Chart');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-bubble").style('display', 'block');
        optionValues.push('editable-bubble');
        itemToChange = options.substring(options.indexOf('bubble-')).split(' ')[0];
    } else if (options.indexOf('editable-box') >= 0) {
        editOptionElement.html('&nbsp;for Box and Whisker Plot');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-box").style('display', 'block');
        optionValues.push('editable-box');
        itemToChange = options.substring(options.indexOf('box-')).split(' ')[0];
    } else if (options.indexOf('editable-comment') >= 0) {
        editOptionElement.html('&nbsp;for Comment');
        editOptionElement.style('visibility', 'visible');
        itemToChange = options.substring(options.indexOf('editable-comment-')).split(' ')[0];
    } else if (options.indexOf('editable-svg') >= 0) {
        editOptionElement.html('&nbsp;for All Text');
        editOptionElement.style('visibility', 'visible');
        editObj.editDiv.select(".editable-text-size-buttons").style('display', 'block');
        //editObj.editDiv.select(".editable-default-and-apply").style('display', 'none');
        optionValues.push('editable-text-size');
        itemToChange = 'svg';
    } else {
        console.log("Still need to add option to display edit");
    }

    if (options.indexOf('editable-num') >= 0) {
        editObj.editDiv.select(".editable-num-format").style('display', 'block');
        optionValues.push('editable-num-format');
    }
    if (options.indexOf('editable-text') >= 0) {
        editObj.editDiv.select(".editable-text-color").style('display', 'block');
        optionValues.push('editable-text-color');
        editObj.editDiv.select(".editable-text-size").style('display', 'block');
        optionValues.push('editable-text-size');
    }

    if (options.indexOf('editable-content') >= 0) {
        editObj.editDiv.select(".editable-content").style('display', 'block');
        optionValues.push('editable-content');
    }

    //populate edit div with initial values
    if (editObj.vizOptions[itemToChange]) {
        populateSelectionsEditMode(editObj.editDiv, editObj.vizOptions[itemToChange]);
    }
    editObj.editDiv.style('display', 'block').style("left", 0 + 'px').style("top", 0 + 'px');

    //calculate position of overlay div
    var editHeight = parseFloat(editObj.editDiv.style('height')),
        editWidth = parseFloat(editObj.editDiv.style('width')),
        position = editObj.overlayDivPosition(editWidth, editHeight, mouseX, mouseY);

    //show the new edit div
    editObj.editDiv.style("left", position.x + 'px').style("top", position.y + 'px');

    //add submit, default, and exit listeners to the div
    editObj.editDiv.select('#submitEditMode').on("click", function () {
        submitEditMode(editObj, optionValues, itemToChange);
        editObj.removeEdit();
    });
    editObj.editDiv.select('#submitEditModeDefault').on("click", function () {
        submitEditMode(editObj, optionValues, itemToChange, true);
        editObj.removeEdit();
    });
    editObj.editDiv.select('#exitEditMode').on("click", function () {
        editObj.removeEdit();
    });
    editObj.fontSizeIncrement = 0;
    //Adding click events for increase/decrease font size buttons
    editObj.editDiv.select("#increaseFontSize").on("click", function () {
        editObj.increaseFontSize();
    });
    editObj.editDiv.select("#decreaseFontSize").on("click", function () {
        editObj.decreaseFontSize();
    });
};

/** increaseFontSize
 *
 * Increases the font size by 1 when increased via edit options for all text
 *
 */
jvEdit.prototype.increaseFontSize = function () {
    var editObj = this,
        fontIncrement = 1,
        maxSize = 28;
    if (editObj.fontSizeIncrement < maxSize) {
        editObj.changeFontSize(fontIncrement);
        editObj.fontSizeIncrement++;
        editObj.vizOptions["text"] = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
};

/** decreaseFontSize
 *
 * Decreases the font size by 1 when decreased via edit options for all text
 *
 */
jvEdit.prototype.decreaseFontSize = function () {
    var editObj = this,
        fontDecrement = -1,
        minSize = -12;
    //min size is neg 12 because default size is 12px on our charts
    if (editObj.fontSizeIncrement > minSize) {
        editObj.changeFontSize(fontDecrement);
        editObj.fontSizeIncrement--;
        editObj.vizOptions["text"] = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
};

/** changeFontSize
 *
 * Increases or decreases font size by a certain increment
 *
 */
jvEdit.prototype.changeFontSize = function (increment) {
    var editObj = this;
    editObj.chartDiv.selectAll('text').each(function () {
        updateFont(this, increment);
    });
    editObj.chartDiv.selectAll('.text').each(function () {
        updateFont(this, increment);
    });
};

function updateFont(thisDiv, increment) {
    var newSize,
        textSize = 12;
    if (thisDiv && thisDiv.getAttribute('font-size')) {
        textSize = thisDiv.getAttribute('font-size');
        newSize = parseInt(textSize) + increment;
        thisDiv.setAttribute('font-size', newSize + 'px');
    } else if (thisDiv) {
        textSize = parseInt(window.getComputedStyle(thisDiv, null).getPropertyValue('font-size')) + increment;
        thisDiv.style.fontSize = textSize + 'px';
    }
}

/** populateSelectionsEditMode
 *
 * Initially populates the editDiv if there are vizOptions
 *
 */
function populateSelectionsEditMode(editDiv, vizOptions) {
    for (var option in vizOptions) {
        if (vizOptions.hasOwnProperty(option)) {
            var selectedObject = editDiv.select('#' + option)._groups[0][0];
            //default color inputs to gray
            if (vizOptions[option] === 'default') {
                if (selectedObject.type === 'color') {
                    if (selectedObject.id.indexOf('text') > 0) {
                        selectedObject.value = '#000000';
                    } else {
                        selectedObject.value = '#aaaaaa';
                    }
                }
            } else {
                selectedObject.value = vizOptions[option];
            }
        }
    }
}

/** submitEditMode
 *
 *
 */
function submitEditMode(editObj, optionValues, itemToChange, defaultBtnClicked) {
    var optionArray = optionValues,
        selectedEditOptions = {},
        editValue,
        selectedObj;

    for (var i = 0; i < optionArray.length; i++) {
        if (optionArray[i].indexOf('editable-legend') > 0) {
            //change item to change for legend elements
            itemToChange = optionArray[i];
        }
        selectedObj = editObj.editDiv.select('#' + optionArray[i]);
        //see if selected object exists
        if (selectedObj && selectedObj._groups[0] && selectedObj._groups[0][0]) {
            editValue = selectedObj._groups[0][0].value;
            //get selected option from edit div
            if (optionArray[i] === 'editable-content' && editValue === '') {
                //dont add an empty string to the viz options for editable content
                break;
            }
            selectedEditOptions[optionArray[i]] = editValue;
            if (!selectedEditOptions[optionArray[i]] && optionArray[i].indexOf('content') < 0) {
                selectedEditOptions[optionArray[i]] = 'default';
            }
        }
    }

    if (defaultBtnClicked) {
        if (itemToChange === 'svg') {
            delete editObj.vizOptions['text'];
        }
        delete editObj.vizOptions[itemToChange];
    } else {
        editObj.vizOptions[itemToChange] = selectedEditOptions;
    }

    if (itemToChange === 'svg') {
        delete editObj.vizOptions['svg'];
    }

    //save vizOptions
    editObj.onSaveCallback(editObj.vizOptions);
}

jvEdit.prototype.applyEditMode = function (itemToChange, options) {
    var editObj = this;
    var object = editObj.chartDiv.select("." + itemToChange);
    var objectGroups = object._groups;
    var objectTagName = objectGroups[0][0] ? objectGroups[0][0].tagName.toLowerCase() : null;

    if (itemToChange === 'text') {
        //do something if it is all the text that is being changed
        object = editObj.chartDiv.selectAll("text");
    }
    console.log(options);

    //options by tagName
    if (objectTagName === 'g') {
        object = editObj.chartDiv.select("." + itemToChange).selectAll('text');
    } else if (objectTagName === 'rect') {
        if (options['editable-bar']) {
            object.attr('fill', options['editable-bar']);
        }
        if (options['editable-box']) {
            object.attr('fill', options['editable-box']);
        }
    } else if (objectTagName === 'circle') {
        if (options['editable-scatter']) {
            object.attr('fill', options['editable-scatter']);
        }
        if (options['editable-bubble']) {
            object.attr('fill', options['editable-bubble']);
        }
    } else if (objectTagName === 'path') {
        if (options['editable-pie']) {
            object.attr('fill', options['editable-pie']);
        }
    }

    //standard options
    //If a text increment exists, apply it based on the sign of the variable
    if (options.hasOwnProperty('editable-text-increment')) {
        editObj.changeFontSize(options['editable-text-increment']);
    }

    if (options.hasOwnProperty('editable-text-size')) {
        object.style('font-size', options['editable-text-size'] + 'px');
    }
    if (options.hasOwnProperty('editable-text-color')) {
        object.style('fill', options['editable-text-color']);
        object.style('color', options['editable-text-color']);
    }
    if (options.hasOwnProperty('editable-num-format')) {
        var expression = getFormatExpression(options['editable-num-format']);
        object.transition().text(function (d) {
            if (!isNaN(d) && typeof expression === 'function') {
                return expression(d);
            }
            return d;
        });
    }
    if (options.hasOwnProperty('editable-content')) {
        if (options['editable-content'].length > 0) {
            object.html(options['editable-content']);
        }
    }
    editObj.removeEdit();
};

jvEdit.prototype.applyAllEdits = function () {
    var editObj = this;

    for (var option in editObj.vizOptions) {
        if (editObj.vizOptions.hasOwnProperty(option) && editObj.chartDiv.select(option)) {
            editObj.applyEditMode(option, editObj.vizOptions[option]);
        }
    }
};

jvEdit.prototype.removeEdit = function () {
    var editObj = this;
    if (editObj.editDiv) {
        editObj.editDiv.html('');
        editObj.editDiv.style('display', 'none');
    }
    editObj.editOptions = '';
};

/******************************* Utility functions **********************************************/

jvEdit.prototype.overlayDivPosition = function (divWidth, divHeight, mouseX, mouseY) {
    var editObj = this;
    var position = {};
    if (mouseX > parseInt(editObj.chartDiv.style('width')) / 2) {
        position.x = mouseX - divWidth;
    } else {
        position.x = mouseX;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    } else {
        position.y = mouseY + 10;
    }
    return position;
};

/** getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '';
    if (option === "currency") {
        expression = d3.format("$,");
    }
    if (option === "fixedCurrency") {
        expression = d3.format("($.2f");
    }
    if (option === "percent") {
        var p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format("." + p + "%");
    }
    if (option === "millions") {
        var p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix("." + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(",.0f");
    }
    if (option === 'none' || option === '') {
        expression = d3.format("");
    }

    return expression;
}

function getYAxisLabelWidth(textSize) {}

module.exports = jvEdit;

},{"./editOptionsTemplate.js":1}],7:[function(require,module,exports){
'use strict';

var jvCharts = require('./jvCharts.js'),
    jvComment = require('./jvComment.js'),
    jvEdit = require('./jvEdit.js'),
    jvBrush = require('./jvBrush.js');

jvCharts.prototype.initializeModes = initializeModes;
jvCharts.prototype.createCommentMode = createCommentMode;
jvCharts.prototype.createEditMode = createEditMode;
jvCharts.prototype.createDefaultMode = createDefaultMode;
jvCharts.prototype.createSelectMode = createSelectMode;
jvCharts.prototype.createBrushMode = createBrushMode;
jvCharts.prototype.toggleModes = toggleModes;
jvCharts.prototype.toggleDefaultMode = toggleDefaultMode;
jvCharts.prototype.toggleCommentMode = toggleCommentMode;
jvCharts.prototype.toggleEditMode = toggleEditMode;
jvCharts.prototype.toggleBrushMode = toggleBrushMode;
jvCharts.prototype.toggleSelectMode = toggleSelectMode;
jvCharts.prototype.addBrushEvents = addBrushEvents;

/**
 * @name initializeModes
 * @desc function that initializes and creates the chart toolbar
 */
function initializeModes() {
    var chart = this,
        callbacks = chart.config.callbacks;

    //check if callbacks are needed
    if (callbacks) {
        for (var mode in callbacks) {
            //loop through all the types of modes to initialize the mode and register the appropriate events
            if (callbacks.hasOwnProperty(mode) && callbacks[mode]) {
                var camelCaseMode = mode.charAt(0).toUpperCase() + mode.slice(1);
                chart[mode] = chart['create' + camelCaseMode]();
            }
        }
        if (chart.editMode) {
            chart.editMode.applyAllEdits();
        }
        chart.toggleModes(chart.mode);
    } else {
        chart.createDefaultMode();
        //user has not defined any other modes, so just use default mode
        chart.toggleDefaultMode('default-mode');
    }
}

/**
 * @name initializeCommentMode
 * @param {Object} comments contains all the comments for a viz
 * @desc function that initializes comment mode
 */
function createCommentMode() {
    var chart = this;
    return new jvComment({
        chartDiv: chart.chartDiv,
        comments: chart.config.comments || {},
        onSaveCallback: chart.config.callbacks.commentMode.onSave,
        getMode: function getMode() {
            return chart.mode;
        }
    });
}

/**
 * @name initializeEditMode
 * @param {Object} lookandfeel describes the look and feel of the viz
 * @desc function that initializes comment mode
 */
function createEditMode() {
    var chart = this;
    return new jvEdit({
        chartDiv: chart.chartDiv,
        vizOptions: chart.config.editOptions || {},
        onSaveCallback: chart.config.callbacks.editMode.onSave
    });
}

/**
 * @name initializeBrushMode
 * @description initialize brush mode
 */
function createDefaultMode() {
    var chart = this;
    if (chart.config.callbacks && chart.config.callbacks.defaultMode.onBrush) {
        chart.brushMode = chart.createBrushMode(chart.config.callbacks.defaultMode.onBrush);
    }
    return null;
}

function createBrushMode() {
    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;

    var chart = this;
    if (!callback) {
        if (chart.config.callbacks.brushMode && typeof chart.config.callbacks.brushMode.onBrush === 'function') {
            callback = chart.config.callbacks.brushMode.onBrush;
        } else {
            console.log('no brush callback, pass it into the callbacks option');
            return null;
        }
    }
    return new jvBrush({
        chartDiv: chart.chartDiv,
        jvChart: chart,
        onBrushCallback: callback
    });
}

function createSelectMode() {
    return true;
}

function toggleModes(mode) {
    var chart = this;
    chart.commentMode && chart.toggleCommentMode(mode);
    chart.editMode && chart.toggleEditMode(mode);
    chart.brushMode && chart.toggleBrushMode(mode);
    chart.selectMode && chart.toggleSelectMode(mode);
    chart.toggleDefaultMode(mode);
}

function toggleDefaultMode(mode) {
    var chart = this;
    if (mode === 'default-mode') {
        chart.chartDiv.style('cursor', 'default');
        chart.showToolTip = true;
        if (!chart.config.callbacks || !chart.config.callbacks.defaultMode) {
            return;
        }
        var defaultMode = chart.config.callbacks.defaultMode;
        var entireSvg = chart.chartDiv.select('svg');
        var callbacks = {
            onDoubleClick: function onDoubleClick(event, node, mouse) {
                if (typeof defaultMode.onDoubleClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'doubleClick';
                    defaultMode.onDoubleClick(retrunObj);
                }
            },
            onClick: function onClick(event, node, mouse) {
                if (typeof defaultMode.onClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'click';
                    defaultMode.onClick(retrunObj);
                }
            }
        };
        if (chart.brushMode && defaultMode.onBrush) {
            callbacks.mousedown = addBrushMousedown.bind(chart);
            callbacks.mouseup = function () {
                chart.chartDiv.select('svg').on('mousemove', false);
                chart.brushMode.removeBrush();
            };
        }
        registerClickEvents(entireSvg, callbacks);
    } else {
        chart.showToolTip = false;
        chart.removeHighlight();
    }
}

function toggleCommentMode(mode) {
    var chart = this;
    var commentObj = chart.commentMode;
    var entireSvg = chart.chartDiv.select('svg');
    if (mode === 'comment-mode') {
        chart.chartDiv.style('cursor', 'pointer');
        var callbacks = {
            onDoubleClick: function onDoubleClick(event, node, mouse) {
                commentObj.makeComment(node);
                if (typeof chart.config.callbacks.commentMode.onDoubleClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'doubleClick';
                    chart.config.callbacks.commentMode.onDoubleClick(retrunObj);
                }
            },
            onClick: function onClick(event, node, mouse) {
                if (typeof chart.config.callbacks.commentMode.onClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'click';
                    chart.config.callbacks.commentMode.onClick(retrunObj);
                }
            }
        };
        registerClickEvents(entireSvg, callbacks);

        //add movementlisteners
        chart.chartDiv.selectAll('.min-comment').on('mousedown', function () {
            //logic to move comments
            commentObj.createMoveListener(d3.select(this));
        }).on('mouseup', function () {
            if (commentObj.moved) {
                commentObj.updatePosition(commentObj);
            }
            commentObj.moved = false;
            chart.chartDiv.on('mousemove', false);
        });
    } else {
        commentObj.removeComment();
    }
}

function addBrushMousedown() {
    var chart = this,
        brushStarted = false,
        brushContainer = chart.chartDiv.select('.' + chart.config.type + '-container').node(),
        entireSvg = chart.chartDiv.select('svg'),
        timeMouseDown = new Date().getTime();

    entireSvg.on('mousemove', function () {
        var timeMouseMove = new Date().getTime();
        if (timeMouseDown > timeMouseMove - 10) {
            //mouse move happend too quickly, chrome bug
            return;
        }
        if (brushStarted) {
            return;
        }
        var containerBox, x, y;
        if (brushContainer === undefined) {
            chart.brushMode.startBrush(d3.event);
            brushStarted = true;
        } else {
            containerBox = brushContainer.getBoundingClientRect();
            x = d3.mouse(entireSvg.node())[0];
            y = d3.mouse(entireSvg.node())[1];

            if (x < containerBox.right && y < containerBox.bottom && x > containerBox.left && y > containerBox.top) {
                chart.brushMode.startBrush(d3.event);
                brushStarted = true;
            } else {
                //maybe have a catch here for something
            }
        }
    });
}

function addBrushEvents() {
    var chart = this,
        entireSvg = chart.chartDiv.select('svg'),
        callbacks = {
        mousedown: addBrushMousedown.bind(chart),
        mouseup: function mouseup() {
            chart.chartDiv.select('svg').on('mousemove', false);
            chart.brushMode.removeBrush();
        }
    };
    registerClickEvents(entireSvg, callbacks);
}

function toggleBrushMode(mode) {
    var chart = this;
    if (mode === 'brush-mode' && chart.config.callbacks.brushMode) {
        chart.addBrushEvents();
    }
}

function toggleSelectMode(mode) {
    var chart = this;
    if (mode === 'select-mode') {
        var entireSvg = chart.chartDiv.select('svg');
        var callbacks = {
            onDoubleClick: function onDoubleClick(event, node, mouse) {
                if (typeof chart.config.callbacks.selectMode.onDoubleClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'doubleClick';
                    chart.config.callbacks.selectMode.onDoubleClick(retrunObj);
                }
            },
            onClick: function onClick(event, node, mouse) {
                if (typeof chart.config.callbacks.selectMode.onClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'click';
                    chart.config.callbacks.selectMode.onClick(retrunObj);
                }
            }
        };
        registerClickEvents(entireSvg, callbacks);
    }
}

function toggleEditMode(mode) {
    var chart = this;
    var editObj = chart.editMode;
    var entireSvg = editObj.chartDiv.select("svg");
    if (mode === 'edit-mode') {
        editObj.chartDiv.style('cursor', 'default');
        entireSvg.selectAll(".event-rect").attr("display", "none");

        var callbacks = {
            onDoubleClick: function onDoubleClick(event, node, mouse) {
                if (typeof chart.config.callbacks.editMode.onDoubleClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'doubleClick';
                    chart.config.callbacks.editMode.onDoubleClick(retrunObj);
                }
            },
            onClick: function onClick(event, node, mouse) {
                //edit mode events
                //going to be mouseover to highlight options for whatever piece you hover over
                var classText = d3.select(event.target).attr('class');
                if (classText) {
                    if (classText.indexOf('editable') >= 0) {
                        editObj.displayEdit(mouse, classText);
                    }
                }

                if (typeof chart.config.callbacks.editMode.onClick === 'function') {
                    var retrunObj = chart[chart.config.type].getEventData.call(chart, event, mouse);
                    retrunObj.eventType = 'click';
                    chart.config.callbacks.editMode.onClick(retrunObj);
                }
            }
        };
        registerClickEvents(editObj.chartDiv, callbacks);

        editObj.chartDiv.selectAll('.editable').classed('pointer', true);
    } else {
        editObj.removeEdit();
        entireSvg.selectAll('.editable').classed('pointer', false);
        entireSvg.selectAll(".event-rect").attr("display", "block");
    }
}

//using default parameters to show available parts of the callbacks object
function registerClickEvents(svg, _ref) {
    var _ref$onClick = _ref.onClick,
        onClick = _ref$onClick === undefined ? null : _ref$onClick,
        _ref$onDoubleClick = _ref.onDoubleClick,
        onDoubleClick = _ref$onDoubleClick === undefined ? null : _ref$onDoubleClick,
        _ref$mousedown = _ref.mousedown,
        mousedown = _ref$mousedown === undefined ? null : _ref$mousedown,
        _ref$mouseup = _ref.mouseup,
        mouseup = _ref$mouseup === undefined ? null : _ref$mouseup;

    var down,
        tolerance = 5,
        wait = null;

    if (!onClick && !onDoubleClick) {
        svg.on('mousedown', false);
        svg.on('mouseup', false);
    }

    svg.on('mousedown', function () {
        down = d3.mouse(svg.node());
        if (typeof mousedown === 'function') {
            mousedown();
        }
    });

    svg.on('mouseup', function () {
        var _this = this;

        if (typeof mouseup === 'function') {
            mouseup();
        }
        if (!onDoubleClick) {
            if (typeof onClick === 'function') {
                onClick(d3.event, this, d3.mouse(this));
            }
            return;
        }
        if (dist(down, d3.mouse(svg.node())) > tolerance) {
            //drag not click so return
            return;
        }
        if (wait) {
            window.clearTimeout(wait);
            wait = null;
            if (typeof onDoubleClick === 'function') {
                onDoubleClick(d3.event, this, d3.mouse(this));
            }
        } else {
            wait = window.setTimeout(function (e, mouse) {
                return function () {
                    if (typeof onClick === 'function') {
                        onClick(e, _this, mouse);
                    }
                    wait = null;
                };
                //d3.event and d3.mouse both lose their scope in a timeout and no longer return the expected value, so binding is necessary
            }(d3.event, d3.mouse(this)), 250);
        }
    });
}

//euclidean distance to determine if the mouse moved in between clicks for double click
function dist(a, b) {
    if (a && b && Array.isArray(a) && Array.isArray(b)) {
        return Math.sqrt(Math.pow(a[0] - b[0], 2), Math.pow(a[1] - b[1], 2));
    }
    return 0;
}

},{"./jvBrush.js":3,"./jvCharts.js":4,"./jvComment.js":5,"./jvEdit.js":6}],8:[function(require,module,exports){
'use strict';

/***  jvEdit ***/
function jvSelect(configObj) {
    'use strict';

    var selectObj = this;
    selectObj.chartDiv = configObj.chartDiv;
    selectObj.jvChart = configObj.jvChart;
    selectObj.singleClickCallback = configObj.singleClickCallback;
    selectObj.doubleClickCallback = configObj.doubleClickCallback;
}

function singleClick(selectObj, event) {
    if (typeof selectObj.singleClickCallback === 'function') {
        selectObj.singleClickCallback(event);
    }
}
function dblclick(selectObj, event) {
    if (typeof selectObj.doubleClickCallback === 'function') {
        selectObj.doubleClickCallback(event);
    }
}

/********************************************* Select Mode Functions **************************************************/

module.exports = jvSelect;

},{}],9:[function(require,module,exports){
'use strict';

/***  jvTip ***/

function jvTip(configObj) {
    "use strict";

    var tip = this,
        defaultConfig = {
        type: 'simple'
    };

    tip.tipConfig = configObj.tipConfig || defaultConfig;
    tip.chartDiv = configObj.chartDiv;

    //Create initial div
    tip.chartDiv.select('.jv-tooltip').remove();

    tip.chartDiv.append("div").attr("class", "tooltip jv-tooltip").style("pointer-events", "none");
}

jvTip.prototype.showTip = function () {
    var transitionDuration = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 50;

    var tip = this;
    var left = 'auto',
        top = 'auto',
        mouse = d3.mouse(tip.chartDiv.select('svg').node());

    //Logic to determine where tooltip will be placed on page
    var leftOfMouse = mouse[0] > tip.chartDiv._groups[0][0].clientWidth / 2,
        topOfMouse = mouse[1] < tip.chartDiv._groups[0][0].clientHeight / 2,
        tooltipHeight = tip.toolTip._groups[0][0].clientHeight === 0 ? 75 : tip.toolTip._groups[0][0].clientHeight,
        tooltipWidth = tip.toolTip._groups[0][0].clientWidth;

    if (leftOfMouse) {
        if (tooltipWidth === 0) {
            tooltipWidth = 250;
        }
        left = mouse[0] - tooltipWidth;
    } else {
        left = mouse[0];
    }
    if (topOfMouse) {
        top = mouse[1];
    } else {
        if (tooltipHeight === 0) {
            tooltipHeight = 75;
        }
        top = mouse[1] - tooltipHeight;
    }

    if (!leftOfMouse && topOfMouse) {
        left = mouse[0] + 13;
    }

    //COOL CURSOR, a function of the height and width of the container
    // var container = tip.chartDiv.select('.bar-container').node().getBoundingClientRect();
    // svgMouse = d3.mouse(tip.chartDiv.select('.bar-container').node());

    // var tooltipHeight = tip.toolTip._groups[0][0].clientHeight === 0 ? 75 : tip.toolTip._groups[0][0].clientHeight;
    // top = mouse[1] - (tooltipHeight * svgMouse[1] / container.height);

    // var tooltipWidth = tip.toolTip._groups[0][0].clientWidth;
    // left = mouse[0] - (tooltipWidth * svgMouse[0] / container.width);

    //STICKY CURSOR IN THE BOTTOM RIGHT
    // top = mouse[1];
    // left = mouse[0];
    //set max left
    // if(left > container.width - tooltipWidth + container.left) {
    //     left = container.width - tooltipWidth + container.left;
    // }

    // //set max top
    // if (top > container.height - tooltipHeight + container.top) {
    //     top = container.height - tooltipHeight + container.top;
    // }


    var t = d3.transition().duration(transitionDuration).ease(d3.easeLinear);

    tip.toolTip.transition(t).style("left", left + 'px').style("top", top + 'px').style("display", "block").style("opacity", 1);
};

jvTip.prototype.hideTip = function () {
    var tip = this;
    var t = d3.transition().duration('100').ease(d3.easeLinear);
    if (tip.toolTip) {
        tip.toolTip.transition(t).style("display", "none");
    }
};

/************************************************  Declare jv tip components *******************************************************************************/
var jvHr = '<hr style=\'margin:3px 0 3px 0;\'/>';

function getValueContent(item, value, colorTile) {
    var valueString = value ? ': ' + value : '';
    var colorTileString = colorTile ? colorTile : '';
    return '<span class=\'semoss-d3-tip-content jv-tip-side-margins\'>' + colorTileString + item + valueString + '</span><br/>';
}

function getTitleTemplate(dataObj) {
    return '<div class=\'title jv-top-margin jv-inline\'><b>' + dataObj.title + '</b></div>' + jvHr;
}

function getColorTile(color) {
    if (color) {
        return '<div class=\'d3-tooltip-circle jv-inline jv-tip-side-margins\' style=\'background:' + color + '\'></div>';
    }
    return "<div class='jv-inline jv-tip-side-margins'>";
}

/************************************************* Viz Specific Functions **********************************************************************************/

jvTip.prototype.generateSimpleTip = function (dataObj, dataTable) {
    var tip = this;
    var tooltipHtml = '';

    if (dataObj.hasOwnProperty('title') && dataObj.title === '') {
        dataObj.title = 'Empty';
    }

    if (dataObj.viz === 'clusters' || dataObj.viz === 'circleviewplot' || dataObj.viz === 'scatterplot' || dataObj.viz === 'treemap' || dataObj.viz === 'singleaxis') {
        tooltipHtml = generateSingleColorHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'radial' || dataObj.viz === 'pie') {
        tooltipHtml = generatePieHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'circlepack' || dataObj.viz === 'sunburst') {
        tooltipHtml = generatePackHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'heatmap' || dataObj.viz === 'cloud') {
        tooltipHtml = generateHeatmapHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'sankey') {
        tooltipHtml = generateSankeyHTML(dataObj, dataTable);
    } else if (dataObj.viz === 'bubble') {
        tooltipHtml = generateBubbleHTML(dataObj);
    } else if (dataObj.viz === 'boxwhisker') {
        tooltipHtml = generateBoxHTML(dataObj);
    } else if (dataObj.viz === 'clustergram') {
        tooltipHtml = generateClustergramHTML(dataObj);
    } else {
        tooltipHtml = generateSimpleHTML(dataObj, dataTable);
    }

    //add content to tooltip
    tip.toolTip = tip.chartDiv.select(".tooltip").html(tooltipHtml);

    //paint the tooltip
    tip.showTip(0);

    return tip.tooltip;
};

function generateSimpleHTML(dataObj) {
    var tooltipText;
    tooltipText = '<div><div class=\'title jv-tip-container jv-tip-side-margins jv-top-margin\'><b>' + dataObj.title + '</b></div>' + jvHr;

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value, getColorTile(dataObj.color[item]));
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSingleColorHTML(dataObj, dataTable) {
    var tooltipText,
        tooltipColor,
        showColorCircle = true,
        colorCircle = "";

    if (!!dataObj.color[dataObj.data[dataTable.series]]) {
        tooltipColor = dataObj.color[dataObj.data[dataTable.series]];
    } else if (!!dataObj.color[dataTable.label] && dataObj.viz !== 'singleaxis') {
        tooltipColor = dataObj.color[dataTable.label];
    } else {
        showColorCircle = false;
    }

    if (showColorCircle) {
        colorCircle = getColorTile(tooltipColor);
    } else {
        colorCircle = getColorTile();
    }

    tooltipText = '<div class=\'jv-inline\'>' + colorCircle + '<div class=\'title jv-tip-side-margins jv-inline jv-top-margin\'><b>' + dataObj.title + '</b></div>' + jvHr;

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generatePackHTML(dataObj) {
    var tooltipText;
    tooltipText = '<div class=\'jv-inline\'>\n        ' + getColorTile(dataObj.data.color) + '\n        ' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateBubbleHTML(dataObj) {
    var tooltipText;
    tooltipText = '<div class=\'jv-inline\'>\n        ' + getColorTile(dataObj.data.color) + '\n        ' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        if (item === 'color') {
            continue;
        }
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += '</div>';
    return tooltipText;
}

function generateBoxHTML(dataObj) {
    var tooltipText = void 0;
    tooltipText = '<div class="jv-inline">';

    for (var item in dataObj.tipData) {
        if (dataObj.tipData.hasOwnProperty(item)) {
            var value = formatValue(dataObj.tipData[item]);
            tooltipText += getValueContent(item, value);
        }
    }
    tooltipText += '</div>';
    return tooltipText;
}

function generateHeatmapHTML(dataObj) {
    var tooltipText;
    if (dataObj.xAxisCat) {
        tooltipText = '<div class=\'jv-inline\'>\n            ' + getColorTile(dataObj.color) + "<div class='title jv-top-margin jv-inline'><b>" + dataObj.data.xAxisName + "</b></div><hr style='margin:3px 0 3px 0;'/>";

        tooltipText += "<span class='semoss-d3-tip-content jv-tip-side-margins'>" + dataObj.xAxisCat + "</span><br/>";
        tooltipText += "</div>";
        return tooltipText;
    } else if (dataObj.yAxisCat) {
        tooltipText = '<div class=\'jv-inline\'>\n            ' + getColorTile(dataObj.color) + "<div class='title jv-top-margin jv-inline'><b>" + dataObj.data.yAxisName + "</b></div><hr style='margin:3px 0 3px 0;'/>";

        tooltipText += "<span class='semoss-d3-tip-content jv-tip-side-margins'>" + dataObj.yAxisCat + "</span><br/>";
        tooltipText += "</div>";
        return tooltipText;
    } else {
        tooltipText = '<div class=\'jv-inline\'>\n            ' + getColorTile(dataObj.color) + '\n            ' + getTitleTemplate(dataObj);

        for (var item in dataObj.tipData) {
            var value = formatValue(dataObj.tipData[item]);
            tooltipText += getValueContent(item, value);
        }
        tooltipText += "</div>";
        return tooltipText;
    }
}

function generateClustergramHTML(dataObj) {
    var tooltipText;

    dataObj.title = dataObj.title.replace(/_/g, " ");

    tooltipText = '<div class=\'jv-inline\'>\n    ' + getColorTile(dataObj.color) + '\n    ' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(item, value);
    }
    tooltipText += "</div>";

    return tooltipText;
}

function generatePieHTML(dataObj, dataTable) {
    var tooltipText;
    tooltipText = '<div class=\'jv-inline\'>\n    ' + getColorTile(dataObj.color[dataObj.data.label]) + '\n    ' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(dataTable[item], value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSankeyHTML(dataObj) {
    var tooltipText;
    tooltipText = '<div class=\'jv-inline\'>' + getTitleTemplate(dataObj);

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);
        tooltipText += getValueContent(dataObj.valueName, value);
    }
    tooltipText += "</div>";
    return tooltipText;
}

function formatValue(val) {
    if (!isNaN(val)) {
        var formatNumber = d3.format(",.0f");
        if (val >= 1000000) {
            //millions
            // var p = d3.precisionPrefix(1e5, 1.3e6);
            // formatNumber = d3.formatPrefix("." + p, 1.3e6);
            formatNumber = d3.format(",.2f");
        } else if (val <= 100) {
            //2 decimals
            formatNumber = d3.format(",.2f");
        }
        return formatNumber(val);
    }
    return val;
}

module.exports = jvTip;

},{}],10:[function(require,module,exports){
'use strict';

var jvCharts = require('./jvCharts.js');

jvCharts.prototype.getDefaultOptions = getDefaultOptions;

function getDefaultOptions() {
    var userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

    var _vars = {};

    //General Styles/Attributes
    //CONST variables - try to not use in jvCharts as they do not have much context
    _vars.GRAY = "#cccccc";
    _vars.WHITE = '#FFFFFF';
    _vars.BLACK = '#000000';
    _vars.SMALL_STROKE_WIDTH = '1px';
    _vars.light = '#BBBBBB';
    _vars.strokeWidth = "2px";

    //Action Attributes
    _vars.highlightBorderColor = _vars.BLACK;
    _vars.highlightBorderWidth = "2px";

    //Component Specific Styles/Attributes
    _vars.thresholds = 'none'; //if not none, expected to be an array
    _vars.thresholdLegend = false;
    _vars.backgroundColor = 'none';
    _vars.axisColor = _vars.GRAY;
    _vars.axisWidth = _vars.strokeWidth;
    _vars.gridLineStrokeWidth = _vars.SMALL_STROKE_WIDTH;
    _vars.displayValues = false;
    _vars.toggleLegend = false;
    _vars.legendArrowColor = 'c2c2d6';
    _vars.legendMax = 9;
    _vars.gridSize = 12;
    _vars.xReversed = false;
    _vars.yReversed = false;

    //font styles
    _vars.fontSize = '12px';
    _vars.fontColor = _vars.BLACK;
    _vars.xLabelFontSize = 'none';
    _vars.yLabelFontSize = 'none';

    //Heatmap Specific Styles/Attributes
    _vars.color = "#ff0000";
    _vars.toggleLegend = false;
    _vars.buckets = "10";
    _vars.opacity = "10";
    _vars.colorLabel = 'none';
    _vars.min = "0";
    _vars.max = "10";
    _vars.domainArray = "";
    _vars.step = "1";
    _vars.quantiles = true;
    _vars.heatLegendSpacing = 2;
    _vars.heatGridSize = 20;
    _vars.colors = ["#fbf2d2", "#fdedb5", "#fee7a0", "#ffda84", "#ffc665", "#feb44e", "#fea743", "#fd9b3f", "#fd8c3c", "#fd7735", "#fd602f", "#fb4b29", "#f43723", "#ea241e", "#e0161c", "#d60b20", "#c80324", "#b10026", "#870025", "#620023"];
    _vars.clusterColors = ["#00009C", "#003399", "#002FA7", "#2A52BE", "#0000FF", "#8C92AC", "#92A1CF", "#C4C3D0", "#CCCCFF", "#F8F8FF", "#FFFAFA", "#F4C2C2", "#FF6961", "#FF5C5C", "#FF1C00", "#FF0800", "#FF0000", "#CD5C5C", "#E34234", "#D73B3E"];

    //pie specific
    _vars.pieBorder = _vars.WHITE;
    _vars.pieBorderWidth = _vars.SMALL_STROKE_WIDTH;
    _vars.pieTextColor = _vars.WHITE;
    _vars.emptyLegendSquare = _vars.WHITE;

    //line specific
    _vars.lineCurveType = 'Linear';

    //bar specific
    _vars.displayValuesStackAsPercent = false;
    _vars.displayValuesStackTotal = false;
    _vars.displayYAxisLabel = true;

    //scatter specific
    _vars.toggleZ = true;
    _vars.lineGuide = true;

    //single axis specific
    _vars.singleAxisFillHoverColor = 'red';

    Object.assign(_vars, userOptions);
    return _vars;
}

},{"./jvCharts.js":4}],11:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../visuals/jvLine.js');

jvCharts.prototype.area = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.fillArea = fillArea;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }

    //remove if we add non linear to area chart
    chart._vars.lineCurveType = 'Linear';

    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    if (chart._vars.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart._vars.color, chart.flippedData.legendData, chart.colors);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label' && item.indexOf('tooltip') === -1) {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}
/** paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint() {
    var chart = this;
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //Overwrite any pre-existing zoom
    chart.config.zoomEvent = null;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
}

function getEventData(event) {
    var chart = this;
    if (event.target.classList.value.split('bar-col-')[1]) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [event.target.classList.value.split('bar-col-')[1].replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('area-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**
 *
 */
function fillArea(lineData) {

    var chart = this,
        svg = chart.svg,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,

    //lineData = chart.currentData.chartData,
    container = chart.config.container,
        colors = chart._vars.color;

    //If a legend element is toggled off, use the new list of headers
    if (chart._vars.hasOwnProperty('legendHeaders')) {
        legendData = chart._vars.legendHeaders;
    }

    //Get the X and Y Scale
    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars, 'no-padding');
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars, 'no-padding');

    //If axis are normal
    if (!chart._vars.rotateAxis) {
        var area = d3.area().x(function (d) {
            if (d.x === '') {
                return x('EMPTY_STRING');
            }
            return x(d.x);
        }).y0(container.height).y1(function (d) {
            return y(d.y);
        });
    } else {
        var area = d3.area().y(function (d) {
            return y(d.y);
        }).x1(0).x0(function (d) {
            return x(d.x);
        });
    }

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {
            if (typeof legendData !== "undefined") {
                //Accounting for legend toggles
                if (legendData[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    if (!chart._vars.rotateAxis) {
                        data[legendData[k]].push({
                            'x': lineData[i][xAxisData.label],
                            'y': parseFloat(lineData[i][legendData[k]])
                        });
                    } else {
                        data[legendData[k]].push({
                            'y': lineData[i][yAxisData.label],
                            'x': parseFloat(lineData[i][legendData[k]])
                        });
                    }
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (!chart._vars.rotateAxis) {
                    data[legendData[k]].push({
                        'x': lineData[i][xAxisData.label],
                        'y': parseFloat(lineData[i][legendData[k]])
                    });
                } else {
                    data[legendData[k]].push({
                        'y': lineData[i][yAxisData.label],
                        'x': parseFloat(lineData[i][legendData[k]])
                    });
                }
            }
        }
    }

    svg.selectAll(".area").remove();

    for (var i in data) {
        svg.append("path").datum(data[i]).attr("class", function (d) {
            if (chart._vars.colorLine == true && chart._vars.thresholds != 'none' && chart._vars.colorChart != false) {
                return "area area-threshold";
            } else {
                return "area";
            }
        }).attr("d", area).attr("fill", jvCharts.getColors(colors, k, i)).attr("opacity", 0.6).attr("transform", function (d, i) {
            if (chart._vars.rotateAxis) {
                var translation = container.height / lineData.length / 2;
                return "translate(0, " + translation + ")";
            } else {
                var translation = container.width / lineData.length / 2;
                return "translate(" + translation + ", 0)";
            }
        }).attr("pointer-events", "none");
    }
}

module.exports = jvCharts;

},{"../visuals/jvLine.js":18}],12:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.bar = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateBarThreshold = generateBarThreshold;
jvCharts.prototype.generateBars = generateBars;

/**paint
 *
 * The initial starting point for bar chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint(transitionTime) {
    var chart = this,

    //Uses the original data and then manipulates it based on any existing options
    dataObj = chart.getBarDataFromOptions();

    if (transitionTime || transitionTime === 0) {
        chart._vars.transitionTime = transitionTime;
    } else if (!chart._vars.transitionTime) {
        chart._vars.transitionTime = 800;
    }

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateBars');
    chart.generateBars(dataObj);

    if (typeof dataObj.xAxisScale.ticks === 'function') {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

/**Sets the data for the bar chart prior to painting
 *  @function
 * @params {Object} data - Data passed into the chart
 * @params {Object} dataTable - Shows which data column is associated with each field in visual panel
 * @params {Object} dataTableKeys - Contains the data type for each column of data
 * @params {Object} colors - Colors object used to color the bars
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.hasOwnProperty('sortType') && chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);
    if (chart._vars.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart._vars.color, chart.flippedData.legendData, chart.colors);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event) {
    var chart = this;
    if (event.target.classList.value.split('bar-col-')[1]) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [event.target.classList.value.split('bar-col-')[1].replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('bar-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label' && item.indexOf('tooltip') === -1) {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/************************************************ Bar functions ******************************************************/
function generateBarThreshold() {
    var chart = this,
        svg = chart.svg,
        width = chart.config.container.width,
        height = chart.config.container.height,
        thresholds = chart._vars.thresholds,
        length = thresholds !== 'none' ? Object.keys(thresholds).length : 0,
        x = chart.currentData.xAxisScale,
        y = chart.currentData.yAxisScale;

    if (thresholds !== 'none') {
        for (var i = 0; i < length; i++) {
            var threshold = thresholds[i];
            if (!chart._vars.xAxisThreshold) {
                if (chart._vars.rotateAxis) {
                    if (chart._vars.yMin === 'none') {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                    } else {
                        if (threshold.threshold > chart._vars.yMin) {
                            svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                        }
                    }
                } else {
                    if (chart._vars.yMin === 'none') {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                    } else {
                        if (threshold.threshold > chart._vars.yMin) {
                            svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                        }
                    }
                }
            }

            if (chart._vars.colorChart == true) {
                var thresholdRects = d3.selectAll('rect.rect-' + i);
                thresholdRects.attr('fill', threshold.thresholdColor);
            }
        }
    }
}

/**generateBars
 *
 * Does the actual painting of bars on the bar chart
 * @params barData
 */

function generateBars(barData) {
    var chart = this,
        svg = chart.svg,


    //Used to draw line that appears when tool tips are visible
    tipLineX = 0,
        tipLineWidth = 0,
        tipLineHeight = 0,
        tipLineY = 0,

    //Add logic to filter bardata
    dataHeaders = barData.legendData,
        bars;

    //Removes any existing bar containers and creates a new one
    svg.selectAll('g.bar-container').remove();

    bars = svg.append('g').attr('class', 'bar-container').selectAll('g');

    if (chart._vars.seriesFlipped && chart._vars.flippedLegendHeaders) {
        dataHeaders = chart._vars.flippedLegendHeaders;
    } else if (chart._vars.legendHeaders) {
        dataHeaders = chart._vars.legendHeaders;
    }

    var barDataNew = jvCharts.getToggledData(barData, dataHeaders);

    generateBarGroups(bars, barDataNew, chart);

    var eventGroups = jvCharts.generateEventGroups(bars, barDataNew, chart);

    //Add listeners

    eventGroups.on('mouseover', function (d, i, j) {
        //Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
            svg.selectAll('.tip-line').remove();

            var mouseItem = d3.select(this);
            tipLineX = mouseItem.node().getBBox().x;
            tipLineWidth = mouseItem.node().getBBox().width;
            tipLineHeight = mouseItem.node().getBBox().height;
            tipLineY = mouseItem.node().getBBox().y;

            //Draw line in center of event-rect
            svg.append('line').attr('class', 'tip-line').attr('x1', function () {
                return chart._vars.rotateAxis ? 0 : tipLineX + tipLineWidth / 2;
            }).attr('x2', function () {
                return chart._vars.rotateAxis ? tipLineWidth : tipLineX + tipLineWidth / 2;
            }).attr('y1', function () {
                return chart._vars.rotateAxis ? tipLineY + tipLineHeight / 2 : 0;
            }).attr('y2', function () {
                return chart._vars.rotateAxis ? tipLineY + tipLineHeight / 2 : tipLineHeight;
            }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', 'black').attr('stroke-width', '1px');
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip();
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateBarThreshold();
}

/**generateBarGroups
 *
 * Paints the groups of the bars
 * @params chartContainer, barData, chart
 */
function generateBarGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        colors = chart._vars.color;

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    var posCalc = jvCharts.getPosCalculations(barData, chart._vars, xAxisData, yAxisData, container, chart);

    var dataToPlot = jvCharts.getPlotData(barData, chart);

    var barGroups;
    if (xAxisData.dataType === 'STRING' || !xAxisData.hasOwnProperty('min')) {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(' + (x.paddingOuter() * x.step() + x.step() * i) + ',0)';
        });
    } else if (xAxisData.dataType === 'NUMBER') {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(0,' + (y.paddingOuter() * y.step() + y.step() * i) + ')';
        });
    }

    //Creates bars within bar groups
    var externalCounterForJ = -1;
    var bars = barGroups.selectAll('rect').data(function (d) {
        return d;
    }).enter().append('rect').attr('class', function (d, i, j) {
        if (i === 0) {
            externalCounterForJ++;
        }
        var keys = Object.keys(barData[0]);
        var filteredKeys = [];
        for (var k = 0; k < keys.length; k++) {
            if (keys[k] !== chart.currentData.dataTable.label) {
                filteredKeys.push(keys[k]);
            }
        }
        var label = String(barData[externalCounterForJ][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '_dot_');
        var legendVal = String(filteredKeys[i]).replace(/\s/g, '_').replace(/\./g, '_dot_');
        var thresholdDir;

        if (chart._vars.xAxisThreshold) {
            thresholdDir = chart.setThreshold(barData[externalCounterForJ][chart.currentData.dataTable.label]);
        } else {
            thresholdDir = chart.setThreshold(d);
        }

        return 'editable editable-bar bar-col-' + label + '-index-' + legendVal + ' highlight-class-' + label + ' rect ' + thresholdDir;
    }).attr('x', function (d, i) {
        return posCalc.startx(d, i);
    }).attr('y', function (d, i) {
        return posCalc.starty(d, i);
    }).attr('width', function (d, i) {
        return posCalc.startwidth(d, i);
    }).attr('height', function (d, i) {
        return posCalc.startheight(d, i);
    }).attr('fill', function (d, i) {
        if (chart._vars.seriesFlipped) {
            return jvCharts.getColors(colors, i, chart._vars.flippedLegendHeaders[i]);
        }
        return jvCharts.getColors(colors, i, chart._vars.legendHeaders[i]);
    }).attr('rx', 0).attr('ry', 0).attr('opacity', 0.9).attr('clip-path', function (d) {
        if (d > 30000000) {
            return 'url(#clip-above)';
        }
        return 'url(#clip-below)';
    });
    if (chart._vars.transitionTime > 0) {
        bars.transition().duration(800).ease(d3.easePolyOut).attr('x', function (d, i, j) {
            return posCalc.x(d, i, j);
        }).attr('y', function (d, i, j) {
            return posCalc.y(d, i, j);
        }).attr('width', function (d, i) {
            return posCalc.width(d, i);
        }).attr('height', function (d, i) {
            return posCalc.height(d, i);
        });
    } else {
        bars.attr('x', function (d, i, j) {
            return posCalc.x(d, i, j);
        }).attr('y', function (d, i, j) {
            return posCalc.y(d, i, j);
        }).attr('width', function (d, i) {
            return posCalc.width(d, i);
        }).attr('height', function (d, i) {
            return posCalc.height(d, i);
        });
    }

    return barGroups; //returns the bar containers
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],13:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.boxwhisker = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateBoxes = generateBoxes;
/**setBoxData
 *  gets cloud data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.xAxisData = chart.setAxisData('x', chart.data, chart._vars);
    chart.data.yAxisData = chart.setAxisData('y', chart.data, chart._vars);
};

/** paintBoxChart
 *
 *  @desc The initial starting point for bar chart, begins the drawing process. Must already have the data stored in the chart object
 */
function paint(transitionTime) {
    var chart = this;
    if (transitionTime || transitionTime === 0) {
        chart._vars.transitionTime = transitionTime;
    } else if (!chart._vars.transitionTime) {
        chart._vars.transitionTime = 800;
    }
    var dataObj = getBoxDataFromOptions(chart);
    var axisData = chart.getBarDataFromOptions();
    //assign current data which is used by all bar chart operations
    if (chart._vars.rotateAxis) {
        chart.currentData = dataObj;
    } else {
        chart.currentData = axisData;
    }
    //Overwrite any pre-existing zoom
    chart.config.zoomEvent = null;
    //generate svg dynamically based on legend data
    chart.generateSVG();
    chart.generateXAxis(axisData.xAxisData);
    chart.generateYAxis(axisData.yAxisData);

    chart.generateBoxes(dataObj);
}

function getEventData() {
    return {};
}

/** getBoxDataFromOptions
 *
 *  @desc Assigns the correct chart data to current data using the chart._vars
 */
function getBoxDataFromOptions(chart) {
    //creating these two data variables to avoid having to reference the chart object everytime
    var csv = chart.data.chartData,
        dataTable = chart.data.dataTable,
        min = Infinity,
        max = -Infinity,
        yAxis = [],
        dataObj = {},
        i = 0,
        data = {},
        yAxisLabel = dataTable.label,
        xAxisLabel = dataTable.value,
        xAxisData,
        yAxisData,
        keys = csv.map(function (d, i) {
        return d[yAxisLabel];
    }),
        keys2 = csv.map(function (d, i) {
        return d[xAxisLabel];
    }),
        unique = keys.filter(function (item, i, ar) {
        return ar.indexOf(item) === i;
    }),
        temp = [];

    for (var k = 0; k < unique.length; k++) {
        var tempData = csv.filter(function (d) {
            return d[yAxisLabel] == unique[k];
        });
        var returnData = tempData.map(function (d) {
            return d[xAxisLabel];
        });
        temp.push([unique[k], returnData]);
    }

    max = Math.max.apply(Math, keys2);
    min = Math.min.apply(Math, keys2);
    yAxis.push(min);
    yAxis.push(max);

    xAxisData = { 'label': yAxisLabel, 'dataType': 'STRING', 'values': unique };
    yAxisData = { 'label': xAxisLabel, 'dataType': 'NUMBER', 'values': yAxis };

    dataObj.chartData = temp;
    dataObj.dataTable = data.dataTable;
    chart._vars.color = data.color;

    dataObj.xAxisData = xAxisData;
    dataObj.yAxisData = yAxisData;
    data = {
        yAxisData: dataObj.yAxisData,
        xAxisData: dataObj.xAxisData
    };

    if (chart._vars.rotateAxis) {
        dataObj.xAxisData = data.yAxisData;
        dataObj.yAxisData = data.xAxisData;
    } else {
        dataObj.xAxisData = data.xAxisData;
        dataObj.yAxisData = data.yAxisData;
    }

    return dataObj;
};

/** generateBars
 *
 * @desc Does the actual painting of bars on the bar chart
 * @params boxData
 */
function generateBoxes(boxData) {
    var chart = this,
        svg = chart.svg,
        options = chart._vars,
        container = chart.config.container,
        height = container.height,
        width = container.width,
        x,
        boxChart,
        margin = { top: 0, right: 50, bottom: 70, left: 50 };

    if (options.rotateAxis) {
        x = d3.scaleBand().domain(boxData.chartData.map(function (d) {
            return d[0];
        })).rangeRound([0, height]).paddingInner(0.7).paddingOuter(0.3);
        boxChart = box().whiskers(iqr(1.5)).height(width).domain([boxData.xAxisData.values[0], boxData.xAxisData.values[1]]).showLabels(options.displayValues).flipped(options.rotateAxis).duration(options.transitionTime).chart(chart);
    } else {
        x = d3.scaleBand().domain(boxData.chartData.map(function (d) {
            return d[0];
        })).rangeRound([0, width]).paddingInner(0.7).paddingOuter(0.3);
        boxChart = box().whiskers(iqr(1.5)).height(height).domain([boxData.yAxisData.values[0], boxData.yAxisData.values[1]]).showLabels(options.displayValues).flipped(options.rotateAxis).duration(options.transitionTime).chart(chart);
    }
    //draw the boxplots
    svg.attr('class', 'box-plot').selectAll('.box').data(boxData.chartData).enter().append('g').attr('class', 'box-container').attr('style', 'pointer-events: all;').attr('transform', function (d) {
        if (options.rotateAxis) {
            return 'translate(' + margin.top + ',' + x(d[0]) + ')';
        }

        return 'translate(' + x(d[0]) + ',' + margin.top + ')';
    }).call(boxChart.width(x.bandwidth()));

    d3.selectAll('rect.box').attr('class', function (d, i) {
        return 'editable editable-box box-' + i + ' highlight-class-' + i + 'box';
    });
    hideLabelsOnOverlap(x, width, svg);
}

/**
 * @name hideLabelsOnOverlap
 * @desc determines if text on graph should be displayed or not
 */
function hideLabelsOnOverlap(x, width, svg) {
    var numSpacesBetween = x.domain().length - 1,
        totalBoxWidth = x.bandwidth() * x.domain().length,
        widthOfSpaces = (width - totalBoxWidth) / numSpacesBetween,
        xAxisLabelLengthLimit = x.bandwidth() + widthOfSpaces,
        ticks = svg.selectAll('.xAxis text');

    ticks.each(function (tick) {
        if (this.getBBox().width > xAxisLabelLengthLimit) {
            svg.selectAll('.xAxis text').attr('style', 'display:none');
            svg.selectAll('text.box').attr('style', 'display:none');
            svg.selectAll('text.whisker').attr('style', 'display:none');
        }
    });
}

/**
 * @name iqr
 * @desc Returns a function to compute the interquartile range.
 */
function iqr(k) {
    return function (d, i) {
        var q1 = d.quartiles[0],
            q3 = d.quartiles[2],
            iqr = (q3 - q1) * k,
            i = -1,
            j = d.length;
        while (d[++i] < q1 - iqr) {}
        while (d[--j] > q3 + iqr) {}
        return [i, j];
    };
}

//Inspired by http://informationandvisualization.de/blog/box-plot
var box = function box() {
    var width = 1,
        height = 1,
        duration = 0,
        domain = null,
        value = Number,
        whiskers = boxWhiskers,
        quartiles = boxQuartiles,
        showLabels = true,
        //whether or not to show text labels
    numBars = 4,
        curBar = 1,
        tickFormat = null,
        chart = {},
        flipped = false;

    //For each small multiple…
    function box(g) {
        g.each(function (data, i) {
            var d = data[1].sort(d3.ascending);
            var g = d3.select(this),
                n = d.length,
                min = d[0],
                max = d[n - 1],
                outlierLabel = data[0];

            //Compute quartiles. Must return exactly 3 elements.
            var quartileData = d.quartiles = quartiles(d);

            //Compute whiskers. Must return exactly 2 elements, or null.
            var whiskerIndices = whiskers && whiskers.call(this, d, i),
                whiskerData = whiskerIndices && whiskerIndices.map(function (i) {
                return d[i];
            });

            //Compute outliers. If no whiskers are specified, all data are 'outliers'.
            //We compute the outliers as indices, so that we can join across transitions!
            var outlierIndices = whiskerIndices ? d3.range(0, whiskerIndices[0]).concat(d3.range(whiskerIndices[1] + 1, n)) : d3.range(n);

            //Compute the new x-scale.
            if (flipped) {
                var x1 = d3.scaleLinear().domain(domain && domain.call(this, d, i) || [min, max]).range([0, height]);
            } else {
                var x1 = d3.scaleLinear().domain(domain && domain.call(this, d, i) || [min, max]).range([height, 0]);
            }

            //Retrieve the old x-scale, if this is an update.
            var x0 = this.__chart__ || d3.scaleLinear().domain([0, Infinity])
            //.domain([0, max])
            .range(x1.range());

            //Stash the new scale.
            this.__chart__ = x1;

            //Note: the box, median, and box tick elements are fixed in number,
            //so we only have to handle enter and update. In contrast, the outliers
            //and other elements are variable, so we need to exit them! Variable
            //elements also fade in and out.

            //Update outliers.
            var outlier = g.selectAll('circle.outlier').data(outlierIndices, Number);

            outlier = outlier.enter().append('g');

            if (flipped) {
                outlier.insert('circle', 'text').attr('class', 'outlier').attr('fill', 'white').attr('r', function () {
                    if (width > 10) {
                        return 5;
                    }

                    return width / 2;
                }).attr('cy', width / 2).attr('cx', function (i) {
                    return x0(d[i]);
                }).style('opacity', 1e-6).transition().duration(duration).attr('cx', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1);

                outlier.append('text').text(function (i) {
                    return d[i];
                }).attr('y', width / 2 + 7).attr('x', function (i) {
                    return x1(d[i]) + 4;
                }).attr('class', 'outlier-label').attr('font-size', '10px').attr('style', function () {
                    if (!showLabels) {
                        return 'display:none;';
                    }

                    return '';
                });
                outlier.exit().transition().duration(duration).attr('cx', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1e-6).remove();
            } else {
                outlier.insert('circle', 'text').attr('class', 'outlier').attr('fill', 'white').attr('r', function () {
                    if (width > 10) {
                        return 5;
                    }

                    return width / 2;
                }).attr('cx', width / 2).attr('cy', function (i) {
                    return x0(d[i]);
                }).style('opacity', 1e-6).transition().duration(duration).attr('cy', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1);

                outlier.append('text').text(function (i) {
                    return d[i];
                }).attr('x', width / 2 + 7).attr('y', function (i) {
                    return x1(d[i]) + 4;
                }).attr('class', 'outlier-label').attr('font-size', '10px').attr('style', function () {
                    if (!showLabels) {
                        return 'display:none;';
                    }

                    return '';
                });

                outlier.transition().duration(duration).attr('cy', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1);

                outlier.exit().transition().duration(duration).attr('cy', function (i) {
                    return x1(d[i]);
                }).style('opacity', 1e-6).remove();
            }

            outlier.on('mouseover', function (i) {
                if (chart.showToolTip) {
                    var _outlier = [d[i]];
                    var _data = { Outlier: _outlier, Label: outlierLabel };
                    var tipData = chart.setTipData(_data, i);

                    chart.tip.generateSimpleTip(tipData, _data);
                    chart.tip.d = d.data;
                    chart.tip.i = i;
                }
            }).on('mousemove', function (i) {
                if (chart.showToolTip) {
                    var _outlier2 = [d[i]];
                    var _data2 = { Outlier: _outlier2, Label: outlierLabel };
                    var tipData = chart.setTipData(_data2, i);

                    chart.tip.generateSimpleTip(tipData, _data2);
                    chart.tip.d = d.data;
                    chart.tip.i = i;
                }
            }).on('mouseout', function () {
                if (chart.showToolTip) {
                    chart.tip.hideTip();
                }
            });

            //set separate tooltips for quartiles and whiskers
            g = g.append('g').attr('class', 'inner-box-container').on('mouseover', function (label) {
                if (chart.showToolTip) {
                    var _data3 = {
                        Quartiles: d.quartiles,
                        Whiskers: whiskerData,
                        Label: label[0]
                    };
                    var tipData = chart.setTipData(_data3, i);

                    chart.tip.generateSimpleTip(tipData, _data3);
                    chart.tip.d = d.data;
                    chart.tip.i = i;
                }
            }).on('mousemove', function (label) {
                if (chart.showToolTip) {
                    var _data4 = {
                        Quartiles: d.quartiles,
                        Whiskers: whiskerData,
                        Label: label[0]
                    };
                    var tipData = chart.setTipData(_data4, i);

                    chart.tip.generateSimpleTip(tipData, _data4);
                    chart.tip.d = d.data;
                    chart.tip.i = i;
                }
            }).on('mouseleave', function () {
                if (chart.showToolTip) {
                    chart.tip.hideTip();
                }
            });

            //Update center line: the vertical line spanning the whiskers.
            var center = g.selectAll('line.center').data(whiskerData ? [whiskerData] : []);
            //vertical line
            if (flipped) {
                center.enter().insert('line', 'rect').attr('class', 'center').attr('y1', width / 2).attr('x1', function (d) {
                    return x0(d[0]);
                }).attr('y2', width / 2).attr('x2', function (d) {
                    return x0(d[1]);
                }).style('opacity', 1e-6).transition().duration(duration).style('opacity', 1).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                });

                center.transition().duration(duration).style('opacity', 1).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                });

                center.exit().transition().duration(duration).style('opacity', 1e-6).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                }).remove();
            } else {
                center.enter().insert('line', 'rect').attr('class', 'center').attr('x1', width / 2).attr('y1', function (d) {
                    return x0(d[0]);
                }).attr('x2', width / 2).attr('y2', function (d) {
                    return x0(d[1]);
                }).style('opacity', 1e-6).transition().duration(duration).style('opacity', 1).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                });

                center.transition().duration(duration).style('opacity', 1).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                });

                center.exit().transition().duration(duration).style('opacity', 1e-6).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                }).remove();
            }

            var hoverArea = g.selectAll('line.hover-area').data(whiskerData ? [whiskerData] : []);
            //vertical line
            if (flipped) {
                hoverArea.enter().insert('line', 'rect').attr('class', 'hover-area').attr('y1', width / 2).attr('x1', function (d) {
                    return x0(d[0]);
                }).attr('y2', width / 2).attr('x2', function (d) {
                    return x0(d[1]);
                }).style('opacity', 0).style('stroke-width', width).transition().duration(duration).style('opacity', 0).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                });

                hoverArea.transition().duration(duration).style('opacity', 0).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                });

                hoverArea.exit().transition().duration(duration).style('opacity', 0).attr('x1', function (d) {
                    return x1(d[0]);
                }).attr('x2', function (d) {
                    return x1(d[1]);
                }).remove();
            } else {
                hoverArea.enter().insert('line', 'rect').attr('class', 'hover-area').attr('x1', width / 2).attr('y1', function (d) {
                    return x0(d[0]);
                }).attr('x2', width / 2).attr('y2', function (d) {
                    return x0(d[1]);
                }).style('opacity', 0).style('stroke-width', width).transition().duration(duration).style('opacity', 0).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                });

                hoverArea.transition().duration(duration).style('opacity', 0).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                });

                hoverArea.exit().transition().duration(duration).style('opacity', 0).attr('y1', function (d) {
                    return x1(d[0]);
                }).attr('y2', function (d) {
                    return x1(d[1]);
                }).remove();
            }
            //Update innerquartile box.
            var box = g.selectAll('rect.box').data([quartileData]);
            if (flipped) {
                box.enter().append('rect').attr('fill', 'steelblue').attr('class', 'box').attr('y', 0).attr('x', function (d) {
                    return x0(d[2]) - Math.abs(x0(d[0]) - x0(d[2]));
                }).attr('height', width).attr('width', function (d) {
                    return Math.abs(x0(d[0]) - x0(d[2]));
                }).transition().duration(duration).attr('x', function (d) {
                    return x1(d[2]) - Math.abs(x1(d[0]) - x1(d[2]));
                }).attr('width', function (d) {
                    return Math.abs(x1(d[0]) - x1(d[2]));
                });

                box.transition().duration(duration).attr('x', function (d) {
                    return x1(d[2]) - Math.abs(x1(d[0]) - x1(d[2]));
                }).attr('width', function (d) {
                    return Math.abs(x1(d[0]) - x1(d[2]));
                });
            } else {
                box.enter().append('rect').attr('fill', 'steelblue').attr('class', 'box').attr('x', 0).attr('y', function (d) {
                    return x0(d[2]);
                }).attr('width', width).attr('height', function (d) {
                    return x0(d[0]) - x0(d[2]);
                }).transition().duration(duration).attr('y', function (d) {
                    return x1(d[2]);
                }).attr('height', function (d) {
                    return x1(d[0]) - x1(d[2]);
                });

                box.transition().duration(duration).attr('y', function (d) {
                    return x1(d[2]);
                }).attr('height', function (d) {
                    return x1(d[0]) - x1(d[2]);
                });
            }
            //Update median line.
            var medianLine = g.selectAll('line.median').data([quartileData[1]]);
            if (flipped) {
                medianLine.enter().append('line').attr('class', 'median').attr('y1', 0).attr('x1', x0).attr('y2', width).attr('x2', x0).transition().duration(duration).attr('x1', x1).attr('x2', x1);

                medianLine.transition().duration(duration).attr('x1', x1).attr('x2', x1);
            } else {
                medianLine.enter().append('line').attr('class', 'median').attr('x1', 0).attr('y1', x0).attr('x2', width).attr('y2', x0).transition().duration(duration).attr('y1', x1).attr('y2', x1);

                medianLine.transition().duration(duration).attr('y1', x1).attr('y2', x1);
            }
            //Update whiskers.
            var whisker = g.selectAll('line.whisker').data(whiskerData || []);
            if (flipped) {
                whisker.enter().insert('line', 'circle, text').attr('class', 'whisker').attr('y1', 0).attr('x1', x0).attr('y2', 0 + width).attr('x2', x0).style('opacity', 1e-6).transition().duration(duration).attr('x1', x1).attr('x2', x1).style('opacity', 1);

                whisker.transition().duration(duration).attr('x1', x1).attr('x2', x1).style('opacity', 1);

                whisker.exit().transition().duration(duration).attr('x1', x1).attr('x2', x1).style('opacity', 1e-6).remove();
            } else {
                whisker.enter().insert('line', 'circle, text').attr('class', 'whisker').attr('x1', 0).attr('y1', x0).attr('x2', 0 + width).attr('y2', x0).style('opacity', 1e-6).transition().duration(duration).attr('y1', x1).attr('y2', x1).style('opacity', 1);

                whisker.transition().duration(duration).attr('y1', x1).attr('y2', x1).style('opacity', 1);

                whisker.exit().transition().duration(duration).attr('y1', x1).attr('y2', x1).style('opacity', 1e-6).remove();
            }
            //Compute the tick format.
            var format = tickFormat || x1.tickFormat(8);

            //Update box ticks.
            var boxTick = g.selectAll('text.box').data(quartileData);

            if (flipped) {
                boxTick.enter().append('text').attr('class', 'box').attr('dx', '.3em').attr('dy', function (d, i) {
                    return i & 1 ? 6 : -6;
                }).attr('y', function (d, i) {
                    return i & 1 ? +width : 0;
                }).attr('x', x0).attr('text-anchor', function (d, i) {
                    return i & 1 ? 'start' : 'end';
                }).attr('style', function () {
                    if (!showLabels) {
                        return 'display: none;';
                    }
                }).text(format).transition().duration(duration).attr('x', x1);

                boxTick.transition().duration(duration).text(format).attr('x', x1);
            } else {
                boxTick.enter().append('text').attr('class', 'box').attr('dy', '.3em').attr('dx', function (d, i) {
                    return i & 1 ? 6 : -6;
                }).attr('x', function (d, i) {
                    return i & 1 ? +width : 0;
                }).attr('y', x0).attr('text-anchor', function (d, i) {
                    return i & 1 ? 'start' : 'end';
                }).attr('style', function () {
                    if (!showLabels) {
                        return 'display: none;';
                    }
                }).text(format).transition().duration(duration).attr('y', x1);

                boxTick.transition().duration(duration).text(format).attr('y', x1);
            }
            //Update whisker ticks. These are handled separately from the box
            //ticks because they may or may not exist, and we want don't want
            //to join box ticks pre-transition with whisker ticks post-.
            var whiskerTick = g.selectAll('text.whisker').data(whiskerData || []);

            if (flipped) {
                whiskerTick.enter().append('text').attr('class', 'whisker').attr('dx', '.3em').attr('dy', 6).attr('y', width).attr('x', x0).attr('style', function () {
                    if (!showLabels) {
                        return 'display:none;';
                    }
                }).text(format).style('opacity', 1e-6).transition().duration(duration).attr('x', x1).style('opacity', 1);

                whiskerTick.transition().duration(duration).text(format).attr('x', x1).style('opacity', 1);

                whiskerTick.exit().transition().duration(duration).attr('x', x1).style('opacity', 1e-6).remove();
            } else {
                whiskerTick.enter().append('text').attr('class', 'whisker').attr('dy', '.3em').attr('dx', 6).attr('x', width).attr('y', x0).attr('style', function () {
                    if (!showLabels) {
                        return 'display:none;';
                    }
                }).text(format).style('opacity', 1e-6).transition().duration(duration).attr('y', x1).style('opacity', 1);

                whiskerTick.transition().duration(duration).text(format).attr('y', x1).style('opacity', 1);

                whiskerTick.exit().transition().duration(duration).attr('y', x1).style('opacity', 1e-6).remove();
            }
        });
        //d3.timer.flush();
        d3.timerFlush();
    }

    box.width = function (x) {
        if (!arguments.length) return width;
        width = x;
        return box;
    };

    box.height = function (x) {
        if (!arguments.length) return height;
        height = x;
        return box;
    };

    box.tickFormat = function (x) {
        if (!arguments.length) return tickFormat;
        tickFormat = x;
        return box;
    };

    box.duration = function (x) {
        if (!arguments.length) return duration;
        duration = x;
        return box;
    };

    function constant(x) {
        return function () {
            return x;
        };
    }
    box.domain = function (x) {
        if (!arguments.length) return domain;
        //domain = x == null ? x : d3.functor(x);
        domain = x == null ? x : constant(x);

        return box;
    };

    box.value = function (x) {
        if (!arguments.length) return value;
        value = x;
        return box;
    };

    box.whiskers = function (x) {
        if (!arguments.length) return whiskers;
        whiskers = x;
        return box;
    };

    box.showLabels = function (x) {
        if (!arguments.length) return showLabels;
        showLabels = x;
        return box;
    };

    box.flipped = function (x) {
        if (!arguments.length) return flipped;
        flipped = x;
        return box;
    };

    box.chart = function (x) {
        if (!arguments.length) return chart;
        chart = x;
        return box;
    };

    box.quartiles = function (x) {
        if (!arguments.length) return quartiles;
        quartiles = x;
        return box;
    };

    return box;
};

function boxWhiskers(d) {
    return [0, d.length - 1];
}

function boxQuartiles(d) {
    return [d3.quantile(d, 0.25), d3.quantile(d, 0.5), d3.quantile(d, 0.75)];
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],14:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.bubble = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateBubble = generateBubble;

/************************************************ Bubble functions ******************************************************/

function paint(transitionTime) {
    var chart = this,
        bubbleMargins = {
        top: 15,
        right: 15,
        left: 15,
        bottom: 15
    };
    if (transitionTime || transitionTime === 0) {
        chart._vars.transitionTime = transitionTime;
    } else if (!chart._vars.transitionTime) {
        chart._vars.transitionTime = 800;
    }
    if (!chart.smallerFontRepaint) {
        chart._vars.fontSizeMax = 80;
        chart.currentData = chart.data;
    } else {
        chart.currentData = JSON.parse(JSON.stringify(chart.data));
    }

    chart._vars.color = chart.data.color;

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, bubbleMargins);
    chart.generateVerticalLegend('generateBubble');
    chart.generateBubble(chart.currentData);
}

/**setData
 *  gets Bubble data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //define color object for chartData
    chart.data.legendData = setBubbleLegendData(chart.data);
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData() {
    return {};
}

/**setBubbleLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBubbleLegendData(data) {
    var legendArray = [],
        item = data.dataTable.label;

    for (var value in data.chartData) {
        if (data.chartData.hasOwnProperty(value)) {
            var legendElement = data.chartData[value][item];
            if (legendArray.indexOf(legendElement) === -1) {
                legendArray.push(legendElement);
            }
        }
    }

    return legendArray;
}

/** generateBubble
 *
 * paints the bubble  on the chart
 * @params bubble Data
 */
function generateBubble(bubbleData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        width = container.width,
        height = container.height,
        pack = d3.pack().size([width, height]).padding(1.5),
        legendData = chart.data.legendData,
        valueKey = chart.data.dataTable.value,
        labelKey = chart.data.dataTable.label,
        colors = chart._vars.color;

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }
    var dataHeaders = chart._vars.legendHeaders;
    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }
    var bubbleDataNew = jvCharts.getToggledData(bubbleData, dataHeaders),
        legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    if (legendElementToggleArray) {
        for (var j = 0; j < bubbleDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === bubbleDataNew[j][labelKey] && legendElementToggleArray[i].toggle === false) {
                    bubbleDataNew.splice(j, 1);
                }
            }
        }
    }
    svg.selectAll('.bubble').remove();
    //assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy({ children: bubbleDataNew }).sum(function (d) {
        return d[valueKey];
    }),
        bubble = svg.selectAll('.bubble').data(pack(root).leaves()).enter().append('g').attr('class', 'bubble').attr('transform', function (d) {
        return 'translate(' + d.x + ',' + d.y + ')';
    });

    bubble.append('circle').attr('fill', function (d, i) {
        var name = legendData.indexOf(d.data[labelKey]);
        return jvCharts.getColors(colors, name, d.data[labelKey]);
    }).attr('class', function (d, i) {
        return 'editable editable-bubble bubble-' + i + ' highlight-class-' + i;
    }).attr('r', function (d) {
        return d.r;
    }).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            //Draw tip line
            tipData.data.color = jvCharts.getColors(colors, tipData.index, d.data[labelKey]);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d.data;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(0);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d.data, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });

    bubble.append('text').attr('class', 'bubble-text').text(function (d) {
        return d.data[labelKey];
    }).attr('fill', 'white')
    //hide text if its too wide
    .attr('style', function (d) {
        if (this.clientWidth > d.r * 2) {
            return 'display: none';
        }
    })
    //center the text on the bubble
    .attr('transform', function (d, i) {
        var diameter = d.r * 2,
            textWidth = this.clientWidth,
            emptySpace = diameter - textWidth;

        if (emptySpace < 0) {
            return '';
        } else {
            return 'translate(-' + (d.r - emptySpace / 2) + ', 0)';
        }
    }).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);

            //Draw tip line
            tipData.data.color = jvCharts.getColors(colors, tipData.index, d.data[labelKey]);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d.data;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(0);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d.data, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });

    bubble.append('text').text(function (d) {
        return d.data[valueKey];
    }).attr('fill', 'white')
    //hide text if its too wide
    .attr('style', function (d) {
        if (this.clientWidth > d.r * 2) {
            return 'display: none';
        }

        return '';
    })
    //center the text on the bubble
    .attr('transform', function (d, i) {
        var diameter = d.r * 2,
            textWidth = this.clientWidth,
            emptySpace = diameter - textWidth;

        if (emptySpace < 0) {
            return '';
        }

        return 'translate(-' + (d.r - emptySpace / 2) + ',' + 15 + ')';
    }).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);

            //Draw tip line
            tipData.data.color = jvCharts.getColors(colors, tipData.index, d.data[labelKey]);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d.data;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(0);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d.data, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],15:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.clustergram = {
    paint: paint,
    setData: setData,
    getEventData: null
};

jvCharts.prototype.generateClustergram = generateClustergram;

/************************************************ Clustergram functions ******************************************************/

/**setClustergramData
 *  gets heatmap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;

    //define color object for chartData
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship
    var customMargin = {
        top: 20,
        right: 40,
        left: 0,
        bottom: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, customMargin);
    //chart.generateLegend(chart.currentData.legendData, 'generateClustergram');
    chart.generateClustergram();
}

/**generateClustergram
 *
 * paints the Clustergram on the chart
 * @params ClustergramData
 */
function generateClustergram() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container;

    var leftTreeData = chart.data.chartData[0];
    var rightTreeData = chart.data.chartData[1];
    var gridData = chart.data.chartData[2];

    var size = gridData.length * 10;
    var padding = 30;

    if (container.width > container.height) {
        if (size < container.width) {
            size = container.width;
            padding = 0;
        }
    } else {
        if (size < container.height) {
            size = container.height;
            padding = 0;
        }
    }

    //remove svg elements
    svg.selectAll("*").remove();

    // svg.append("rect")
    //     .attr("width", size)
    //     .attr("height", size)
    //     .style("fill", "none")
    //     .style("pointer-events", "all")
    //     .call(d3.zoom()
    //         .scaleExtent([1, 8])
    //         .on("zoom", zoomed));

    var vis = svg.append('g').attr('transform', 'translate(' + 0 + ',0)').attr('class', 'heatmap'),
        leftG = vis.append("g").attr("id", "left-tree"),
        bottomG = vis.append("g").attr("id", "bottom-tree"),
        heatG = vis.append("g").attr('class', 'clustergram-container').attr("id", "heat");

    var div = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);

    //calc new width and height
    var newWidth = size / 4;
    var newHeight = size / 4;

    var leftTree = d3.cluster().size([newHeight, newWidth]);

    var root = d3.hierarchy(leftTreeData);
    leftTree(root);

    var className = "";
    var leftLink = leftG.selectAll(".cluster-link").data(root.descendants().slice(1)).enter().append("path").attr("class", function (d) {
        if (typeof d.children == 'undefined') {
            eachRecursive(d, true);
        }

        return "cluster-link " + className;
    }).attr("d", function (d) {
        // return "M" + d.y + "," + d.x
        //     + "C" + (d.parent.y + 25) + "," + d.x
        //     + " " + (d.parent.y + 25) + "," + d.parent.x
        //     + " " + d.parent.y + "," + d.parent.x;
        return "M" + d.y / 4 + "," + d.x + "V" + d.parent.x + "H" + d.parent.y / 4;
    });

    function eachRecursive(d, erase) {
        if (erase) {
            className = "";
        }
        className += d.data.name;

        if (d.parent != null) {
            if (d.parent.data.name != 'root') {
                className += "-";
                eachRecursive(d.parent, false);
            } else {
                return className;
            }
        } else {
            return className;
        }
    }

    //childCount
    var leftChildCount = 0;
    var leftNode = leftG.selectAll(".cluster-node").data(root.descendants()).enter().append("g").attr("class", function (d) {
        return "cluster-node" + (d.children ? " cluster-node--internal" : " cluster-node--leaf");
    }).attr("transform", function (d) {
        return "translate(" + d.y / 4 + "," + d.x + ")";
    });

    // leftNode.append("circle")
    //     .attr("r", 3)
    //     .on("mouseover", function(d) {
    //         // if(typeof d.children == 'undefined'){
    //         //     eachRecursive(d, true);
    //         // }
    //         // d3.selectAll("." + className).classed('path-highlight', true);
    //     })
    //     .on("mouseout", function(d){
    //         // d3.selectAll("path").classed('path-highlight', false);
    //     });

    leftNode.append("line").style("stroke", "#999").attr("x1", function (d) {
        return d.children ? 0 : 0;
    }).attr("x2", function (d) {
        return d.children ? 0 : 15;
    });

    leftNode.append("text").attr("dy", 3).attr("x", function (d) {
        return d.children ? -8 : 0;
    }).style("text-anchor", function (d) {
        return "end";
    }).text(function (d) {
        d.children ? "" : leftChildCount++;
        // return d.data.name;
        if (d.data.name === "root") {
            return "";
        }
        return d.children ? d.data.name : "";
    });

    //bottom Tree
    var topTree = d3.cluster().size([newHeight, newWidth]);

    var root = d3.hierarchy(rightTreeData);
    topTree(root);

    var topLink = bottomG.selectAll(".cluster-link").data(root.descendants().slice(1)).enter().append("path").attr("class", "cluster-link").attr("d", function (d) {
        // return "M" + d.y + "," + d.x
        //     + "C" + (d.parent.y + 25) + "," + d.x
        //     + " " + (d.parent.y + 25) + "," + d.parent.x
        //     + " " + d.parent.y + "," + d.parent.x;
        return "M" + d.y / 4 + "," + d.x + "V" + d.parent.x + "H" + d.parent.y / 4;
    });

    //childCount
    var rightChildCount = 0;
    var rightNode = bottomG.selectAll(".cluster-node").data(root.descendants()).enter().append("g").attr("class", function (d) {
        return "cluster-node" + (d.children ? " cluster-node--internal" : " cluster-node--leaf");
    }).attr("transform", function (d) {
        return "translate(" + d.y / 4 + "," + d.x + ")";
    });

    // rightNode.append("circle")
    //     .attr("r", 2.5);

    rightNode.append("line").style("stroke", "#999").attr("x1", function (d) {
        return d.children ? 0 : 0;
    }).attr("x2", function (d) {
        return d.children ? 0 : 15;
    });

    rightNode.append("text").attr("dy", 3).attr("x", function (d) {
        return d.children ? -8 : 8;
    }).style("text-anchor", function (d) {
        return d.children ? "end" : "start";
    }).text(function (d) {
        d.children ? "" : rightChildCount++;
        if (d.data.name === "root") {
            return "";
        }
        return d.children ? d.data.name : "";
    });

    var heatScores = [];
    for (var i = 0; i < gridData.length; i++) {
        var cell = gridData[i];
        heatScores.push(cell.value);
    }

    //heat variables
    var color = d3.scaleThreshold().domain(heatScores).range(["#fbf2d2", "#fee7a0", "#ffc665", "#fea743", "#fd8c3c", "#fb4b29", "#ea241e", "#d60b20", "#b10026", "#620023"]);

    var gridHeight = newHeight / leftChildCount;
    var gridWidth = newWidth / rightChildCount;

    //grid
    var heat = heatG.selectAll(".heat").data(gridData).enter().append("rect").attr("class", function (d) {
        return "rect";
    }).attr("x", function (d) {
        return d.x_index * gridWidth;
    }).attr("y", function (d) {
        return d.y_index * gridHeight;
    }).attr("width", function (d) {
        return gridWidth;
    }).attr("height", function (d) {
        return gridHeight;
    }).attr("stroke", function (d) {
        return "#E6E6E6";
    }).attr("stroke-width", function (d) {
        return "1px";
    }).style("fill", function (d) {
        return color(d.value);
    }).on("mouseover", function (d) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                tipData.color = color(d.value);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    });

    svg.call(d3.zoom().scaleExtent([1 / 2, 8]).on("zoom", zoomed));

    // //align G tags
    // leftG = vis.append("g").attr("transform", "translate(0," + (size/4+55) + ")").attr("id", "left-tree"),
    // bottomG = vis.append("g").attr("transform", "translate(" + (size/2+70) + "," + 50 + ")rotate(90)").attr("id", "bottom-tree"),
    // heatG = vis.append("g").attr('class', 'clustergram-container').attr("transform", "translate(" + (size/4+70) + "," + (size/4+55) + ")").attr("id", "heat");
    var leftTreeWidth = leftG.node().getBBox().width;
    var topTreeHeight = bottomG.node().getBBox().width;
    var heatWidth = heatG.node().getBBox().width;
    leftG.attr("transform", "translate(" + 0 + "," + topTreeHeight + ")");
    bottomG.attr("transform", "translate(" + (leftTreeWidth + heatWidth) + "," + padding + ")rotate(90)");
    heatG.attr("transform", "translate(" + leftTreeWidth + "," + topTreeHeight + ")");

    function zoomed() {
        // var transform = d3.zoomTransform(svg.node());
        vis.attr("transform", d3.event.transform);
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],16:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.gantt = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateGanttBars = generateGanttBars;
jvCharts.prototype.setGanttLegendData = setGanttLegendData;
jvCharts.prototype.setGanttAxisData = setGanttAxisData;

/************************************************ Gantt functions ******************************************************/

/**
*
* @param data
* @param dataTable
* @param colors
*/
function setData() {
    var chart = this;
    chart.data.legendData = chart.setGanttLegendData(chart.data);
    chart.data.xAxisData = chart.setGanttAxisData(chart, 'x');
    chart.data.yAxisData = chart.setGanttAxisData(chart, 'y');
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event) {
    var chart = this;
    var ele = event.target.classList.value.split('bar-col-')[1];
    if (ele) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.group, [ele.replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    }
    return {};
}

function setGanttLegendData(data) {
    var legendArray = [];
    for (var i = 1; i <= Object.keys(data.dataTable).length; i++) {
        if (data.dataTable.hasOwnProperty(["start " + i])) {
            //check to make sure it has a matching end date
            if (data.dataTable.hasOwnProperty(["end " + i])) {
                legendArray.push(data.dataTable["start " + i]);
            }
        }
    }
    return legendArray;
}

function setGanttAxisData(chart, axis) {
    var axisData = [],
        data = chart.data,
        chartData = data.chartData,
        dataType;

    if (axis === 'x') {
        var label = data.dataTable.group;
        dataType = 'DATE';

        var numBars = data.legendData.length;
        //Loop through dataTable and assign labels based on how many groups there are
        var valueContainer = [];
        valueContainer.push(data.dataTable["start 1"]);
        valueContainer.push(data.dataTable["end 1"]);
        for (var i = 1; i < numBars; i++) {
            valueContainer.push(data.dataTable["start " + (i + 1)]);
            valueContainer.push(data.dataTable["end " + (i + 1)]);
        }

        //Get all the start and end dates and add them to axis data
        for (var i = 0; i < valueContainer.length; i++) {
            for (var ii = 0; ii < chartData.length; ii++) {
                if (chartData[ii][valueContainer[i]] != null) {
                    axisData.push(chartData[ii][valueContainer[i]]);
                }
            }
        }

        //Add any axis formatting to this object, need to use when painting
        chart._vars.xAxisFormatting = {};
    } else {
        dataType = "STRING";
        var label = data.dataTable.group;

        //Add any axis formatting to this object, need to use when painting
        chart._vars.yAxisFormatting = {};

        for (var i = 0; i < chartData.length; i++) {
            axisData.push(chartData[i][label]);
        }
    }

    return {
        'label': label,
        'values': axisData,
        'dataType': dataType
    };
}

function paint() {
    var chart = this;

    chart._vars.color = chart.data.color;

    chart.currentData = chart.data;

    chart.generateSVG(chart.currentData.legendData);
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateGanttBars');
    chart.drawGridlines(chart.currentData.xAxisData);
    chart.generateGanttBars(chart.currentData);
    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function generateGanttBars(ganttData) {
    var chart = this,
        svg = chart.svg,
        colors = ganttData.color,
        container = chart.config.container,
        yAxisData = ganttData.yAxisData;

    //Remove existing bars from page
    svg.selectAll("g.gantt-container").remove();
    var bars = svg.append("g").attr("class", "gantt-container"),
        dataHeaders = chart._vars.legendHeaders ? chart._vars.legendHeaders : ganttData.legendData,
        ganttDataNew = jvCharts.getToggledData(ganttData, dataHeaders),
        x = jvCharts.getAxisScale('x', ganttData.xAxisData, container, chart._vars),
        y = jvCharts.getAxisScale('y', ganttData.yAxisData, container, chart._vars),
        sampleData = ganttDataNew;

    chart._vars.rotateAxis = true;

    var numBars = ganttData.legendData.length;
    var ganttBars = [];
    //create array of start dates and end dates to iterate through
    var startDates = [];
    var endDates = [];
    for (var i = 1; i <= numBars; i++) {
        startDates.push(chart.currentData.dataTable["start " + i]);
        endDates.push(chart.currentData.dataTable["end " + i]);
    }

    for (var ii = 0; ii < numBars; ii++) {
        var externalCounterForJ = -1;
        ganttBars[ii] = bars.selectAll(".gantt-bar" + ii).data(sampleData).enter().append("rect").attr('class', function (d, i, j) {
            externalCounterForJ++;
            var label = String(sampleData[externalCounterForJ][chart.currentData.dataTable.group]).replace(/\s/g, '_').replace(/\./g, '_dot_');

            return 'gantt-bar' + ii + ' editable editable-bar bar-col-' + label + '-index-' + ii + ' highlight-class-' + label + ' rect ';
        }).attr("width", 0).attr("height", y.bandwidth() / numBars).attr("x", function (d, i) {
            if (d[startDates[ii]]) {
                return x(new Date(d[startDates[ii]]));
            }
            return 0;
        }).attr("y", function (d, i) {
            return y(d[yAxisData.label]) + y.bandwidth() / numBars * ii;
        }).attr("rx", 3).attr("ry", 3).attr("fill", function (d, i, j) {
            var typeVal = chart.currentData.dataTable["Type" + (ii + 1)];
            if (chart._vars.legendHeaders) {
                var color = jvCharts.getColors(colors, 0, chart._vars.legendHeaders[ii]);
            } else {
                var color = jvCharts.getColors(colors, 0, chart.currentData.legendData[ii]);
            }
            return color;
        });

        ganttBars[ii].transition().duration(400).delay(100).attr("width", function (d, i) {
            var width = x(new Date(d[endDates[ii]])) - x(new Date(d[startDates[ii]])); //(x(d.StartDate) - x(d.EndDate));
            if (width >= 0) {
                return width;
            } else {
                return 0;
            }
        });
    }
    var externalCounterForJJ = -1;
    var dataToPlot = jvCharts.getPlotData(ganttDataNew, chart);
    var eventGroups = bars.selectAll(".event-rect").data(dataToPlot).enter().append('rect').attr("class", "event-rect").attr('class', function (d, i, j) {
        externalCounterForJJ++;
        var label = String(sampleData[externalCounterForJJ][chart.currentData.dataTable.group]).replace(/\s/g, '_').replace(/\./g, '_dot_');
        return 'event-rect bar-col-' + label;
    }).attr("x", 0).attr("y", function (d, i) {
        return container.height / ganttDataNew.length * i;
    }).attr("width", container.width).attr("height", function (d, i) {
        return container.height / ganttDataNew.length;
    }).attr("fill", "transparent").attr("transform", "translate(0,0)");
    eventGroups.on("mouseover", function (d, i, j) {
        // Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on("mousemove", function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on("mouseout", function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var currentDate = new Date();
    var dateData = [currentDate];
    //Draws a line representing the current date
    svg.selectAll(".currentDateLine").data(dateData).enter().append("line").attr("x1", function (d, i) {
        return x(d);
    }).attr("x2", function (d, i) {
        return x(d);
    }).attr("y1", function (d, i) {
        return "0px";
    }).attr("y2", function (d, i) {
        return chart.config.container.height;
    }).attr("class", "currentDateLine").attr("stroke", chart._vars.axisColor).attr("stroke-width", chart._vars.STROKE_WIDTH).attr("stroke-dasharray", "3, 3");

    svg.selectAll(".currentDateLabel").data(dateData).enter().append("text").text(function () {
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; //January is 0!

        var yyyy = today.getFullYear();
        if (dd < 10) {
            dd = '0' + dd;
        }
        if (mm < 10) {
            mm = '0' + mm;
        }
        var today = mm + '/' + dd + '/' + yyyy;
        return today;
    }).attr("x", function (d, i) {
        return x(d);
    }).attr("y", function (d, i) {
        return "-10px";
    }).attr("text-anchor", "middle").attr('fill', chart._vars.fontColor);
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],17:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.heatmap = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateHeatMap = generateHeatMap;

/************************************************ HeatMap functions ******************************************************/

function quantized(chart, min, max) {
    var bucketCount = chart._vars.buckets;
    var sectionValue = (max - min) / bucketCount;
    var quantizedArray = [];
    for (var i = 0; i < bucketCount; i++) {
        quantizedArray[i] = min + i * sectionValue;
    }
    return quantizedArray;
}

/**setHeatMapData
 *  gets heatmap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    var axisNames = setHeatAxisNames(chart.data);
    chart.data.xAxisData = axisNames.xAxisData;
    chart.data.yAxisData = axisNames.yAxisData;
    chart.data.processedData = setProcessedData(chart, chart.data, chart.data.xAxisData.values, chart.data.yAxisData.values);
    //define color object for chartData
    chart._vars.color = jvCharts.setChartColors(chart._vars.color, chart.data.xAxisData.values, chart.colors);
    chart.data.heatData = setHeatmapLegendData(chart, chart.data);
}

function getEventData(event, mouse) {
    var chart = this;

    //determine if the click event happens inside the container
    var brushContainer = chart.chartDiv.select('.' + chart.config.type + '-container').node(),
        containerBox = brushContainer.getBoundingClientRect(),
        x = mouse[0],
        y = mouse[1],
        insideContainer = false;

    if (x < containerBox.right && y < containerBox.bottom && x > containerBox.left && y > containerBox.top) {
        insideContainer = true;
    }

    if (insideContainer && event.target.__data__) {
        var _data;

        var data = event.target.__data__;
        return {
            data: (_data = {}, _defineProperty(_data, chart.currentData.dataTable.heat, [data.value]), _defineProperty(_data, chart.currentData.dataTable.x, [data.xAxisName]), _defineProperty(_data, chart.currentData.dataTable.y, [data.yAxisName]), _data),
            node: event.target
        };
    } else if (insideContainer) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

function setHeatmapLegendData(chart, data) {
    var heatData;
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount;
    chart._vars.colors = organizeColors(chart);

    data.heatScores.sort(function (a, b) {
        return a - b;
    });

    chart.data.colorScale = d3.scaleQuantile().domain(data.heatScores).range(chart._vars.colors);

    if (chart._vars.quantiles === true) {
        var temp = chart.data.colorScale.quantiles();
        if (temp[0] === 0) {
            heatData = chart.data.colorScale.quantiles();
        } else {
            heatData = [0].concat(chart.data.colorScale.quantiles());
        }
    } else {
        bucketCount = bucketMapper[chart._vars.buckets - 1];
        heatData = quantized(chart, data.heatScores[0], data.heatScores[data.heatScores.length - 1]);
    }

    return heatData;
}

function organizeColors(chart) {
    var colorSelectedBucket = [];
    for (var c in chart._vars.colors) {
        colorSelectedBucket.push(chart._vars.colors[c]);
    }

    var sValue = chart._vars.buckets;
    var newColors = [];
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount = bucketMapper[sValue - 1];
    for (var i = 0; i < bucketCount; i++) {
        if (i >= bucketCount / 2) {
            newColors[i] = colorSelectedBucket[Math.round((i + 1) / bucketCount * 20) - 1];
        } else {
            newColors[i] = colorSelectedBucket[Math.round(i / bucketCount * 20)];
        }
    }
    var colors = newColors.slice(0);
    return colors;
}

function setHeatAxisNames(data) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var xAxisArray = [];
    var yAxisArray = [];
    var returnObj = {};
    for (var i = 0; i < data.dataTableKeys.length; i++) {
        if (data.dataTableKeys[i].vizType === 'x') {
            returnObj.xAxisData = {};
            returnObj.xAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.xAxisData.label = data.dataTable.x;
        }
        if (data.dataTableKeys[i].vizType === 'y') {
            returnObj.yAxisData = {};
            returnObj.yAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.yAxisData.label = data.dataTable.y;
        }
    }

    for (var i = 0; i < chartData.length; i++) {
        if (xAxisArray.indexOf(chartData[i][xAxisName]) === -1) {
            xAxisArray.push(chartData[i][xAxisName]);
            //TODO make into 1 function for min max... waste of space
            if (returnObj.xAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                }

                if (!returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                }
            }
        }
        if (yAxisArray.indexOf(chartData[i][yAxisName]) === -1) {
            yAxisArray.push(chartData[i][yAxisName]);
            if (returnObj.yAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                }

                if (!returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                }
            }
        }
    }
    returnObj.xAxisData.values = xAxisArray;
    returnObj.yAxisData.values = yAxisArray;

    return returnObj;
}

function setProcessedData(chart, data, xAxisArray, yAxisArray) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var heat = data.dataTable.heat;
    var xCat = data.dataTable.x_category;
    var yCat = data.dataTable.y_category;
    var dataArray = [];
    data.heatScores = [];
    /*Assign each name a number and place matrix coordinates inside of dataArray */
    for (var i = 0; i < chartData.length; i++) {
        dataArray.push({
            value: chartData[i][heat],
            xAxisName: chartData[i][xAxisName],
            yAxisName: chartData[i][yAxisName]
        });

        var keys = Object.keys(data.dataTable);
        for (var k = 0; k < keys.length; k++) {
            if (keys[k].indexOf('tooltip') > -1) {
                dataArray[i][keys[k]] = chartData[i][data.dataTable[keys[k]]];
            }
        }
        //This array stores the values as numbers
        data.heatScores.push(chartData[i][heat]);
        for (var j = 0; j < xAxisArray.length; j++) {
            if (xAxisArray[j] === dataArray[i].xAxisName) {
                dataArray[i].xAxis = j;
                break;
            }
        }
        for (var j = 0; j < yAxisArray.length; j++) {
            if (yAxisArray[j] === dataArray[i].yAxisName) {
                dataArray[i].yAxis = j;
                break;
            }
        }
    }

    return dataArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship
    var customMargin = {
        top: 0,
        right: 40,
        left: 0,
        bottom: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, customMargin);
    //chart.generateLegend(chart.currentData.legendData, 'generateHeatMap');
    chart.generateHeatMap();
}

/**generateHeatMap
 *
 * paints the HeatMap on the chart
 * @params HeatMapData
 */
function generateHeatMap() {
    var chart = this,
        svg = chart.svg,
        colors = chart._vars.colors,
        container = chart.config.container,
        minContainer = 300,
        quantiles = chart._vars.quantiles,
        data = chart.data.processedData,
        toggleLegend = !chart._vars.toggleLegend,
        heatMapData = chart.currentData,
        gridSize = chart._vars.heatGridSize,
        legendSpacing = chart._vars.heatLegendSpacing;

    var div = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);

    var vis = svg.append('g').attr('transform', 'translate(0,0)').attr('class', 'heatmap');

    var yAxisTitle = vis.selectAll('.heatmap').data([heatMapData.dataTable.y]);

    yAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', -21).attr('y', -5).attr('text-anchor', 'end').attr('transform', function (d, i) {
        return 'translate(-' + (chart._vars.heatmapYmargin + 10) + ',' + 0 + ')rotate(-90)';
    }).text(function (d) {
        return d;
    });

    yAxisTitle.exit().remove();
    var formatType = jvCharts.jvFormatValueType(chart.currentData.yAxisData.values, chart.currentData.yAxisData.dataType);

    var yAxisSection = vis.append('svg:g').attr('class', 'yAxisSection');

    var yAxis = yAxisSection.selectAll('.xAxis').data(heatMapData.yAxisData.values).enter().append('svg:g');

    yAxis.append('text').text(function (d) {
        var str = jvCharts.jvFormatValue(d, formatType);
        if (str.length > 15) {
            return str.substring(0, 14) + '...';
        }
        return str;
    }).attr('x', 0).attr('y', function (d, i) {
        return i * gridSize;
    }).style('text-anchor', 'end').style('font-size', chart._vars.fontSize).attr('transform', 'translate(-6,' + gridSize / 1.5 + ')').attr('class', function (d, i) {
        return 'rowLabel pointer';
    }).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        var paint = true;
        if (d === chart._vars.selectedX) {
            chart._vars.selectedX = '';
            paint = false;
        } else {
            chart._vars.selectedX = d;
        }

        //fade all rects except in this row
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.yAxisData.values.length; i++) {
                if (chart.currentData.yAxisData.values[i] === d && d) {
                    if (r.yAxis != i && paint) {
                        return true;
                    }
                }
            }
        });
    });

    yAxis.append('title').text(function (d) {
        return d;
    });

    var xAxisTitle = vis.selectAll('.xAxisTitle').data([heatMapData.dataTable.x]);

    xAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', 6).attr('y', 9).attr('transform', function (d, i) {
        return 'translate(' + 0 + ', -' + (chart._vars.heatmapXmargin - 10) + ')';
    }).text(function (d) {
        return d;
    });

    xAxisTitle.exit().remove();

    var xAxisSection = vis.append('svg:g').attr('class', 'xAxisSection');

    var xAxis = xAxisSection.selectAll('.xAxis').data(heatMapData.xAxisData.values).enter().append('svg:g');

    formatType = jvCharts.jvFormatValueType(chart.currentData.xAxisData.values, chart.currentData.xAxisData.dataType);

    xAxis.append('text').text(function (d) {
        var str = jvCharts.jvFormatValue(d, formatType);
        if (str.length > 15) {
            return str.substring(0, 14) + '...';
        }
        return str;
    }).style('text-anchor', 'start').attr('x', 6).attr('y', 7).attr('class', function (d, i) {
        return 'colLabel pointer';
    }).attr('transform', function (d, i) {
        return 'translate(' + i * gridSize + ', -6)rotate(-45)';
    }).attr('title', function (d) {
        return d;
    }).style('font-size', chart._vars.fontSize).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        var paint = true;
        if (d === chart._vars.selectedX) {
            chart._vars.selectedX = '';
            paint = false;
        } else {
            chart._vars.selectedX = d;
        }
        //fade all rects except in this column
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.xAxisData.values.length; i++) {
                if (chart.currentData.xAxisData.values[i] === d) {
                    if (r.xAxis !== i && paint) {
                        return true;
                    }
                }
            }
        });
    });

    xAxis.append('title').text(function (d) {
        return d;
    });

    var width = heatMapData.xAxisData.values.length * gridSize;
    var height = heatMapData.yAxisData.values.length * gridSize;
    var formatValueType = jvCharts.jvFormatValueType(chart.data.heatData);

    //vertical lines
    var vLine = vis.append('svg:g').attr('class', 'vLineSection');

    vLine.selectAll('.vLineSection').data(d3.range(heatMapData.xAxisData.values.length + 1)).enter().append('line').attr('x1', function (d) {
        return d * gridSize;
    }).attr('x2', function (d) {
        return d * gridSize;
    }).attr('y1', function (d) {
        return 0;
    }).attr('y2', function (d) {
        return height;
    }).style('stroke', chart._vars.axisColor);

    //horizontal lines
    var hLine = vis.append('svg:g').attr('class', 'heatmap-container');

    hLine.selectAll('.heatmap-container').data(d3.range(heatMapData.yAxisData.values.length + 1)).enter().append('line').attr('y1', function (d) {
        return d * gridSize;
    }).attr('y2', function (d) {
        return d * gridSize;
    }).attr('x1', function (d) {
        return 0;
    }).attr('x2', function (d) {
        return width;
    }).style('stroke', chart._vars.axisColor);

    var heatMap = vis.append('svg:g').attr('class', 'heatSection');

    heatMap.selectAll('.heatSection').data(data).enter().append('rect').attr('x', function (d) {
        return d.xAxis * gridSize;
    }).attr('y', function (d) {
        return d.yAxis * gridSize;
    }).attr('rx', 2).attr('ry', 2).attr('class', 'heat').attr('width', gridSize - 1).attr('height', gridSize - 1).style('fill', function (d) {
        if (quantiles === true) {
            if (chart._vars.domainArray.length === 0 || d.value >= chart._vars.domainArray[0] && d.value <= chart._vars.domainArray[1]) {
                return chart.data.colorScale(d.value);
            }
            return 'white';
        }
        if (chart._vars.domainArray.length == 0 || d.value >= chart._vars.domainArray[0] && d.value <= chart._vars.domainArray[1]) {
            return getQuantizedColor(chart.data.heatData, d.value);
        }
        return 'white';
    }).on('mouseover', function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        tipData.color = chart.data.colorScale(d.value);

        //Draw tip
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
        chart.tip.d = d;
        chart.tip.i = i;
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    }).on('dblclick', function (d) {
        chart.clicked = !chart.clicked;
        if (chart.clicked) {
            //border around selected rect
            d3.select(this).classed('rect-border', true);

            //Fade row labels
            d3.selectAll('.rowLabel').classed('text-highlight', function (r, ri) {
                if (!(ri == d.yAxis)) {
                    return true;
                }
            });

            //fade column labels
            d3.selectAll('.colLabel').classed('text-highlight', function (r, ri) {
                if (!(ri == d.xAxis)) {
                    return true;
                }
            });

            //fade all rects except selected
            d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
                if (r.yAxis != d.yAxis || r.xAxis != d.xAxis) {
                    return true;
                }
            });
        } else {
            //removing styling
            d3.selectAll('.rowLabel').classed('text-highlight', false);
            d3.selectAll('.colLabel').classed('text-highlight', false);
            d3.selectAll('.heat').classed('rect-highlight', false);
            d3.selectAll('.heat').classed('rect-border', false);
        }
    });

    chart.chartDiv.select("svg.heatLegend").remove();

    if (toggleLegend) {
        var legendContainer = chart.chartDiv.append('svg').style('top', chart.config.margin.top + 'px').style('background', chart._vars.backgroundColor).attr('class', 'heatLegend').attr('width', chart.config.heatWidth);

        var legend = legendContainer.selectAll('.legend').data(chart.data.heatData).enter().append('g').attr('transform', function (d, i) {
            var height = gridSize + legendSpacing;
            var offset = height * chart.data.colorScale.domain().length / 2;
            var horz = -2 * gridSize;
            var vert = i * height - offset;
            return 'translate(' + 0 + ',' + gridSize * i + ')';
        });

        legend.append('rect').attr('class', 'legend').attr('width', gridSize).attr('height', gridSize).style('fill', function (d, i) {
            return colors[i];
        }).on('click', function (d) {
            //removing styling
            d3.selectAll('.heat').classed('rect-highlight', false);
        }).on('dblclick', function (d) {
            //removing styling
            //fade all rects except selected
            d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
                if (r.value < d) {
                    return true;
                }
            });
        });

        legend.append('text').attr('class', 'legendText').attr('x', gridSize + legendSpacing).attr('y', gridSize - legendSpacing).text(function (d) {
            if (isNaN(d)) {
                return d;
            }
            return jvCharts.jvFormatValue(d, formatValueType);
        }).style('fill', chart._vars.black);
    }

    function getQuantizedColor(quantizedArray, value) {
        for (var i = 1; i < quantizedArray.length; i++) {
            if (value < quantizedArray[i]) {
                return colors[i - 1];
            }
        }
        return colors[quantizedArray.length - 1];
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],18:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.line = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateLine = generateLine;
jvCharts.prototype.setLineThresholdData = setLineThresholdData;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //sort chart data if there is a sort type and label in the _vars
    if (chart._vars.sortType) {
        if (chart._vars.sortLabel && chart._vars.sortType !== 'default') {
            chart.organizeChartData(chart._vars.sortLabel, chart._vars.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    if (chart._vars.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart._vars.color, chart.flippedData.legendData, chart.colors);
    }

    if (chart.data.dataTable.hasOwnProperty('series')) {
        chart.data.chartData = setSeriesData(chart.data.chartData, chart.data.dataTable, chart.data.legendData);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event) {
    var chart = this;
    if (event.target.classList.value.split('bar-col-')[1]) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [event.target.classList.value.split('bar-col-')[1].replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('line-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**
 * @name setSeriesData
 * @desc Sets chartData to contain a series data if the series field exists in visual panel
 */
function setSeriesData(data, dataTable, legendDataArray) {
    var newChartData = [];
    //Get unique label list
    var labelList = [];
    for (var i = 0; i < data.length; i++) {
        var add = true;
        for (var j = 0; j < labelList.length; j++) {
            if (data[i][dataTable.label] === labelList[j]) {
                add = false;
                break;
            }
        }
        if (add) {
            labelList.push(data[i][dataTable.label]);
        }
    }
    //Iterate over label list
    var newData = [];
    for (var _i = 0; _i < labelList.length; _i++) {
        var dataObj = {};
        dataObj[dataTable.label] = labelList[_i];
        for (var _j = 0; _j < data.length; _j++) {
            if (data[_j][dataTable.label] === labelList[_i]) {
                var newEntry = data[_j][dataTable.series] + ' ' + dataTable['value 1'];
                dataObj[newEntry] = data[_j][dataTable['value 1']];
            }
        }
        newData.push(dataObj);
    }
    return newData;
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];

    if (data.dataTable.hasOwnProperty('series')) {
        for (var i = 0; i < data.chartData.length; i++) {
            var addToLegend = true;
            for (var j = 0; j < legendArray.length; j++) {
                var entry = data.chartData[i][data.dataTable.series] + ' ' + data.dataTable['value 1'];
                if (entry === legendArray[j]) {
                    addToLegend = false;
                    break;
                }
            }
            if (addToLegend) {
                var newEntry = data.chartData[i][data.dataTable.series] + ' ' + data.dataTable['value 1'];
                legendArray.push(newEntry);
            }
        }
    } else {
        for (var item in data.dataTable) {
            if (data.dataTable.hasOwnProperty(item)) {
                if (item !== 'label' && item.indexOf('tooltip') === -1) {
                    legendArray.push(data.dataTable[item]);
                }
            }
        }
    }

    return legendArray;
}
/**paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint() {
    var chart = this;
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');
    if (chart._vars.rotateAxis) {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
}

/**generateLine
 *
 * Paints the lines
 * @params lineData
 */
function generateLine(lineData) {
    var chart = this,
        svg = chart.svg;

    svg.selectAll('g.' + chart.config.type + '-container').remove();
    var lines = svg.append('g').attr('class', chart.config.type + '-container').selectAll('g');

    var dataHeaders = lineData.legendData;

    if (chart._vars.seriesFlipped && chart._vars.flippedLegendHeaders) {
        dataHeaders = chart._vars.flippedLegendHeaders;
    } else if (chart._vars.legendHeaders) {
        dataHeaders = chart._vars.legendHeaders;
    }

    var lineDataNew = jvCharts.getToggledData(lineData, dataHeaders);

    //If it's an area chart, add the area
    if (chart.config.type === 'area') {
        chart.fillArea(lineDataNew);
    }

    generateLineGroups(lines, lineDataNew, chart);
    var eventGroups = jvCharts.generateEventGroups(lines, lineDataNew, chart);

    eventGroups.on('mouseover', function (d, i, j) {
        //Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
        svg.selectAll('.tip-line').remove();
    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateLineThreshold();

    return lines;
}

/**generateLineGroups
 *
 * Paints the groups of the lines
 * @params chartContainer, barData, chart
 */
function generateLineGroups(lineContainer, lineData, chart) {
    var container = chart.config.container,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,
        colors = chart._vars.color,
        lines,
        lineLength = lineData.length,
        legendLength = legendData.length;

    //Get Position Calculations
    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars, 'no-padding');
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars, 'no-padding');

    var xTranslate, yTranslate;

    if (chart._vars.rotateAxis === true) {
        xTranslate = function xTranslate(d, i) {
            if (d === '') {
                return x('EMPTY_STRING');
            }
            return x(d);
        };
        yTranslate = function yTranslate(d, i) {
            return y(lineData[i][yAxisData.label]) + container.height / lineLength / 2; //+ container.height / (lineLength) / 2  - y.paddingInner());
        };
    } else {
        xTranslate = function xTranslate(d, i) {
            if (lineData[i][xAxisData.label] === '') {
                lineData[i][xAxisData.label] = 'EMPTY_STRING';
            }
            return x(lineData[i][xAxisData.label]) + container.width / lineLength / 2; //+ container.width / (lineLength) / 2 - x.paddingInner());
        };
        yTranslate = function yTranslate(d, i) {
            return y(d);
        };
    }

    //Append lines and circles

    var uniqueXAxisData = [];
    for (var i = 0; i < chart.data.xAxisData.values.length; i++) {
        var add = true;
        for (var j = 0; j < uniqueXAxisData.length; j++) {
            if (chart.data.xAxisData.values[i] === uniqueXAxisData[j]) {
                add = false;
                break;
            }
        }
        if (add) {
            uniqueXAxisData.push(chart.data.xAxisData.values[i]);
        }
    }

    var data = {};
    for (var _i2 = 0; _i2 < lineLength; _i2++) {
        for (var _k = 0; _k < legendLength; _k++) {
            if (typeof chart._vars.legendOptions !== 'undefined') {
                //Accounting for legend toggles
                if (chart._vars.legendOptions[_k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    //Write something to data
                    if (!data[legendData[_k]]) {
                        data[legendData[_k]] = [];
                    }
                    data[legendData[_k]].push(parseFloat(lineData[_i2][legendData[_k]]));
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[_k]]) {
                    data[legendData[_k]] = [];
                }
                if (data[legendData[_k]].length < lineLength) {
                    data[legendData[_k]].push(parseFloat(lineData[_i2][legendData[_k]]));
                }
            }
        }
    }

    chart.svg.selectAll('.lines').remove();
    chart.svg.selectAll('.line').remove();
    chart.svg.selectAll('.circle').remove();
    chart.svg.selectAll('#line-gradient').remove();

    lines = chart.svg.selectAll('.' + chart.config.type + '-container');

    //curves object
    var curves = {
        'Linear': d3.curveLinear,
        'Step': d3.curveStep,
        'Step Before': d3.curveStepBefore,
        'Step After': d3.curveStepAfter,
        'Basis': d3.curveBasis,
        'Cardinal': d3.curveCardinal,
        'Monotone X': d3.curveMonotoneX,
        'Catmull Rom': d3.curveCatmullRom
    };

    var valueline = {};
    var circles = {};
    var index = 0;
    var lineColors = [];
    var thresholding = false;
    for (var k in data) {
        //Create path generator for each series
        if (data.hasOwnProperty(k)) {
            if (data[k] === '') {
                data[k] = 'EMPTY_STRING';
            }

            valueline[k] = d3.line() //line drawing function
            .curve(curves[chart._vars.lineCurveType]).defined(function (d) {
                return !isNaN(d);
            }).x(function (d, i) {
                if (isNaN(d)) {
                    return;
                }
                return xTranslate(d, i);
            }).y(function (d, i) {
                if (isNaN(d)) {
                    return;
                }
                return yTranslate(d, i);
            });

            //Add lines to the chart.config.type + '-container'
            lines.append('g').attr('class', 'line ' + k).append('path') //draws the line
            .attr('stroke', function (d, i, j) {
                var colorObj = jvCharts.getColors(colors, i, k);
                lineColors.push(colorObj);
                return colorObj;
            }) //fills the bar with color
            .attr('stroke-width', '2').attr('fill', 'none').attr('d', function (d, i) {
                return valueline[k](data[k]);
            });

            //Color Thresholding for each tier
            if (chart._vars.thresholds != 'none' && chart._vars.colorChart != false) {
                if (chart._vars.colorLine) {
                    var thresholdPercents = [];
                    var thresholdLength = Object.keys(chart._vars.thresholds).length;
                    if (chart._vars.rotateAxis) {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < thresholdLength; z++) {
                            var pCent = chart._vars.thresholds[z].threshold * 100 / (xAxisData.max - xAxisData.min);
                            var temp = { percent: pCent, color: chart._vars.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    } else {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var _z = 0; _z < thresholdLength; _z++) {
                            var pCent = chart._vars.thresholds[_z].threshold * 100 / (yAxisData.max - yAxisData.min);
                            var temp = { percent: pCent, color: chart._vars.thresholds[_z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    }

                    var thresholdData = chart.setLineThresholdData(chart, thresholdPercents, lineColors[index]);

                    lines.selectAll('path').attr('class', 'line-threshold');

                    if (chart._vars.rotateAxis) {
                        chart.svg.append('linearGradient').attr('id', 'line-gradient').attr('gradientUnits', 'userSpaceOnUse').attr('x1', xTranslate(xAxisData.min)).attr('y1', 0).attr('x2', xTranslate(xAxisData.max)).attr('y2', 0).selectAll('stop').data(thresholdData).enter().append('stop').attr('offset', function (d) {
                            return d.offset;
                        }).attr('stop-color', function (d) {
                            return d.color;
                        });
                    } else {
                        chart.svg.append('linearGradient').attr('id', 'line-gradient').attr('gradientUnits', 'userSpaceOnUse').attr('x1', 0).attr('y1', yTranslate(yAxisData.min)).attr('x2', 0).attr('y2', yTranslate(yAxisData.max)).selectAll('stop').data(thresholdData).enter().append('stop').attr('offset', function (d) {
                            return d.offset;
                        }).attr('stop-color', function (d) {
                            return d.color;
                        });
                    }
                }
                thresholding = true;
            }

            //Add circles at joints in the lines
            circles[k] = lines.append('g').attr('class', 'circle ' + k).selectAll('circle').data(data[k]).enter().append('circle') //Circles for the joints in the line
            .attr('class', function (d, i) {
                return 'circle-' + chart.currentData.chartData[i][chart.currentData.dataTable.label] + ' highlight-class-' + i;
            }).attr('cx', function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).attr('cy', function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            }).attr('fill', function (d, i, j) {
                if (isNaN(d)) {
                    return null;
                } else if (thresholding == true) {
                    var length = Object.keys(chart._vars.thresholds).length - 1;
                    if (chart._vars.rotateAxis) {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart._vars.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    } else {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart._vars.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    }
                }

                return jvCharts.getColors(colors, i, k);
            }).attr('opacity', function (d, i, j) {
                if (isNaN(d)) {
                    return 0;
                }
                return 1;
            }).attr('r', 2.5);

            index++;
        }
    }

    //Return line groups
    return lines.selectAll('.circle');
}

function setLineThresholdData(chart, thresholds) {
    var data = [];
    var thresholdLength = thresholds.length;
    for (var k = 0; k < thresholdLength; k++) {
        var gradientOne = { offset: thresholds[k].percent + '%', color: thresholds[k].color };
        data.push(gradientOne);

        if (k + 1 < thresholdLength) {
            var gradientTwo = { offset: thresholds[k + 1].percent + '%', color: thresholds[k].color };
            data.push(gradientTwo);
        }

        if (k == thresholdLength - 1) {
            var last = { offset: '100%', color: thresholds[k].color };
            data.push(last);
        }
    }

    return data;
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],19:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.circlepack = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generatePack = generatePack;

/************************************************ Pack functions ******************************************************/

/**setPackChartData
 *  gets pack data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setPackLegendData(chart.data.dataTable);
    //define color object for chartData
    chart.data.color = chart.colors;
}

function getEventData() {
    return {};
}

/**setPackLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPackLegendData(dataTable) {
    var legendArray = [];
    var label = '';
    for (var key in dataTable) {
        if (dataTable.hasOwnProperty(key)) {
            if (key === 'value') {
                label = dataTable[key];
            } else {
                if (key !== 'tooltip 1') {
                    legendArray.push(dataTable[key]);
                }
            }
        }
    }
    legendArray.unshift(label);
    return legendArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var packMargins = {
        top: 30,
        right: 20,
        bottom: 15,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, packMargins);
    chart.generateVerticalLegend('generatePack');
    chart.generatePack(chart.currentData);
};

/** generatePack
 *
 * paints the pack on the chart
 * @params packData
 */
function generatePack() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        w = container.width,
        h = container.height,
        r = Math.min(h / 2, w / 3),
        margin = 20,
        diameter = r * 2;

    chart.children = chart.data.chartData;

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    var pack = d3.pack().size([container.width, container.height]).padding(2);

    pack(root.sum(function (d) {
        return d.hasOwnProperty('children') ? 0 : d.name;
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    svg.selectAll(".pack").remove();

    var vis = svg.append("g").attr("class", "pack").attr("transform", "translate(" + w / 2 + "," + r + ")");

    var circle = vis.selectAll("circle").data(root.descendants()).enter().append("circle").attr("class", function (d) {
        return d.parent ? d.children ? "node" : "node node--leaf" : "node node--root";
    }).style("fill", function (d) {
        d.color = color(d.depth);
        return d.children ? color(d.depth) : null;
    }).on("click", function (d) {
        if (focus !== d) {
            zoom(d), d3.event.stopPropagation();
        }
    }).on("mouseover", function (d, i) {
        //Get tip data
        // var tData = chart.data.tipData.get(d.data.name);
        // tData.name = d.data.name;
        // tData.color = d.color;
        var tipData = chart.setTipData(d, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
        chart.tip.d = d;
        chart.tip.i = i;
    }).on("mousemove", function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
    });

    // var text = vis.selectAll("text")
    //     .data(root.descendants())
    //     .enter().append("text")
    //     .attr("class", "label")
    //     .style("display", function(d) {
    //         return d.parent === root ? "inline" : "none";
    //     });

    var node = svg.selectAll("circle,text");

    d3.select("body").on("click", function () {
        zoom(root);
    });

    zoomTo([root.x, root.y, root.r * 2 + margin]);

    function zoom(d) {
        var focus = d;

        d3.transition().duration(d3.event.altKey ? 7500 : 750).tween("zoom", function (d) {
            var i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2 + margin]);
            return function (t) {
                zoomTo(i(t));
            };
        });

        // transition.selectAll("text")
        //     .filter(function(d) {
        //         return d.parent === focus || this.style.display === "inline";
        //     })
        //     .style("fill-opacity", function(d) {
        //         return d.parent === focus ? 1 : 0;
        //     })
        //     .style("display", function(d) {
        //         return d.parent === focus ? "inline" : "none";
        //     })
        //     .each("start", function(d) {
        //         if (d.parent === focus) {
        //            this.style.display = "inline";
        //         }
        //     })
        //     .each("end", function(d) {
        //         if (d.parent !== focus) {
        //           this.style.display = "none";
        //         }
        //     });
    }
    var view;
    function zoomTo(v) {
        var k = diameter / v[2];

        //set global zoom
        view = v;

        node.attr("transform", function (d) {
            if (d && d.x && d.y) {
                return "translate(" + (d.x - v[0]) * k + "," + (d.y - v[1]) * k + ")";
            }
        });

        circle.attr("r", function (d) {
            return d.r * k;
        });
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],20:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.pie = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generatePie = generatePie;

/************************************************ Pie Data functions ******************************************************/

/**setPieData
 *  gets pie data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setPieLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event) {
    var chart = this,
        ele = event.target.classList.value.split('pie-data-')[1];
    if (ele) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [ele.replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('pie-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**setPieLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPieLegendData(data) {
    var legendArray = [];
    for (var i = data.chartData.length - 1; i >= 0; i--) {
        legendArray.push(data.chartData[i][data.dataTable.label]);
    }
    return legendArray;
}

function paint() {
    var chart = this;
    var customMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };

    chart.currentData = chart.data;
    chart._vars.color = chart.data.color;
    chart.legendData = chart.data.legendData;
    chart.generateSVG(chart.data.legendData, customMargins);

    //If the container size is small, don't generate a legend
    if (chart.config.container.width > 550) {
        chart.generateVerticalLegend('generatePie');
    }

    chart.generatePie(chart.currentData);
}

/**generatePie
 *
 * creates and draws a pie chart on the svg element
 * @params svg, pieData, _vars, container
 * @returns {{}}
 */
function generatePie(currentData) {
    var chart = this,
        svg = chart.svg,
        pieData = currentData.chartData,
        container = chart.config.container,
        legendData = chart.currentData.legendData;

    //define variables to change attr's
    svg.select('g.pie-container').remove();

    var colors = chart._vars.color;

    var w = container.width;
    var h = container.height;
    var r = Math.min(h / 2, w / 3);

    var data = [];
    var total = 0;

    for (var i = 0; i < pieData.length; i++) {
        var obj = {};
        for (var _j in chart.data.dataTable) {
            obj[_j] = pieData[i][chart.data.dataTable[_j]];
        }
        data[i] = obj;
    }

    var pieDataNew = data; //copy of pie data


    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < pieDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === pieDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    //pieDataNew.splice(j,1);
                    pieDataNew[j].value = 0;
                }
            }
        }
    }

    for (var i = 0; i < pieDataNew.length; i++) {
        total += parseFloat(pieDataNew[i].value);
    }

    var vis = svg.append('g').data([pieDataNew]).attr('class', 'pie-container').attr('height', 200).attr('transform', 'translate(' + w / 2 + ',' + r + ')');

    var pie = d3.pie().value(function (d) {
        return d.value;
    });

    //declare an arc generator function
    var arc = d3.arc().innerRadius(0) //Normal pie chart when this = 0, can be changed to create donut chart
    .outerRadius(r);

    // var arcOver = d3.arc()
    //     .innerRadius(0)
    //     .outerRadius(r + 15);

    //select paths, use arc generator to draw
    var arcs = vis.selectAll('g.slice').data(pie).enter().append('g').attr('class', 'slice');

    arcs.append('path').attr('fill', function (d, i) {
        return jvCharts.getColors(colors, i, d.data.label);
    }).attr('d', function (d) {
        return arc(d);
    }).attr('class', function (d, i) {
        var label = d.data.label.replace(/\s/g, '_').replace(/\./g, '_dot_');
        return 'editable editable-pie pie-slice-' + i + ' highlight-class-' + i + ' pie-data-' + label;
    }).attr('stroke', chart._vars.pieBorder).attr('stroke-width', chart._vars.pieBorderWidth).on('mouseover', function (d, i, j) {
        if (chart.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            // Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    });

    arcs.append('svg:text').attr('class', 'sliceLabel').attr('transform', function (d) {
        var test = arc.centroid(d);
        test[0] = test[0] * 1.6;
        test[1] = test[1] * 1.6;
        return 'translate(' + test + ')';
    }).attr('dy', '.35em').attr('text-anchor', 'middle').text(function (d, i) {
        var percent = pieDataNew[i].value / total * 100;
        percent = d3.format('.1f')(percent);
        if (percent > 5) {
            return percent + '%';
        }
    }).attr('font-size', chart._vars.fontSize).attr('fill', chart._vars.pieTextColor).attr('pointer-events', 'none');
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],21:[function(require,module,exports){
'use strict';

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.radial = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateRadial = generateRadial;

/************************************************ Radial Data functions ******************************************************/
/**setRadialChartData
 *  gets bar data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setRadialLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var radialMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, radialMargins);
    chart.generateVerticalLegend('generateRadial');
    chart.generateRadial();
}

function getEventData(event) {
    var chart = this,
        ele = event.target.classList.value.split('radial-data-')[1];
    if (ele) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [ele.replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (event.target.classList.value.indexOf('radial-container') > -1) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**setRadialLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setRadialLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.length; i++) {
        if (legendArray.indexOf(data.chartData[i][data.dataTable.label]) == -1) {
            legendArray.push(data.chartData[i][data.dataTable.label]);
        }
    }
    return legendArray;
}

/**generateRadial
 *
 * paints the radil bar chart on the chart
 * @params radialData
 */

function generateRadial() {
    var chart = this,
        svg = chart.svg,
        colors = chart._vars.color,
        container = chart.config.container,
        legendData = chart.data.legendData,
        radialData = chart.data.chartData,
        tickNumber = 3,
        barHeight = container.height / 2 - 40,
        width = container.width,
        height = container.height,
        r = Math.min(height / 2, width / 3),
        data = [],
        allKeys = [chart.data.dataTable.label, chart.data.dataTable.value],
        radialDataNew,
        dataHeaders,
        legendElementToggleArray = [],
        radialDataFiltered;

    for (var i = 0; i < radialData.length; i++) {
        var obj = {};
        for (var _j in chart.data.dataTable) {
            obj[_j] = radialData[i][chart.data.dataTable[_j]];
        }
        data[i] = obj;
        //total += parseFloat(pieData[i][keys[1]]);
    }

    radialDataNew = JSON.parse(JSON.stringify(data)); //copy of pie data


    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    dataHeaders = chart._vars.legendHeaders;
    legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    radialDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < radialDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === radialDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    radialDataNew[j].value = -1;
                }
            }
        }
    }

    for (var j = 0; j < radialDataNew.length; j++) {
        if (radialDataNew[j].value !== -1) {
            radialDataFiltered.push(radialDataNew[j]);
        }
    }

    //Remove existing bars from page
    svg.selectAll('g.radial-container').remove();

    var vis = svg.append('g').attr('class', 'radial-container').attr('height', height).attr('transform', 'translate(' + width / 2 + ',' + r + ')');

    var extent = d3.extent(radialDataFiltered, function (d) {
        return d.value;
    });

    //commas and 0 decimals
    var formatNumber = d3.format(',.0f');
    if (extent[1] >= 1000000) {
        //millions
        var p = d3.precisionPrefix(1e5, 1.3e6);
        formatNumber = d3.formatPrefix('.' + p, 1.3e6);
    } else if (extent[1] <= 100) {
        //2 decimals
        formatNumber = d3.format(',.2f');
    }

    if (extent[0] !== 0) {
        extent[0] = 0;
    }
    var barScale = d3.scaleLinear().domain(extent).range([0, barHeight]);

    var keys = radialDataFiltered.map(function (d, i) {
        return d.label;
    });
    var numBars = keys.length;

    var x = d3.scaleLinear().domain(extent).range([0, -barHeight]);

    //create xAxis drawing function
    var xAxis = d3.axisLeft().scale(x).ticks(tickNumber).tickFormat(formatNumber);

    vis.selectAll('circle').data(x.ticks(3)).enter().append('circle').attr('r', function (d) {
        return barScale(d);
    }).style('fill', 'none').style('stroke', 'black').style('stroke-dasharray', '2,2').style('stroke-width', '.5px');

    var arc = d3.arc().startAngle(function (d, i) {
        return i * 2 * Math.PI / numBars;
    }).endAngle(function (d, i) {
        return (i + 1) * 2 * Math.PI / numBars;
    }).innerRadius(0);

    var segments = vis.selectAll('path').data(radialDataFiltered).enter().append('g')
    //.attr("class", "label")
    .append('path').attr('class', function (d) {
        var label = d.label.replace(/\s/g, '_').replace(/\./g, '_dot_');
        return 'radial-data-' + label;
    }).each(function (d) {
        d.outerRadius = 0;
    }).style('fill', function (d, i) {
        return jvCharts.getColors(colors, i, d.label);
    }).attr('d', arc).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            //chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    segments.transition().duration(800).ease(d3.easeElastic).delay(function (d, i) {
        return 750 - 50 * i;
    }).attrTween('d', function (d, index) {
        var i = d3.interpolate(d.outerRadius, barScale(+d.value));
        return function (t) {
            d.outerRadius = i(t);
            return arc(d, index);
        };
    });

    vis.append('circle').attr('r', barHeight).classed('outer', true).style('fill', 'none').style('stroke', 'black').style('stroke-width', '1.5px');

    vis.selectAll('line').data(keys).enter().append('g').attr('class', 'label').append('line').attr('y2', -barHeight - 20).style('stroke', 'black').style('stroke-width', '.5px').attr('transform', function (d, i) {
        return 'rotate(' + i * 360 / numBars + ')';
    });

    var axisGroup = vis.append('g').attr('class', 'xAxis').style('pointer-events', 'none').call(xAxis);
    var yAxisClass = 'yAxisLabels editable editable-yAxis editable-text editable-num';

    axisGroup.selectAll('text').attr('fill', 'black') //Customize the color of axis labels
    .attr('class', yAxisClass).attr('transform', function (d) {
        if (d === xAxis.scale().ticks(tickNumber)[tickNumber]) {
            return 'translate(0, 10)';
        }
        return 'translate(0,0)';
    }).attr('font-size', chart._vars.fontSize).append('svg:title');
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],22:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sankey = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateSankey = generateSankey;

/************************************************ Sankey functions ******************************************************/
/**
 *
 * @param data
 * @param dataTable
 * @param colors
 */
function setData() {
    var chart = this;
    var sankeyData = {},
        data = chart.data.chartData,
        dataTable = chart.data.dataTable;

    sankeyData.links = [];
    sankeyData.nodes = [];

    //Iterate through sources and targets to make a node list
    var nodeList = [];
    var nodeGroup = 1;
    for (var item in dataTable) {
        var nodeListForLabel = [];
        if (item === 'value') {
            continue;
        };
        for (var i = 0; i < data.length; i++) {
            var potentialNode = data[i][dataTable[item]] + "-" + nodeGroup;
            var addToList = true;
            for (var j = 0; j < nodeListForLabel.length; j++) {
                if (potentialNode === nodeListForLabel[j]) {
                    addToList = false;
                    break;
                }
            }
            if (addToList) {
                nodeListForLabel.push(potentialNode);
            }
        }
        nodeGroup++;
        nodeList = nodeList.concat(nodeListForLabel);
    }
    //Create nodes object
    for (var i = 0; i < nodeList.length; i++) {
        sankeyData.nodes.push({
            'name': nodeList[i]
        });
    }

    //See how many sets of links you need
    var linkGroups = 0;

    for (var _item in dataTable) {
        if (_item.indexOf('label') !== -1) {
            linkGroups++;
        }
    }

    var _loop = function _loop(_i) {
        linkGroup = [];

        linkGroup = data.map(function (x) {

            var label1 = "label " + _i;
            var label2 = "label " + (_i + 1);
            var source = dataTable[label1];
            var target = dataTable[label2];
            var value = dataTable.value;

            return {
                'source': x[source] + "-" + _i,
                'target': x[target] + "-" + (_i + 1),
                'value': x[value]
            };
        });

        sankeyData.links = sankeyData.links.concat(linkGroup);
    };

    for (var _i = 1; _i < linkGroups; _i++) {
        var linkGroup;

        _loop(_i);
    }

    var nodeMap = {};
    for (i = 0; i < sankeyData.nodes.length; i++) {
        sankeyData.nodes[i].node = i;
        nodeMap[sankeyData.nodes[i].name] = i;
    }
    sankeyData.links = sankeyData.links.map(function (x) {
        return {
            source: nodeMap[x.source],
            target: nodeMap[x.target],
            value: x.value
        };
    });

    //Group common sankey links together and add the values
    var aggregateSankeyLinks = [];
    for (var _i2 = 0; _i2 < sankeyData.links.length; _i2++) {
        var currentLink = {};
        currentLink.source = sankeyData.links[_i2].source;
        currentLink.target = sankeyData.links[_i2].target;
        currentLink.value = sankeyData.links[_i2].value;

        //Make sure that only unique links are pushed to the aggregated array
        var addToAggregate = true;
        for (var k = 0; k < aggregateSankeyLinks.length; k++) {
            if (aggregateSankeyLinks[k].source === currentLink.source && aggregateSankeyLinks[k].target === currentLink.target) {
                addToAggregate = false;
                break;
            }
        }

        if (!addToAggregate) {
            continue;
        }

        //Sum the value of identical links
        for (var _j = 0; _j < sankeyData.links.length; _j++) {
            if (sankeyData.links[_i2].source === sankeyData.links[_j].source && sankeyData.links[_i2].target === sankeyData.links[_j].target) {
                currentLink.value = currentLink.value + sankeyData.links[_j].value;
            }
        }

        aggregateSankeyLinks.push(currentLink);
    }

    sankeyData.links = aggregateSankeyLinks;

    chart.data.chartData = sankeyData;
    chart.data.color = d3.scaleOrdinal(d3.schemeCategory20);
}

function paint() {
    var chart = this;
    var data = chart.data.chartData;

    //generate SVG
    chart.generateSVG(null);
    chart.generateSankey(data);
}

function getEventData() {
    return {};
}

/**
 * Generates a sankey chart with the given data
 * @param sankeyData
 */
function generateSankey(sankeyData) {
    var chart = this,
        svg = chart.svg,
        color = chart._vars.color;

    var width = chart.config.container.width;
    var height = chart.config.container.height;

    var formatNumber = d3.format(',.0f'),
        // zero decimal places
    format = function format(d) {
        return formatNumber(d) + ' ' + 'Widgets';
    },
        color = d3.scaleOrdinal(d3.schemeCategory20);

    var sankey = d3.sankey().nodeWidth(10).nodePadding(15).size([width, height]);

    var path = sankey.link();

    // //Adding zoom v4 behavior to sankey
    d3.selectAll('svg').call(d3.zoom().scaleExtent([.1, 10]).on('zoom', zoom)); //zoom event listener

    sankey.nodes(sankeyData.nodes).links(sankeyData.links).layout(32);

    var link = svg.append('g').selectAll('.sankey-link').data(sankeyData.links).enter().append('path').filter(function (d) {
        return d.value > 0;
    }).attr('class', 'sankey-link').attr('d', path).style('stroke-width', function (d) {
        return Math.max(1, d.dy);
    }).sort(function (a, b) {
        return b.dy - a.dy;
    }).on('mouseover', function (d, i) {
        if (chart.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function (d, i) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var node = svg.append('g').selectAll('.node').data(sankeyData.nodes).enter().append('g').filter(function (d) {
        return d.value > 0;
    }).attr('class', 'node').attr('transform', function (d) {
        return 'translate(' + d.x + ', ' + d.y + ')';
    }).call(d3.drag().subject(function (d) {
        return d;
    }).on('start', function (d) {
        d3.event.sourceEvent.stopPropagation();
        this.parentNode.appendChild(this);
    }).on('drag', dragmove));

    node.append('rect').attr('height', function (d) {
        //return d.dy;
        return Math.abs(d.dy);
        //return Math.max(d.dy, 2);
    }).attr('width', sankey.nodeWidth()).style('fill', function (d) {
        return d.color = color(d.name);
    }).style('stroke', function (d) {
        return d3.rgb(d.color).darker(2);
    });

    node.append('text').attr('x', -6).attr('y', function (d) {
        return d.dy / 2;
    }).attr('dy', '.35em').attr('text-anchor', 'end').attr('transform', null).attr('transform', null).text(function (d) {
        //Remove the the nodeGroup tag and hyphen from the end of the label
        return d.name.slice(0, -2);
    }).filter(function (d) {
        return d.x < width / 2;
    }).attr('x', 6 + sankey.nodeWidth()).attr('text-anchor', 'start');

    function dragmove(d) {
        d3.select(this).attr('transform', 'translate(' + (d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))) + ',' + (d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))) + ')');
        sankey.relayout();
        link.attr('d', path);
    }

    function zoom() {
        //Implementing the v4 zooming feature
        svg.attr('transform', d3.event.transform);
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],23:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.scatterplot = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateScatter = generateScatter;
jvCharts.prototype.createLineGuide = createLineGuide;

/************************************************ Scatter functions ******************************************************/

/**setScatterData
 *  gets scatter data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setScatterLegendData(chart.data);
    chart.data.xAxisData = setScatterAxisData(chart.data, 'x', chart._vars);
    chart.data.yAxisData = setScatterAxisData(chart.data, 'y', chart._vars);
    chart.data.zAxisData = chart.data.dataTable.hasOwnProperty('z') ? setScatterAxisData(chart.data, 'z', chart._vars) : {};
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData(event, mouse) {
    var chart = this,
        ele = event.target.__data__;

    //determine if the click event happens inside the container
    var brushContainer = chart.chartDiv.select('.' + chart.config.type + '-container').node(),
        containerBox = brushContainer.getBoundingClientRect(),
        x = mouse[0],
        y = mouse[1],
        insideContainer = false;

    if (x < containerBox.right && y < containerBox.bottom && x > containerBox.left && y > containerBox.top) {
        insideContainer = true;
    }

    if (insideContainer && ele) {
        return {
            data: _defineProperty({}, chart.currentData.dataTable.label, [ele[chart.currentData.dataTable.label].replace(/_/g, ' ').replace(/_dot_/g, '.')]),
            node: event.target
        };
    } else if (insideContainer) {
        return {
            data: {}
        };
    }
    return {
        data: false
    };
}

/**setScatterLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setScatterLegendData(data) {
    var legendArray = [];
    if (data.dataTable.hasOwnProperty('series')) {
        var item = data.dataTable.series;
        for (var value in data.chartData) {
            var legendElement = data.chartData[value][item];
            if (legendArray.indexOf(legendElement) === -1) {
                legendArray.push(legendElement);
            }
        }
    } else if (data.dataTable.hasOwnProperty('label')) {
        legendArray.push(data.dataTable.label);
    }
    if (typeof legendArray[0] === 'undefined') {
        legendArray = [];
        legendArray.push(data.dataTable.label);
    }
    //order legend data in alphabetical order
    legendArray.sort();
    return legendArray;
}

/**setScatterAxisData
 *  gets z axis data based on the chartData
 *
 * @params data, dataTable
 * @returns object with label and values
 */
function setScatterAxisData(data, axis, _vars) {
    //declare vars
    var axisData = [],
        chartData = data.chartData,
        scatterLabel = data.dataTable[axis],
        min = scatterLabel ? chartData[0][scatterLabel] : 0,
        max = scatterLabel ? chartData[0][scatterLabel] : 0,
        dataType;

    for (var j = 0; j < data.dataTableKeys.length; j++) {
        if (data.dataTableKeys[j].vizType === axis) {
            dataType = data.dataTableKeys[j].type;
            break;
        }
    }
    //loop over data to find max and min
    //also determines the y axis total if the data is stacked
    for (var i = 1; i < chartData.length; i++) {
        if (chartData[i].hasOwnProperty(scatterLabel)) {
            var num = chartData[i][scatterLabel];
            if (!isNaN(num)) {
                num = parseFloat(num);
                if (num > max) {
                    max = num;
                } else if (num < min) {
                    min = num;
                }
            }
        }
    }
    if (axis !== 'z') {
        min *= 0.9;
        max *= 1.1;
    }

    if (_vars.yMin && !isNaN(_vars.yMin) && axis === 'y') {
        min = _vars.yMin;
    }
    if (_vars.yMax && !isNaN(_vars.yMax) && axis === 'y') {
        max = _vars.yMax;
    }
    if (_vars.xMin && !isNaN(_vars.xMin) && axis === 'x') {
        min = _vars.xMin;
    }
    if (_vars.xMax && !isNaN(_vars.xMax) && axis === 'x') {
        max = _vars.xMax;
    }

    axisData.push(min);
    axisData.push(max);
    return {
        'label': scatterLabel,
        'values': axisData,
        'dataType': 'NUMBER',
        'min': min,
        'max': max
    };
}

function paint() {
    var chart = this;
    var dataObj = {};

    dataObj.chartData = chart.data.chartData;
    dataObj.legendData = chart.data.legendData;
    dataObj.dataTable = chart.data.dataTable;
    chart._vars.color = chart.data.color;
    dataObj.xAxisData = chart.data.xAxisData;
    dataObj.yAxisData = chart.data.yAxisData;
    dataObj.zAxisData = chart.data.zAxisData;
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);

    //TODO remove these from draw object
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateScatter');

    chart.generateScatter();
    chart.createLineGuide();

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

function calculateMean(data, type) {
    return d3.mean(data, function (value) {
        return +value[type];
    });
}

function createLineGuide() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        chartData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData;

    var xLineVal = calculateMean(chartData, dataTable.x);
    var yLineVal = calculateMean(chartData, dataTable.y);

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    svg.selectAll('g.lineguide.x').remove();
    svg.selectAll('g.lineguide.y').remove();

    var lineGroup = svg.append('g').attr('class', 'line-group scatterplot-container');

    //x line group for crosshair
    var lineGuideX = lineGroup.append('g').attr('class', 'lineguide x').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (chart._vars.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //y line group for crosshair
    var lineGuideY = lineGroup.append('g').attr('class', 'lineguide y').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (chart._vars.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //create crosshair based on median x (up/down) 'potentially' passed with data
    lineGuideX.attr('x1', x(xLineVal)).attr('y1', 0).attr('x2', x(xLineVal)).attr('y2', container.height);

    //create crosshair based on median y (left/right) 'potentially' passed with data
    lineGuideY.attr('x1', 0).attr('y1', y(yLineVal)).attr('x2', container.width).attr('y2', y(yLineVal));

    return lineGroup;
}
/**generateScatter
 *
 * creates and draws a scatter plot on the svg element
 * @params svg, scatterData, _vars, xAxisData, yAxisData, zAxisData, container, dataTable legendData
 * @returns {{}}
 */
function generateScatter() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        scatterData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        zAxisData = chart.currentData.zAxisData,
        legendData = chart.currentData.legendData,
        colors = chart._vars.color,
        scatterDataNew = JSON.parse(JSON.stringify(scatterData));

    if (!chart._vars.NODE_MIN_SIZE) {
        chart._vars.NODE_MIN_SIZE = 4.5;
    }
    if (!chart._vars.NODE_MAX_SIZE) {
        chart._vars.NODE_MAX_SIZE = 25;
    }

    //set clip path rectangle
    svg.append('clipPath').attr('id', 'scatter-area').append('rect').attr('x', 1).attr('width', container.width - 1).attr('height', container.height).attr('fill', chart._vars.backgroundColor);

    svg.selectAll('g.scatterplot-container').remove();
    svg.selectAll('g.scatterplot-container.editable-scatter').remove();

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;
    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    var scatterDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < scatterDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (typeof scatterDataNew[j][dataTable.label] === 'undefined' || scatterDataNew[j][dataTable.label] === '') {
                    if (legendElementToggleArray[i].toggle === false) {
                        scatterDataNew[j][dataTable.x] = -1;
                        scatterDataNew[j][dataTable.y] = -1;
                        scatterDataNew[j][dataTable.z] = -1;
                    }
                } else if (legendElementToggleArray[i].element === scatterDataNew[j][dataTable.series] && legendElementToggleArray[i].toggle === false) {
                    scatterDataNew[j][dataTable.x] = -1;
                    scatterDataNew[j][dataTable.y] = -1;
                    scatterDataNew[j][dataTable.z] = -1;
                }
            }
        }
    }

    for (var j = 0; j < scatterDataNew.length; j++) {
        if (scatterDataNew[j][dataTable.x] !== -1 && scatterDataNew[j][dataTable.y] !== -1) {
            scatterDataFiltered.push(scatterDataNew[j]);
        }
    }

    var x = jvCharts.getAxisScale('x', xAxisData, container, chart._vars);
    var y = jvCharts.getAxisScale('y', yAxisData, container, chart._vars);

    if (zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0) {
        console.log(zAxisData);
        var z = jvCharts.getZScale(zAxisData, container, chart._vars);
    }

    var cxTranslate, cyTranslate;

    cxTranslate = function cxTranslate(d, i) {
        return x(scatterDataFiltered[i][xAxisData.label]);
    };
    cyTranslate = function cyTranslate(d, i) {
        return y(scatterDataFiltered[i][yAxisData.label]);
    };

    var scatters = svg.append('g').attr('class', 'scatterplot-circles').selectAll('g');
    var tempMouseOver;
    scatters.data(function () {
        return scatterDataFiltered;
    }).enter().append('circle').attr('clip-path', 'url(#scatter-area)').attr('class', function (d, i) {
        return 'editable editable-scatter scatter-circle-' + i + ' highlight-class';
    }).attr('cx', function (d, i) {
        return cxTranslate(d, i);
    }).attr('cy', function (d, i) {
        return cyTranslate(d, i);
    })
    // .attr("clip-path", "url(.line-group)")
    .attr("opacity", 0.8).attr('r', function (d, i) {
        if (dataTable.hasOwnProperty('z')) {
            if (chart._vars.toggleZ && zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0 && scatterDataFiltered[i][dataTable.z]) {
                return z(scatterDataFiltered[i][dataTable.z]);
            }
        }
        return chart._vars.NODE_MIN_SIZE;
    }).on('mouseover', function (d, i, j) {
        if (chart.showToolTip) {
            this.setAttribute('clip-path', '');
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('mouseout', function () {
        if (chart.showToolTip) {
            this.setAttribute('clip-path', 'url(#scatter-area)');
            chart.tip.hideTip();
        }
    }).attr('fill', function (d, i) {
        var color;
        if (dataTable.hasOwnProperty('series')) {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.series]);
        } else {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.label]);
        }
        return color;
    });
    return scatters;
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],24:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.singleaxis = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.getSingleAxisData = getSingleAxisData;
jvCharts.prototype.getSingleAxisZ = getSingleAxisZ;
jvCharts.prototype.generatePoints = generatePoints;

/************************************************ Single Axis Cluster functions ******************************************************/

function setData() {
    var chart = this;
    chart.currentData = { chartData: chart.data.chartData, dataTable: chart.data.dataTable };

    //Set the legend Data to the label from dataTable Keys
    chart.currentData.legendData = [chart.currentData.dataTable.x];
    chart.currentData.xAxisData = chart.getSingleAxisData(chart.currentData.chartData, chart.currentData.dataTable);

    if (chart.currentData.dataTable.hasOwnProperty('size')) {
        chart.currentData.zAxisData = chart.getSingleAxisZ(chart.currentData.chartData);
    }

    chart.currentData.color = 'red'; //chart.setChartColors (chart._vars.color, chart.data.legendData, colors);
}

function getEventData() {
    return {};
}

function paint() {
    var chart = this;
    var splitData = {},
        //If there is a split, the data that has been split
    numVizzes,
        //If there is a split, the number of single axis clusters that are created
    customSize = {},
        //If there is a split, the svg needs to be a custom predefined height
    margin = {
        top: 40,
        left: 100,
        right: 75,
        bottom: 50
    };

    //If there is a split on the viz, run through this logic
    if (chart._vars.splitData != "" && chart._vars.splitData != "none") {
        //Check to see how many vizzes need to be created because of the split
        var splitDataKeys = [];
        var splitOptionName = chart._vars.splitData.replace(/_/g, " ");

        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            var addToKeys = true;
            for (var j = 0; j < splitDataKeys.length; j++) {
                if (chart.currentData.chartData[i][splitOptionName] === splitDataKeys[j]) {
                    addToKeys = false;
                    break;
                }
            }
            if (addToKeys) {
                splitDataKeys.push(chart.currentData.chartData[i][splitOptionName]);
            }
        }

        //Create Object with keys and assign each element of the data array to corresponding object
        for (var i = 0; i < splitDataKeys.length; i++) {
            splitData[splitDataKeys[i]] = []; //Assign empty array to each location
        }

        //Assign Data elements to appropriate place in splitData object
        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            splitData[chart.currentData.chartData[i][splitOptionName]].push(chart.currentData.chartData[i]);
        }

        numVizzes = splitDataKeys.length;

        customSize.height = numVizzes * 300;

        chart.generateSVG(chart.currentData.legendData, margin, customSize);
        chart.generateXAxis(chart.currentData.xAxisData);
        chart.drawGridlines(chart.currentData.xAxisData);

        for (var i = 0; i < numVizzes; i++) {
            chart.generatePoints(splitData[splitDataKeys[i]], i);
        }
    }
    //When there isn't a split, the base case
    else {
            chart.generateSVG(chart.currentData.legendData, margin, customSize);
            chart.generateXAxis(chart.currentData.xAxisData);
            chart.drawGridlines(chart.currentData.xAxisData);
            chart.generatePoints(chart.currentData.chartData);
        }

    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function getSingleAxisZ(data) {
    var chart = this,
        size = chart.currentData.dataTable.size,
        min = data[0][size],
        max = data[0][size];
    //Find min and max of the data
    for (var i = 0; i < data.length; i++) {
        var num = data[i][size];
        if (num > max) {
            max = num;
        } else if (num < min) {
            min = num;
        }
    }

    return {
        'min': min,
        'max': max,
        'label': size
    };
}

function generatePoints(data, yLevel) {
    var chart = this,
        svg = chart.svg,
        width = chart.config.container.width,
        height = chart.config.container.height,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        zAxisData = chart.currentData.zAxisData,
        container = chart.config.container,
        pointColor = "#609cdb",
        coloredPoint = "#e88a17";

    var x = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart._vars);

    var SPLIT_CLUSTER_HEIGHT = 300;
    var TRANSLATE_SPLIT_CLUSTER = 150;

    //If there's a split, account for the multiple axes
    var currentAxisHeight;
    if (yLevel != null) {
        currentAxisHeight = yLevel * SPLIT_CLUSTER_HEIGHT + TRANSLATE_SPLIT_CLUSTER; //Each height is 100px
    } else {
        currentAxisHeight = height / 2;
    }

    if (!chart._vars.NODE_MIN_SIZE) {
        chart._vars.NODE_MIN_SIZE = 4.5;
    }
    if (!chart._vars.NODE_MAX_SIZE) {
        chart._vars.NODE_MAX_SIZE = 25;
    }

    //Add a path line through the height of the axis
    if (yLevel != null) {
        svg.append("line").attr("x1", 0).attr("x2", container.width).attr("y1", currentAxisHeight).attr("y2", currentAxisHeight).attr("stroke", "white").attr("stroke-width", "20px").attr("transform", "translate(0, " + TRANSLATE_SPLIT_CLUSTER + ")");

        svg.append("text").datum(data).attr("x", 0).attr("y", currentAxisHeight).text(function (d, i) {
            return d[0][chart._vars.splitData.replace(/_/g, ' ')];
        }).attr("transform", "translate(-85, 0)");
    }

    var simulation = d3.forceSimulation(data).alphaDecay(.05).force("x", d3.forceX(function (d) {
        return x(d[dataTable.x]);
    }).strength(1)).force("y", d3.forceY(currentAxisHeight)).force("collide", d3.forceCollide(function (d, i) {
        //Set collision radius equal to the radius of the circle
        if (dataTable.hasOwnProperty('size')) {
            var norm = (d[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            var val = (chart._vars.NODE_MAX_SIZE - chart._vars.NODE_MIN_SIZE) * norm + chart._vars.NODE_MIN_SIZE;
        } else {
            var val = chart._vars.NODE_MIN_SIZE;
        }
        return val;
    }).strength(1)).force("charge", d3.forceManyBody().strength(-6)).stop();
    //

    //On Draw Move Points
    function moveTowardDataPosition(alpha) {
        return function (d) {
            d.x += (x(d.x) - d.x) * .1 * alpha;
            d.y += (y(d.y) - d.y) * .05 * alpha;
        };
    }

    for (var i = 0; i < 120; ++i) {
        simulation.tick();
    }var cell = svg.append("g").attr("class", "cells").selectAll("g").data(d3.voronoi().extent([[0, 0], [width, height]]).x(function (d) {
        return d.x;
    }).y(function (d) {
        return d.y;
    }).polygons(data)).enter().append("g").attr("class", "singleaxis-container");

    cell.append("circle").attr("r", function (d, i, j) {
        if (dataTable.hasOwnProperty('size') && d != null && d.hasOwnProperty('data')) {
            var norm = (d.data[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            if (!isNaN(norm)) {
                var val = (chart._vars.NODE_MAX_SIZE - chart._vars.NODE_MIN_SIZE) * norm + chart._vars.NODE_MIN_SIZE;
            } else {
                //If there is only 1 node on the chart
                var val = chart._vars.NODE_MIN_SIZE;
            }
        } else if (d == null) {
            var val = 0; //Don't display undefined nodes
        } else {
            var val = chart._vars.NODE_MIN_SIZE; //Default node size of 15
        }
        //val = 3;
        return val;
    }).attr("cx", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.x;
        }
    }).attr("cy", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.y;
        }
    }).attr("fill", function (d) {
        if (d != null && d.data[chart._vars.colorDataCategory] === chart._vars.colorDataInstance) {
            return coloredPoint;
        } else {
            return pointColor;
        }
    }).attr("opacity", .8).attr("stroke", "black").attr("stroke-width", 1).on('mouseover', function (d, i, j) {
        if (chart.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, dataTable);
            d3.select(this).attr("fill", chart._vars.singleAxisFillHoverColor);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on("mouseout", function (d, i) {
        if (chart.showToolTip) {
            chart.tip.hideTip();
        }
        d3.select(this).attr("fill", function (d) {
            if (d != null && d.data[chart._vars.colorDataCategory] === chart._vars.colorDataInstance) {
                return coloredPoint;
            } else {
                return pointColor;
            }
        });
    });
}

function getSingleAxisData(data, dataTable) {
    var chart = this;
    var label,
        dataType,
        min,
        max,
        values = [];

    if (dataTable) {
        if (dataTable.hasOwnProperty('x')) {
            label = dataTable.x;
        }
    }

    dataType = 'NUMBER';

    for (var i = 0; i < data.length; i++) {
        values.push(data[i][dataTable.x]);
    }

    min = Math.min.apply(null, values);
    max = Math.max.apply(null, values);

    //Add a 10% buffer to both sides
    min = Math.floor(min - (max - min) * .10);
    max = Math.ceil(max + (max - min) * .10);

    //For axis min/max widget
    if (chart._vars.hasOwnProperty('xMin') && chart._vars.xMin != 'none') {
        min = chart.options.xMin;
    }
    if (chart._vars.hasOwnProperty('xMax') && chart._vars.xMax != 'none') {
        max = chart._vars.xMax;
    }

    return {
        'label': label,
        'values': values,
        'dataType': dataType,
        'min': min,
        'max': max
    };
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],25:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sunburst = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateSunburst = generateSunburst;

/************************************************ Sunburst functions ******************************************************/

/**setSunburstChartData
 *  gets sunburst data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.color = chart.colors;
}

function getEventData() {
    return {};
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var sunburstMargins = {
        top: 15,
        right: 15,
        bottom: 15,
        left: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, sunburstMargins);
    //chart.generateLegend(chart.currentData.legendData, 'generateSunburst');
    chart.generateSunburst(chart.currentData);
}

/**generateSunburst
 *
 * paints the sunburst on the chart
 * @params sunburstData
 */
function generateSunburst(sunburstData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        width = container.width,
        height = container.height,
        radius = Math.min(width, height) / 2 - 10;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    var formatNumber = d3.format(',d');

    var x = d3.scaleLinear().range([0, 2 * Math.PI]);

    var y = d3.scaleSqrt().range([0, radius]);

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 1;return c;
    }));

    //var color = d3.scaleOrdinal(d3.schemeCategory10);

    var partition = d3.partition();

    var arc = d3.arc().startAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x0)));
    }).endAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x1)));
    }).innerRadius(function (d) {
        return Math.max(0, y(d.y0));
    }).outerRadius(function (d) {
        return Math.max(0, y(d.y1));
    });

    //assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    root.sum(function (d) {
        return d.value;
    });

    var vis = svg.append('g').attr('class', 'sunburst').attr('width', width).attr('height', height).attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')');

    vis.selectAll('path').data(partition(root).descendants()).enter().append('g').attr('class', 'node');

    var path = vis.selectAll('.node').append('path').attr('d', arc).style('fill', function (d) {
        if (d.data.name === 'root') {
            d.color = chart._vars.backgroundColor;
            return chart._vars.backgroundColor;
        }
        d.color = color(d.data.name);
        return color(d.data.name);
    }).on('mouseover', function (d, i, j) {
        if (chart.showToolTip) {
            // var tData = chart.data.tipData.get(d.data.name);
            // tData.name = d.data.name;
            // tData.color = d.color;
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on('click', click).on('mouseout', function (d) {
        chart.tip.hideTip();
    });

    if (chart._vars.displayValues) {
        var text = vis.selectAll('.node').append('text').attr('transform', function (d) {
            return 'rotate(' + computeTextRotation(d) + ')';
        }).attr('x', function (d) {
            return y(d.y0);
        }).attr('dx', '6') //margin
        .attr('dy', '.35em') //vertical-align
        .text(function (d) {
            return d.data.name === 'root' ? '' : d.data.name;
        });
    }

    function click(d) {
        //fade out all text elements
        if (chart._vars.displayValues) {
            text.transition().attr('opacity', 0);
        }

        vis.transition().duration(750).tween('scale', function () {
            var xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
                yd = d3.interpolate(y.domain(), [d.y0, 1]),
                yr = d3.interpolate(y.range(), [d.y0 ? 20 : 0, radius]);

            return function (t) {
                x.domain(xd(t));y.domain(yd(t)).range(yr(t));
            };
        }).selectAll('path').attrTween('d', function (d) {
            return function () {
                return arc(d);
            };
        }).on('end', function (e, i) {
            if (chart._vars.displayValues) {
                //check if the animated element's data e lies within the visible angle span given in d
                if (e.x0 > d.x0 && e.x0 < d.x1) {
                    //get a selection of the associated text element
                    var arcText = d3.select(this.parentNode).select('text');
                    //fade in the text element and recalculate positions
                    arcText.transition().duration(750).attr('opacity', 1).attr('class', 'visible').attr('transform', function () {
                        return 'rotate(' + computeTextRotation(e) + ')';
                    }).attr('x', function (d) {
                        return y(d.y0);
                    }).text(function (d) {
                        return d.data.name === 'root' ? '' : d.data.name;
                    });
                }
            }
        });
    }

    function computeTextRotation(d) {
        return (x((d.x0 + d.x1) / 2) - Math.PI / 2) / Math.PI * 180;
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":4}],26:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.treemap = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateTreeMap = generateTreeMap;
/************************************************ TreeMap functions ******************************************************/

/**setTreeMapData
 *  gets treemap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    chart.data.legendData = setTreeMapLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart._vars.color, chart.data.legendData, chart.colors);
}

function getEventData() {
    return {};
}

/**setTreeMapLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setTreeMapLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint() {
    var chart = this;
    chart._vars.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var treeMapMargins = {
        top: 45,
        right: 50,
        left: 50,
        bottom: 130
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, treeMapMargins);
    chart.generateLegend(chart.currentData.legendData, 'generateTreeMap');
    chart.generateTreeMap(chart.currentData);
};

/** generateTreeMap
 *
 * paints the treemap on the chart
 * @params treeMapData
 */
function generateTreeMap(treeMapData) {

    var chart = this,
        svg = chart.svg,
        colors = treeMapData.color,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        treemap = null;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    if (!chart._vars.legendHeaders) {
        chart._vars.legendHeaders = legendData;
    }

    var dataHeaders = chart._vars.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, chart.data.legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < newData.children.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === newData.children[j][relationMap.series] && legendElementToggleArray[i].toggle === false) {
                    newData.children[j].show = false;
                }
            }
        }
    }

    var treeMapDataFiltered = {};
    treeMapDataFiltered["Parent"] = "Top Level";
    treeMapDataFiltered.children = [];

    for (var j = 0; j < newData.children.length; j++) {
        if (newData.children[j].show !== false) {
            treeMapDataFiltered.children.push(newData.children[j]);
        }
    }

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(treeMapDataFiltered, function (d) {
        return d.children;
    });

    var treemap = d3.treemap().size([container.width, container.height]).padding(2);

    var nodes = treemap(root.sum(function (d) {
        return d[relationMap.size];
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    //Remove existing bars from page
    svg.selectAll("g.treemap").remove();
    svg.append("g").attr("class", "treemap");

    var node = svg.select(".treemap").selectAll("g").data(root.leaves()).enter().append('g').attr('transform', function (d) {
        return 'translate(0,0)';
    });

    node.append('rect')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("fill", function (d, i) {
        return jvCharts.getColors(colors, i, d.data[relationMap.series]);
    }).attr("fill-opacity", .8).attr("stroke", chart._vars.white).attr("stroke-width", chart._vars.strokeWidth).on("mouseover", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d.data, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
        chart.tip.d = d;
        chart.tip.i = i;

        // var rect = d3.select(this);
        // rect.attr("fill", chart._vars.light);
        // rect.transition().duration(200);
    }).on('mousemove', function (d, i) {
        if (chart.showToolTip) {
            if (chart.tip.d === d && chart.tip.i === i) {
                chart.tip.showTip(d3.event);
            } else {
                //Get tip data
                var tipData = chart.setTipData(d, i);
                //Draw tip line
                chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            }
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
        // var rect = d3.select(this);
        // rect.attr("fill", function (d, i) {
        //     return jvCharts.getColors(colors, i, d.data[relationMap.series]);
        // });
        // rect.transition().duration(200);
    });

    node.append('text')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("transform", "translate(3, 18)").text(function (d) {
        if (d.dy !== 0) {
            return d.children ? null : d.data[relationMap.label];
        }
    });

    /* Don't display text if text is wider than rect */
    var temp = svg.select(".treemap").selectAll("g").selectAll("text");
    temp.attr("style", function (d) {
        if (this.getBBox().width >= d.x1 - d.x0 - 5) {
            return "display:none";
        }
        if (this.getBBox().height >= d.y1 - d.y0 - 5) {
            return "display:none";
        }
    });
};
module.exports = jvCharts;

},{"../jvCharts.js":4}],27:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.cloud = {
    paint: paint,
    setData: setData,
    getEventData: getEventData
};

jvCharts.prototype.generateCloud = generateCloud;

/************************************************ Cloud functions ******************************************************/

/**setCloudData
 *  gets cloud data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData() {
    var chart = this;
    //define color object for chartData
    chart.data.color = chart.colors;
}

function getEventData() {
    return {};
}

/**setCloudLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setCloudLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint() {
    var chart = this;
    if (!chart.smallerFontRepaint) {
        chart._vars.fontSizeMax = 80;
        chart.currentData = chart.data;
    } else {
        chart.currentData = JSON.parse(JSON.stringify(chart.data));
    }

    chart._vars.color = chart.data.color;

    var cloudMargins = {
        top: 15,
        right: 15,
        left: 15,
        bottom: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, cloudMargins);
    // chart.generateLegend(chart.currentData.legendData, 'generateCloud');
    chart.generateCloud(chart.currentData);
};

/** generateCloud
 *
 * paints the cloud  on the chart
 * @params cloud Data
 */
function generateCloud(cloudData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        width = container.width,
        height = container.height,
        margin = chart.config.margin,
        min,
        max;

    var categories = d3.keys(d3.nest().key(function (d) {
        if (!min && !max) {
            min = d[relationMap.value];
            max = d[relationMap.value];
        } else {
            if (d[relationMap.value] > max) {
                max = d[relationMap.value];
            }
            if (d[relationMap.value] < min) {
                min = d[relationMap.value];
            }
        }

        return d[relationMap.value];
    }).map(cloudData.chartData));

    if (!chart._vars.fontSizeMax) {
        chart._vars.fontSizeMax = 80;
    }

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    var fontSize = d3.scalePow().exponent(5).domain([0, 1]).range([10, chart._vars.fontSizeMax]);
    chart.smallerFontRepaint = false;
    var layout = d3.layout.cloud().timeInterval(10).size([width, height]).words(cloudData.chartData).rotate(function (d) {
        return 0;
    }).font('Roboto').fontSize(function (d, i) {
        return fontSize(max - min !== 0 ? (d[relationMap.value] - min) / (max - min) : 0);
    }).repaintWithSmallerFont(function () {
        if (chart._vars.fontSizeMax > 10) {
            chart._vars.fontSizeMax -= 5;
            chart.smallerFontRepaint = true;
            paint(chart);
        }
    }).text(function (d) {
        return d[relationMap.label];
    }).spiral("archimedean").on("end", draw).start();

    var wordcloud = svg.append("g").attr('class', 'wordcloud').attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    function draw(words) {
        if (chart.smallerFontRepaint) {
            return;
        }
        wordcloud.selectAll("text").data(cloudData.chartData).enter().append("text").attr('class', 'word').style("font-size", function (d) {
            return d.size + "px";
        }).style("font-family", function (d) {
            return d.font;
        }).style("fill", function (d) {
            return color(d[relationMap.value]);
        }).attr("text-anchor", "middle").text(function (d) {
            return d.text;
        }).on("mouseover", function (d, i) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            tipData.color = color(d[relationMap.value]);

            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
            chart.tip.d = d;
            chart.tip.i = i;
        }).on('mousemove', function (d, i) {
            if (chart.showToolTip) {
                if (chart.tip.d === d && chart.tip.i === i) {
                    chart.tip.showTip(d3.event);
                } else {
                    //Get tip data
                    var tipData = chart.setTipData(d, i);
                    //Draw tip line
                    chart.tip.generateSimpleTip(tipData, chart.data.dataTable);
                }
            }
        }).on("mouseout", function (d) {
            chart.tip.hideTip();
        }).transition().duration("1000").attr("transform", function (d) {
            return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
        });
    }
};

module.exports = jvCharts;

},{"../jvCharts.js":4}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGVkaXRPcHRpb25zVGVtcGxhdGUuanMiLCJzcmNcXGp2LmpzIiwic3JjXFxqdkJydXNoLmpzIiwic3JjXFxqdkNoYXJ0cy5qcyIsInNyY1xcanZDb21tZW50LmpzIiwic3JjXFxqdkVkaXQuanMiLCJzcmNcXGp2RXZlbnRzLmpzIiwic3JjXFxqdlNlbGVjdC5qcyIsInNyY1xcanZUaXAuanMiLCJzcmNcXGp2VmFycy5qcyIsInNyY1xcdmlzdWFsc1xcanZBcmVhLmpzIiwic3JjXFx2aXN1YWxzXFxqdkJhci5qcyIsInNyY1xcdmlzdWFsc1xcanZCb3hXaGlza2VyLmpzIiwic3JjXFx2aXN1YWxzXFxqdkJ1YmJsZS5qcyIsInNyY1xcdmlzdWFsc1xcanZDbHVzdGVyZ3JhbS5qcyIsInNyY1xcdmlzdWFsc1xcanZHYW50dC5qcyIsInNyY1xcdmlzdWFsc1xcanZIZWF0bWFwLmpzIiwic3JjXFx2aXN1YWxzXFxqdkxpbmUuanMiLCJzcmNcXHZpc3VhbHNcXGp2UGFjay5qcyIsInNyY1xcdmlzdWFsc1xcanZQaWUuanMiLCJzcmNcXHZpc3VhbHNcXGp2UmFkaWFsLmpzIiwic3JjXFx2aXN1YWxzXFxqdlNhbmtleS5qcyIsInNyY1xcdmlzdWFsc1xcanZTY2F0dGVyLmpzIiwic3JjXFx2aXN1YWxzXFxqdlNpbmdsZUF4aXMuanMiLCJzcmNcXHZpc3VhbHNcXGp2U3VuYnVyc3QuanMiLCJzcmNcXHZpc3VhbHNcXGp2VHJlZW1hcC5qcyIsInNyY1xcdmlzdWFsc1xcanZXb3JkQ2xvdWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0FBLElBQUksbXVJQUFKOztBQTRHQSxPQUFPLE9BQVAsR0FBaUIsSUFBakI7OztBQzVHQTtBQUNBOztBQUNBLFFBQVEsYUFBUjtBQUNBLFFBQVEsZUFBUjtBQUNBLFFBQVEsWUFBUjtBQUNBLFFBQVEsY0FBUjtBQUNBLFFBQVEsZ0JB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R0FBTixDQUFVLENBQVYsS0FBZ0IsQ0FBaEIsSUFBcUIsTUFBTSxHQUFOLENBQVUsQ0FBVixLQUFnQixDQUF6QyxFQUE0QztBQUN4QywwQkFBTSxHQUFOLENBQVUsT0FBVixDQUFrQixHQUFHLEtBQXJCO0FBQ0gsaUJBRkQsTUFFTztBQUNIO0FBQ0Esd0JBQUksVUFBVSxNQUFNLFVBQU4sQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsQ0FBZDtBQUNBO0FBQ0EsMEJBQU0sR0FBTixDQUFVLGlCQUFWLENBQTRCLE9BQTVCLEVBQXFDLE1BQU0sSUFBTixDQUFXLFNBQWhEO0FBQ0g7QUFDSjtBQUNKLFNBcENMLEVBcUNLLEVBckNMLENBcUNRLFVBckNSLEVBcUNvQixVQUFVLENBQVYsRUFBYTtBQUN6QixrQkFBTSxHQUFOLENBQVUsT0FBVjtBQUNILFNBdkNMLEVBd0NLLFVBeENMLEdBd0NrQixRQXhDbEIsQ0F3QzJCLE1BeEMzQixFQXlDSyxJQXpDTCxDQXlDVSxXQXpDVixFQXlDdUIsVUFBVSxDQUFWLEVBQWE7QUFBRSxtQkFBTyxlQUFlLENBQUMsRUFBRSxDQUFILEVBQU0sRUFBRSxDQUFSLENBQWYsR0FBNEIsVUFBNUIsR0FBeUMsRUFBRSxNQUEzQyxHQUFvRCxHQUEzRDtBQUFpRSxTQXpDdkc7QUEwQ0g7QUFFSjs7QUFFRCxPQUFPLE9BQVAsR0FBaUIsUUFBakIiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGh0bWwgPSBgPCEtLVRvcCB0aXRsZSBiYXIgb2YgZWRpdCBwb3B1cC0tPlxyXG48ZGl2IGNsYXNzPSd0aXRsZSc+XHJcbiAgICA8ZGl2IGNsYXNzPVwianYtaW5saW5lXCI+XHJcbiAgICAgICAgPGI+RWRpdCBPcHRpb25zPGRpdiBpZD1cImVkaXQtb3B0aW9uLWVsZW1lbnRcIiBjbGFzcz1cImp2LWlubGluZVwiIHN0eWxlPVwidmlzaWJpbGl0eTogaGlkZGVuO1wiPjwvZGl2Pjo8L2I+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGlkPSdleGl0RWRpdE1vZGUnIGNsYXNzPSdqdi1wdWxsLXJpZ2h0IGp2LXBvaW50ZXInPlxyXG4gICAgICAgIDxpIGNsYXNzPSdmYSBmYS10aW1lcyc+PC9pPlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PlxyXG5cclxuPCEtLUxpbmUgZGl2aWRpbmcgdG9wIGJhciB3aXRoIGZvcm0gb3B0aW9ucyBiZWxvdy0tPlxyXG48aHIgc3R5bGU9J21hcmdpbjozcHggMCAzcHggMDsnLz5cclxuXHJcbjwhLS1Gb3JtIE9wdGlvbnMtLT5cclxuPGRpdiBpZD1cImZvcm0nK2NoYXJ0LmNvbmZpZy5uYW1lKydcIj5cclxuXHJcbiAgICA8IS0tTnVtYmVyIGZvcm1hdHRpbmcgb3B0aW9ucy0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtbnVtLWZvcm1hdFwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwianYtZWRpdC1tb2RlLWlucHV0XCI+TnVtYmVyIEZvcm1hdDpcclxuICAgICAgICAgICAgPHNlbGVjdCBpZD1cImVkaXRhYmxlLW51bS1mb3JtYXRcIj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLVNlbGVjdCBPcHRpb24tLTwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImN1cnJlbmN5XCI+Q3VycmVuY3k8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJmaXhlZEN1cnJlbmN5XCI+Rml4ZWQgUG9pbnQgQ3VycmVuY3k8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJwZXJjZW50XCI+UGVyY2VudDwvb3B0aW9uPlxyXG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIm1pbGxpb25zXCI+TWlsbGlvbnM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJjb21tYXNcIj5Db21tYXM8L29wdGlvbj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJub25lXCI+Tm9uZTwvb3B0aW9uPlxyXG4gICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnIvPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPCEtLVRleHQgZm9ybWF0dGluZyBvcHRpb25zLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZWRpdGFibGUtdGV4dC1zaXplLWJ1dHRvbnMganYtY2VudGVyIHRvcEJhck9wdGlvbiBpbmNyZWFzZWZvbnQganYtcG9pbnRlclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8YnV0dG9uIGlkPSdkZWNyZWFzZUZvbnRTaXplJyB0aXRsZT0nRGVjcmVhc2UgdGhlIGZvbnQgc2l6ZScgY2xhc3M9J3RvcGJhci1idXR0b24gZm9udCBqdi1idXR0b24ganYtcG9pbnRlcic+PGkgY2xhc3M9J2ZhIGZhLWZvbnQnPjwvaT48aSBjbGFzcz0nZmEgZmEtbG9uZy1hcnJvdy1kb3duJz48L2k+PC9idXR0b24+XHJcbiAgICAgICAgPGJ1dHRvbiBpZD0naW5jcmVhc2VGb250U2l6ZScgdGl0bGU9J0luY3JlYXNlIHRoZSBmb250IHNpemUnIGNsYXNzPSd0b3BiYXItYnV0dG9uIGZvbnQganYtYnV0dG9uIGp2LXBvaW50ZXInPjxpIGNsYXNzPSdmYSBmYS1mb250Jz48L2k+PGkgY2xhc3M9J2ZhIGZhLWxvbmctYXJyb3ctdXAnPjwvaT48L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS10ZXh0LWNvbG9yXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJqdi1lZGl0LW1vZGUtaW5wdXRcIj5UZXh0IENvbG9yOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNvbG9yXCIgaWQ9XCJlZGl0YWJsZS10ZXh0LWNvbG9yXCIgdmFsdWU9XCIjMDAwMDAwXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDxkaXYgY2xhc3M9XCJqdi1mdWxsLXdpZHRoIGVkaXRhYmxlLXRleHQtc2l6ZVwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwianYtZWRpdC1tb2RlLWlucHV0XCI+VGV4dCBTaXplOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIGlkPVwiZWRpdGFibGUtdGV4dC1zaXplXCIgbWluPVwiMFwiIG1heD1cIjMwXCIgdmFsdWU9XCIxMlwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxici8+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS1jb250ZW50XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJqdi1lZGl0LW1vZGUtaW5wdXRcIj5UZXh0OlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImVkaXRhYmxlLWNvbnRlbnRcIiBwbGFjZWhvbGRlcj1cIkVudGVyIHRleHQgaGVyZVwiPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxici8+XHJcbiAgICA8L2Rpdj5cclxuXHJcbiAgICA8IS0tYmFyIGNoYXJ0IGZvcm1hdHRpbmctLT5cclxuICAgIDxkaXYgY2xhc3M9XCJqdi1mdWxsLXdpZHRoIGVkaXRhYmxlLWJhclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwianYtZWRpdC1tb2RlLWlucHV0XCI+QmFyIENvbG9yOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNvbG9yXCIgaWQ9XCJlZGl0YWJsZS1iYXJcIiB2YWx1ZT1cIiNhYWFhYWFcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnIvPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPCEtLXBpZSBjaGFydCBmb3JtYXR0aW5nLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS1waWVcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPlBpZSBTbGljZSBDb2xvcjpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjb2xvclwiIGlkPVwiZWRpdGFibGUtcGllXCIgdmFsdWU9XCIjYWFhYWFhXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1zY2F0dGVyIHBsb3QgZm9ybWF0dGluZy0tPlxyXG4gICAgPGRpdiBjbGFzcz1cImp2LWZ1bGwtd2lkdGggZWRpdGFibGUtc2NhdHRlclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwianYtZWRpdC1tb2RlLWlucHV0XCI+U2NhdHRlciBDaXJjbGUgQ29sb3I6XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY29sb3JcIiBpZD1cImVkaXRhYmxlLXNjYXR0ZXJcIiB2YWx1ZT1cIiNhYWFhYWFcIj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnIvPlxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPCEtLWJ1YmJsZSBjaGFydCBmb3JtYXR0aW5nLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS1idWJibGVcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPkJ1YmJsZSBDb2xvcjpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjb2xvclwiIGlkPVwiZWRpdGFibGUtYnViYmxlXCIgdmFsdWU9XCIjYWFhYWFhXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1ib3ggYW5kIHdoaXNrZXIgcGxvdCBmb3JtYXR0aW5nLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwianYtZnVsbC13aWR0aCBlZGl0YWJsZS1ib3hcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImp2LWVkaXQtbW9kZS1pbnB1dFwiPkJveCBDb2xvcjpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjb2xvclwiIGlkPVwiZWRpdGFibGUtYm94XCIgdmFsdWU9XCIjYWFhYWFhXCI+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJyLz5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDwhLS1TdWJtaXQgYnV0dG9uLS0+XHJcbiAgICA8ZGl2IGNsYXNzPVwiZWRpdGFibGUtZGVmYXVsdC1hbmQtYXBwbHlcIj5cclxuICAgICAgICA8YnV0dG9uIGlkPVwic3VibWl0RWRpdE1vZGVEZWZhdWx0XCIgY2xhc3M9XCJqdi1idXR0b24ganYtcHVsbC1sZWZ0XCI+RGVmYXVsdDwvYnV0dG9uPlxyXG4gICAgICAgIDxidXR0b24gaWQ9XCJzdWJtaXRFZGl0TW9kZVwiIGNsYXNzPVwianYtYnV0dG9uIGp2LWJ1dHRvbi1ncmVlbiBqdi1wdWxsLXJpZ2h0XCI+QXBwbHk8L2J1dHRvbj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5gO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBodG1sOyIsIid1c2Ugc3RyaWN0JztcclxuLy9hZGQgYWxsIHJlcXVpcmVkIGZpbGVzXHJcbnJlcXVpcmUoJy4vanZWYXJzLmpzJyk7XHJcbnJlcXVpcmUoJy4vanZFdmVudHMuanMnKTtcclxucmVxdWlyZSgnLi9qdlRpcC5qcycpO1xyXG5yZXF1aXJlKCcuL2p2QnJ1c2guanMnKTtcclxucmVxdWlyZSgnLi9qdkNvbW1lbnQuanMnKTtcclxucmVxdWlyZSgnLi9qdkVkaXQuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2QmFyLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlBpZS5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZMaW5lLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlNjYXR0ZXIuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2QXJlYS5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZHYW50dC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZIZWF0bWFwLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlBhY2suanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2UmFkaWFsLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlNhbmtleS5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTaW5nbGVBeGlzLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlN1bmJ1cnN0LmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlRyZWVtYXAuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2V29yZENsb3VkLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkJveFdoaXNrZXIuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2QnViYmxlLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkNsdXN0ZXJncmFtLmpzJyk7XHJcblxyXG4vL2F0dGFjaCBqdiBjaGFydHMgb2JqZWN0cyB0byB0aGUgd2luZG93XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4vanZDaGFydHMuanMnKTtcclxudmFyIGp2QnJ1c2ggPSByZXF1aXJlKCcuL2p2QnJ1c2guanMnKTtcclxudmFyIGp2Q29tbWVudCA9IHJlcXVpcmUoJy4vanZDb21tZW50LmpzJyk7XHJcbnZhciBqdkVkaXQgPSByZXF1aXJlKCcuL2p2RWRpdC5qcycpO1xyXG52YXIganZTZWxlY3QgPSByZXF1aXJlKCcuL2p2U2VsZWN0Jyk7XHJcbi8vIHZhciBqdkRvb2RsZSA9IHJlcXVpcmUoJy4vanZEb29kbGUuanMnKTtcclxuXHJcbi8vQ29tbWVudCBvdXQgdG8gcmVtb3ZlIGZyb20gd2luZG93IG9iamVjdCAtIGlmIHlvdSBhcmUgbm90IHVzaW5nIGp2Q2hhcnRzIGFzIGEgbWluaWZpZWQgZmlsZVxyXG53aW5kb3cuanZDaGFydHMgPSBqdkNoYXJ0cztcclxud2luZG93Lmp2QnJ1c2ggPSBqdkJydXNoO1xyXG53aW5kb3cuanZDb21tZW50ID0ganZDb21tZW50O1xyXG53aW5kb3cuanZFZGl0ID0ganZFZGl0O1xyXG53aW5kb3cuanZTZWxlY3QgPSBqdlNlbGVjdDtcclxuXHJcblxyXG4vL2FkZCBwb2x5ZmlsbCBmb3IgT2JqZWN0LmFzc2lnbigpIGlmIHVuc3VwcG9ydGVkXHJcbmlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgT2JqZWN0LmFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHsgLy8ubGVuZ3RoIG9mIGZ1bmN0aW9uIGlzIDJcclxuICAgICAgICAndXNlIHN0cmljdCc7XHJcbiAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB7IC8vVHlwZUVycm9yIGlmIHVuZGVmaW5lZCBvciBudWxsXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcclxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XHJcblxyXG4gICAgICAgICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7IC8vU2tpcCBvdmVyIGlmIHVuZGVmaW5lZCBvciBudWxsXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0F2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFNvdXJjZSwgbmV4dEtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdG87XHJcbiAgICB9O1xyXG59XHJcbiIsIi8qKiogIGp2QnJ1c2ggKioqL1xyXG5mdW5jdGlvbiBqdkJydXNoKGNvbmZpZ09iaikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgdmFyIGJydXNoT2JqID0gdGhpcztcclxuICAgIGJydXNoT2JqLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgYnJ1c2hPYmouYnJ1c2hEaXYgPSAnJztcclxuICAgIGJydXNoT2JqLmp2Q2hhcnQgPSBjb25maWdPYmouanZDaGFydDtcclxuICAgIGJydXNoT2JqLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBicnVzaE9iai5vbkJydXNoQ2FsbGJhY2sgPSBjb25maWdPYmoub25CcnVzaENhbGxiYWNrO1xyXG59XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEFsbCBCcnVzaCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmp2QnJ1c2gucHJvdG90eXBlLnJlbW92ZUJydXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJydXNoT2JqID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBicnVzaE9iai5qdkNoYXJ0LnN2ZztcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcuYnJ1c2hhcmVhJykucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5qdkJydXNoLnByb3RvdHlwZS5zdGFydEJydXNoID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICB2YXIgYnJ1c2hPYmogPSB0aGlzLFxyXG4gICAgICAgIGhlaWdodCA9IGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgd2lkdGggPSBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgc3ZnID0gYnJ1c2hPYmouanZDaGFydC5zdmc7XHJcblxyXG4gICAgaWYgKGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgIGJydXNoT2JqLmJydXNoVHlwZSA9ICd4JztcclxuICAgICAgICBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoYXJlYScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnaGVpZ2h0JywgaGVpZ2h0ICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKCd3aWR0aCcsIHdpZHRoICsgJ3B4JylcclxuICAgICAgICAgICAgLmNhbGwoZDMuYnJ1c2hYKClcclxuICAgICAgICAgICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcclxuICAgICAgICAgICAgICAgIC5vbignZW5kJywgYnJ1c2hFbmQpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnJ1c2hPYmouYnJ1c2hUeXBlID0gJ3h5JztcclxuICAgICAgICBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JydXNoYXJlYScpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnaGVpZ2h0JywgaGVpZ2h0ICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKCd3aWR0aCcsIHdpZHRoICsgJ3B4JylcclxuICAgICAgICAgICAgLmNhbGwoZDMuYnJ1c2goKVxyXG4gICAgICAgICAgICAgICAgLmV4dGVudChbWzAsIDBdLCBbd2lkdGgsIGhlaWdodF1dKVxyXG4gICAgICAgICAgICAgICAgLm9uKCdlbmQnLCBicnVzaEVuZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmKGV2ZW50KSB7XHJcbiAgICAgICAgLy9kaXNwYXRjaCBicnVzaCBhdCB0aGUgZXZlbnRcclxuICAgICAgICB2YXIgYnJ1c2hfZWxtID0gc3ZnLnNlbGVjdChcIi5icnVzaGFyZWFcIikubm9kZSgpO1xyXG4gICAgICAgIHZhciBuZXdfY2xpY2tfZXZlbnQgPSBuZXcgRXZlbnQoJ21vdXNlZG93bicpO1xyXG4gICAgICAgIG5ld19jbGlja19ldmVudC5wYWdlWCA9IGQzLmV2ZW50LnBhZ2VYO1xyXG4gICAgICAgIG5ld19jbGlja19ldmVudC5jbGllbnRYID0gZDMuZXZlbnQuY2xpZW50WDtcclxuICAgICAgICBuZXdfY2xpY2tfZXZlbnQucGFnZVkgPSBkMy5ldmVudC5wYWdlWTtcclxuICAgICAgICBuZXdfY2xpY2tfZXZlbnQuY2xpZW50WSA9IGQzLmV2ZW50LmNsaWVudFk7XHJcbiAgICAgICAgbmV3X2NsaWNrX2V2ZW50LnZpZXcgPSBkMy5ldmVudC52aWV3O1xyXG4gICAgICAgIGJydXNoX2VsbS5fX2RhdGFfXyA9IHt0eXBlOlwib3ZlcmxheVwifTtcclxuICAgICAgICBicnVzaF9lbG0uZGlzcGF0Y2hFdmVudChuZXdfY2xpY2tfZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipicnVzaEVuZFxyXG4gICAgICogQGRlc2MgLSBmdW5jdGlvbiBjYWxsZWQgYXQgdGhlIGVuZCBvZiB0aGUgdXNlciBicnVzaGluZ1xyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBicnVzaEVuZCgpIHtcclxuICAgICAgICB2YXIgeFNjYWxlID0gYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLFxyXG4gICAgICAgICAgICB5U2NhbGUgPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzU2NhbGUsXHJcbiAgICAgICAgICAgIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSBbXSxcclxuICAgICAgICAgICAgZmlsdGVyZWRZQXhpc0xhYmVscyA9IFtdLFxyXG4gICAgICAgICAgICBzaG91bGRSZXNldCA9IGZhbHNlLFxyXG4gICAgICAgICAgICBlID0gZDMuZXZlbnQuc2VsZWN0aW9uLFxyXG4gICAgICAgICAgICByZXR1cm5PYmosXHJcbiAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzID0gW10sXHJcbiAgICAgICAgICAgIGZpbHRlcmVkQ29uY2VwdHMgPSB7fSxcclxuICAgICAgICAgICAgaW5kZXgsXHJcbiAgICAgICAgICAgIGZpbHRlckNvbCxcclxuICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHNYLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZExhYmVsc1k7XHJcblxyXG4gICAgICAgIGlmIChlKSB7XHJcbiAgICAgICAgICAgIGlmICggYnJ1c2hPYmouYnJ1c2hUeXBlID09PSAneHknKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeFNjYWxlICYmIHR5cGVvZiB4U2NhbGUuaW52ZXJ0ICE9PSAnZnVuY3Rpb24nKSB7IC8vbWVhbnMgdGhhdCB0aGUgc2NhbGUgaXMgb3JkaW5hbCBhbmQgbm90IGxpbmVhclxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUJydXNoQXJlYU9yZGluYWwoZVswXVswXSwgZVsxXVswXSwgeFNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHJldHVybk9iai5zaG91bGRSZXNldDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeFNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jYWxjdWxhdGUgbGFiZWxzIGZvciBsaW5lYXIgc2NhbGVcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVCcnVzaEFyZWFMaW5lYXIoZVswXVswXSwgZVsxXVswXSwgeFNjYWxlLCBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLCBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlLCAneCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gcmV0dXJuT2JqLnNob3VsZFJlc2V0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh5U2NhbGUgJiYgdHlwZW9mIHlTY2FsZS5pbnZlcnQgIT09ICdmdW5jdGlvbicpIHsgLy9tZWFucyB0aGF0IHRoZSBzY2FsZSBpcyBvcmlkbmFsIGFuZCBub3QgbGluZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbChlWzBdWzFdLCBlWzFdWzFdLCB5U2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkWUF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmouc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoeVNjYWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jYWxjdWxhdGUgbGFiZWxzIGZvciBsaW5lYXIgc2NhbGVcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVCcnVzaEFyZWFMaW5lYXIoZVswXVsxXSwgZVsxXVsxXSwgeVNjYWxlLCBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLCBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlLCAneScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkWUF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmouc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSA9PT0gJ2Nsb3VkJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUNsb3VkQnJ1c2goZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRZQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVybk9iai5zaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVIZWF0bWFwQnJ1c2goZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSwgYnJ1c2hPYmouanZDaGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHNYID0gcmV0dXJuT2JqLmZpbHRlcmVkWEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHNZID0gcmV0dXJuT2JqLmZpbHRlcmVkWUF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVybk9iai5zaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJydXNoT2JqLmJydXNoVHlwZSA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVCcnVzaEFyZWFMaW5lYXIoZVswXSwgZVsxXSwgeFNjYWxlLCBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLCBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlLCAneCcpO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZpbHRlcmVkWEF4aXNMYWJlbHMubGVuZ3RoID4gMCAmJiBmaWx0ZXJlZFlBeGlzTGFiZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy9tZXJnZSBheGlzTGFiZWxzXHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsdGVyZWRYQXhpc0xhYmVscy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBmaWx0ZXJlZFlBeGlzTGFiZWxzLmluZGV4T2YoZmlsdGVyZWRYQXhpc0xhYmVsc1tqXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzLnB1c2goZmlsdGVyZWRYQXhpc0xhYmVsc1tqXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkWEF4aXNMYWJlbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZExhYmVscyA9IGZpbHRlcmVkWEF4aXNMYWJlbHM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZFlBeGlzTGFiZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHMgPSBmaWx0ZXJlZFlBeGlzTGFiZWxzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICBpZiAoIXNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQ29sWCA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLng7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQ29sWSA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLnk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRMYWJlbHNYLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbmNlcHRzW2ZpbHRlckNvbFhdID0gZmlsdGVyZWRMYWJlbHNYO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkTGFiZWxzWS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xZXSA9IGZpbHRlcmVkTGFiZWxzWTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJDb2wgPSBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5ncm91cDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlckNvbCA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbHRlcmVkQ29uY2VwdHNbZmlsdGVyQ29sXSA9IGZpbHRlcmVkTGFiZWxzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9jYWxscyBiYWNrIHRvIHVwZGF0ZSBkYXRhIHdpdGggYnJ1c2hlZCBkYXRhXHJcbiAgICAgICAgYnJ1c2hPYmoub25CcnVzaENhbGxiYWNrKHtcclxuICAgICAgICAgICAgZGF0YTogZmlsdGVyZWRDb25jZXB0cyxcclxuICAgICAgICAgICAgcmVzZXQ6IHNob3VsZFJlc2V0LFxyXG4gICAgICAgICAgICBjbGVhbjogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbFxyXG4gKlxyXG4gKiBAcGFyYW0gbW91c2VQb3NNaW5cclxuICogQHBhcmFtIG1vdXNlUG9zTWF4XHJcbiAqIEBwYXJhbSBzY2FsZVxyXG4gKiBAcmV0dXJucyBPYmplY3RcclxuICogQGRlc2MgY2FsY3VsYXRlcyB0aGUgb3JkaW5hbCB2YWx1ZXMgdGhhdCBhcmUgaW4gdGhlIGJydXNoZWQgYXJlYVxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbChtb3VzZVBvc01pbiwgbW91c2VQb3NNYXgsIHNjYWxlKSB7XHJcbiAgICB2YXIgZG9tYWluID0gc2NhbGUuZG9tYWluKCksXHJcbiAgICAgICAgcGFkZGluZyA9IHNjYWxlLnBhZGRpbmcoKSxcclxuICAgICAgICBzdGVwID0gc2NhbGUuc3RlcCgpLFxyXG4gICAgICAgIG1pbkluZGV4LCBtYXhJbmRleCxcclxuICAgICAgICBwYWRkaW5nRGlzdGFuY2UgPSBwYWRkaW5nICogc3RlcCAvIDIsXHJcbiAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG5cclxuICAgIC8vZGV0ZXJtaW5lIG1pbiBpbmRleFxyXG4gICAgaWYgKG1vdXNlUG9zTWluICUgc3RlcCA+IHN0ZXAgLSBwYWRkaW5nRGlzdGFuY2UpIHtcclxuICAgICAgICAvL2Rvbid0IGluY2x1ZGUgb24gbWluIHNpZGVcclxuICAgICAgICBtaW5JbmRleCA9IChNYXRoLmZsb29yKG1vdXNlUG9zTWluIC8gc3RlcCkgKyAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9pbmNsdWRlIG9uIG1pbiBzaWRlXHJcbiAgICAgICAgbWluSW5kZXggPSAoTWF0aC5mbG9vcihtb3VzZVBvc01pbiAvIHN0ZXApKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2RldGVybWluZSBtYXggaW5kZXhcclxuICAgIGlmIChtb3VzZVBvc01heCAlIHN0ZXAgPCBwYWRkaW5nRGlzdGFuY2UpIHtcclxuICAgICAgICAvL2Rvbid0IGluY2x1ZGUgb24gbWF4IHNpZGVcclxuICAgICAgICBtYXhJbmRleCA9IChNYXRoLmZsb29yKG1vdXNlUG9zTWF4IC8gc3RlcCkgLSAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy9pbmNsdWRlIG9uIG1heCBzaWRlXHJcbiAgICAgICAgbWF4SW5kZXggPSAoTWF0aC5mbG9vcihtb3VzZVBvc01heCAvIHN0ZXApKTtcclxuICAgICAgICBpZiAobWF4SW5kZXggPT09IGRvbWFpbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbWF4SW5kZXggLT0gMTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZmlsdGVyZWRBeGlzTGFiZWxzID0gZG9tYWluLnNsaWNlKG1pbkluZGV4LCBtYXhJbmRleCArIDEpO1xyXG5cclxuICAgIHJldHVybiB7ZmlsdGVyZWRBeGlzTGFiZWxzOiBmaWx0ZXJlZEF4aXNMYWJlbHMsIHNob3VsZFJlc2V0OiBmaWx0ZXJlZEF4aXNMYWJlbHMubGVuZ3RoID09PSAwfTtcclxufVxyXG5cclxuLyoqY2FsY3VsYXRlQnJ1c2hBcmVhT3JkaW5hbFxyXG4gKlxyXG4gKiBAcGFyYW0gbW91c2VQb3NNaW5cclxuICogQHBhcmFtIG1vdXNlUG9zTWF4XHJcbiAqIEBwYXJhbSBzY2FsZVxyXG4gKiBAcGFyYW0gZGF0YSBjaGFydERhdGFcclxuICogQHBhcmFtIHR5cGUgdmlzdWFsIHR5cGVcclxuICogQHBhcmFtIGF4aXMgLSB4IC8geVxyXG4gKiBAcmV0dXJucyBPYmplY3RcclxuICogQGRlc2MgY2FsY3VsYXRlcyB0aGUgb3JkaW5hbCB2YWx1ZXMgdGhhdCBhcmUgaW4gdGhlIGJydXNoZWQgYXJlYVxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKG1vdXNlUG9zTWluLCBtb3VzZVBvc01heCwgc2NhbGUsIGRhdGEsIHR5cGUsIGF4aXMpIHtcclxuICAgIHZhciBmaWx0ZXJlZEF4aXNMYWJlbHMgPSBbXSxcclxuICAgICAgICBtaW4sXHJcbiAgICAgICAgbWF4LFxyXG4gICAgICAgIGF4aXNMYWJlbDtcclxuXHJcbiAgICAvL3N3aXRjaCBtaW4gYW5kIG1heCBpZiBzY2FsZSBpcyB5IGR1ZSB0byBzdmcgZHJhd2luZyAoeSBheGlzIGluY3JlYXNlcyB1cCB0aGUgc2NyZWVuIHdoaWxlIG1vdXNlUG9zIGRlY3JlYXNlcylcclxuICAgIGlmIChheGlzID09PSAneScpIHtcclxuICAgICAgICBtYXggPSBzY2FsZS5pbnZlcnQobW91c2VQb3NNaW4pO1xyXG4gICAgICAgIG1pbiA9IHNjYWxlLmludmVydChtb3VzZVBvc01heCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1pbiA9IHNjYWxlLmludmVydChtb3VzZVBvc01pbik7XHJcbiAgICAgICAgbWF4ID0gc2NhbGUuaW52ZXJ0KG1vdXNlUG9zTWF4KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ2JhcicpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVnZW5kRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBheGlzTGFiZWwgPSBkYXRhLmxlZ2VuZERhdGFbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdID49IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscy5wdXNoKGRhdGEuY2hhcnREYXRhW2pdW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdnYW50dCcpIHtcclxuICAgICAgICBtYXggPSBuZXcgRGF0ZShtYXgpO1xyXG4gICAgICAgIG1pbiA9IG5ldyBEYXRlKG1pbik7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlZ2VuZERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gaSsxO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnREYXRlID0gbmV3IERhdGUoZGF0YS5jaGFydERhdGFbal1bZGF0YS5kYXRhVGFibGVbJ3N0YXJ0ICcrY291bnRdXSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZW5kRGF0ZSA9IG5ldyBEYXRlKGRhdGEuY2hhcnREYXRhW2pdW2RhdGEuZGF0YVRhYmxlWydlbmQgJytjb3VudF1dKTtcclxuICAgICAgICAgICAgICAgIGlmICgoc3RhcnREYXRlIDw9IG1heCAmJiBzdGFydERhdGUgPj0gbWluKSB8fCAoZW5kRGF0ZSA8PSBtYXggJiYgZW5kRGF0ZSA+PSBtaW4pIHx8IChzdGFydERhdGUgPD0gbWluICYmIGVuZERhdGUgPj0gbWF4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscy5wdXNoKGRhdGEuY2hhcnREYXRhW2pdW2RhdGEuZGF0YVRhYmxlLmdyb3VwXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdsaW5lJyAgfHwgdHlwZSA9PT0gJ2FyZWEnIHx8IHR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZWdlbmREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF4aXNMYWJlbCA9IGRhdGEubGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPD0gbWF4ICYmIGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzLnB1c2goZGF0YS5jaGFydERhdGFbal1bZGF0YS5kYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3NjYXR0ZXJwbG90Jykge1xyXG4gICAgICAgIGF4aXNMYWJlbCA9IGRhdGEuZGF0YVRhYmxlW2F4aXNdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPD0gbWF4ICYmIGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEF4aXNMYWJlbHMucHVzaChkYXRhLmNoYXJ0RGF0YVtqXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICBheGlzTGFiZWwgPSBkYXRhLmRhdGFUYWJsZVtheGlzXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdIDw9IG1heCAmJiBkYXRhLmNoYXJ0RGF0YVtqXVtheGlzTGFiZWxdID49IG1pbikge1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzLnB1c2goZGF0YS5jaGFydERhdGFbal1bZGF0YS5kYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge2ZpbHRlcmVkQXhpc0xhYmVsczogZmlsdGVyZWRBeGlzTGFiZWxzLCBzaG91bGRSZXNldDogZmlsdGVyZWRBeGlzTGFiZWxzLmxlbmd0aCA9PT0gMH07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVDbG91ZEJydXNoKGUsIGRhdGEpIHtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBkID0gZGF0YVtpXTtcclxuICAgICAgICB2YXIgbW91c2VYMCA9IGVbMF1bMF07XHJcbiAgICAgICAgdmFyIG1vdXNlWDEgPSBlWzBdWzFdO1xyXG4gICAgICAgIHZhciBtb3VzZVkwID0gZVsxXVswXTtcclxuICAgICAgICB2YXIgbW91c2VZMSA9IGVbMV1bMV07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFtdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVIZWF0bWFwQnJ1c2goZSwgZGF0YSwgY2hhcnQpIHtcclxuICAgIHZhciBtb3VzZVhtaW4gPSBlWzBdWzBdO1xyXG4gICAgdmFyIG1vdXNlWW1pbiA9IGVbMF1bMV07XHJcbiAgICB2YXIgbW91c2VYbWF4ID0gZVsxXVswXTtcclxuICAgIHZhciBtb3VzZVltYXggPSBlWzFdWzFdO1xyXG4gICAgdmFyIGZpbHRlcmVkWEF4aXNMYWJlbHMgPSBbXTtcclxuICAgIHZhciBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gW107XHJcbiAgICB2YXIgZmlsdGVyZWREYXRhID0gW107XHJcbiAgICB2YXIgcmVzZXQgPSB0cnVlO1xyXG5cclxuICAgIHZhciB4QnVja2V0TWF4ID0gTWF0aC5mbG9vcihtb3VzZVhtYXggLyBjaGFydC5fdmFycy5oZWF0R3JpZFNpemUpICsgMTtcclxuICAgIHZhciB5QnVja2V0TWF4ID0gTWF0aC5mbG9vcihtb3VzZVltYXggLyBjaGFydC5fdmFycy5oZWF0R3JpZFNpemUpICsgMTtcclxuXHJcbiAgICB2YXIgeEJ1Y2tldE1pbiA9ICBNYXRoLmZsb29yKG1vdXNlWG1pbiAvIGNoYXJ0Ll92YXJzLmhlYXRHcmlkU2l6ZSk7XHJcbiAgICB2YXIgeUJ1Y2tldE1pbiA9ICBNYXRoLmZsb29yKG1vdXNlWW1pbiAvIGNoYXJ0Ll92YXJzLmhlYXRHcmlkU2l6ZSk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4QnVja2V0TWF4OyBpKyspIHtcclxuICAgICAgICBpZihpID49IHhCdWNrZXRNaW4pe1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzLnB1c2goZGF0YS54QXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICAgICAgcmVzZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHlCdWNrZXRNYXg7IGkrKykge1xyXG4gICAgICAgIGlmKGkgPj0geUJ1Y2tldE1pbil7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkWUF4aXNMYWJlbHMucHVzaChkYXRhLnlBeGlzRGF0YS52YWx1ZXNbaV0pO1xyXG4gICAgICAgICAgICByZXNldCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL01pZ2h0IG5lZWQgd2hlbiBuZXcgUEtRTCBwaXhlbC4uLiBjb21lcyBvdXRcclxuICAgIC8vIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgICB2YXIgZCA9IGRhdGEuY2hhcnREYXRhW2ldO1xyXG4gICAgLy8gICAgIGlmKGZpbHRlcmVkWEF4aXNMYWJlbHMuaW5jbHVkZXMoZFtkYXRhLmRhdGFUYWJsZS54XSkgJiYgZmlsdGVyZWRZQXhpc0xhYmVscy5pbmNsdWRlcyhkW2RhdGEuZGF0YVRhYmxlLnldKSkge1xyXG4gICAgLy8gICAgICAgICBmaWx0ZXJlZERhdGFYLnB1c2goZFtkYXRhLmRhdGFUYWJsZS54XSk7XHJcbiAgICAvLyAgICAgICAgIGZpbHRlcmVkRGF0YVkucHVzaChkW2RhdGEuZGF0YVRhYmxlLnldKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcmV0dXJuIHtmaWx0ZXJlZFhBeGlzTGFiZWxzOiBmaWx0ZXJlZFhBeGlzTGFiZWxzLCBmaWx0ZXJlZFlBeGlzTGFiZWxzOiBmaWx0ZXJlZFlBeGlzTGFiZWxzLCBzaG91bGRSZXNldDogcmVzZXR9O1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2QnJ1c2g7IiwiJ3VzZSBzdHJpY3QnO1xyXG4vKioqICBqdkNoYXJ0cyAqKiovXHJcbnZhciBqdlRpcCA9IHJlcXVpcmUoJy4vanZUaXAuanMnKTtcclxuXHJcbi8qKkNyZWF0ZSBhIGp2Q2hhcnRzIG9iamVjdFxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iaiAtIENvbmZpZ3VyYXRpb24gb2JqZWN0IHBhc3NlZCBpbnRvIGp2Q2hhcnRzIGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWdPYmoudHlwZSAtIFRoZSB0eXBlIG9mIGNoYXJ0XHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb25maWdPYmoubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBjaGFydFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqLmNvbnRhaW5lciAtIFRoZSBjb250YWluZXIgb2YgdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmoudXNlck9wdGlvbnMgLSBVSSBvcHRpb25zIGZvciB0aGUgY2hhcnRcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iai50aXBDb25maWcgLSBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IganZUb29sdGlwXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmouY2hhcnREaXYgLSBBIGRpdiB3cmFwcGVyIGZvciB0aGUgY2hhcnQgYW5kIG90aGVyIGp2IGZlYXR1cmVzXHJcbiAqL1xyXG5jbGFzcyBqdkNoYXJ0cyB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWdPYmopIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIGNvbmZpZ09iai50eXBlID0gY29uZmlnT2JqLnR5cGUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjaGFydC5jaGFydERpdiA9IGNvbmZpZ09iai5jaGFydERpdjtcclxuICAgICAgICBjb25maWdPYmoub3B0aW9ucyA9IGNsZWFuVG9vbERhdGEoY29uZmlnT2JqLm9wdGlvbnMsIGNvbmZpZ09iai5lZGl0T3B0aW9ucyk7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMgPSBjaGFydC5nZXREZWZhdWx0T3B0aW9ucyhjb25maWdPYmoub3B0aW9ucyk7XHJcbiAgICAgICAgY2hhcnQubW9kZSA9IGNvbmZpZ09iai5tb2RlIHx8ICdkZWZhdWx0LW1vZGUnO1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBwaWVjZXMgZnJvbSBjb25maWcgdGhhdCBoYXZlIGJlZW4gY29waWVkIHNvbWV3aGVyZSBlbHNlXHJcbiAgICAgICAgZGVsZXRlIGNvbmZpZ09iai5jaGFydERpdjtcclxuICAgICAgICBkZWxldGUgY29uZmlnT2JqLm9wdGlvbnM7XHJcbiAgICAgICAgZGVsZXRlIGNvbmZpZ09iai5tb2RlO1xyXG5cclxuICAgICAgICBjaGFydC5jb25maWcgPSBjb25maWdPYmo7XHJcblxyXG4gICAgICAgIGNoYXJ0LmNyZWF0ZVRvb2x0aXAoKTtcclxuICAgICAgICBjaGFydC5zZXREYXRhKCk7XHJcbiAgICAgICAgY2hhcnQucGFpbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVUb29sdGlwKCkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgY2hhcnQudGlwID0gbmV3IGp2VGlwKHtcclxuICAgICAgICAgICAgY29uZmlnOiBjaGFydC5jb25maWcudGlwQ29uZmlnLFxyXG4gICAgICAgICAgICBjaGFydERpdjogY2hhcnQuY2hhcnREaXZcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREYXRhKCkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy5zZXREYXRhKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydERhdGE6IGNoYXJ0LmNvbmZpZy5zZXREYXRhLmRhdGEsXHJcbiAgICAgICAgICAgICAgICBkYXRhVGFibGU6IGNoYXJ0LmNvbmZpZy5zZXREYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZUtleXM6IGNoYXJ0LmNvbmZpZy5zZXREYXRhLmRhdGFUYWJsZUtleXMsXHJcbiAgICAgICAgICAgICAgICB0aXBEYXRhOiBjaGFydC5jb25maWcuc2V0RGF0YS50aXBEYXRhXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNoYXJ0LmNvbG9ycyA9IGNoYXJ0LmNvbmZpZy5zZXREYXRhLmNvbG9ycztcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy5zZXREYXRhLmFkZGl0aW9uYWxJbmZvKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5kYXRhLmFkZGl0aW9uYWxJbmZvID0gY2hhcnQuY29uZmlnLnNldERhdGEuYWRkaXRpb25hbEluZm87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy5zZXREYXRhLm1hcmtlclR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmRhdGEubWFya2VyVHlwZSA9IGNoYXJ0LmNvbmZpZy5zZXREYXRhLm1hcmtlclR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy5zZXREYXRhLm1hdGVyaWFsaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5kYXRhLm1hdGVyaWFsaXR5ID0gY2hhcnQuY29uZmlnLnNldERhdGEubWF0ZXJpYWxpdHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy5zZXREYXRhLnNsaWRlcnZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5kYXRhLnNsaWRlcnZhbHVlID0gY2hhcnQuY29uZmlnLnNldERhdGEuc2xpZGVydmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdLnNldERhdGEuY2FsbChjaGFydCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhaW50KCkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmRhdGEgJiYgdHlwZW9mIGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5wYWludCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjaGFydFtjaGFydC5jb25maWcudHlwZV0ucGFpbnQuY2FsbChjaGFydCk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmluaXRpYWxpemVNb2RlcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdubyBwYWludCBmdW5jdGlvbiBmb3I6ICcgKyBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGVuZCBvZiBjb25zdHJ1Y3RvclxyXG5cclxuXHJcbiAgICBzZXRBeGlzRGF0YShheGlzLCBkYXRhLCBrZXlzKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICB2YXIgYXhpc0RhdGEgPSBbXTtcclxuICAgICAgICB2YXIgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGE7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gJyc7XHJcbiAgICAgICAgdmFyIG1heFN0YWNrID0gMCxcclxuICAgICAgICAgICAgZGF0YVRhYmxlS2V5cyA9IGRhdGEuZGF0YVRhYmxlS2V5cyxcclxuICAgICAgICAgICAgZGF0YVR5cGU7XHJcblxyXG4gICAgICAgIGlmICghZGF0YVRhYmxlS2V5cykge1xyXG4gICAgICAgICAgICBkYXRhVGFibGVLZXlzID0ga2V5cztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU3RlcCAxOiBmaW5kIG91dCB3aGF0IHRoZSBsYWJlbCBpcyBmb3IgdGhlIGF4aXNcclxuICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdsYWJlbCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBkYXRhLmRhdGFUYWJsZS5sYWJlbDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkxhYmVsIGRvZXNuJ3QgZXhpc3QgaW4gZGF0YVRhYmxlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcignTGFiZWwgZG9lc25cXCd0IGV4aXN0IGluIGRhdGFUYWJsZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RhdGFUYWJsZSBkb2VzIG5vdCBleGlzdCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhVHlwZSA9ICdTVFJJTkcnO1xyXG5cclxuICAgICAgICAgICAgLy9SZXBsYWNlIHVuZGVyc2NvcmVzIHdpdGggc3BhY2VzXHJcbiAgICAgICAgICAgIGxhYmVsID0gbGFiZWwucmVwbGFjZSgvXy9nLCAnICcpO1xyXG5cclxuICAgICAgICAgICAgLy9sb29wIHRocm91Z2ggZGF0YSB0byBwb3B1bGF0ZSBheGlzRGF0YVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGF0YVtpXVtsYWJlbF0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKCdOVUxMX1ZBTFVFJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0RGF0YVtpXVtsYWJlbF0gPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEucHVzaCgnRU1QVFlfU1RSSU5HJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0RGF0YVtpXVtsYWJlbF0gfHwgY2hhcnREYXRhW2ldW2xhYmVsXSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goY2hhcnREYXRhW2ldW2xhYmVsXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlS2V5cyA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkYXRhVGFibGVLZXlzIGRvIG5vdCBleGlzdCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCdkYXRhVGFibGVLZXlzIGRvIG5vdCBleGlzdCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vRmluZCB0aGUgbWF4IHZhbHVlIGZvciBZIERhdGFcclxuICAgICAgICAgICAgdmFyIGNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFUYWJsZUtleXNbaV0udml6VHlwZSAhPT0gJ2xhYmVsJyAmJiBkYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgIT09ICd0b29sdGlwJyAmJiBkYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgIT09ICdzZXJpZXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWwgPSBkYXRhVGFibGVLZXlzW2ldLnZhcktleTtcclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gZ2V0RGF0YVR5cGVGcm9tS2V5cyhsYWJlbCwgZGF0YVRhYmxlS2V5cywgJ05VTUJFUicpO1xyXG5cclxuICAgICAgICAgICAgLy9BZGQgYWxsIHZhbHVlcyB0aGF0IGFyZSBvbiB5YXhpcyB0byBheGlzIGRhdGFcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IDA7IC8vS2VlcHMgdHJhY2sgb2YgdGhlIG1heGltdW0gc2l6ZSBvZiBzdGFja2VkIGRhdGEgc28gdGhhdCBheGlzIGNhbiBiZSBzY2FsZWQgdG8gZml0IG1heCBzaXplXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShkYXRhLmRhdGFUYWJsZVtrXSkgJiYgayAhPT0gJ2xhYmVsJyAmJiBrLmluZGV4T2YoJ3Rvb2x0aXAnKSA9PT0gLTEgJiYgayAhPT0gJ3NlcmllcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sgKz0gY2hhcnREYXRhW2ldW2RhdGEuZGF0YVRhYmxlW2tdXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEucHVzaChjaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGVba11dKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhY2sgPiBtYXhTdGFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heFN0YWNrID0gc3RhY2s7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9SZXBsYWNlIHVuZGVyc2NvcmVzIHdpdGggc3BhY2VzIHNpbmNlIGxhYmVsIGlzIHJldHJpZXZlZCBmcm9tIGRhdGFUYWJsZUtleXNcclxuXHJcbiAgICAgICAgICAgIC8vSWYgdGhlcmUgYXJlIG11bHRpcGxlIHZhbHVlcyBvbiB0aGUgeUF4aXMsIGRvbid0IHNwZWNpZnkgYSBsYWJlbFxyXG4gICAgICAgICAgICBpZiAoY291bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFiZWwgPSBsYWJlbC5yZXBsYWNlKC9fL2csICcgJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0ZpbmQgdGhlIG1pbiBhbmQgbWF4IG9mIG51bWVyaWMgZGF0YSBmb3IgYnVpbGRpbmcgYXhlcyBhbmQgYWRkIGl0IHRvIHRoZSByZXR1cm5lZCBvYmplY3RcclxuICAgICAgICBpZiAoZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zdGFja1RvZ2dsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1heCA9IG1heFN0YWNrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIGF4aXNEYXRhKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIG1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIGF4aXNEYXRhKTtcclxuICAgICAgICAgICAgbWluID0gTWF0aC5taW4oMCwgbWluKTtcclxuXHJcbiAgICAgICAgICAgIC8vQ2hlY2sgaWYgdGhlcmUncyBhbiBheGlzIG1pbi9tYXggc2V0XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMueE1pbiAhPSBudWxsICYmIGNoYXJ0Ll92YXJzLnhNaW4gIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoYXJ0Ll92YXJzLnhNaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMueE1heCAhPSBudWxsICYmIGNoYXJ0Ll92YXJzLnhNYXggIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoYXJ0Ll92YXJzLnhNYXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXhpcyA9PT0gJ3knKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMueU1pbiAhPSBudWxsICYmIGNoYXJ0Ll92YXJzLnlNaW4gIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoYXJ0Ll92YXJzLnlNaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMueU1heCAhPSBudWxsICYmIGNoYXJ0Ll92YXJzLnlNYXggIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoYXJ0Ll92YXJzLnlNYXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ05VTUJFUicgJiYgYXhpc0RhdGEubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXhpc0RhdGFbMF0gPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnVuc2hpZnQoMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wO1xyXG4gICAgICAgICAgICB2YXIgdGVtcE1pbiA9IHBhcnNlSW50KG1pbik7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wTWF4ID0gcGFyc2VJbnQobWF4KTtcclxuICAgICAgICAgICAgLy9NYWtlIHN1cmUgdGhhdCBheGlzIG1pbiBhbmQgbWF4IGRvbid0IGdldCBmbGlwcGVkXHJcbiAgICAgICAgICAgIGlmICh0ZW1wTWluID4gdGVtcE1heCkge1xyXG4gICAgICAgICAgICAgICAgdGVtcCA9IG1pbjtcclxuICAgICAgICAgICAgICAgIG1pbiA9IG1heDtcclxuICAgICAgICAgICAgICAgIG1heCA9IHRlbXA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAnbGFiZWwnOiBsYWJlbCxcclxuICAgICAgICAgICAgICAgICd2YWx1ZXMnOiBheGlzRGF0YSxcclxuICAgICAgICAgICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlLFxyXG4gICAgICAgICAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAgICAgICAgICdtYXgnOiBtYXhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdsYWJlbCc6IGxhYmVsLFxyXG4gICAgICAgICAgICAndmFsdWVzJzogYXhpc0RhdGEsXHJcbiAgICAgICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqc2V0RmxpcHBlZFNlcmllc1xyXG4gICAgICogIGZsaXBzIHNlcmllcyBhbmQgcmV0dXJucyBmbGlwcGVkIGRhdGFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIGNoYXJ0RGF0YSwgZGF0YVRhYmxlLCBkYXRhTGFiZWxcclxuICAgICAqIEByZXR1cm5zIE9iamVjdCBvZiBkYXRhIGFuZCB0YWJsZSBmb3IgZmxpcHBlZCBzZXJpZXNcclxuICAgICAqL1xyXG4gICAgc2V0RmxpcHBlZFNlcmllcyhkYXRhVGFibGVLZXlzKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICB2YXIgY2hhcnREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcbiAgICAgICAgdmFyIGRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlO1xyXG4gICAgICAgIHZhciBkYXRhTGFiZWwgPSBjaGFydC5kYXRhLnhBeGlzRGF0YS5sYWJlbDtcclxuXHJcbiAgICAgICAgdmFyIGZsaXBwZWREYXRhID0gW107XHJcbiAgICAgICAgdmFyIGZsaXBwZWREYXRhVGFibGUgPSB7fTtcclxuICAgICAgICB2YXIgdmFsdWVDb3VudCA9IDE7XHJcbiAgICAgICAgdmFyIGZpbHRlcmVkRGF0YVRhYmxlQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgayBpbiBkYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZsaXBwZWRPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVGFibGVba10gIT09IGRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZsaXBwZWRPYmplY3RbZGF0YUxhYmVsXSA9IGRhdGFUYWJsZVtrXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGlwcGVkT2JqZWN0W2NoYXJ0RGF0YVtpXVtkYXRhTGFiZWxdXSA9IGNoYXJ0RGF0YVtpXVtkYXRhVGFibGVba11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWREYXRhVGFibGVBcnJheS5pbmRleE9mKGNoYXJ0RGF0YVtpXVtkYXRhTGFiZWxdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaXBwZWREYXRhVGFibGVbJ3ZhbHVlICcgKyB2YWx1ZUNvdW50XSA9IGNoYXJ0RGF0YVtpXVtkYXRhTGFiZWxdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREYXRhVGFibGVBcnJheS5wdXNoKGNoYXJ0RGF0YVtpXVtkYXRhTGFiZWxdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmbGlwcGVkRGF0YS5wdXNoKGZsaXBwZWRPYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZsaXBwZWREYXRhVGFibGUubGFiZWwgPSBkYXRhTGFiZWw7XHJcbiAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEgPSB7IGNoYXJ0RGF0YTogZmxpcHBlZERhdGEsIGRhdGFUYWJsZTogZmxpcHBlZERhdGFUYWJsZSB9O1xyXG5cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS54QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneCcsIGNoYXJ0LmZsaXBwZWREYXRhLCBkYXRhVGFibGVLZXlzKTtcclxuICAgICAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5mbGlwcGVkRGF0YSwgZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmZsaXBwZWREYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5mbGlwcGVkRGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FkZCBhZGRpdGlvbmFsIGNoYXJ0IHR5cGUgdG8gc2V0IGZsaXBwZWQgc2VyaWVzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKm9yZ2FuaXplQ2hhcnREYXRhXHJcbiAgICAgKiAgcmVvcmRlcnMgYWxsIGRhdGEgYmFzZWQgb24gdGhlIHNvcnRMYWJlbCBhbmQgc29ydFR5cGVcclxuICAgICAqICAtT25seSBmb3IgY2hhcnREYXRhLCBkb2VzIG5vdCB3b3JrIHdpdGggZmxpcHBlZCBkYXRhXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBzb3J0TGFiZWwgLCBzb3J0VHlwZVxyXG4gICAgICogQHJldHVybnMgW10gc29ydGVkIGRhdGFcclxuICAgICAqL1xyXG4gICAgb3JnYW5pemVDaGFydERhdGEoc29ydFBhcmFtLCBzb3J0VHlwZSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIG9yZ2FuaXplZERhdGEsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlLFxyXG4gICAgICAgICAgICBkYXRhVGFibGVLZXlzID0gY2hhcnQuZGF0YS5kYXRhVGFibGVLZXlzLFxyXG4gICAgICAgICAgICBzb3J0TGFiZWwgPSBzb3J0UGFyYW07XHJcblxyXG4gICAgICAgIC8vSWYgc29ydExhYmVsIGRvZXNuJ3QgZXhpc3QsIHNvcnQgb24gdGhlIHggYXhpcyBsYWJlbCBieSBkZWZhdWx0XHJcbiAgICAgICAgaWYgKHNvcnRMYWJlbCA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFUYWJsZUtleXNbaV0udml6VHlwZSA9PT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRMYWJlbCA9IGRhdGFUYWJsZUtleXNbaV0udXJpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1JlbW92ZSB1bmRlcnNjb3JlcyBmcm9tIHNvcnRMYWJlbFxyXG4gICAgICAgIGlmIChzb3J0TGFiZWwpIHtcclxuICAgICAgICAgICAgc29ydExhYmVsID0gc29ydExhYmVsLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghY2hhcnQuZGF0YS5jaGFydERhdGFbMF1bc29ydExhYmVsXSkge1xyXG4gICAgICAgICAgICAvL0NoZWNrIGlmIHRoZSBzb3J0IGxhYmVsIGlzIGEgY2FsY3VsYXRlZEJ5IGZpZWxkXHJcbiAgICAgICAgICAgIHZhciBpc1ZhbGlkU29ydExhYmVsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iajEgPSBkYXRhVGFibGVLZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iajEub3BlcmF0aW9uLmhhc093blByb3BlcnR5KCdjYWxjdWxhdGVkQnknKSAmJiBvYmoxLm9wZXJhdGlvbi5jYWxjdWxhdGVkQnlbMF0gPT09IHNvcnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRMYWJlbCA9IG9iajEudXJpLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkU29ydExhYmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL0lmIGl0J3Mgbm90IGEgdmFsaWQgc29ydCBsYWJlbCwgcmV0dXJuIGFuZCBkb24ndCBzb3J0IHRoZSBkYXRhXHJcbiAgICAgICAgICAgIGlmICghaXNWYWxpZFNvcnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm90IGEgdmFsaWQgc29ydCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKCdOb3QgYSB2YWxpZCBzb3J0Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQ2hlY2sgdGhlIGRhdGEgdHlwZSB0byBkZXRlcm1pbmUgd2hpY2ggbG9naWMgdG8gZmxvdyB0aHJvdWdoXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhVGFibGVLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSBkYXRhVGFibGVLZXlzW2ldO1xyXG4gICAgICAgICAgICAvL0xvb3AgdGhyb3VnaCBkYXRhVGFibGVLZXlzIHRvIGZpbmQgc29ydExhYmVsXHJcbiAgICAgICAgICAgIGlmIChvYmoudXJpLnJlcGxhY2UoL18vZywgJyAnKSA9PT0gc29ydExhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVHlwZSA9IG9iai50eXBlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRGF0ZSBzb3J0aW5nXHJcbiAgICAgICAgaWYgKGRhdGFUeXBlICE9IG51bGwgJiYgZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgdmFyIGMgPSBuZXcgRGF0ZShhW3NvcnRMYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZShiW3NvcnRMYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGMgLSBkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFUeXBlICE9IG51bGwgJiYgZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIG9yZ2FuaXplZERhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGFbc29ydExhYmVsXSkgJiYgIWlzTmFOKGJbc29ydExhYmVsXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVtzb3J0TGFiZWxdIC0gYltzb3J0TGFiZWxdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihhW3NvcnRMYWJlbF0pICYmICFpc05hTihiW3NvcnRMYWJlbF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlRmxvYXQoYVtzb3J0TGFiZWxdKSA8IHBhcnNlRmxvYXQoYltzb3J0TGFiZWxdKSkgeyAvL3NvcnQgc3RyaW5nIGFzY2VuZGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KGFbc29ydExhYmVsXSkgPiBwYXJzZUZsb2F0KGJbc29ydExhYmVsXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFbc29ydExhYmVsXS50b0xvd2VyQ2FzZSgpIDwgYltzb3J0TGFiZWxdLnRvTG93ZXJDYXNlKCkpIHsgLy9zb3J0IHN0cmluZyBhc2NlbmRpbmdcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoYVtzb3J0TGFiZWxdLnRvTG93ZXJDYXNlKCkgPiBiW3NvcnRMYWJlbF0udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3dpdGNoIChzb3J0VHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICdzb3J0QXNjZW5kaW5nJzpcclxuICAgICAgICAgICAgY2FzZSAnYXNjZW5kaW5nJzpcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmRhdGEuY2hhcnREYXRhID0gb3JnYW5pemVkRGF0YTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdzb3J0RGVzY2VuZGluZyc6XHJcbiAgICAgICAgICAgIGNhc2UgJ2Rlc2NlbmRpbmcnOlxyXG4gICAgICAgICAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBvcmdhbml6ZWREYXRhLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBvcmdhbml6ZWREYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipzZXRUaXBEYXRhXHJcbiAgICAgKlxyXG4gICAgICogY3JlYXRlcyBkYXRhIG9iamVjdCB0byBkaXNwbGF5IGluIHRvb2x0aXBcclxuICAgICAqIEBwYXJhbXNcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgc2V0VGlwRGF0YShkLCBpKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgZGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICAgICAgLy9HZXQgQ29sb3IgZnJvbSBjaGFydERhdGEgYW5kIGFkZCB0byBvYmplY3RcclxuICAgICAgICB2YXIgY29sb3IgPSBjaGFydC5fdmFycy5jb2xvcjtcclxuXHJcbiAgICAgICAgdmFyIHRpdGxlID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbF07XHJcbiAgICAgICAgdmFyIGRhdGFUYWJsZSA9IHt9O1xyXG5cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICd0cmVlbWFwJykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbCAmJiBpdGVtICE9PSAnUGFyZW50Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRbaXRlbV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbaXRlbV0gPSBkYXRhW2ldW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdnYW50dCcpIHtcclxuICAgICAgICAgICAgLy9DYWxjdWxhdGUgbGVuZ3RoIG9mIGRhdGVzXHJcbiAgICAgICAgICAgIGZvciAoaXRlbSBpbiBkYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShpdGVtKSAmJiBpdGVtICE9PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5ncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRhdGFbaV1baXRlbV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzdGFydCxcclxuICAgICAgICAgICAgICAgIGVuZCxcclxuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2U7XHJcblxyXG4gICAgICAgICAgICAvL0NhbGN1bHRpbmcgZHVyYXRpb24gb2YgZGF0ZSByYW5nZXMgdG8gYWRkIHRvIHRvb2x0aXBcclxuICAgICAgICAgICAgdmFyIG51bVBhaXJzID0gTWF0aC5mbG9vcihPYmplY3Qua2V5cyhjaGFydC5kYXRhLmRhdGFUYWJsZSkubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDw9IG51bVBhaXJzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gbmV3IERhdGUoZGF0YVtpXVtjaGFydC5kYXRhLmRhdGFUYWJsZVsnc3RhcnQgJyArIGpdXSk7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSBuZXcgRGF0ZShkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlWydlbmQgJyArIGpdXSk7XHJcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZVsnRHVyYXRpb24gJyArIGpdID0gTWF0aC5jZWlsKGRpZmZlcmVuY2UgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgJyBkYXlzJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGl0bGUgPSBkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmdyb3VwXTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3JhZGlhbCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLmxhYmVsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIGRhdGFUYWJsZS5vdXRlclJhZGl1cztcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnY2lyY2xlcGFjaycgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzdW5idXJzdCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgZGF0YVRhYmxlW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLnZhbHVlXSA9IGQudmFsdWU7XHJcbiAgICAgICAgICAgIC8vIHRpdGxlID0gZC5uYW1lO1xyXG4gICAgICAgICAgICAvLyBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZS5yZXBsYWNlKC9fL2csICcgJyldO1xyXG4gICAgICAgICAgICAvLyBpZih0eXBlb2YgZFtjaGFydC5kYXRhLmRhdGFUYWJsZVtcInRvb2x0aXAgMVwiXV0gIT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgICAgICAgICAvLyAgICAgZGF0YVRhYmxlW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW1widG9vbHRpcCAxXCJdXSA9IGRbY2hhcnQuZGF0YS5kYXRhVGFibGVbXCJ0b29sdGlwIDFcIl1dO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2Nsb3VkJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGRbY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWxdO1xyXG4gICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV07XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZFtjaGFydC5kYXRhLmRhdGFUYWJsZVtcInRvb2x0aXAgMVwiXV0gIT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtjaGFydC5kYXRhLmRhdGFUYWJsZVtcInRvb2x0aXAgMVwiXV0gPSBkW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW1widG9vbHRpcCAxXCJdXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGQueUF4aXNOYW1lICsgJyB0byAnICsgZC54QXhpc05hbWU7XHJcbiAgICAgICAgICAgIGlmIChkLmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVGFibGUudmFsdWUgPSBkLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIHRvb2x0aXAgaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXAuaW5kZXhPZigndG9vbHRpcCcpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGVbdG9vbHRpcF1dID0gZFt0b29sdGlwXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdjbHVzdGVyZ3JhbScpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLnlfY2hpbGRfdmFsdWUgKyAnIHRvICcgKyBkLnhfY2hpbGRfdmFsdWU7XHJcbiAgICAgICAgICAgIGlmIChkLmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVGFibGUudmFsdWUgPSBkLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAodmFyIHRvb2x0aXAgaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRvb2x0aXAuaW5kZXhPZigndG9vbHRpcCcpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGVbdG9vbHRpcF1dID0gZFt0b29sdGlwXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzYW5rZXknKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC5zb3VyY2UubmFtZS5zbGljZSgwLCAtMikgKyAnIHRvICcgKyBkLnRhcmdldC5uYW1lLnNsaWNlKDAsIC0yKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkLmhhc093blByb3BlcnR5KCd2YWx1ZScpKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhVGFibGUudmFsdWUgPSBkLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC5kYXRhW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gY2hhcnQuZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGVbaXRlbV1dID0gZC5kYXRhW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW2l0ZW1dXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gIT09IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICByZXR1cm4geyAnZGF0YSc6IGQsICd0aXBEYXRhJzogZGF0YVRhYmxlLCAnaW5kZXgnOiBpLCAndGl0bGUnOiB0aXRsZSwgJ2NvbG9yJzogY29sb3IsICd2aXonOiBjaGFydC5jb25maWcudHlwZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRHJhdyBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgIC8qKmdlbmVyYXRlU1ZHXHJcbiAgICAgKmNyZWF0ZXMgYW4gU1ZHIGVsZW1lbnQgb24gdGhlIHBhbmVsXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBjb250YWluZXIsIG1hcmdpbiwgbmFtZVxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVTVkcobGVnZW5kRGF0YSwgY3VzdG9tTWFyZ2luUGFyYW0sIGN1c3RvbVNpemVQYXJhbSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIG1hcmdpbiA9IHt9LFxyXG4gICAgICAgICAgICBjb250YWluZXIgPSB7fSxcclxuICAgICAgICAgICAgZGltZW5zaW9ucyA9IGNoYXJ0LmNoYXJ0RGl2Lm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuICAgICAgICAgICAgY3VzdG9tTWFyZ2lucyA9IGN1c3RvbU1hcmdpblBhcmFtLFxyXG4gICAgICAgICAgICBjdXN0b21TaXplID0gY3VzdG9tU2l6ZVBhcmFtLFxyXG4gICAgICAgICAgICB0ZXh0V2lkdGg7XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5jdXN0b21NYXJnaW5zKSB7XHJcbiAgICAgICAgICAgIGN1c3RvbU1hcmdpbnMgPSBjaGFydC5fdmFycy5jdXN0b21NYXJnaW5zO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9zZXQgbWFyZ2luc1xyXG4gICAgICAgIGlmICghY3VzdG9tTWFyZ2lucykge1xyXG4gICAgICAgICAgICAvL2RlY2xhcmUgbWFyZ2lucyBpZiB0aGV5IGFyZW50IHBhc3NlZCBpblxyXG4gICAgICAgICAgICBtYXJnaW4gPSB7XHJcbiAgICAgICAgICAgICAgICB0b3A6IDU1LFxyXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDUwLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogMTAwLFxyXG4gICAgICAgICAgICAgICAgYm90dG9tOiA3MFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAobGVnZW5kRGF0YSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRGF0YS5sZW5ndGggPD0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSA3MDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobGVnZW5kRGF0YS5sZW5ndGggPD0gNikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSA4NTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDEzMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1hcmdpbiA9IGN1c3RvbU1hcmdpbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3JlZHVjZSBtYXJnaW5zIGlmIGxlZ2VuZCBpcyB0b2dnbGVkIG9mZlxyXG4gICAgICAgIC8vVE9ETyBtYWtlIHRoaXMgYmV0dGVyXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3JhZGlhbCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdjaXJjbGVwYWNrJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgICAgICAgICBtYXJnaW4ubGVmdCA9IDQwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAndHJlZW1hcCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2NhdHRlcicgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJykge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDQwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCB5QXhpcyBtYXJnaW5zXHJcbiAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhICYmIGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSkge1xyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd5JywgY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLCBjaGFydC5fdmFycywgZGltZW5zaW9ucywgbWFyZ2luLCBjaGFydC5jaGFydERpdiwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICBpZiAodGV4dFdpZHRoID4gMTAwICYmIGNoYXJ0LmNvbmZpZy50eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICAgICAgICAgIHRleHRXaWR0aCA9IDEwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5oZWF0bWFwWW1hcmdpbiA9IHRleHRXaWR0aDtcclxuICAgICAgICAgICAgbWFyZ2luLmxlZnQgPSBNYXRoLmNlaWwodGV4dFdpZHRoKSArIDMwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9zZXQgeEF4aXMgdG9wIG1hcmdpbnNcclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJyAmJiBjaGFydC5jdXJyZW50RGF0YSAmJiBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpIHtcclxuICAgICAgICAgICAgdGV4dFdpZHRoID0gZ2V0TWF4V2lkdGhGb3JBeGlzRGF0YSgneCcsIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSwgY2hhcnQuX3ZhcnMsIGRpbWVuc2lvbnMsIG1hcmdpbiwgY2hhcnQuY2hhcnREaXYsIGNoYXJ0LmNvbmZpZy50eXBlKTtcclxuICAgICAgICAgICAgLy9zdWJ0cmFjdCBzcGFjZSBmb3IgdGlsdFxyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBNYXRoLmNlaWwodGV4dFdpZHRoKTtcclxuICAgICAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoID0gMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vc3BlY2lmaWMgdG8gaGVhdG1hcFxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRleHRXaWR0aCA+IDEwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRXaWR0aCA9IDEwMDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGV4dFdpZHRoIDwgODApIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSA4MDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5oZWF0bWFwWG1hcmdpbiA9IHRleHRXaWR0aDtcclxuICAgICAgICAgICAgbWFyZ2luLnRvcCA9IHRleHRXaWR0aDtcclxuICAgICAgICAgICAgY3VzdG9tU2l6ZSA9IHt9O1xyXG4gICAgICAgICAgICAvL3NldCBjb250YWluZXJcclxuICAgICAgICAgICAgY3VzdG9tU2l6ZS53aWR0aCA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICogMjA7XHJcbiAgICAgICAgICAgIGN1c3RvbVNpemUuaGVpZ2h0ID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLnZhbHVlcy5sZW5ndGggKiAyMDtcclxuXHJcbiAgICAgICAgICAgIGlmICghY2hhcnQuX3ZhcnMudG9nZ2xlTGVnZW5kKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZHVtbXlPYmogPSB7fTtcclxuICAgICAgICAgICAgICAgIGR1bW15T2JqLnZhbHVlcyA9IGNoYXJ0LmRhdGEuaGVhdERhdGE7XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai52YWx1ZXMuc29ydChmdW5jdGlvbiAoYSwgYikgeyByZXR1cm4gYSAtIGIgfSk7XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5sYWJlbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5taW4gPSBkdW1teU9iai52YWx1ZXNbMF07XHJcbiAgICAgICAgICAgICAgICBkdW1teU9iai5tYXggPSBkdW1teU9iai52YWx1ZXNbZHVtbXlPYmoudmFsdWVzLmxlbmd0aCAtIDFdO1xyXG5cclxuICAgICAgICAgICAgICAgIHRleHRXaWR0aCA9IGdldE1heFdpZHRoRm9yQXhpc0RhdGEoJ3knLCBkdW1teU9iaiwgY2hhcnQuX3ZhcnMsIGRpbWVuc2lvbnMsIG1hcmdpbiwgY2hhcnQuY2hhcnREaXYsIGNoYXJ0LmNvbmZpZy50eXBlKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmNvbmZpZy5oZWF0V2lkdGggPSBNYXRoLmNlaWwodGV4dFdpZHRoKSArIDMwO1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLmxlZnQgPSBtYXJnaW4ubGVmdCArIGNoYXJ0LmNvbmZpZy5oZWF0V2lkdGhcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGN1c3RvbVNpemUud2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCA8IGRpbWVuc2lvbnMud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5yaWdodCA9IHBhcnNlSW50KGRpbWVuc2lvbnMud2lkdGgpIC0gbWFyZ2luLmxlZnQgLSBjdXN0b21TaXplLndpZHRoIC0gMjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1c3RvbVNpemUuaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20gPCBkaW1lbnNpb25zLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IHBhcnNlSW50KGRpbWVuc2lvbnMuaGVpZ2h0KSAtIG1hcmdpbi50b3AgLSBjdXN0b21TaXplLmhlaWdodCAtIDEwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN1c3RvbVNpemUud2lkdGggKz0gbWFyZ2luLnJpZ2h0ICsgbWFyZ2luLmxlZnQ7XHJcbiAgICAgICAgICAgIGN1c3RvbVNpemUuaGVpZ2h0ICs9IG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9zZXQgY29udGFpbmVyIGF0dHJpYnV0ZXNcclxuICAgICAgICAvL1NldCBzdmcgc2l6ZSBiYXNlZCBvbiBjYWxjdWxhdGlvbiBtYXJnaW5zIG9yIGN1c3RvbSBzaXplIGlmIHNwZWNpZmllZFxyXG4gICAgICAgIGlmIChjdXN0b21TaXplICYmIGN1c3RvbVNpemUuaGFzT3duUHJvcGVydHkoJ2hlaWdodCcpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBjdXN0b21TaXplLmhlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLmhlaWdodCkgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5oZWlnaHQgPD0gNTApIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi50b3AgPSAxMDtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSAxMDtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLmhlaWdodCkgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLnhMYWJlbEZvbnRTaXplID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGN1c3RvbVNpemUgJiYgY3VzdG9tU2l6ZS5oYXNPd25Qcm9wZXJ0eSgnd2lkdGgnKSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIud2lkdGggPSBjdXN0b21TaXplLndpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLndpZHRoID0gcGFyc2VJbnQoZGltZW5zaW9ucy53aWR0aCkgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vYWRkIG1hcmdpbiBhbmQgY29udGFpbmVyIHRvIGNoYXJ0IGNvbmZpZyBvYmplY3RcclxuICAgICAgICBjaGFydC5jb25maWcubWFyZ2luID0gbWFyZ2luO1xyXG4gICAgICAgIGNoYXJ0LmNvbmZpZy5jb250YWluZXIgPSBjb250YWluZXI7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIG9sZCBzdmcgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgY2hhcnQuc3ZnID0gY2hhcnQuY2hhcnREaXYuc2VsZWN0KCdzdmcnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy9zdmcgbGF5ZXJcclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LmFwcGVuZCgnc3ZnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdlZGl0YWJsZS1zdmcnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgY29udGFpbmVyLndpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgY29udGFpbmVyLmhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY29udGFpbmVyJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBtYXJnaW4ubGVmdCArICcsJyArIChtYXJnaW4udG9wKSArICcpJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2NsdXN0ZXJncmFtJykge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZGF0YS5jaGFydERhdGFbMl0ubGVuZ3RoICogMTAgPiBjb250YWluZXIud2lkdGggfHwgY2hhcnQuZGF0YS5jaGFydERhdGFbMl0ubGVuZ3RoICogMTAgPiBjb250YWluZXIuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5zdmcgPSBjaGFydC5jaGFydERpdi5hcHBlbmQoJ3N2ZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2VkaXRhYmxlLXN2ZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgKGNoYXJ0LmRhdGEuY2hhcnREYXRhWzJdLmxlbmd0aCAqIDEwKSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgKGNoYXJ0LmRhdGEuY2hhcnREYXRhWzJdLmxlbmd0aCAqIDEwKSlcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgbWFyZ2luLmxlZnQgKyAnLCcgKyAobWFyZ2luLnRvcCkgKyAnKScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuc3ZnID0gY2hhcnQuY2hhcnREaXYuYXBwZW5kKCdzdmcnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdlZGl0YWJsZS1zdmcnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNvbnRhaW5lci53aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgY29udGFpbmVyLmhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgbWFyZ2luLmxlZnQgKyAnLCcgKyAobWFyZ2luLnRvcCkgKyAnKScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hhcnQuc3ZnID0gY2hhcnQuY2hhcnREaXYuYXBwZW5kKCdzdmcnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2VkaXRhYmxlLXN2ZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignd2lkdGgnLCBjb250YWluZXIud2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjb250YWluZXIuaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBtYXJnaW4ubGVmdCArICcsJyArIChtYXJnaW4udG9wKSArICcpJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1RPRE8gbW92ZSB0byBlZGl0IG1vZGVcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgY2hhcnQuY29sb3JCYWNrZ3JvdW5kKGNoYXJ0Ll92YXJzLmJhY2tncm91bmRDb2xvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKmdlbmVyYXRlWEF4aXNcclxuICAgICAqIGNyZWF0ZXMgeCBheGlzIG9uIHRoZSBzdmdcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIHhBeGlzRGF0YVxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZVhBeGlzKHhBeGlzRGF0YSwgdGlja3MpIHtcclxuICAgICAgICAvL2RlY2xhcmUgdmFyaWFibGVzXHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgeEF4aXMsXHJcbiAgICAgICAgICAgIC8vTmVlZCB0byBnZXRYQXhpc1NjYWxlIGVhY2ggdGltZSBzbyB0aGF0IGF4aXMgdXBkYXRlcyBvbiByZXNpemVcclxuICAgICAgICAgICAgeEF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY2hhcnQuY29uZmlnLmNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpLFxyXG4gICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICAgICAgY29udGFpbmVyV2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICB4QXhpc0NsYXNzID0gJ3hBeGlzTGFiZWxzIGVkaXRhYmxlIGVkaXRhYmxlLXhBeGlzIGVkaXRhYmxlLXRleHQnO1xyXG5cclxuICAgICAgICAvL2Fzc2lnbiBjc3MgY2xhc3MgZm9yIGVkaXQgbW9kZVxyXG4gICAgICAgIC8vaWYgdGhlIGF4aXMgaXMgbnVtYmVycyBhZGQgZWRpdGFibGUtbnVtXHJcbiAgICAgICAgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgeEF4aXNDbGFzcyArPSAnIGVkaXRhYmxlLW51bSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3JlbW92ZSBwcmV2aW91cyB4QXhpcyBjb250YWluZXIgaWYgaXRzIHRoZXJlXHJcbiAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnhBeGlzQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vU2F2ZSB0aGUgYXhpcyBzY2FsZSB0byBjaGFydCBvYmplY3RcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlID0geEF4aXNTY2FsZTtcclxuXHJcbiAgICAgICAgdmFyIHRpY2tTaXplID0gMDtcclxuICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICB0aWNrU2l6ZSA9IDU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NyZWF0ZSB4QXhpcyBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICAgICAgeEF4aXMgPSBkMy5heGlzVG9wKHhBeGlzU2NhbGUpXHJcbiAgICAgICAgICAgICAgICAudGlja1NpemUodGlja1NpemUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4QXhpc1NjYWxlKVxyXG4gICAgICAgICAgICAgICAgLnRpY2tTaXplKHRpY2tTaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aWNrcykge1xyXG4gICAgICAgICAgICB4QXhpcy50aWNrcyh0aWNrcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIGF4aXNIZWlnaHQgPSBjb250YWluZXJIZWlnaHQ7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHsvL0ZvciBhbnkgYXhlcyB0aGF0IGFyZSBvbiB0b3Agb2YgdGhlIGRhdGFcclxuICAgICAgICAgICAgYXhpc0hlaWdodCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgeENvbnRlbnQgPSBjaGFydC5zdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hBeGlzQ29udGFpbmVyJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgKGF4aXNIZWlnaHQpICsgJyknKTtcclxuXHJcbiAgICAgICAgdmFyIHhBeGlzR3JvdXAgPSB4Q29udGVudC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneEF4aXMnKVxyXG4gICAgICAgICAgICAuY2FsbCh4QXhpcyk7XHJcblxyXG4gICAgICAgIHZhciBmb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZSh4QXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBheGlzXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3QoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlV2lkdGgpO1xyXG5cclxuICAgICAgICAvL1N0eWxpbmcgZm9yIHRpY2tzXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJ2xpbmUnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBsYWJlbHMgZm9yIGVhY2ggcGllY2Ugb2YgZGF0YVxyXG4gICAgICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpLy9DdXN0b21pemUgdGhlIGNvbG9yIG9mIGF4aXMgbGFiZWxzXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIHhBeGlzQ2xhc3MpXHJcbiAgICAgICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAzKScpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJyB8fCBjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBsYWJlbCBmb3IgdGhlIGVudGlyZSBheGlzXHJcbiAgICAgICAgeENvbnRlbnQuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hMYWJlbCcpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneExhYmVsIGVkaXRhYmxlIGVkaXRhYmxlLXRleHQgZWRpdGFibGUtY29udGVudCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB4QXhpc0RhdGEubGFiZWw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBjb250YWluZXJXaWR0aCAvIDIgKyAnLCAzMyknKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipGb3JtYXRYQXhpc0xhYmVsc1xyXG4gICAgICpcclxuICAgICAqIElmIHgtYXhpcyBsYWJlbHMgYXJlIHRvbyBsb25nL292ZXJsYXBwaW5nLCB0aGV5IHdpbGwgYmUgaGlkZGVuL3Nob3J0ZW5lZFxyXG4gICAgICovXHJcbiAgICBmb3JtYXRYQXhpc0xhYmVscyhkYXRhTGVuZ3RoLCByZWN1cnNpb24pIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzaG93QXhpc0xhYmVscyA9IHRydWUsXHJcbiAgICAgICAgICAgIHhBeGlzTGVuZ3RoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgdGV4dFdpZHRoID0gW10sXHJcbiAgICAgICAgICAgIGZvcm1hdFZhbHVlVHlwZSA9IG51bGwsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlLFxyXG4gICAgICAgICAgICBheGlzVmFsdWVzID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcztcclxuXHJcbiAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICBmb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZShheGlzVmFsdWVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY3JlYXRlIGR1bW15IHRleHQgdG8gZGV0ZXJtaW5lIGNvbXB1dGVkIHRleHQgbGVuZ3RoIGZvciB0aGUgYXhpcyBsYWJlbHNcclxuICAgICAgICAvL25lY2Vzc2FyeSB0byBkbyB0aGlzIGJlY2F1c2UgYXhpcyBsYWJlbHMgZ2V0QkJveCgpIGlzIHJldHVybmluZyAwIHNpbmNlIHRoZXkgZG8gbm90IHNlZW0gdG8gYmUgZHJhd24geWV0XHJcbiAgICAgICAgY2hhcnQuc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5kdW1teVRleHQnKVxyXG4gICAgICAgICAgICAuZGF0YShheGlzVmFsdWVzKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gZDtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSBqdkZvcm1hdFZhbHVlKGQsIGZvcm1hdFZhbHVlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2FkZGluZyAxMHB4IGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNXaWR0aCA9IHRoaXMuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCkgKyAxMDtcclxuICAgICAgICAgICAgICAgIHRleHRXaWR0aC5wdXNoKHRoaXNXaWR0aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZSgpOyAvL3JlbW92ZSB0aGVtIGp1c3QgYWZ0ZXIgZGlzcGxheWluZyB0aGVtXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRXaWR0aC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdGV4dEVsZVdpZHRoID0gdGV4dFdpZHRoW2ldO1xyXG4gICAgICAgICAgICBpZiAodGV4dEVsZVdpZHRoID4geEF4aXNMZW5ndGggLyBkYXRhTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzaG93QXhpc0xhYmVscyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc2hvd0F4aXNMYWJlbHMpIHtcclxuICAgICAgICAgICAgaWYgKHJlY3Vyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsIGRhdGFMZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy54QXhpc0xhYmVscycpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhTGVuZ3RoID4gMSAmJiBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgIC8vcmVjdXJzaXZlbHkga2VlcCBkZWNyZWFzaW5nIHRvIGZpZ3VyZSBvdXQgdGlja3MgbGVuZ3RoIHRvIHJlcGFpbnQgdGhlIHhBeGlzIGlmIGl0cyBudW1lcmljXHJcbiAgICAgICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKChkYXRhTGVuZ3RoIC0gMSksIHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy54QXhpcycpLnNlbGVjdEFsbCgndGV4dCcpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2VuZXJhdGVZQXhpc1xyXG4gICAgICogY3JlYXRlcyB5IGF4aXMgb24gdGhlIHN2Z1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbXMgZ2VuZXJhdGVZQXhpc1xyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZVlBeGlzKHlBeGlzRGF0YSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHlBeGlzU2NhbGUgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIGNoYXJ0Ll92YXJzKSxcclxuICAgICAgICAgICAgeUF4aXNDbGFzcyA9ICd5QXhpc0xhYmVscyBlZGl0YWJsZSBlZGl0YWJsZS15QXhpcyBlZGl0YWJsZS10ZXh0JyxcclxuICAgICAgICAgICAgbWF4WUF4aXNMYWJlbFdpZHRoLFxyXG4gICAgICAgICAgICBudW1iZXJPZlRpY2tzID0gTWF0aC5mbG9vcihjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCAvIDE0KSxcclxuICAgICAgICAgICAgeUF4aXMsXHJcbiAgICAgICAgICAgIHlDb250ZW50LFxyXG4gICAgICAgICAgICB5QXhpc0dyb3VwLFxyXG4gICAgICAgICAgICBmb3JjZUZvcm1hdFR5cGVUbyA9IG51bGwsXHJcbiAgICAgICAgICAgIHlsYWJlbCA9ICcnO1xyXG5cclxuICAgICAgICAvL2Fzc2lnbiBjc3MgY2xhc3MgZm9yIGVkaXQgbW9kZVxyXG4gICAgICAgIC8vaWYgdGhlIGF4aXMgaXMgbnVtYmVycyBhZGQgZWRpdGFibGUtbnVtXHJcbiAgICAgICAgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgeUF4aXNDbGFzcyArPSAnIGVkaXRhYmxlLW51bSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1NhdmUgeSBheGlzIHNjYWxlIHRvIGNoYXJ0IG9iamVjdFxyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzU2NhbGUgPSB5QXhpc1NjYWxlO1xyXG5cclxuICAgICAgICAvL3JlbW92ZSBwcmV2aW91cyBzdmcgZWxlbWVudHNcclxuICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcueUF4aXNDb250YWluZXInKS5yZW1vdmUoKTtcclxuICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCd0ZXh0LnlMYWJlbCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICBpZiAobnVtYmVyT2ZUaWNrcyA+IDEwKSB7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXJPZlRpY2tzIDwgMjApIHtcclxuICAgICAgICAgICAgICAgIG51bWJlck9mVGlja3MgPSAxMDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChudW1iZXJPZlRpY2tzIDwgMzApIHtcclxuICAgICAgICAgICAgICAgIG51bWJlck9mVGlja3MgLz0gMjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG51bWJlck9mVGlja3MgPSAxNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9JZiBhbGwgeS1heGlzIHZhbHVlcyBhcmUgdGhlIHNhbWUsIG9ubHkgc2hvdyBhIHRpY2sgZm9yIHRoYXQgdmFsdWUuIElmIHZhbHVlIGlzIDEsIGRvbid0IHNob3cgYW55IGRlY2ltYWwgcGxhY2VzXHJcbiAgICAgICAgaWYgKHlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoID4gMCAmJiAhIXlBeGlzRGF0YS52YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoYSA9PT0gYikgPyBhIDogTmFOOyB9KSkge1xyXG4gICAgICAgICAgICBudW1iZXJPZlRpY2tzID0gMTtcclxuICAgICAgICAgICAgaWYgKHlBeGlzRGF0YS52YWx1ZXNbMF0gPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGZvcmNlRm9ybWF0VHlwZVRvID0gJ25vZGVjaW1hbHMnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHlBeGlzID0gZDMuYXhpc0xlZnQoKVxyXG4gICAgICAgICAgICAudGlja3MobnVtYmVyT2ZUaWNrcykvL0xpbmsgdG8gRDMuc3ZnLmF4aXMgb3B0aW9uczogaHR0cHM6Ly9naXRodWIuY29tL21ib3N0b2NrL2QzL3dpa2kvU1ZHLUF4ZXNcclxuICAgICAgICAgICAgLnNjYWxlKHlBeGlzU2NhbGUpLy9TZXRzIHRoZSBzY2FsZSB0byB1c2UgaW4gdGhlIGF4aXNcclxuICAgICAgICAgICAgLnRpY2tTaXplKDUpLy9TZXRzIHRoZSB0aGlja25lc3Mgb2YgdGhlIGF4aXMgbGluZVxyXG4gICAgICAgICAgICAudGlja1BhZGRpbmcoNSk7XHJcblxyXG4gICAgICAgIC8vSGlkZSBBeGlzIHZhbHVlcyBpZiBuZWNlc3NhcnlcclxuICAgICAgICBpZiAoeUF4aXNEYXRhLmhpZGVWYWx1ZXMpIHtcclxuICAgICAgICAgICAgeUF4aXMudGlja0Zvcm1hdCgnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy5kaXNwbGF5WUF4aXNMYWJlbCkge1xyXG4gICAgICAgICAgICB5bGFiZWwgPSB5QXhpc0RhdGEubGFiZWxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHlDb250ZW50ID0gY2hhcnQuc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5QXhpc0NvbnRhaW5lcicpO1xyXG5cclxuICAgICAgICB5Q29udGVudC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneUxhYmVsJylcclxuICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5TGFiZWwgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50JylcclxuICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICgtY2hhcnQuY29uZmlnLm1hcmdpbi5sZWZ0ICsgMTApICsgJywgLTEwKScpXHJcbiAgICAgICAgICAgIC50ZXh0KHlsYWJlbClcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwtb3BhY2l0eScsIDEpO1xyXG5cclxuICAgICAgICB5QXhpc0dyb3VwID0geUNvbnRlbnQuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3lBeGlzJyk7XHJcblxyXG5cclxuICAgICAgICB5QXhpc0dyb3VwXHJcbiAgICAgICAgICAgIC5jYWxsKHlBeGlzKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIGZvciBBeGlzXHJcbiAgICAgICAgeUF4aXNHcm91cC5zZWxlY3QoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuc3Ryb2tlV2lkdGgpO1xyXG5cclxuICAgICAgICBtYXhZQXhpc0xhYmVsV2lkdGggPSAwO1xyXG5cclxuICAgICAgICBpZiAoeUF4aXNEYXRhLmhpZGVWYWx1ZXMpIHtcclxuICAgICAgICAgICAgLy9TdHlsaW5nIGZvciB0aWNrc1xyXG4gICAgICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9TdHlsaW5nIGZvciB0aWNrc1xyXG4gICAgICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLnN0cm9rZSk7XHJcbiAgICAgICAgICAgIC8vU3R5bGluZyBmb3IgZGF0YSBsYWJlbHMgb24gYXhpc1xyXG4gICAgICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0Ll92YXJzLmZvbnRDb2xvcikvL0N1c3RvbWl6ZSB0aGUgY29sb3Igb2YgYXhpcyBsYWJlbHNcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIHlBeGlzQ2xhc3MpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3JvdGF0ZSgwKScpLy9BZGQgbG9naWMgdG8gcm90YXRlIGF4aXMgYmFzZWQgb24gc2l6ZSBvZiB0aXRsZVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZm9ybWF0VmFsdWVUeXBlID0ganZGb3JtYXRWYWx1ZVR5cGUoeUF4aXNEYXRhLnZhbHVlcyk7XHJcblxyXG4gICAgICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMTM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGQuc3Vic3RyaW5nKDAsIG1heExlbmd0aCkgKyAnLi4uJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JjZUZvcm1hdFR5cGVUbyAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXRWYWx1ZVR5cGUgPSBmb3JjZUZvcm1hdFR5cGVUbztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp2Rm9ybWF0VmFsdWUoY3VycmVudCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqWzBdLmdldEJCb3goKS53aWR0aCA+IG1heFlBeGlzTGFiZWxXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZQXhpc0xhYmVsV2lkdGggPSBqWzBdLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKG1heFlBeGlzTGFiZWxXaWR0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLnlMYWJlbFdpZHRoID0gTWF0aC5jZWlsKG1heFlBeGlzTGFiZWxXaWR0aCkgKyAyMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogTGVnZW5kIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgZ2VuZXJhdGVMZWdlbmQobGVnZW5kRGF0YSwgZHJhd0Z1bmMpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmc7XHJcblxyXG4gICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy9SZXR1cm5zIHRoZSBsZWdlbmQgcmVjdGFuZ2xlcyB0aGF0IGFyZSB0b2dnbGVkIG9uL29mZlxyXG4gICAgICAgIHZhciBsZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKTtcclxuICAgICAgICBpZiAoZHJhd0Z1bmMpIHtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIGRyYXdGdW5jLCBsZWdlbmREYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5fdmFycy50aHJlc2hvbGRzICE9PSAnbm9uZScgJiYgY2hhcnQuX3ZhcnMudGhlc2hvbGRMZWdlbmQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2FyZWEnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCA+IDMwMCAmJiBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoID4gMzAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVUaHJlc2hvbGRMZWdlbmQoY2hhcnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQtY2Fyb3VzZWwnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZFxyXG4gICAgICpcclxuICAgICAqIGNyZWF0ZXMgYW5kIGRyYXdzIGEgdmVydGljYWwgbGVnZW5kIG9uIHRoZSBzdmcgZWxlbWVudFxyXG4gICAgICogQHBhcmFtcyBzdmcsIGxlZ2VuZERhdGEsIG9wdGlvbnMsIGNvbnRhaW5lciwgY2hhcnREYXRhLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY2hhcnRUeXBlXHJcbiAgICAgKiBAcmV0dXJucyB7e319XHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlVmVydGljYWxMZWdlbmQocGFpbnRGdW5jKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YTtcclxuXHJcbiAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAvL1JldHVybnMgdGhlIGxlZ2VuZCByZWN0YW5nbGVzIHRoYXQgYXJlIHRvZ2dsZWQgb24vb2ZmXHJcbiAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBwYWludEZ1bmMpO1xyXG4gICAgICAgIGlmIChwYWludEZ1bmMgIT09ICdnZW5lcmF0ZVBhY2snKSB7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBwYWludEZ1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjaGFydC5fdmFycy50b2dnbGVMZWdlbmQpIHtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kLWNhcm91c2VsJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEdlbmVyYXRlcyBhIGNsaXAgcGF0aCB0aGF0IGNvbnRhaW5zIHRoZSBjb250ZW50cyBvZiB0aGUgY2hhcnQgYXJlYSB0byB0aGUgdmlldyBvZiB0aGUgY2hhcnQgYXJlYSBjb250YWluZXJcclxuICAgICAqIGkuZSAtIGRvbid0IHdhbnQgYmFycyBnb2luZyBiZWxvdyB0aGUgeCBheGlzXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlQ2xpcFBhdGgoKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgICAgICB0eXBlID0gY2hhcnQuY29uZmlnLnR5cGU7XHJcblxyXG4gICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAuYXBwZW5kKCdjbGlwUGF0aCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdpZCcsICdjbGlwJylcclxuICAgICAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAwKVxyXG4gICAgICAgICAgICAuYXR0cignd2lkdGgnLCBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQpO1xyXG5cclxuICAgICAgICAvL0JyZWFrIHRoaXMgb3V0IGludG8gbG9naWMgZm9yIGFsbCBvdGhlciB2aXp6ZXMgdGhhdCBoYXZlIG92ZXJmbG93IGlzc3Vlc1xyXG4gICAgICAgIHZhciBjb250YWluZXJOYW1lID0gJy4nICsgdHlwZSArICctY29udGFpbmVyJztcclxuICAgICAgICBzdmdcclxuICAgICAgICAgICAgLnNlbGVjdChjb250YWluZXJOYW1lKVxyXG4gICAgICAgICAgICAuYXR0cignY2xpcC1wYXRoJywgJ3VybCgjY2xpcCknKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUaHJlc2hvbGQoZGF0YSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHRocmVzaG9sZHMgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzLFxyXG4gICAgICAgICAgICBsZW5ndGggPSB0aHJlc2hvbGRzID8gT2JqZWN0LmtleXModGhyZXNob2xkcykubGVuZ3RoIDogMDtcclxuXHJcbiAgICAgICAgaWYgKHRocmVzaG9sZHMgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSB0aHJlc2hvbGRzW2ldO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0eXBlb2YgZGF0YSA9PSBcImRhdGVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA+PSBOdW1iZXIodGhyZXNob2xkLnRocmVzaG9sZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3JlY3QtJyArIGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVMaW5lVGhyZXNob2xkKCkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICAgICAgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICAgICAgdGhyZXNob2xkcyA9IGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMsXHJcbiAgICAgICAgICAgIGxlbmd0aCA9IE9iamVjdC5rZXlzKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgdmFyIHggPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlO1xyXG4gICAgICAgIHZhciB5ID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNTY2FsZTtcclxuXHJcbiAgICAgICAgaWYgKHRocmVzaG9sZHMgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gdGhyZXNob2xkc1tpXTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgdGhyZXNob2xkLnRocmVzaG9sZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB4KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB4KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBoZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIHkodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB5KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb2xvckJhY2tncm91bmQoY29sb3IpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjaGFydERpdiA9IGNoYXJ0LmNoYXJ0RGl2O1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIGNoYXJ0RGl2LnN0eWxlKCdiYWNrZ3JvdW5kLWNvbG9yJywgJycgKyBjb2xvcik7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICAvKipkaXNwbGF5VmFsdWVzXHJcbiAgICAgKlxyXG4gICAgICogdG9nZ2xlcyBkYXRhIHZhbHVlcyB0aGF0IGFyZSBkaXNwbGF5ZWQgb24gdGhlIHNwZWNpZmljIHR5cGUgb2YgY2hhcnQgb24gdGhlIHN2Z1xyXG4gICAgICogQHBhcmFtcyBzdmcsIGJhckRhdGEsIG9wdGlvbnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXJcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgZGlzcGxheVZhbHVlcygpIHtcclxuICAgICAgICAvL1RPRE8gcmVjZWl2ZSBkYXRhIHNpbWlsYXIgdG8gZ2VuZXJhdGVCYXJcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgICAgIGJhckRhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgICAgIGxlZ2VuZE9wdGlvbnMgPSBjaGFydC5fdmFycy5sZWdlbmRPcHRpb25zO1xyXG5cclxuICAgICAgICAvL0lmIHNlcmllcyBpcyBmbGlwcGVkLCB1c2UgZmxpcHBlZCBkYXRhOyBpbml0aWFsaXplIHdpdGggdGhlIGZ1bGwgZGF0YSBzZXRcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgICAgICBiYXJEYXRhID0gY2hhcnQuZmxpcHBlZERhdGEuY2hhcnREYXRhO1xyXG4gICAgICAgICAgICBsZWdlbmRPcHRpb25zID0gY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZE9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcuZGlzcGxheVZhbHVlQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IFtdOy8vT25seSBzdG9yZXMgdmFsdWVzIGZvciBiYXJzXHJcbiAgICAgICAgICAgIHZhciBiYXJEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShiYXJEYXRhKSk7Ly9Db3B5IG9mIGJhckRhdGFcclxuXHJcbiAgICAgICAgICAgIGlmIChsZWdlbmRPcHRpb25zKSB7Ly9DaGVja2luZyB3aGljaCBsZWdlbmQgZWxlbWVudHMgYXJlIHRvZ2dsZWQgb24gcmVzaXplXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJhckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZE9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxlZ2VuZE9wdGlvbnNbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGJhckRhdGFOZXdbal1bbGVnZW5kT3B0aW9uc1tpXS5lbGVtZW50XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiYXJEYXRhTmV3Lmxlbmd0aDsgaSsrKSB7Ly9iYXJEYXRhTmV3IHVzZWRcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSB2YWx1ZXMoYmFyRGF0YU5ld1tpXSwgY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLCBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgICAgICAgICBkYXRhLnB1c2godmFsLnNsaWNlKDAsIGJhckRhdGFOZXdbaV0ubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwb3NDYWxjID0gZ2V0UG9zQ2FsY3VsYXRpb25zKGJhckRhdGFOZXcsIGNoYXJ0Ll92YXJzLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcbiAgICAgICAgICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICAgICAgICAgIC8vdmFyIGZvcm1hdCA9IGdldEZvcm1hdEV4cHJlc3Npb24oXCJkaXNwbGF5VmFsdWVzXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgIC8vQWRkIGEgY29udGFpbmVyIGZvciBkaXNwbGF5IHZhbHVlcyBvdmVyIGVhY2ggYmFyIGdyb3VwXHJcbiAgICAgICAgICAgICAgICB2YXIgZGlzcGxheVZhbHVlc0dyb3VwID1cclxuICAgICAgICAgICAgICAgICAgICBzdmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWVzR3JvdXAnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRhdGEoZGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWVzR3JvdXAnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSAoeS5wYWRkaW5nT3V0ZXIoKSAqIHkuc3RlcCgpKSArICh5LnN0ZXAoKSAqIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoMCwnICsgdHJhbnNsYXRlICsgJyknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5VmFsdWVzR3JvdXAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHggcG9zaXRpb24gb2YgdGhlIGJhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMud2lkdGgoZCwgaSwgaikgKyBwb3NDYWxjLngoZCwgaSwgaik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vc2V0cyB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgYmFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnkoZCwgaSwgaikgKyAocG9zQ2FsYy5oZWlnaHQoZCwgaSwgaikgLyAyKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkeScsICcuMzVlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0Ll92YXJzLmZvbnRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVGV4dCA9IE1hdGgucm91bmQoZCAqIDEwMCkgLyAxMDA7Ly9yb3VuZCB0byAyIGRlY2ltYWxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkZvcm1hdFZhbHVlKHJldHVyblRleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vQWRkIGEgZGlzcGxheSB2YWx1ZXMgY29udGFpbmVyIG92ZXIgZWFjaCBiYXIgZ3JvdXBcclxuICAgICAgICAgICAgICAgIHZhciBkaXNwbGF5VmFsdWVzR3JvdXAgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZXNHcm91cCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSAoeC5wYWRkaW5nT3V0ZXIoKSAqIHguc3RlcCgpKSArICh4LnN0ZXAoKSAqIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgdHJhbnNsYXRlICsgJywwKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhY2tUb3RhbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGRpc3BsYXlWYWx1ZXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vc2V0cyB0aGUgeCBwb3NpdGlvbiBvZiB0aGUgYmFyKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCgocG9zQ2FsYy54KGQsIGksIGopICsgKHBvc0NhbGMud2lkdGgoZCwgaSwgaikgLyAyKSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChwb3NDYWxjLnkoZCwgaSwgaikpIC0gMzsvLysgcG9zQ2FsYy5oZWlnaHQoZCwgaSwgaikgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuZm9udENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zdGFja1RvZ2dsZSAmJiBjaGFydC5fdmFycy5kaXNwbGF5VmFsdWVzU3RhY2tBc1BlcmNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgai5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSBqW2luZGV4XS5fX2RhdGFfXztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5kaXNwbGF5VmFsdWVzU3RhY2tUb3RhbCAmJiBpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IGVudGVyIHRoaXMgb25lIHRpbWUgcGVyIHN0YWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2tUb3RhbHMucHVzaCh0b3RhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShkIC8gdG90YWwsICdwZXJjZW50Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkZvcm1hdFZhbHVlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc3RhY2tUb2dnbGUgJiYgY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlc1N0YWNrVG90YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhY2tDb3VudGVyID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlTdGFja1RvdGFsJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSAoeC5wYWRkaW5nT3V0ZXIoKSAqIHguc3RlcCgpKSArICh4LnN0ZXAoKSAqIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIHRyYW5zbGF0ZSArICcsMCknO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHggcG9zaXRpb24gb2YgdGhlIGJhcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKChwb3NDYWxjLngoZCwgaSwgaikgKyAocG9zQ2FsYy53aWR0aChkLCBpLCBqKSAvIDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGksIGopIHsgLy9zZXRzIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHBvc0NhbGMueShkLCBpLCBqKSkgLSAxODsvLysgcG9zQ2FsYy5oZWlnaHQoZCwgaSwgaikgLSA1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuZm9udENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlMZW5ndGggPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4TGVuZ3RoID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXhNYXggPSB5TGVuZ3RoIC8geExlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdGFjayA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGkgKyAxKSA9PT0gaW5kZXhNYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGluZGV4TWF4OyBqKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sgKz0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLnZhbHVlc1tpbmRleE1heCAqIHN0YWNrQ291bnRlciArIGpdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFja0NvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShzdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcuZGlzcGxheVZhbHVlQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdHcmlkbGluZXMoYXhpc0RhdGEpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG5cclxuICAgICAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCdnLmdyaWRMaW5lcycpLnJlbW92ZSgpO1xyXG4gICAgICAgIGNoYXJ0LnN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZ3JpZExpbmVzJyk7XHJcbiAgICAgICAgdmFyIHNjYWxlRGF0YTtcclxuXHJcbiAgICAgICAgLy9EZXRlcm1pbmUgaWYgZ3JpZGxpbmVzIGFyZSBob3Jpem9udGFsIG9yIHZlcnRpY2FsIGJhc2VkIG9uIHJvdGF0ZUF4aXNcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2dhbnR0JyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgIHZhciBncmlkTGluZUhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgeEF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIGF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZURhdGEgPSBheGlzRGF0YS52YWx1ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInIHx8IGF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IHhBeGlzU2NhbGUudGlja3MoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3QoJy5ncmlkTGluZXMnKS5zZWxlY3RBbGwoJy5ob3Jpem9udGFsR3JpZCcpLmRhdGEoc2NhbGVEYXRhKS5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdob3Jpem9udGFsR3JpZCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geEF4aXNTY2FsZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhBeGlzU2NhbGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ3JpZExpbmVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3NoYXBlLXJlbmRlcmluZycsICdjcmlzcEVkZ2VzJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuZ3JpZExpbmVTdHJva2VXaWR0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGdyaWRMaW5lV2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoO1xyXG4gICAgICAgICAgICB2YXIgeUF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIGF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZURhdGEgPSBheGlzRGF0YS52YWx1ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInIHx8IGF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IHlBeGlzU2NhbGUudGlja3MoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3QoJy5ncmlkTGluZXMnKS5zZWxlY3RBbGwoJy5ob3Jpem9udGFsR3JpZCcpLmRhdGEoc2NhbGVEYXRhKS5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdob3Jpem9udGFsR3JpZCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyaWRMaW5lV2lkdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5QXhpc1NjYWxlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geUF4aXNTY2FsZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc2hhcGUtcmVuZGVyaW5nJywgJ2NyaXNwRWRnZXMnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcilcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5ncmlkTGluZVN0cm9rZVdpZHRoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2V0QmFyRGF0YUZyb21PcHRpb25zXHJcbiAgICAqIF5eIG5vdCBqdXN0IGEgYmFyIGZ1bmN0aW9uLCBsaW5lIGFuZCBhcmVhIGFsc28gdXNlIGl0XHJcbiAgICAqXHJcbiAgICAqIEFzc2lnbnMgdGhlIGNvcnJlY3QgY2hhcnQgZGF0YSB0byBjdXJyZW50IGRhdGEgdXNpbmcgdGhlIGNoYXJ0Lm9wdGlvbnNcclxuICAgICovXHJcbiAgICBnZXRCYXJEYXRhRnJvbU9wdGlvbnMoKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICAvL2NyZWF0aW5nIHRoZXNlIHR3byBkYXRhIHZhcmlhYmxlcyB0byBhdm9pZCBoYXZpbmcgdG8gcmVmZXJlbmNlIHRoZSBjaGFydCBvYmVqY3QgZXZlcnl0aW1lXHJcbiAgICAgICAgdmFyIGZsaXBwZWQgPSBjaGFydC5mbGlwcGVkRGF0YTtcclxuICAgICAgICB2YXIgZGF0YSA9IGNoYXJ0LmRhdGE7XHJcblxyXG4gICAgICAgIHZhciBkYXRhT2JqID0ge307XHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgZGF0YU9iai5jaGFydERhdGEgPSBmbGlwcGVkLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgZGF0YU9iai5sZWdlbmREYXRhID0gZmxpcHBlZC5sZWdlbmREYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGZsaXBwZWQuZGF0YVRhYmxlO1xyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5jb2xvciA9IGZsaXBwZWQuY29sb3I7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGZsaXBwZWQueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBmbGlwcGVkLnhBeGlzRGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZmxpcHBlZC54QXhpc0RhdGE7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGZsaXBwZWQueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGF0YU9iai5jaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgZGF0YU9iai5sZWdlbmREYXRhID0gZGF0YS5sZWdlbmREYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGRhdGEuZGF0YVRhYmxlO1xyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5jb2xvciA9IGRhdGEuY29sb3I7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBkYXRhLnhBeGlzRGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZGF0YS54QXhpc0RhdGE7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZGF0YU9iajtcclxuICAgIH1cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFV0aWxpdHkgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvKipoaWdobGlnaHRJdGVtc1xyXG4gICAgICpcclxuICAgICAqIGhpZ2hsaWdodHMgaXRlbXMgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAgICAgKiBAcGFyYW1zIGl0ZW1zLCBzdmdcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgaGlnaGxpZ2h0SXRlbShpdGVtcywgdGFnLCBoaWdobGlnaHRJbmRleCwgaGlnaGxpZ2h0VXJpKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnO1xyXG5cclxuICAgICAgICAvL1RPRE8gcmVtb3ZlIGlmIHN0YXRlbWVudHNcclxuICAgICAgICBpZiAoaGlnaGxpZ2h0SW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdwaWUnKSB7XHJcbiAgICAgICAgICAgICAgICAvL3NldCBhbGwgY2lyY2xlcyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnBpZS1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5waWVCb3JkZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEpO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IHBpZSBzbGljZXNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5waWUtY29udGFpbmVyJylcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKHRhZylcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKCcuaGlnaGxpZ2h0LWNsYXNzLScgKyBoaWdobGlnaHRJbmRleClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzY2F0dGVycGxvdCcpIHtcclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsbCBjaXJjbGVzIHN0cm9rZSB3aWR0aCB0byAwXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuc2NhdHRlci1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBzY2F0dGVyIGRvdHNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5zY2F0dGVyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpLmZpbHRlcignLnNjYXR0ZXItY2lyY2xlLScgKyBoaWdobGlnaHRJbmRleClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlcldpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoaGlnaGxpZ2h0VXJpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2JhcicpIHtcclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsbCBiYXJzIHN0cm9rZSB3aWR0aCB0byAwXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IGJhcnNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5iYXItY29udGFpbmVyJykuc2VsZWN0QWxsKCcuaGlnaGxpZ2h0LWNsYXNzLScgKyBoaWdobGlnaHRVcmkpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmhpZ2hsaWdodEJvcmRlckNvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJXaWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICAgICAgLy9zZXQgYWxsIGNpcmNsZXMgc3Ryb2tlIHdpZHRoIHRvIDBcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgICAgICAgICAgLy9oaWdobGlnaHQgbmVjZXNzYXJ5IGNpcmxjZXNcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCh0YWcpLmZpbHRlcignLmhpZ2hsaWdodC1jbGFzcy0nICsgaGlnaGxpZ2h0VXJpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC5fdmFycy5oaWdobGlnaHRCb3JkZXJDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQuX3ZhcnMuaGlnaGxpZ2h0Qm9yZGVyV2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25lZWQgdG8gcGFzcyBoaWdobGlnaHQgaW5kZXggdG8gaGlnaGxpZ2h0IGl0ZW0nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAqQGRlc2MgUmVtb3ZlcyBoaWdobGlnaHRzIHRoYXQgd2VyZSBhcHBsaWVkIHdpdGggcmVsYXRlZCBpbnNpZ2h0c1xyXG4gICAgKlxyXG4gICAgKi9cclxuICAgIHJlbW92ZUhpZ2hsaWdodCgpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzdmcgPSBjaGFydC5zdmc7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJykge1xyXG4gICAgICAgICAgICAvL3NldCBhbGwgY2lyY2xlcyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICBzdmcuc2VsZWN0KCcucGllLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgncGF0aCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMucGllQm9yZGVyKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzY2F0dGVycGxvdCcpIHtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnNjYXR0ZXItY29udGFpbmVyJykuc2VsZWN0QWxsKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5iYXItY29udGFpbmVyJykuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdsaW5lJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5saW5lLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGp2Rm9ybWF0VmFsdWUodmFsLCBmb3JtYXRUeXBlKSB7XHJcbiAgICBpZiAoIWlzTmFOKHZhbCkpIHtcclxuICAgICAgICB2YXIgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KCcuMGYnKTtcclxuXHJcbiAgICAgICAgaWYgKGZvcm1hdFR5cGUgPT09ICdiaWxsaW9ucycpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTkpICsgJ0InO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ21pbGxpb25zJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlNikgKyAnTSc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXRUeXBlID09PSAndGhvdXNhbmRzJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlMykgKyAnSyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXRUeXBlID09PSAnZGVjaW1hbHMnKSB7XHJcbiAgICAgICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLjJmJyk7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdFR5cGUgPT09ICdub2RlY2ltYWxzJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXRUeXBlID09PSAncGVyY2VudCcpIHtcclxuICAgICAgICAgICAgbGV0IHAgPSBNYXRoLm1heCgwLCBkMy5wcmVjaXNpb25GaXhlZCgwLjA1KSAtIDIpO1xyXG4gICAgICAgICAgICBsZXQgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLicgKyBwICsgJyUnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cHJlc3Npb24odmFsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdFR5cGUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodmFsID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKE1hdGguYWJzKHZhbCkgPj0gMTAwMDAwMDAwMCkge1xyXG4gICAgICAgICAgICAvL0JpbGxpb25zXHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWU5KSArICdCJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHZhbCkgPj0gMTAwMDAwMCkge1xyXG4gICAgICAgICAgICAvL01pbGxpb25zXHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWU2KSArICdNJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHZhbCkgPj0gMTAwMCkge1xyXG4gICAgICAgICAgICAvL1Rob3VzYW5kc1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlMykgKyAnSyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyh2YWwpIDw9IDEwKSB7XHJcbiAgICAgICAgICAgIC8vMiBkZWNpbWFsc1xyXG4gICAgICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJy4yZicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHRoZSBzZXQgb2YgdmFsdWVzIHRoYXQgeW91IHdhbnQgdG8gZm9ybWF0IHVuaWZvcm1seVxyXG4gKiBAcmV0dXJuICcnIHRoZSBsZXZlbCBvZiBmb3JtYXR0aW5nIGZvciB0aGUgZ3JvdXAgb2YgZGF0YVxyXG4gKiBQcm9ibGVtIHdpdGgganZGb3JtYXRWYWx1ZSBmdW5jdGlvbiBpcyB0aGF0IGlmIHlvdSBwYXNzIGluIHZhbHVlcyAxMCwgMjAuLi4gOTAsIDEwMCwgMTEyMCwgMTIwXHJcbiAqIHlvdSB3aWxsIGdldCB0aGUgZm9ybWF0cyAxMC4wMCwgMjAuMDAgLi4uLiAxMDAsIDExMCwgMTIwIHdoZW4geW91IHdhbnQgMTAsIDIwLCAuLi4gMTAwLCAxMTBcclxuICogLS1Gb3JtYXQgdGhlIHZhbHVlIGJhc2VkIG9mZiBvZiB0aGUgaGlnaGVzdCBudW1iZXIgaW4gdGhlIGdyb3VwXHJcbiAqL1xyXG5mdW5jdGlvbiBqdkZvcm1hdFZhbHVlVHlwZSh2YWx1ZXMsIGRhdGFUeXBlKSB7XHJcbiAgICBpZiAodmFsdWVzICE9IG51bGwgJiYgZGF0YVR5cGUgIT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyk7XHJcbiAgICAgICAgLy9BZnRlciBnZXR0aW5nIHRoZSBtYXgsIGNoZWNrIHRoZSBtaW5cclxuICAgICAgICB2YXIgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKTtcclxuICAgICAgICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XHJcbiAgICAgICAgdmFyIGluY3JlbWVtbnQgPSBNYXRoLmFicyhNYXRoLnJvdW5kKHJhbmdlIC8gMTApKTsvLzEwIGJlaW5nIHRoZSBudW1iZXIgb2YgYXhpcyBsYWJlbHMgdG8gc2hvd1xyXG5cclxuICAgICAgICBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTAwMDAwMDAwMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2JpbGxpb25zJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpID49IDEwMDAwMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdtaWxsaW9ucyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbmNyZW1lbW50KSA+PSAxMDAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndGhvdXNhbmRzJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpIDw9IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZGVjaW1hbHMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdub2RlY2ltYWxzJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcbi8qKmdldEZvcm1hdEV4cHJlc3Npb25cclxuICpcclxuICogQGRlc2MgcmV0dXJucyB0aGUgZDMgZm9ybWF0IGV4cHJlc3Npb24gZm9yIGEgZ2l2ZW4gb3B0aW9uXHJcbiAqIEBwYXJhbXMgb3B0aW9uXHJcbiAqIEByZXR1cm5zIHN0cmluZyBleHByZXNzaW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGb3JtYXRFeHByZXNzaW9uKG9wdGlvbikge1xyXG4gICAgdmFyIGV4cHJlc3Npb24gPSAnJyxcclxuICAgICAgICBwO1xyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2N1cnJlbmN5Jykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJyQsJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnZml4ZWRDdXJyZW5jeScpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcoJC4yZicpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ3BlcmNlbnQnKSB7XHJcbiAgICAgICAgcCA9IE1hdGgubWF4KDAsIGQzLnByZWNpc2lvbkZpeGVkKDAuMDUpIC0gMik7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLicgKyBwICsgJyUnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdtaWxsaW9ucycpIHtcclxuICAgICAgICBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXRQcmVmaXgoJy4nICsgcCwgMS4zZTYpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2NvbW1hcycpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcsLjBmJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnbm9uZScgfHwgb3B0aW9uID09PSAnJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJycpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2Rpc3BsYXlWYWx1ZXMnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLC4yZicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBleHByZXNzaW9uO1xyXG59XHJcblxyXG4vKipnZXRUb2dnbGVkRGF0YVxyXG4gKlxyXG4gKiBHZXRzIHRoZSBoZWFkZXJzIG9mIHRoZSBkYXRhIHRvIGJlIGRyYXduIGFuZCBmaWx0ZXJzIHRoZSBkYXRhIGJhc2VkIG9uIHRoYXRcclxuICogQHBhcmFtcyBjaGFydERhdGEsIGRhdGFIZWFkZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUb2dnbGVkRGF0YShjaGFydERhdGEsIGRhdGFIZWFkZXJzKSB7XHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBjaGFydERhdGEubGVnZW5kRGF0YSk7XHJcbiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2hhcnREYXRhLmNoYXJ0RGF0YSkpO1xyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGFbal1bbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8qKmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVxyXG4gKlxyXG4gKiBHZXRzIGFuIGFycmF5IG9mIGxlZ2VuZCBlbGVtZW50cyB3aXRoIHRydWUvZmFsc2UgdGFncyBmb3IgaWYgdG9nZ2xlZFxyXG4gKiBAcGFyYW1zIHNlbGVjdGVkSGVhZGVycywgYWxsSGVhZGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KHNlbGVjdGVkSGVhZGVycywgYWxsSGVhZGVycykge1xyXG4gICAgdmFyIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxIZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5LnB1c2goeyBlbGVtZW50OiBhbGxIZWFkZXJzW2ldIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWxlY3RlZEhlYWRlcnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBzZWxlY3RlZEhlYWRlcnNbal0pIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlTGVnZW5kRWxlbWVudHNcclxuICpcclxuICogQ3JlYXRlcyB0aGUgbGVnZW5kIGVsZW1lbnRzLS1yZWN0YW5nbGVzIGFuZCBsYWJlbHNcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbGVnZW5kLFxyXG4gICAgICAgIGxlZ2VuZFJvdyA9IDAsXHJcbiAgICAgICAgbGVnZW5kQ29sdW1uID0gMCxcclxuICAgICAgICBsZWdlbmREYXRhTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGg7XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRJbmRleCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPSBNYXRoLmZsb29yKGxlZ2VuZERhdGFMZW5ndGggLyBjaGFydC5fdmFycy5sZWdlbmRNYXggLSAwLjAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2lmIGxlZ2VuZCBoZWFkZXJzIGRvbid0IGV4aXN0LCBzZXQgdGhlbSBlcXVhbCB0byBsZWdlbmQgZGF0YVxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzICYmICFjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobGVnZW5kRGF0YSkpO1xyXG4gICAgfSBlbHNlIGlmICghY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgJiYgY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsZWdlbmREYXRhKSk7XHJcbiAgICB9XHJcbiAgICAvL1NldCBsZWdlbmQgZWxlbWVudCB0b2dnbGUgYXJyYXkgYmFzZWQgb24gaWYgc2VyaWVzIGlzIGZsaXBwZWRcclxuICAgIGlmICghY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIHZhciBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycywgbGVnZW5kRGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBmbGlwcGVkTGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBsZWdlbmQgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJyk7XHJcblxyXG4gICAgLy9BZGRpbmcgY29sb3JlZCByZWN0YW5nbGVzIHRvIHRoZSBsZWdlbmRcclxuICAgIHZhciBsZWdlbmRSZWN0YW5nbGVzID0gbGVnZW5kLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmRSZWN0JylcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRDb2x1bW4gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRQb3MgPSAyMDAgKiBsZWdlbmRDb2x1bW47XHJcbiAgICAgICAgICAgIGxlZ2VuZENvbHVtbisrO1xyXG4gICAgICAgICAgICByZXR1cm4gbGVnZW5kUG9zO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSAlIChjaGFydC5fdmFycy5sZWdlbmRNYXggLyAzKSA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgJSBjaGFydC5fdmFycy5sZWdlbmRNYXggPT09IDAgJiYgaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZFJvdyA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIChjb250YWluZXIuaGVpZ2h0ICsgMTApICsgKDE1ICogKGxlZ2VuZFJvdyArIDEpKSAtIDU7IC8vSW5jcmVtZW50IHJvdyB3aGVuIGNvbHVtbiBsaW1pdCBpcyByZWFjaGVkXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgY2hhcnQuX3ZhcnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBpLCBsZWdlbmREYXRhW2ldKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdkaXNwbGF5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPj0gKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSAmJiBpIDw9ICgoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKiBjaGFydC5fdmFycy5sZWdlbmRNYXgpICsgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAtIDEpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignb3BhY2l0eScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmICgoIWxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSAmJiAhY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkgfHwgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQgJiYgIWZsaXBwZWRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoIWNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gdHJ1ZSkgfHxcclxuICAgICAgICAgICAgICAgIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGZsaXBwZWRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSB0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcxJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJzAuMic7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbGVnZW5kUm93ID0gMDtcclxuICAgIGxlZ2VuZENvbHVtbiA9IDA7XHJcblxyXG4gICAgLy9BZGRpbmcgdGV4dCBsYWJlbHMgZm9yIGVhY2ggcmVjdGFuZ2xlIGluIGxlZ2VuZFxyXG4gICAgdmFyIGxlZ2VuZFRleHQgPSBsZWdlbmQuc2VsZWN0QWxsKCd0ZXh0JylcclxuICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdsZWdlbmRUZXh0IGVkaXRhYmxlIGVkaXRhYmxlLXRleHQgZWRpdGFibGUtY29udGVudCBlZGl0YWJsZS1sZWdlbmQtJyArIGk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRDb2x1bW4gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRQb3MgPSAyMDAgKiBsZWdlbmRDb2x1bW47XHJcbiAgICAgICAgICAgIGxlZ2VuZENvbHVtbisrO1xyXG4gICAgICAgICAgICByZXR1cm4gbGVnZW5kUG9zICsgMTc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpICUgKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRSb3crKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaSAlIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5lci5oZWlnaHQgKyAxMCkgKyAoMTUgKiAobGVnZW5kUm93ICsgMSkpOyAvL0luY3JlbWVudCByb3cgd2hlbiBjb2x1bW4gbGltaXQgaXMgcmVhY2hlZFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuYXR0cignZHknLCAnMC4zNWVtJykgLy9WZXJ0aWNhbGx5IGFsaWduIHdpdGggbm9kZVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuZm9udENvbG9yKVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpID49IChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgJiYgaSA8PSAoKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSArIChjaGFydC5fdmFycy5sZWdlbmRNYXggLSAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnROYW1lID0gbGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50TmFtZSA9IGxlZ2VuZERhdGFbaV0uc2xpY2UoMCwgLTUpOy8vUmVtb3ZpbmcgbGFzdCA1IGNoYXJhY3RlcnMgb2YgbGVnZW5kIGxhYmVsLS0taS5lIHBsYW5uZWRTVEFSVCAtPiBwbGFubmVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnROYW1lLmxlbmd0aCA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWUuc3Vic3RyaW5nKDAsIDE5KSArICcuLi4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50TmFtZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0FkZGluZyBpbmZvIGJveCB0byBsZWdlbmQgZWxlbWVudHMgd2hlbiBob3ZlcmluZyBvdmVyXHJcbiAgICBsZWdlbmRUZXh0XHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vT25seSBjcmVhdGUgY2Fyb3VzZWwgaWYgdGhlIG51bWJlciBvZiBlbGVtZW50cyBleGNlZWRzIG9uZSBsZWdlbmQgXCJwYWdlXCJcclxuICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA+IDApIHtcclxuICAgICAgICBjcmVhdGVDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgfVxyXG4gICAgLy9DZW50ZXJzIHRoZSBsZWdlbmQgaW4gdGhlIHBhbmVsXHJcbiAgICBpZiAobGVnZW5kKSB7XHJcbiAgICAgICAgdmFyIGxlZ2VuZFdpZHRoID0gbGVnZW5kLm5vZGUoKS5nZXRCQm94KCkud2lkdGg7XHJcbiAgICAgICAgbGVnZW5kLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICgoY29udGFpbmVyLndpZHRoIC0gbGVnZW5kV2lkdGgpIC8gMikgKyAnLCAzMCknKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGVnZW5kUmVjdGFuZ2xlcztcclxufVxyXG5cclxuLyoqdXBkYXRlRGF0YUZyb21MZWdlbmRcclxuICpcclxuICogUmV0dXJucyBhIGxpc3Qgb2YgZGF0YSBoZWFkZXJzIHRoYXQgc2hvdWxkIGJlIGRpc3BsYXllZCBpbiB2aXpcclxuICogYmFzZWQgb2ZmIHdoYXQgaXMgdG9nZ2xlZCBvbi9vZmYgaW4gbGVnZW5kXHJcbiAqIEBwYXJhbXMgbGVnZW5kRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gdXBkYXRlRGF0YUZyb21MZWdlbmQobGVnZW5kRGF0YSkge1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIHZhciBsZWdlbmRFbGVtZW50ID0gbGVnZW5kRGF0YVswXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChsZWdlbmRFbGVtZW50W2ldLmF0dHJpYnV0ZXMub3BhY2l0eS52YWx1ZSAhPT0gJzAuMicpIHtcclxuICAgICAgICAgICAgLy9JZiBub3Qgd2hpdGUsIGFkZCBpdCB0byB0aGUgdXBkYXRlZCBkYXRhIGFycmF5XHJcbiAgICAgICAgICAgIGRhdGEucHVzaChsZWdlbmRFbGVtZW50W2ldLl9fZGF0YV9fKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqY3JlYXRlQ2Fyb3VzZWxcclxuICpcclxuICogRHJhd3MgdGhlIGhvcml6b250YWwgbGVnZW5kIGNhcm91c2VsXHJcbiAqIEBwYXJhbXMgY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpIHtcclxuICAgIHZhciBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBsZWdlbmRQb2x5Z29uO1xyXG5cclxuICAgIC8vQWRkaW5nIGNhcm91c2VsIHRvIGxlZ2VuZFxyXG4gICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZC1jYXJvdXNlbCcpLnJlbW92ZSgpO1xyXG4gICAgc3ZnLnNlbGVjdEFsbCgnI2xlZ2VuZC10ZXh0LWluZGV4JykucmVtb3ZlKCk7XHJcblxyXG4gICAgbGVnZW5kUG9seWdvbiA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQtY2Fyb3VzZWwnKTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgbGVmdCBuYXZpZ2F0aW9uIGFycm93IGZvciBjYXJvdXNlbFxyXG4gICAgbGVnZW5kUG9seWdvbi5hcHBlbmQoJ3BvbHlnb24nKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdsZWZ0Q2hldnJvbicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BvaW50ZXItY3Vyc29yJylcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBjaGFydC5fdmFycy5sZWdlbmRBcnJvd0NvbG9yKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsMCknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMCw3LjUsIDE1LDAsIDE1LDE1JylcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXgtLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKTtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIGRyYXdGdW5jLCBsZWdlbmREYXRhKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgZGlzcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBwYWdlIG51bWJlciBmb3IgY2Fyb3VzZWwgbmF2aWdhdGlvblxyXG4gICAgbGVnZW5kUG9seWdvbi5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmQtdGV4dC1pbmRleCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAzNSlcclxuICAgICAgICAuYXR0cigneScsIDEyLjUpXHJcbiAgICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggKyAxKSArICcgLyAnICsgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4ICsgMSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcmlnaHQgbmF2aWdhdGlvbiBhcnJvdyBmb3IgY2Fyb3VzZWxcclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCdwb2x5Z29uJylcclxuICAgICAgICAuYXR0cignaWQnLCAncmlnaHRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGNoYXJ0Ll92YXJzLmxlZ2VuZEFycm93Q29sb3IpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoODUsMCknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMTUsNy41LCAwLDAsIDAsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleCA8IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPT09IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ2VudGVycyB0aGUgbGVnZW5kIHBvbHlnb25zIGluIHRoZSBwYW5lbFxyXG4gICAgaWYgKGxlZ2VuZFBvbHlnb24pIHtcclxuICAgICAgICB2YXIgbGVnZW5kUG9seWdvbldpZHRoID0gbGVnZW5kUG9seWdvbi5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgIGxlZ2VuZFBvbHlnb24uYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKChjb250YWluZXIud2lkdGggLSBsZWdlbmRQb2x5Z29uV2lkdGgpIC8gMikgKyAnLCcgKyAoY29udGFpbmVyLmhlaWdodCArIDEwNSkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqZ2V0UGxvdERhdGFcclxuICpcclxuICogUmV0dXJucyBvbmx5IGRhdGEgdmFsdWVzIHRvIGJlIHBsb3R0ZWQ7IGlucHV0IGlzIHRoZSBkYXRhIG9iamVjdFxyXG4gKiBAcGFyYW1zIG9iamVjdERhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQbG90RGF0YShvYmplY3REYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIHZhciBvYmpEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3REYXRhKSk7Ly9Db3B5IG9mIGJhckRhdGFcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqRGF0YU5ldy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBncm91cCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iakRhdGFOZXdbaV1bY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtqXV0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKG9iakRhdGFOZXdbaV1bY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtqXV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEucHVzaChncm91cCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqZ2V0UG9zQ2FsY3VsYXRpb25zXHJcbiAqSG9sZHMgdGhlIGxvZ2ljIGZvciBwb3NpdGlvbmluZyBhbGwgYmFycyBvbiBhIGJhciBjaGFydCAoZGVwZW5kcyBvbiB0b29sRGF0YSlcclxuICpcclxuICogQHBhcmFtcyBzdmcsIGJhckRhdGEsIG9wdGlvbnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXJcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UG9zQ2FsY3VsYXRpb25zKGJhckRhdGEsIF92YXJzLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydCkge1xyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgX3ZhcnMpLFxyXG4gICAgICAgIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgX3ZhcnMpLFxyXG4gICAgICAgIHNjYWxlRmFjdG9yID0gMSxcclxuICAgICAgICBkYXRhID0gW10sXHJcbiAgICAgICAgc2l6ZSA9IDAsXHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMgPSB7fTtcclxuXHJcbiAgICBmb3IgKGxldCBpdGVtIGluIGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnICYmIGl0ZW0uaW5kZXhPZigndG9vbHRpcCcpID09PSAtMSkge1xyXG4gICAgICAgICAgICBzaXplKys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFyRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciB2YWwgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYmFyRGF0YVtpXSkge1xyXG4gICAgICAgICAgICBpZiAoYmFyRGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwucHVzaChiYXJEYXRhW2ldW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEucHVzaCh2YWwuc2xpY2UoMSwgYmFyRGF0YVtpXS5sZW5ndGgpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gdHJ1ZSAmJiBfdmFycy5zdGFja1RvZ2dsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydGhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHkuYmFuZHdpZHRoKCkgKiAwLjk1O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueCA9IGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSAwOy8vTW92ZSB0aGUgeCB1cCBieSB0aGUgdmFsdWVzIHRoYXQgY29tZSBiZWZvcmUgaXRcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IGkgLSAxOyBrID49IDA7IGstLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihqW2tdLl9fZGF0YV9fKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCArPSBqW2tdLl9fZGF0YV9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB4KGluY3JlbWVudCkgPT09IDAgPyAxIDogeChpbmNyZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy53aWR0aCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh4KDApIC0geChkKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5LmJhbmR3aWR0aCgpICogMC45NTtcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChfdmFycy5yb3RhdGVBeGlzID09PSB0cnVlICYmIF92YXJzLnN0YWNrVG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geS5iYW5kd2lkdGgoKSAvIHNpemUgKiBpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydGhlaWdodCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeS5iYW5kd2lkdGgoKSAvIHNpemUgKiAwLjk1KSAqIHNjYWxlRmFjdG9yO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KDApIC0geChkKSA+IDAgPyB4KGQpIDogeCgwKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geS5iYW5kd2lkdGgoKSAvIHNpemUgKiBpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeCgwKSAtIHgoZCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHkuYmFuZHdpZHRoKCkgLyBzaXplICogMC45NSkgKiBzY2FsZUZhY3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChfdmFycy5yb3RhdGVBeGlzID09PSBmYWxzZSAmJiBfdmFycy5zdGFja1RvZ2dsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh4LmJhbmR3aWR0aCgpICogMC45NSkgKiBzY2FsZUZhY3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0aGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueSA9IGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSAwOy8vTW92ZSB0aGUgeSB1cCBieSB0aGUgdmFsdWVzIHRoYXQgY29tZSBiZWZvcmUgaXRcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IGkgLSAxOyBrID49IDA7IGstLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihqW2tdLl9fZGF0YV9fKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCArPSBqW2tdLl9fZGF0YV9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB5KHBhcnNlRmxvYXQoZCkgKyBpbmNyZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeC5iYW5kd2lkdGgoKSAqIDAuOTUpICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5oZWlnaHQgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmhlaWdodCAtIHkoZCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoX3ZhcnMucm90YXRlQXhpcyA9PT0gZmFsc2UgJiYgX3ZhcnMuc3RhY2tUb2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR4ID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHguYmFuZHdpZHRoKCkgLyBzaXplICogaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQ7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHguYmFuZHdpZHRoKCkgLyBzaXplICogMC45NSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydGhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy54ID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHguYmFuZHdpZHRoKCkgLyBzaXplICogaTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4geSgwKSAtIHkoZCkgPiAwID8geShkKSA6IHkoMCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy53aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIDAuOTUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGguYWJzKHkoMCkgLSB5KGQpKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBvc2l0aW9uRnVuY3Rpb25zO1xyXG59XHJcblxyXG4vKipnZXRDb2xvcnNcclxuICpcclxuICogZ2V0cyB0aGUgY29sb3JzIHRvIGFwcGx5IHRvIHRoZSBzcGVjaWZpYyBjaGFydFxyXG4gKiBAcGFyYW1zIGNvbG9yT2JqLCBpbmRleCwgbGFiZWxcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q29sb3JzKGNvbG9yT2JqLCBwYXJhbUluZGV4LCBsYWJlbCkge1xyXG4gICAgdmFyIGluZGV4ID0gcGFyYW1JbmRleDtcclxuXHJcbiAgICAvL2xvZ2ljIHRvIHJldHVybiB0aGUgY29sb3IgaWYgdGhlIGNvbG9yT2JqIHBhc3NlZCBpblxyXG4gICAgLy9pcyBhbiBvYmplY3Qgd2l0aCB0aGUgbGFiZWwgYmVpbmcgdGhlIGtleVxyXG4gICAgaWYgKHR5cGVvZiBsYWJlbCAhPT0gJ3VuZGVmaW5lZCcgJiYgY29sb3JPYmouaGFzT3duUHJvcGVydHkobGFiZWwpICYmIGNvbG9yT2JqW2xhYmVsXSkge1xyXG4gICAgICAgIHJldHVybiBjb2xvck9ialtsYWJlbF07XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGNsZWFuZWRDb2xvcnMgPSBbXTtcclxuXHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoY29sb3JPYmopKSB7XHJcbiAgICAgICAgY2xlYW5lZENvbG9ycyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGsgaW4gY29sb3JPYmopIHtcclxuICAgICAgICAgICAgaWYgKGNvbG9yT2JqLmhhc093blByb3BlcnR5KGspKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JPYmpba10pIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbmVkQ29sb3JzLnB1c2goY29sb3JPYmpba10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjbGVhbmVkQ29sb3JzID0gY29sb3JPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLy9sb2dpYyB0byByZXR1cm4gYSByZXBlYXRpbmcgc2V0IG9mIGNvbG9ycyBhc3N1bWluZyB0aGF0XHJcbiAgICAvL3RoZSB1c2VyIGNoYW5nZWQgZGF0YSAoZXg6IGZsaXAgc2VyaWVzIG9uIGJhciBjaGFydClcclxuICAgIGlmICghY2xlYW5lZENvbG9yc1tpbmRleF0pIHtcclxuICAgICAgICB3aGlsZSAoaW5kZXggPiBjbGVhbmVkQ29sb3JzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgaW5kZXggPSBpbmRleCAtIGNsZWFuZWRDb2xvcnMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjbGVhbmVkQ29sb3JzW2luZGV4XTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldEF4aXNTY2FsZSh3aGljaEF4aXMsIGF4aXNEYXRhLCBjb250YWluZXIsIF92YXJzLCBwYWRkaW5nVHlwZSkge1xyXG4gICAgdmFyIGxlZnRQYWRkaW5nID0gMC40LFxyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDAuMjtcclxuICAgIGlmIChwYWRkaW5nVHlwZSA9PT0gJ25vLXBhZGRpbmcnKSB7XHJcbiAgICAgICAgbGVmdFBhZGRpbmcgPSAwO1xyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDA7XHJcbiAgICB9XHJcbiAgICB2YXIgYXhpc1NjYWxlLFxyXG4gICAgICAgIGF4aXM7XHJcblxyXG4gICAgd2hpY2hBeGlzID09PSAneCcgPyBheGlzID0gY29udGFpbmVyLndpZHRoIDogYXhpcyA9IGNvbnRhaW5lci5oZWlnaHQ7XHJcblxyXG4gICAgaWYgKGF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF4aXNEYXRhLnZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBheGlzRGF0YS52YWx1ZXNbaV0gPSBuZXcgRGF0ZShheGlzRGF0YS52YWx1ZXNbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG1heERhdGUgPSBNYXRoLm1heC5hcHBseShudWxsLCBheGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgICAgIHZhciBtaW5EYXRlID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICAgICAgYXhpc1NjYWxlID0gZDMuc2NhbGVUaW1lKCkuZG9tYWluKFtuZXcgRGF0ZShtaW5EYXRlKSwgbmV3IERhdGUobWF4RGF0ZSldKS5yYW5nZVJvdW5kKFswLCBheGlzXSk7XHJcbiAgICB9IGVsc2UgaWYgKGF4aXNEYXRhLmRhdGFUeXBlID09PSAnU1RSSU5HJykge1xyXG4gICAgICAgIGF4aXNTY2FsZSA9IGQzLnNjYWxlQmFuZCgpXHJcbiAgICAgICAgICAgIC5kb21haW4oYXhpc0RhdGEudmFsdWVzKVxyXG4gICAgICAgICAgICAucmFuZ2UoWzAsIGF4aXNdKVxyXG4gICAgICAgICAgICAucGFkZGluZ0lubmVyKGxlZnRQYWRkaW5nKVxyXG4gICAgICAgICAgICAucGFkZGluZ091dGVyKHJpZ2h0UGFkZGluZyk7XHJcbiAgICB9IGVsc2UgaWYgKGF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgIHZhciBkb21haW47XHJcbiAgICAgICAgaWYgKF92YXJzLnhSZXZlcnNlZCB8fCBfdmFycy55UmV2ZXJzZWQpIHtcclxuICAgICAgICAgICAgaWYgKChfdmFycy54UmV2ZXJzZWQgJiYgd2hpY2hBeGlzID09PSAneCcpIHx8ICh3aGljaEF4aXMgPT09ICd5JyAmJiAhX3ZhcnMueVJldmVyc2VkKSkge1xyXG4gICAgICAgICAgICAgICAgZG9tYWluID0gW2F4aXNEYXRhLm1heCwgYXhpc0RhdGEubWluXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKF92YXJzLnlSZXZlcnNlZCAmJiB3aGljaEF4aXMgPT09ICd5JykgfHwgKHdoaWNoQXhpcyA9PT0gJ3gnICYmICFfdmFycy54UmV2ZXJzZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBkb21haW4gPSBbYXhpc0RhdGEubWluLCBheGlzRGF0YS5tYXhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hpY2hBeGlzID09PSAneCcgPyBkb21haW4gPSBbYXhpc0RhdGEubWluLCBheGlzRGF0YS5tYXhdIDogZG9tYWluID0gW2F4aXNEYXRhLm1heCwgYXhpc0RhdGEubWluXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChfdmFycy5oYXNPd25Qcm9wZXJ0eSgnYXhpc1R5cGUnKSAmJiBfdmFycy5heGlzVHlwZSA9PT0gJ0xvZ2FyaXRobWljJykge1xyXG4gICAgICAgICAgICBkb21haW5bMV0gPSAwLjE7XHJcbiAgICAgICAgICAgIGF4aXNTY2FsZSA9IGQzLnNjYWxlTG9nKCkuYmFzZSgxMCkuZG9tYWluKGRvbWFpbikucmFuZ2VSb3VuZChbMCwgYXhpc10pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKGRvbWFpbikucmFuZ2VSb3VuZChbMCwgYXhpc10pO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQXhpcyBpcyBub3QgYSB2YWxpZCBkYXRhIHR5cGUnKTtcclxuICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoJ0F4aXMgaXMgbm90IGEgdmFsaWQgZGF0YSB0eXBlJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXhpc1NjYWxlO1xyXG59XHJcblxyXG4vKipnZXRYU2NhbGVcclxuICpcclxuICogZ2V0IHRoZSBzY2FsZSBmb3IgdGhlIHggYXhpc1xyXG4gKiBAcGFyYW1zIHhBeGlzRGF0YSwgY29udGFpbmVyLCBwYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdldFhTY2FsZSh4QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZykge1xyXG4gICAgdmFyIHhBeGlzU2NhbGU7XHJcbiAgICB2YXIgbGVmdFBhZGRpbmcgPSAwLjQsXHJcbiAgICAgICAgcmlnaHRQYWRkaW5nID0gMC4yO1xyXG4gICAgaWYgKHBhZGRpbmcgPT09ICduby1wYWRkaW5nJykge1xyXG4gICAgICAgIGxlZnRQYWRkaW5nID0gMDtcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vY2hlY2sgaWYgdmFsdWVzIGxlbmd0aCBpcyBncmVhdGVyIHRoYW4gdHdvIGluY2FzZSB0aGUgbGFiZWxzIGFyZSBhbGwgbnVtYmVycy4gaWYgaXQgaXMgYSBsaW5lYXIgc2NhbGUgdGhlbiB0aGVyZSB3aWxsIG9ubHkgYmUgYSBtaW4gYW5kIG1heFxyXG4gICAgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ0RBVEUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHhBeGlzRGF0YS52YWx1ZXNbaV0gPSBuZXcgRGF0ZSh4QXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtYXhEYXRlID0gTWF0aC5tYXguYXBwbHkobnVsbCwgeEF4aXNEYXRhLnZhbHVlcyk7XHJcbiAgICAgICAgdmFyIG1pbkRhdGUgPSBNYXRoLm1pbi5hcHBseShudWxsLCB4QXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICAgICAgeEF4aXNTY2FsZSA9IGQzLnRpbWUuc2NhbGUoKS5kb21haW4oW25ldyBEYXRlKG1pbkRhdGUpLCBuZXcgRGF0ZShtYXhEYXRlKV0pLnJhbmdlUm91bmQoWzAsIGNvbnRhaW5lci53aWR0aF0pO1xyXG4gICAgfSBlbHNlIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnIHx8IHhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoID4gMikge1xyXG4gICAgICAgIHhBeGlzU2NhbGUgPSBkMy5zY2FsZUJhbmQoKVxyXG4gICAgICAgICAgICAuZG9tYWluKHhBeGlzRGF0YS52YWx1ZXMpXHJcbiAgICAgICAgICAgIC5yYW5nZShbMCwgY29udGFpbmVyLndpZHRoXSlcclxuICAgICAgICAgICAgLnBhZGRpbmdJbm5lcihsZWZ0UGFkZGluZylcclxuICAgICAgICAgICAgLnBhZGRpbmdPdXRlcihyaWdodFBhZGRpbmcpO1xyXG4gICAgfSBlbHNlIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgdmFyIG1heCA9IHhBeGlzRGF0YS52YWx1ZXNbKHhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgIHZhciBtaW4gPSB4QXhpc0RhdGEudmFsdWVzWzBdO1xyXG5cclxuICAgICAgICB4QXhpc1NjYWxlID0gZDMuc2NhbGVCYW5kKCkuZG9tYWluKFttaW4sIG1heF0pLnJhbmdlUm91bmQoWzAsIGNvbnRhaW5lci53aWR0aF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHhBeGlzU2NhbGU7XHJcbn1cclxuXHJcbi8qKmdldFlTY2FsZVxyXG4gKlxyXG4gKiBnZXRzIHRoZSBzY2FsZSBmb3IgdGhlIHkgYXhpc1xyXG4gKiBAcGFyYW1zIHlBeGlzRGF0YSwgY29udGFpbmVyLCBwYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdldFlTY2FsZSh5QXhpc0RhdGEsIGNvbnRhaW5lcikge1xyXG4gICAgdmFyIHlBeGlzU2NhbGU7XHJcblxyXG4gICAgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICB5QXhpc1NjYWxlID0gZDMuc2NhbGVPcmRpbmFsKCkuZG9tYWluKHlBeGlzRGF0YS52YWx1ZXMpLnJhbmdlKFswLCBjb250YWluZXIuaGVpZ2h0XSk7XHJcbiAgICB9IGVsc2UgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICB2YXIgbWF4ID0geUF4aXNEYXRhLnZhbHVlc1soeUF4aXNEYXRhLnZhbHVlcy5sZW5ndGggLSAxKV07XHJcbiAgICAgICAgdmFyIG1pbiA9IHlBeGlzRGF0YS52YWx1ZXNbMF07XHJcbiAgICAgICAgeUF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFttYXgsIG1pbl0pLnJhbmdlUm91bmQoWzAsIGNvbnRhaW5lci5oZWlnaHRdKTtcclxuICAgIH1cclxuICAgIHJldHVybiB5QXhpc1NjYWxlO1xyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBEYXRhIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipcclxuICogQGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsYWJlbCAtIFRoZSBmaWVsZCB0aGF0IGlzIGNoZWNrZWQgZm9yIHR5cGVcclxuICogQHBhcmFtIHtPYmplY3R9IGRhdGFUYWJsZUtleXMgLSBPYmplY3QgdGhhdCBjb250YWlucyB0aGUgZGF0YSB0eXBlIGZvciBlYWNoIGNvbHVtbiBvZiBkYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXREYXRhVHlwZUZyb21LZXlzKGxhYmVsLCBkYXRhVGFibGVLZXlzLCBkZWZhdWx0VHlwZSA9ICdTVFJJTkcnKSB7XHJcbiAgICB2YXIgdHlwZSA9IGRlZmF1bHRUeXBlO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vUmVwbGFjZSB1bmRlcnNjb3JlcyB3aXRoIHNwYWNlc1xyXG4gICAgICAgIGlmIChkYXRhVGFibGVLZXlzW2ldLnZhcktleS5yZXBsYWNlKC9fL2csICcgJykgPT09IGxhYmVsLnJlcGxhY2UoL18vZywgJyAnKSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlS2V5c1tpXS5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XHJcbiAgICAgICAgICAgICAgICB0eXBlID0gZGF0YVRhYmxlS2V5c1tpXS50eXBlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdTVFJJTkcnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ0RBVEUnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnTlVNQkVSJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdOVU1CRVInO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHlwZTtcclxufVxyXG5cclxuLyoqc2V0QmFyTGluZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW2l0ZW1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuLyoqc2V0Q2hhcnRDb2xvcnNcclxuICogIGNsZWFucyBpbmNvbWluZyBjb2xvcnMgZm9yIGNvbnNpc3RlbmN5XHJcbiAqXHJcbiAqIEBwYXJhbXMgY29sb3JBcnJheSwgbGVnZW5kRGF0YVxyXG4gKiBAcmV0dXJucyBvYmplY3Qgd2l0aCBjb2xvcnNcclxuICovXHJcblxyXG5mdW5jdGlvbiBzZXRDaGFydENvbG9ycyh0b29sRGF0YSwgbGVnZW5kRGF0YSwgZGVmYXVsdENvbG9yQXJyYXkpIHtcclxuICAgIC8vZnVuY3Rpb24gaGFuZGxlcyAzIGNvbG9yIGlucHV0c1xyXG4gICAgLy90b29sRGF0YSBhcyBhbiBhcnJheSBpbiB0b29sRGF0YVxyXG4gICAgLy90b29sRGF0YSBhcyBhbiBvYmplY3RcclxuICAgIC8vdG9vbERhdGEgYXMgJ25vbmUnXHJcbiAgICAvL2FueSBvdGhlciBjYXNlIHdpbGwgcmVzdWx0IGluIHVzaW5nIGRlZmF1bHRDb2xvckFycmF5XHJcblxyXG4gICAgdmFyIGNvbG9ycyA9IHt9LFxyXG4gICAgICAgIHVzZWRDb2xvcnMgPSBbXSxcclxuICAgICAgICB1bmFjY291bnRlZExlZ2VuZEVsZW1lbnRzID0gW107XHJcblxyXG4gICAgLy90b29sRGF0YSBpcyBhcnJheVxyXG4gICAgaWYgKEFycmF5LmlzQXJyYXkodG9vbERhdGEpKSB7XHJcbiAgICAgICAgaWYgKHRvb2xEYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgdG9vbERhdGEpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHRvb2xEYXRhID09PSBPYmplY3QodG9vbERhdGEpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBvYmogPSBsZWdlbmREYXRhW2ldO1xyXG4gICAgICAgICAgICBpZiAodG9vbERhdGEuaGFzT3duUHJvcGVydHkob2JqKSkge1xyXG4gICAgICAgICAgICAgICAgdXNlZENvbG9ycy5wdXNoKHRvb2xEYXRhW29ial0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdW5hY2NvdW50ZWRMZWdlbmRFbGVtZW50cy5wdXNoKGxlZ2VuZERhdGFbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vY2hlY2sgaWYgb2JqZWN0IGhhcyBkZXNpcmVkIGtleXNcclxuICAgICAgICBpZiAodXNlZENvbG9ycy5sZW5ndGggPT09IGxlZ2VuZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IHRvb2xEYXRhO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodXNlZENvbG9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciB0b29sRGF0YUFzQXJyYXkgPSBPYmplY3QudmFsdWVzKHRvb2xEYXRhKTtcclxuICAgICAgICAgICAgaWYgKHRvb2xEYXRhQXNBcnJheS5sZW5ndGggPiBsZWdlbmREYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgdG9vbERhdGFBc0FycmF5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhciB0b29sRGF0YUFzQXJyYXkgPSBPYmplY3QudmFsdWVzKHRvb2xEYXRhKTtcclxuICAgICAgICAgICAgaWYgKHRvb2xEYXRhQXNBcnJheS5sZW5ndGggPiBsZWdlbmREYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgdG9vbERhdGFBc0FycmF5KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGRlZmF1bHRDb2xvckFycmF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgZGVmYXVsdENvbG9yQXJyYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjb2xvcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0KGxlZ2VuZERhdGEsIGNvbG9ycykge1xyXG4gICAgdmFyIG1hcHBlZENvbG9ycyA9IHt9LFxyXG4gICAgICAgIGNvdW50ID0gMDtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChjb3VudCA+IGNvbG9ycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGNvdW50ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgbWFwcGVkQ29sb3JzW2xlZ2VuZERhdGFbaV1dID0gY29sb3JzW2NvdW50XTtcclxuICAgICAgICBjb3VudCsrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG1hcHBlZENvbG9ycztcclxufVxyXG5cclxuLyoqY2xlYW5Ub29sRGF0YVxyXG4gKiAgY2xlYW5zIGluY29taW5nIHRvb2xEYXRhIGZvciBjb25zaXN0ZW5jeVxyXG4gKlxyXG4gKiBAcGFyYW0gdG9vbERhdGFcclxuICogQHJldHVybnMgb2JqZWN0IHdpdGggdG9vbGRhdGFcclxuICovXHJcbmZ1bmN0aW9uIGNsZWFuVG9vbERhdGEob3B0aW9ucywgZWRpdE9wdGlvbnMgPSB7fSkge1xyXG4gICAgdmFyIGRhdGEgPSB7fVxyXG4gICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICBkYXRhID0gb3B0aW9ucztcclxuICAgIH1cclxuICAgIGlmICghZGF0YS5oYXNPd25Qcm9wZXJ0eSgncm90YXRlQXhpcycpKSB7XHJcbiAgICAgICAgZGF0YS5yb3RhdGVBeGlzID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnc3RhY2tUb2dnbGUnKSkge1xyXG4gICAgICAgIGlmIChkYXRhLnN0YWNrVG9nZ2xlID09PSAnc3RhY2stZGF0YScgfHwgZGF0YS5zdGFja1RvZ2dsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBkYXRhLnN0YWNrVG9nZ2xlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBpZiAoZGF0YS5oYXNPd25Qcm9wZXJ0eSgnY29sb3JzJykpIHtcclxuICAgICAgICBkYXRhLmNvbG9yID0gZGF0YS5jb2xvcnM7XHJcbiAgICB9XHJcbiAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoJ3RocmVzaG9sZHMnKSkge1xyXG4gICAgICAgIGRhdGEudGhyZXNob2xkcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vVGhlc2UgYXJlIHVzZWQgaW4gc2V0dGluZyBkeW5hbWljIG1hcmdpbnMgb24gdGhlIHkgQXhpcyBpbiBqdkNoYXJ0c1xyXG4gICAgaWYgKGVkaXRPcHRpb25zICYmIGVkaXRPcHRpb25zLmhhc093blByb3BlcnR5KCd5QXhpcycpICYmIGVkaXRPcHRpb25zLnlBeGlzLmhhc093blByb3BlcnR5KCdlZGl0YWJsZS10ZXh0LXNpemUnKSkge1xyXG4gICAgICAgIGRhdGEueUxhYmVsRm9udFNpemUgPSBlZGl0T3B0aW9ucy55QXhpc1snZWRpdGFibGUtdGV4dC1zaXplJ107XHJcbiAgICAgICAgZGF0YS55TGFiZWxGb3JtYXQgPSBlZGl0T3B0aW9ucy55QXhpc1snZWRpdGFibGUtbnVtLWZvcm1hdCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1heFdpZHRoRm9yQXhpc0RhdGEoYXhpcywgYXhpc0RhdGEsIF92YXJzLCBkaW1lbnNpb25zLCBtYXJnaW4sIGNoYXJ0RGl2LCB0eXBlKSB7XHJcbiAgICB2YXIgbWF4QXhpc1RleHQgPSAnJyxcclxuICAgICAgICBmb3JtYXRUeXBlO1xyXG4gICAgLy9EeW5hbWljIGxlZnQgbWFyZ2luIGZvciBjaGFydHMgd2l0aCB5IGF4aXNcclxuICAgIGlmIChfdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgLy9nZXQgbGVuZ3RoIG9mIGxvbmdlc3QgdGV4dCBsYWJlbCBhbmQgbWFrZSB0aGUgYXhpcyBiYXNlZCBvZmYgdGhhdFxyXG4gICAgICAgIHZhciBtYXhTdHJpbmcgPSAnJyxcclxuICAgICAgICAgICAgaGVpZ2h0ID0gcGFyc2VJbnQoZGltZW5zaW9ucy5oZWlnaHQpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XHJcblxyXG4gICAgICAgIC8vY2hlY2sgaWYgbGFiZWxzIHNob3VsZCBiZSBzaG93blxyXG4gICAgICAgIGlmIChoZWlnaHQgIT09IDAgJiYgaGVpZ2h0IC8gYXhpc0RhdGEudmFsdWVzLmxlbmd0aCA8IHBhcnNlSW50KF92YXJzLmZvbnRTaXplKSkge1xyXG4gICAgICAgICAgICBheGlzRGF0YS5oaWRlVmFsdWVzID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF4aXNEYXRhLnZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRTdHIgPSBheGlzRGF0YS52YWx1ZXNbaV0udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RyLmxlbmd0aCA+IG1heFN0cmluZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhTdHJpbmcgPSBjdXJyZW50U3RyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gbWF4U3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoISFfdmFycy55TGFiZWxGb3JtYXQgfHwgISFfdmFycy54TGFiZWxGb3JtYXQpIHtcclxuICAgICAgICB2YXIgbGFiZWxGb3JtYXQgPSBfdmFycy55TGFiZWxGb3JtYXQ7XHJcbiAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgICAgICBsYWJlbEZvcm1hdCA9IF92YXJzLnhMYWJlbEZvcm1hdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcm1hdFR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZShheGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgICAgIHZhciBleHByZXNzaW9uID0gZ2V0Rm9ybWF0RXhwcmVzc2lvbihsYWJlbEZvcm1hdCk7XHJcbiAgICAgICAgaWYgKGV4cHJlc3Npb24gIT09ICcnKSB7XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gZXhwcmVzc2lvbihheGlzRGF0YS5tYXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0ganZGb3JtYXRWYWx1ZShheGlzRGF0YS5tYXgpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9ybWF0VHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKGF4aXNEYXRhLnZhbHVlcyk7XHJcbiAgICAgICAgaWYgKCFheGlzRGF0YS5oYXNPd25Qcm9wZXJ0eSgnbWF4JykpIHtcclxuICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXhpc0RhdGEudmFsdWVzW2ldICYmIGF4aXNEYXRhLnZhbHVlc1tpXS5sZW5ndGggPiBtYXhMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGggPSBheGlzRGF0YS52YWx1ZXNbaV0ubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gYXhpc0RhdGEudmFsdWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBqdkZvcm1hdFZhbHVlKGF4aXNEYXRhLm1heCwgZm9ybWF0VHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmICh0eXBlID09PSAnaGVhdG1hcCcpIHtcclxuICAgIC8vICAgICAvL2Fsc28gbmVlZCB0byBjaGVjayB3aWR0aCBvZiBsYWJlbFxyXG4gICAgLy8gICAgIGlmIChtYXhBeGlzVGV4dC5sZW5ndGggPCBheGlzRGF0YS5sYWJlbC5sZW5ndGggKyA1KSB7XHJcbiAgICAvLyAgICAgICAgIC8vbmVlZCBhZGRlZCBzcGFjZVxyXG4gICAgLy8gICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAvLyAgICAgICAgICAgICBtYXhBeGlzVGV4dCA9IGF4aXNEYXRhLmxhYmVsO1xyXG4gICAgLy8gICAgICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBheGlzRGF0YS5sYWJlbCArICdFeHRyYSc7XHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy9DcmVhdGUgZHVtbXkgc3ZnIHRvIHBsYWNlIG1heCBzaXplZCB0ZXh0IGVsZW1lbnQgb25cclxuICAgIHZhciBkdW1teVNWRyA9IGNoYXJ0RGl2LmFwcGVuZCgnc3ZnJykuYXR0cignY2xhc3MnLCAnZHVtbXktc3ZnJyk7XHJcblxyXG4gICAgLy9DcmVhdGUgZHVtbXkgdGV4dCBlbGVtZW50XHJcbiAgICB2YXIgYXhpc0R1bW15ID0gZHVtbXlTVkdcclxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3knICYmIF92YXJzLnlMYWJlbEZvbnRTaXplICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdmFycy55TGFiZWxGb250U2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnICYmIF92YXJzLnhMYWJlbEZvbnRTaXplICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdmFycy54TGFiZWxGb250U2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gX3ZhcnMuZm9udFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneCcsIDApXHJcbiAgICAgICAgLmF0dHIoJ3knLCAwKVxyXG4gICAgICAgIC50ZXh0KG1heEF4aXNUZXh0KTtcclxuXHJcbiAgICAvL0NhbGN1bGF0ZSB0aGUgd2lkdGggb2YgdGhlIGR1bW15IHRleHRcclxuICAgIHZhciB3aWR0aCA9IGF4aXNEdW1teS5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgLy9SZW1vdmUgdGhlIHN2ZyBhbmQgdGV4dCBlbGVtZW50XHJcbiAgICBjaGFydERpdi5zZWxlY3QoJy5kdW1teS1zdmcnKS5yZW1vdmUoKTtcclxuICAgIHJldHVybiB3aWR0aDtcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsdWVzKG9iamVjdCwgZGF0YVRhYmxlQWxpZ24sIHR5cGUpIHtcclxuICAgIHZhciB2YWx1ZXNBcnJheSA9IFtdO1xyXG5cclxuICAgIGlmICh0eXBlID09PSAnYmFyJyB8fCB0eXBlID09PSAncGllJyB8fCB0eXBlID09PSAnbGluZScgfHwgdHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgLy9mb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBfLmtleXMoZGF0YVRhYmxlQWxpZ24pLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGVBbGlnbi5oYXNPd25Qcm9wZXJ0eSgndmFsdWUgJyArIGkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0W2RhdGFUYWJsZUFsaWduWyd2YWx1ZSAnICsgaV1dICE9IG51bGwpIHsvLyE9IGNoZWNrcyBmb3IgbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc0FycmF5LnB1c2gob2JqZWN0W2RhdGFUYWJsZUFsaWduWyd2YWx1ZSAnICsgaV1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc0FycmF5LnB1c2gob2JqZWN0W2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlc0FycmF5O1xyXG59XHJcbi8qKmdldFlTY2FsZVxyXG4gKlxyXG4gKiBnZXRzIHRoZSBzY2FsZSBmb3IgdGhlIHkgYXhpc1xyXG4gKiBAcGFyYW1zIHlBeGlzRGF0YSwgY29udGFpbmVyLCBwYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdldFlTY2FsZSh5QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZywgeVJldmVyc2VkKSB7XHJcbiAgICB2YXIgeUF4aXNTY2FsZTtcclxuICAgIHZhciBsZWZ0UGFkZGluZyA9IDAuNCxcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwLjI7XHJcbiAgICBpZiAocGFkZGluZyA9PT0gJ25vLXBhZGRpbmcnKSB7XHJcbiAgICAgICAgbGVmdFBhZGRpbmcgPSAwO1xyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICB5QXhpc1NjYWxlID0gZDMuc2NhbGUub3JkaW5hbCgpLmRvbWFpbih5QXhpc0RhdGEudmFsdWVzKS5yYW5nZVBvaW50cyhbMCwgY29udGFpbmVyLmhlaWdodF0pXHJcbiAgICAgICAgICAgIC5yYW5nZVJvdW5kQmFuZHMoWzAsIGNvbnRhaW5lci5oZWlnaHRdLCBsZWZ0UGFkZGluZywgcmlnaHRQYWRkaW5nKTtcclxuICAgIH0gZWxzZSBpZiAoeUF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgIHZhciBtYXggPSB5QXhpc0RhdGEudmFsdWVzWyh5QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICB2YXIgbWluID0geUF4aXNEYXRhLnZhbHVlc1swXTtcclxuICAgICAgICBpZiAoeVJldmVyc2VkKSB7XHJcbiAgICAgICAgICAgIHlBeGlzU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbbWF4LCBtaW5dKS5yYW5nZVJvdW5kKFtjb250YWluZXIuaGVpZ2h0LCAwXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeUF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFttYXgsIG1pbl0pLnJhbmdlUm91bmQoWzAsIGNvbnRhaW5lci5oZWlnaHRdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4geUF4aXNTY2FsZTtcclxufVxyXG4vKipnZXRaU2NhbGVcclxuICpcclxuICogZ2V0cyB0aGUgc2NhbGUgZm9yIHRoZSB6IGF4aXNcclxuICogQHBhcmFtcyB6QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRaU2NhbGUoekF4aXNEYXRhLCBjb250YWluZXIsIF92YXJzKSB7XHJcbiAgICB2YXIgekF4aXNTY2FsZTtcclxuXHJcbiAgICB6QXhpc1NjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oW2QzLm1pbih6QXhpc0RhdGEudmFsdWVzKSwgZDMubWF4KHpBeGlzRGF0YS52YWx1ZXMpXSkucmFuZ2VSb3VuZChbX3ZhcnMuTk9ERV9NSU5fU0laRSwgX3ZhcnMuTk9ERV9NQVhfU0laRV0pLm5pY2UoKTtcclxuICAgIHJldHVybiB6QXhpc1NjYWxlO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZUV2ZW50R3JvdXBzXHJcbiAqXHJcbiAqXHJcbiAqIEBwYXJhbXMgY2hhcnRDb250YWluZXIsIGJhckRhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUV2ZW50R3JvdXBzKGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgZGF0YVRvUGxvdCA9IGp2Q2hhcnRzLmdldFBsb3REYXRhKGJhckRhdGEsIGNoYXJ0KSxcclxuICAgICAgICBldmVudEdyb3VwcztcclxuXHJcbiAgICAvL0ludmlzaWJsZSByZWN0YW5nbGVzIG9uIHNjcmVlbiB0aGF0IHJlcHJlc2VudCBiYXIgZ3JvdXBzLiBVc2VkIHRvIHNob3cvaGlkZSB0b29sIHRpcHMgb24gaG92ZXJcclxuICAgIGV2ZW50R3JvdXBzID0gY2hhcnRDb250YWluZXJcclxuICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2V2ZW50LXJlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgIHJldHVybiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA/IDAgOiAoY29udGFpbmVyLndpZHRoIC8gYmFyRGF0YS5sZW5ndGggKiBpKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7IC8vc2V0cyB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgYmFyXHJcbiAgICAgICAgICAgIHJldHVybiBjaGFydC5fdmFycy5yb3RhdGVBeGlzID8gKGNvbnRhaW5lci5oZWlnaHQgLyBiYXJEYXRhLmxlbmd0aCAqIGkpIDogMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uICgpIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgIHJldHVybiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA/IGNvbnRhaW5lci53aWR0aCA6IChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uICgpIHsgLy9zZXRzIHRoZSB5IHBvc2l0aW9uIG9mIHRoZSBiYXJcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyAoY29udGFpbmVyLmhlaWdodCAvIGJhckRhdGEubGVuZ3RoKSA6IGNvbnRhaW5lci5oZWlnaHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZmlsbCcsICd0cmFuc3BhcmVudCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdldmVudC1yZWN0IGVkaXRhYmxlLWJhciBiYXItY29sLScgKyBTdHJpbmcoYmFyRGF0YVtpXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdKS5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJ19kb3RfJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGV2ZW50R3JvdXBzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVRocmVzaG9sZExlZ2VuZChjaGFydCkge1xyXG4gICAgdmFyIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcbiAgICB2YXIgY29sb3JMZWdlbmREYXRhID0gW107XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMudGhyZXNob2xkcyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBPYmplY3Qua2V5cyhjaGFydC5fdmFycy50aHJlc2hvbGRzKS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBjb2xvckxlZ2VuZERhdGEucHVzaChjaGFydC5fdmFycy50aHJlc2hvbGRzW2pdLnRocmVzaG9sZE5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgZ0xlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0aHJlc2hvbGRMZWdlbmRDb250YWluZXInKTtcclxuXHJcbiAgICB2YXIgbGVnZW5kID0gZ0xlZ2VuZC5zZWxlY3RBbGwoJy50aHJlc2hvbGRMZWdlbmQnKVxyXG4gICAgICAgIC5kYXRhKGNvbG9yTGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0aHJlc2hvbGRMZWdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gMTk7XHJcbiAgICAgICAgICAgIHZhciBvZmZzZXQgPSAxOSAqIGNvbG9yTGVnZW5kRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICB2YXIgaG9yeiA9IC0yICogMTI7XHJcbiAgICAgICAgICAgIHZhciB2ZXJ0ID0gaSAqIGhlaWdodCAtIG9mZnNldDtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIGhvcnogKyAnLCcgKyB2ZXJ0ICsgJyknO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIDEyKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCAxMilcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMudGhyZXNob2xkc1tpXS50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cigneCcsIDI0KVxyXG4gICAgICAgIC5hdHRyKCd5JywgOClcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgJy43NWVtJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSk7XHJcblxyXG4gICAgLy9DZW50ZXJzIHRoZSBsZWdlbmQgaW4gdGhlIHBhbmVsXHJcbiAgICBpZiAoZ0xlZ2VuZCkge1xyXG4gICAgICAgIHZhciBsZWdlbmRXaWR0aCA9IGdMZWdlbmQubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICBnTGVnZW5kLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIChjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoIC0gbGVnZW5kV2lkdGgpICsgJywnICsgKDEwICogY29sb3JMZWdlbmREYXRhLmxlbmd0aCkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMpIHtcclxuICAgIC8vQWRkaW5nIHRoZSBjbGljayBldmVudCB0byBsZWdlbmQgcmVjdGFuZ2xlcyBmb3IgdG9nZ2xpbmcgb24vb2ZmXHJcbiAgICBsZWdlbmRFbGVtZW50c1xyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFJlY3QgPSBkMy5zZWxlY3QodGhpcyk7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFJlY3QuX2dyb3Vwc1swXVswXS5hdHRyaWJ1dGVzLm9wYWNpdHkudmFsdWUgIT09ICcwLjInKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsICcwLjInKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkUmVjdFxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdvcGFjaXR5JywgJzEnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9HZXRzIHRoZSBoZWFkZXJzIG9mIHRoZSBkYXRhIHRvIGJlIGRyYXduXHJcbiAgICAgICAgICAgIHZhciBkYXRhSGVhZGVycyA9IHVwZGF0ZURhdGFGcm9tTGVnZW5kKGxlZ2VuZEVsZW1lbnRzLl9ncm91cHMpO1xyXG4gICAgICAgICAgICAvL1NldHMgdGhlIGxlZ2VuZERhdGEgdG8gdGhlIHVwZGF0ZWQgaGVhZGVyc1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgPSBkYXRhSGVhZGVycztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBkYXRhSGVhZGVycztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9QbG90cyB0aGUgZGF0YVxyXG4gICAgICAgICAgICBjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSA9IDgwMDsvL0tlZXAgdHJhbnNpdGlvbiBmb3IgdG9nZ2xpbmcgbGVnZW5kIGVsZW1lbnRzXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydFtkcmF3RnVuY10oY2hhcnQuZmxpcHBlZERhdGEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnRbZHJhd0Z1bmNdKGNoYXJ0LmRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5hcHBseUVkaXRNb2RlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5hcHBseUVkaXRNb2RlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzXHJcbiAqXHJcbiAqIENyZWF0ZXMgdGhlIGxlZ2VuZCBlbGVtZW50cy0tcmVjdGFuZ2xlcyBhbmQgbGFiZWxzXHJcbiAqIEBwYXJhbXMgY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGxlZ2VuZCxcclxuICAgICAgICBsZWdlbmREYXRhTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5O1xyXG5cclxuICAgIGNoYXJ0Ll92YXJzLmdyaWRTaXplID0gMjA7XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5sZWdlbmRJbmRleCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPSBNYXRoLmZsb29yKGxlZ2VuZERhdGFMZW5ndGggLyBjaGFydC5fdmFycy5sZWdlbmRNYXggLSAwLjAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NoZWNrIHRvIHNlZSBpZiBsZWdlbmQgZWxlbWVudCB0b2dnbGUgYXJyYXkgbmVlZHMgdG8gYmUgc2V0XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPj0gMCkge1xyXG4gICAgICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgICAgICBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsZWdlbmREYXRhKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycywgbGVnZW5kRGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgbGVnZW5kID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIDE4ICsgJywnICsgMjAgKyAnKScpO1xyXG5cclxuICAgIC8vQWRkaW5nIGNvbG9yZWQgcmVjdGFuZ2xlcyB0byB0aGUgbGVnZW5kXHJcbiAgICB2YXIgbGVnZW5kUmVjdGFuZ2xlcyA9IGxlZ2VuZC5zZWxlY3RBbGwoJ3JlY3QnKVxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kUmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAnMycpXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGNoYXJ0Ll92YXJzLmdyaWRTaXplKSAqIChpICUgY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSAqIDEuMTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGNoYXJ0Ll92YXJzLmdyaWRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSlcclxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmICgoIWxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSAmJiAhY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkgfHwgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQgJiYgIWxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGksIGxlZ2VuZERhdGFbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgoIWNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gdHJ1ZSkgfHxcclxuICAgICAgICAgICAgICAgIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBpLCBsZWdlbmREYXRhW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMuZW1wdHlMZWdlbmRTcXVhcmU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpID49IChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgJiYgaSA8PSAoKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSArIChjaGFydC5fdmFycy5sZWdlbmRNYXggLSAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAnMScpO1xyXG5cclxuICAgIC8vQWRkaW5nIHRleHQgbGFiZWxzIGZvciBlYWNoIHJlY3RhbmdsZSBpbiBsZWdlbmRcclxuICAgIHZhciBsZWdlbmRUZXh0ID0gbGVnZW5kLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnbGVnZW5kVGV4dCBlZGl0YWJsZSBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLWNvbnRlbnQgZWRpdGFibGUtbGVnZW5kLScgKyBpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gnLCBjaGFydC5fdmFycy5ncmlkU2l6ZSArIDcpXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGNoYXJ0Ll92YXJzLmdyaWRTaXplKSAqIChpICUgY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSAqIDEuMSArIDEwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuYXR0cignZHknLCAnMC4zNWVtJykgLy9WZXJ0aWNhbGx5IGFsaWduIHdpdGggbm9kZVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuZm9udENvbG9yKVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpID49IChjaGFydC5fdmFycy5sZWdlbmRJbmRleCAqIGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCkgJiYgaSA8PSAoKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICogY2hhcnQuX3ZhcnMubGVnZW5kTWF4KSArIChjaGFydC5fdmFycy5sZWdlbmRNYXggLSAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnROYW1lID0gbGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnROYW1lLmxlbmd0aCA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWUuc3Vic3RyaW5nKDAsIDE5KSArICcuLi4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50TmFtZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0FkZGluZyBpbmZvIGJveCB0byBsZWdlbmQgZWxlbWVudHMgd2hlbiBob3ZlcmluZyBvdmVyXHJcbiAgICBsZWdlbmRUZXh0XHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vT25seSBjcmVhdGUgY2Fyb3VzZWwgaWYgdGhlIG51bWJlciBvZiBlbGVtZW50cyBleGNlZWRzIG9uZSBsZWdlbmQgXCJwYWdlXCJcclxuICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCA+IDApIHtcclxuICAgICAgICBjcmVhdGVWZXJ0aWNhbENhcm91c2VsKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxlZ2VuZFJlY3RhbmdsZXM7XHJcbn1cclxuXHJcbi8qKmNyZWF0ZVZlcnRpY2FsQ2Fyb3VzZWxcclxuICpcclxuICogRHJhd3MgdGhlIHZlcnRpY2FsIGxlZ2VuZCBjYXJvdXNlbFxyXG4gKiBAcGFyYW1zIGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuY1xyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVmVydGljYWxDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpIHtcclxuICAgIHZhciBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgbGVnZW5kUG9seWdvbjtcclxuXHJcbiAgICAvL0FkZGluZyBjYXJvdXNlbCB0byBsZWdlbmRcclxuICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQtY2Fyb3VzZWwnKS5yZW1vdmUoKTtcclxuICAgIHN2Zy5zZWxlY3RBbGwoJyNsZWdlbmQtdGV4dC1pbmRleCcpLnJlbW92ZSgpO1xyXG5cclxuICAgIGxlZ2VuZFBvbHlnb24gPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kLWNhcm91c2VsJyk7XHJcblxyXG4gICAgLy9DcmVhdGVzIGxlZnQgbmF2aWdhdGlvbiBhcnJvdyBmb3IgY2Fyb3VzZWxcclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCdwb2x5Z29uJylcclxuICAgICAgICAuYXR0cignaWQnLCAnbGVmdENoZXZyb24nKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdwb2ludGVyLWN1cnNvcicpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgY2hhcnQuX3ZhcnMubGVnZW5kQXJyb3dDb2xvcilcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCcgKyAoKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAqIGNoYXJ0Ll92YXJzLmdyaWRTaXplKSArIDUwKSArICcpJylcclxuICAgICAgICAuYXR0cigncG9pbnRzJywgJzAsNy41LCAxNSwwLCAxNSwxNScpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID49IDEpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4LS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKTtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIGRyYXdGdW5jLCBsZWdlbmREYXRhKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKHtcclxuICAgICAgICAgICAgZGlzcGxheTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBwYWdlIG51bWJlciBmb3IgY2Fyb3VzZWwgbmF2aWdhdGlvblxyXG4gICAgbGVnZW5kUG9seWdvbi5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmQtdGV4dC1pbmRleCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAzNSlcclxuICAgICAgICAuYXR0cigneScsIDI0Mi41KVxyXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4ICsgMSkgKyAnIC8gJyArIChjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCArIDEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXhNYXggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9DcmVhdGVzIHJpZ2h0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JpZ2h0Q2hldnJvbicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BvaW50ZXItY3Vyc29yJylcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBjaGFydC5fdmFycy5sZWdlbmRBcnJvd0NvbG9yKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDg1LCcgKyAoKGNoYXJ0Ll92YXJzLmxlZ2VuZE1heCAqIGNoYXJ0Ll92YXJzLmdyaWRTaXplKSArIDUwKSArICcpJylcclxuICAgICAgICAuYXR0cigncG9pbnRzJywgJzE1LDcuNSwgMCwwLCAwLDE1JylcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPCBjaGFydC5fdmFycy5sZWdlbmRJbmRleE1heCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXgrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlVmVydGljYWxMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSW5kZXggPT09IGNoYXJ0Ll92YXJzLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG4vL0JpbmQgZnVuY3Rpb25zIHRvIHByb3RvdHlwZSBvciBqdkNoYXJ0cyBvYmplY3RcclxuanZDaGFydHMuZ2V0Q29sb3JzID0gZ2V0Q29sb3JzO1xyXG5qdkNoYXJ0cy5zZXRCYXJMaW5lTGVnZW5kRGF0YSA9IHNldEJhckxpbmVMZWdlbmREYXRhO1xyXG5qdkNoYXJ0cy5jcmVhdGVDb2xvcnNXaXRoRGVmYXVsdCA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0O1xyXG5qdkNoYXJ0cy52YWx1ZXMgPSB2YWx1ZXM7XHJcbmp2Q2hhcnRzLmdldFlTY2FsZSA9IGdldFlTY2FsZTtcclxuanZDaGFydHMuZ2V0WlNjYWxlID0gZ2V0WlNjYWxlO1xyXG5qdkNoYXJ0cy5nZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXk7XHJcbmp2Q2hhcnRzLmdlbmVyYXRlTGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzO1xyXG5qdkNoYXJ0cy51cGRhdGVEYXRhRnJvbUxlZ2VuZCA9IHVwZGF0ZURhdGFGcm9tTGVnZW5kO1xyXG5qdkNoYXJ0cy5jcmVhdGVDYXJvdXNlbCA9IGNyZWF0ZUNhcm91c2VsO1xyXG5qdkNoYXJ0cy5nZW5lcmF0ZVRocmVzaG9sZExlZ2VuZCA9IGdlbmVyYXRlVGhyZXNob2xkTGVnZW5kO1xyXG5qdkNoYXJ0cy5hdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kID0gYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZDtcclxuanZDaGFydHMuZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzO1xyXG5qdkNoYXJ0cy5jcmVhdGVWZXJ0aWNhbENhcm91c2VsID0gY3JlYXRlVmVydGljYWxDYXJvdXNlbDtcclxuanZDaGFydHMuZ2V0VG9nZ2xlZERhdGEgPSBnZXRUb2dnbGVkRGF0YTtcclxuanZDaGFydHMuZ2V0UGxvdERhdGEgPSBnZXRQbG90RGF0YTtcclxuanZDaGFydHMuZ2V0UG9zQ2FsY3VsYXRpb25zID0gZ2V0UG9zQ2FsY3VsYXRpb25zO1xyXG5qdkNoYXJ0cy5nZXRYU2NhbGUgPSBnZXRYU2NhbGU7XHJcbmp2Q2hhcnRzLmdldFlTY2FsZSA9IGdldFlTY2FsZTtcclxuanZDaGFydHMuc2V0QmFyTGluZUxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YTtcclxuanZDaGFydHMuanZGb3JtYXRWYWx1ZSA9IGp2Rm9ybWF0VmFsdWU7XHJcbmp2Q2hhcnRzLmdldEZvcm1hdEV4cHJlc3Npb24gPSBnZXRGb3JtYXRFeHByZXNzaW9uO1xyXG5qdkNoYXJ0cy5nZW5lcmF0ZUV2ZW50R3JvdXBzID0gZ2VuZXJhdGVFdmVudEdyb3VwcztcclxuanZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZTtcclxuanZDaGFydHMuZ2V0QXhpc1NjYWxlID0gZ2V0QXhpc1NjYWxlO1xyXG5qdkNoYXJ0cy5zZXRDaGFydENvbG9ycyA9IHNldENoYXJ0Q29sb3JzO1xyXG5qdkNoYXJ0cy5nZXREYXRhVHlwZUZyb21LZXlzID0gZ2V0RGF0YVR5cGVGcm9tS2V5cztcclxuanZDaGFydHMuY2xlYW5Ub29sRGF0YSA9IGNsZWFuVG9vbERhdGE7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIi8qKiogIGp2Q29tbWVudCAqKiovXHJcbi8qKlxyXG4qIEBuYW1lIGp2Q29tbWVudFxyXG4qIEBkZXNjIGNyZWF0ZXMgY29tbWVudHMgZm9yIGEganYgdmlzdWFsaXphdGlvbiBhbmQgZmlyZXMgYSBjYWxsYmFjayBmb3IgdGhlIHZpc3VhbHMgdG8gYmUgc2F2ZWRcclxuKiBAcGFyYW0ge29iamVjdH0gY29uZmlnT2JqIC0gY29tbWVudCB0aGF0IHRoZSB1c2VyIGNsaWNrZWQgb25cclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIGp2Q29tbWVudChjb25maWdPYmopIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcztcclxuICAgIGNvbW1lbnRPYmouY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICBjb21tZW50T2JqLnNob3dDb21tZW50cyA9IGZhbHNlO1xyXG4gICAgY29tbWVudE9iai5jb21tZW50cyA9IGNvbmZpZ09iai5jb21tZW50cyA/IGNvbmZpZ09iai5jb21tZW50cyA6IHt9O1xyXG4gICAgY29tbWVudE9iai5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgY29tbWVudE9iai5kcmF3Q29tbWVudE5vZGVzKCk7XHJcbiAgICBjb21tZW50T2JqLm9uU2F2ZUNhbGxiYWNrID0gY29uZmlnT2JqLm9uU2F2ZUNhbGxiYWNrO1xyXG4gICAgY29tbWVudE9iai5nZXRNb2RlID0gY29uZmlnT2JqLmdldE1vZGU7XHJcbn1cclxuXHJcbi8qKlxyXG4qIEBuYW1lIGNyZWF0ZU1vdmVMaXN0ZW5lclxyXG4qIEBkZXNjIGNyZWF0ZXMgdGhlIG1vdXNlbW92ZSBsaXN0ZW5lciB0byBkZXRlcm1pbmUgaWYgdGhlIHVzZXIgbW92ZXMgb3IgcmVzaXplcyBhIGNvbW1lbnRcclxuKiBAcGFyYW0ge29iamVjdH0gY29tbWVudE5vZGUgLSBjb21tZW50IHRoYXQgdGhlIHVzZXIgY2xpY2tlZCBvblxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuanZDb21tZW50LnByb3RvdHlwZS5jcmVhdGVNb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoY29tbWVudE5vZGUpIHtcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcyxcclxuICAgICAgICB0aW1lTW91c2VEb3duID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2Lm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9tb3VzZSBtb3ZlIGhhcHBlbmQgdG9vIHF1aWNrbHksIGNocm9tZSBidWdcclxuICAgICAgICB2YXIgdGltZU1vdXNlTW92ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxyXG4gICAgICAgICAgICBub2RlID0gY29tbWVudE5vZGUubm9kZSgpLFxyXG4gICAgICAgICAgICBtb3VzZSA9IGQzLm1vdXNlKG5vZGUpLFxyXG4gICAgICAgICAgICBtb3VzZU9uQ2hhcnREaXYgPSBkMy5tb3VzZShjb21tZW50T2JqLmNoYXJ0RGl2Lm5vZGUoKSksXHJcbiAgICAgICAgICAgIHJlc2l6ZU5vZGU7XHJcbiAgICAgICAgaWYgKHRpbWVNb3VzZURvd24gKyAxMCA+IHRpbWVNb3VzZU1vdmUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL3NldCB0aGUgbW92ZWQgbm9kZSwgc28gd2Uga25vdyB0byBkbyBhIG1vdXNlIHVwIGV2ZW50XHJcbiAgICAgICAgY29tbWVudE9iai5tb3ZlZCA9IGNvbW1lbnROb2RlO1xyXG5cclxuICAgICAgICAvL3Jlc2l6ZSBpbiB0aGUgcmlnaHQgY29ybmVyIG9mIHRoZSBjb21tZW50XHJcbiAgICAgICAgaWYgKGNvbW1lbnROb2RlLnNlbGVjdCgnLmNvbW1lbnQtcGFkZGluZycpLl9ncm91cHNbMF1bMF0gJiYgKChtb3VzZVswXSArIDE1ID4gbm9kZS5jbGllbnRXaWR0aCAmJiBtb3VzZVsxXSArIDE1ID4gbm9kZS5jbGllbnRIZWlnaHQpIHx8IGNvbW1lbnRPYmoubW92ZWQubW91c2UpKSB7XHJcbiAgICAgICAgICAgIGlmICghY29tbWVudE9iai5tb3ZlZC5tb3VzZSkge1xyXG4gICAgICAgICAgICAgICAgcmVzaXplTm9kZSA9IGNvbW1lbnROb2RlLnNlbGVjdCgnLmNvbW1lbnQtcGFkZGluZycpO1xyXG4gICAgICAgICAgICAgICAgcmVzaXplTm9kZS5zdHlsZSgnd2lkdGgnLCAnYXV0bycpO1xyXG4gICAgICAgICAgICAgICAgcmVzaXplTm9kZS5zdHlsZSgnaGVpZ2h0JywgJ2F1dG8nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3NldCB0aGUgbW91c2UgZXZlbnQgc28gd2UgY2FuIHVwZGF0ZSB0aGUgbG9jYXRpb24gb24gbW91c2UgdXBcclxuICAgICAgICAgICAgY29tbWVudE9iai5tb3ZlZC5tb3VzZSA9IG1vdXNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vbW92ZSB0aGUgY29tbWVudCBub2RlIGFyb3VuZCB0aGUgdmlzdWFsXHJcbiAgICAgICAgICAgIGlmIChjb21tZW50Tm9kZS5fZ3JvdXBzWzBdWzBdLm5vZGVOYW1lID09PSAndGV4dCcpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1yZWFkb25seScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbW1lbnROb2RlXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoJ2xlZnQnLCBtb3VzZU9uQ2hhcnREaXZbMF0gKyAncHgnKVxyXG4gICAgICAgICAgICAgICAgLnN0eWxlKCd0b3AnLCBtb3VzZU9uQ2hhcnREaXZbMV0gKyAncHgnKTtcclxuICAgICAgICAgICAgY29tbWVudE5vZGVcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgbW91c2VPbkNoYXJ0RGl2WzBdKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBtb3VzZU9uQ2hhcnREaXZbMV0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiogQG5hbWUgdXBkYXRlUG9zaXRpb25cclxuKiBAZGVzYyBkZXRlcm1pbmVzIHdoZXRoZXIgdGhlIHVzZXIgZHJhZ2dlZCBhIGNvbW1lbnQgb24gdGhlIHNjcmVlbiBvciB1cGRhdGVkIGl0cyBzaXplIGFuZCB0aGVuIGNyZWF0ZXMgdGhlIGFwcHJvcHJpYXRlIHNhdmUgZnVuY3Rpb25cclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmp2Q29tbWVudC5wcm90b3R5cGUudXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgY29tbWVudE9iaiA9IHRoaXMsXHJcbiAgICAgICAgbm9kZVRvVXBkYXRlID0gY29tbWVudE9iai5tb3ZlZC5fZ3JvdXBzWzBdWzBdLFxyXG4gICAgICAgIG5vZGVJZCA9IG5vZGVUb1VwZGF0ZS5pZC5zcGxpdCgnbm9kZScpWzFdLFxyXG4gICAgICAgIGNvbW1lbnQgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbbm9kZUlkXSxcclxuICAgICAgICB4LFxyXG4gICAgICAgIHk7XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb21tZW50T2JqLm1vdmVkLm1vdXNlKSkge1xyXG4gICAgICAgIGNvbW1lbnQuYmluZGluZy53aWR0aCA9IGNvbW1lbnRPYmoubW92ZWQubW91c2VbMF07XHJcbiAgICAgICAgY29tbWVudC5iaW5kaW5nLmhlaWdodCA9IGNvbW1lbnRPYmoubW92ZWQubW91c2VbMV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHggPSBNYXRoLnJvdW5kKG5vZGVUb1VwZGF0ZS5nZXRBdHRyaWJ1dGUoJ3gnKSk7XHJcbiAgICAgICAgeSA9IE1hdGgucm91bmQobm9kZVRvVXBkYXRlLmdldEF0dHJpYnV0ZSgneScpKTtcclxuICAgICAgICBjb21tZW50LmJpbmRpbmcgPSB7XHJcbiAgICAgICAgICAgICd4JzogeCxcclxuICAgICAgICAgICAgJ3knOiB5LFxyXG4gICAgICAgICAgICAneENoYXJ0QXJlYSc6IGNvbW1lbnRPYmouY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgJ3lDaGFydEFyZWEnOiBjb21tZW50T2JqLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgICAgICAnY3VycmVudFgnOiB4LFxyXG4gICAgICAgICAgICAnY3VycmVudFknOiB5LFxyXG4gICAgICAgICAgICAnc2hvd0FzTWFya2VyJzogY29tbWVudC5iaW5kaW5nLnNob3dBc01hcmtlcixcclxuICAgICAgICAgICAgJ2hlaWdodCc6IGNvbW1lbnQuYmluZGluZy5oZWlnaHQsXHJcbiAgICAgICAgICAgICd3aWR0aCc6IGNvbW1lbnQuYmluZGluZy53aWR0aFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgY29tbWVudE9iai5vblNhdmVDYWxsYmFjayhjb21tZW50LCBub2RlSWQsICdlZGl0Jyk7XHJcbn07XHJcblxyXG4vKipcclxuKiBAbmFtZSBtYWtlQ29tbWVudFxyXG4qIEBkZXNjIGNyZWF0ZXMgdGhlIGNvbW1lbnQgZW50cnkgYm94IG9uIHRoZSBzY3JlZW4gYW5kIGF0dGFjaGVzIGxpc3RlbmVycyB0byB0aGUgc2F2ZSBkZWxldGUgYW5kIGNhbmNlbCBvcHRpb25zXHJcbiogQHBhcmFtIHtvYmplY3R9IGV2ZW50IC0gZXZlbnQgdGhhdCBob2xkcyB0aGUgbW91c2UgcG9zaXRpb24gZm9yIHdoZXJlIHRoZSB1c2VyIHdhbnRzIHRvIHBsYWNlIHRoZSBjb21tZW50XHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5qdkNvbW1lbnQucHJvdG90eXBlLm1ha2VDb21tZW50ID0gZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAodGhpcy5jaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94JykuX2dyb3Vwc1swXVswXSB8fCB0aGlzLmNoYXJ0RGl2LnNlbGVjdCgnLmNvbW1lbnRib3gtZWRpdCcpLl9ncm91cHNbMF1bMF0pIHtcclxuICAgICAgICAvL2RvbnQgY3JlYXRlIG5ldyBjb21tZW50XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBjb21tZW50T2JqID0gdGhpcyxcclxuICAgICAgICB4ID0gcGFyc2VJbnQoZDMubW91c2UoZXZlbnQpWzBdLCAxMCksXHJcbiAgICAgICAgeSA9IHBhcnNlSW50KGQzLm1vdXNlKGV2ZW50KVsxXSwgMTApLFxyXG4gICAgICAgIGNvbW1lbnRIZWlnaHQgPSAxNDUsXHJcbiAgICAgICAgY29tbWVudFdpZHRoID0gMjAwLFxyXG4gICAgICAgIC8vY2FsY3VsYXRlIHBvc2l0aW9uIG9mIG92ZXJsYXkgZGl2XHJcbiAgICAgICAgcG9zaXRpb24gPSBjb21tZW50T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihjb21tZW50V2lkdGgsIGNvbW1lbnRIZWlnaHQsIHgsIHkpLFxyXG4gICAgICAgIGNvbW1lbnRUeXBlID0gJ3N2Z01haW4nO1xyXG5cclxuICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCcuY29tbWVudGJveC1yZWFkb25seScpLnJlbW92ZSgpO1xyXG5cclxuICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnY29tbWVudGJveCcpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2NvbW1lbnRib3gnKVxyXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgLmh0bWwoXCI8ZGl2IGNsYXNzPSd0aXRsZSc+PGI+QWRkIE5ldyBDb21tZW50PC9iPjwvZGl2PlwiICtcclxuICAgICAgICBcIjx0ZXh0YXJlYSBwbGFjZWhvbGRlcj0nRW50ZXIgY29tbWVudC4uLicgZm9ybT0nY29tbWVudGZvcm0nIGNsYXNzPSdjb21tZW50LXRleHRhcmVhJyBzdHlsZT0nd2lkdGg6MTU1cHg7IGhlaWdodDogOTBweDsnIG5hbWU9J2NvbW1lbnQnIGlkID0gJ3RleHRhcmVhMSc+PC90ZXh0YXJlYT5cIiArXHJcbiAgICAgICAgXCI8YnI+PGlucHV0IHR5cGU9J2NoZWNrQm94JyBjbGFzcz0nY29tbWVudGJveC1kaXNwbGF5JyBpZCA9J2Rpc3BsYXknPiBEaXNwbGF5IGFzIG1hcmtlclwiICtcclxuICAgICAgICBcIjxicj48YnV0dG9uIGNsYXNzPSdjb21tZW50Ym94LWNsb3NlJyBpZCA9J2NhbmNlbCc+PGkgY2xhc3M9J2ZhIGZhLWNsb3NlJz48L2k+PC9idXR0b24+XCIgK1xyXG4gICAgICAgIFwiPGJ1dHRvbiBjbGFzcz0nc21zcy1idG4gY29tbWVudGJveC1zdWJtaXQnIGlkID0gJ3N1Ym1pdCc+U3VibWl0IENvbW1lbnQ8L2J1dHRvbj5cIilcclxuICAgICAgICAuc3R5bGUoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcclxuICAgICAgICAuc3R5bGUoJ2xlZnQnLCBwb3NpdGlvbi54ICsgJ3B4JylcclxuICAgICAgICAuc3R5bGUoJ3RvcCcsIHBvc2l0aW9uLnkgKyAncHgnKTtcclxuXHJcbiAgICAvL0F1dG9mb2N1cyBvbiB0aGUgdGV4dCBhcmVhXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGV4dGFyZWExJykuZm9jdXMoKTtcclxuXHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbCgnLmNvbW1lbnRib3gnKS5zZWxlY3QoJyNjYW5jZWwnKVxyXG4gICAgICAgIC5vbignY2xpY2suZGVsZXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjb21tZW50T2JqLnJlbW92ZUNvbW1lbnQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbCgnLmNvbW1lbnRib3gnKS5zZWxlY3QoJyNzdWJtaXQnKVxyXG4gICAgICAgIC5vbignY2xpY2suc2F2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGV0IGNvbW1lbnRUZXh0ID0gY29tbWVudE9iai5jaGFydERpdi5zZWxlY3QoJyNjb21tZW50Ym94Jykuc2VsZWN0KCcjdGV4dGFyZWExJykuX2dyb3Vwc1swXVswXS52YWx1ZSxcclxuICAgICAgICAgICAgICAgIHNob3dBc01hcmtlciA9IGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KCcjY29tbWVudGJveCcpLnNlbGVjdCgnI2Rpc3BsYXknKS5fZ3JvdXBzWzBdWzBdLmNoZWNrZWQsXHJcbiAgICAgICAgICAgICAgICBuZXdDb21tZW50T2JqO1xyXG5cclxuICAgICAgICAgICAgbmV3Q29tbWVudE9iaiA9IHtcclxuICAgICAgICAgICAgICAgICdjb21tZW50VGV4dCc6IGNvbW1lbnRUZXh0LFxyXG4gICAgICAgICAgICAgICAgJ2dyb3VwSUQnOiAnZ3JvdXAwJyxcclxuICAgICAgICAgICAgICAgICd0eXBlJzogY29tbWVudFR5cGUsXHJcbiAgICAgICAgICAgICAgICAnYmluZGluZyc6IHtcclxuICAgICAgICAgICAgICAgICAgICAneCc6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3knOiB5LFxyXG4gICAgICAgICAgICAgICAgICAgICd4Q2hhcnRBcmVhJzogY29tbWVudE9iai5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICd5Q2hhcnRBcmVhJzogY29tbWVudE9iai5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAnY3VycmVudFgnOiB4LFxyXG4gICAgICAgICAgICAgICAgICAgICdjdXJyZW50WSc6IHksXHJcbiAgICAgICAgICAgICAgICAgICAgJ3Nob3dBc01hcmtlcic6IHNob3dBc01hcmtlciA/ICd0cnVlJyA6ICdmYWxzZScsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2hlaWdodCc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICd3aWR0aCc6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbW1lbnRPYmouY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBpZiAoaXNOYU4oY29tbWVudE9iai5jb21tZW50cy5tYXhJZCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouY29tbWVudHMubWF4SWQgPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb21tZW50T2JqLm9uU2F2ZUNhbGxiYWNrKG5ld0NvbW1lbnRPYmosICsrY29tbWVudE9iai5jb21tZW50cy5tYXhJZCwgJ2FkZCcpO1xyXG4gICAgICAgIH0pO1xyXG59O1xyXG5cclxuLyoqXHJcbiogQG5hbWUgcmVtb3ZlQ29tbWVudFxyXG4qIEBkZXNjIGZ1bmN0aW9uIHRvIHJlbW92ZSBjb21tZW50IGVudHJ5IGJveFxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuanZDb21tZW50LnByb3RvdHlwZS5yZW1vdmVDb21tZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSB0aGlzO1xyXG4gICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94JykucmVtb3ZlKCk7XHJcbn07XHJcblxyXG4vKipcclxuKiBAbmFtZSBkcmF3Q29tbWVudE5vZGVzXHJcbiogQGRlc2MgZnVuY3Rpb24gdG8gZHJhdyBhIGFsbCBjb21tZW50cyBvbiB0aGUgdmlzdWFsXHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5qdkNvbW1lbnQucHJvdG90eXBlLmRyYXdDb21tZW50Tm9kZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY29tbWVudE9iaiA9IHRoaXMsXHJcbiAgICAgICAgY29tbWVudHMgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Q7XHJcblxyXG4gICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoJy5taW4tY29tbWVudCcpLnJlbW92ZSgpO1xyXG5cclxuICAgIGZvciAobGV0IGlkIGluIGNvbW1lbnRzKSB7XHJcbiAgICAgICAgaWYgKGNvbW1lbnRzLmhhc093blByb3BlcnR5KGlkKSkge1xyXG4gICAgICAgICAgICBjb21tZW50T2JqLmRyYXdDb21tZW50KGNvbW1lbnRzW2lkXSwgaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4qIEBuYW1lIGRyYXdDb21tZW50XHJcbiogQGRlc2MgZnVuY3Rpb24gdG8gZHJhdyBhIHNpbmdsZSBjb21tZW50IG9uIHRoZSB2aXN1YWxcclxuKiBAcGFyYW0ge29iamVjdH0gY29tbWVudCAtIGRhdGEgdXNlZCB0byBwYWluIHRoZSBjb21tZW50XHJcbiogQHBhcmFtIHtudW1iZXJ9IGlkIC0gaWQgb2YgdGhlIHNwZWNpZmljIGNvbW1lbnRcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmp2Q29tbWVudC5wcm90b3R5cGUuZHJhd0NvbW1lbnQgPSBmdW5jdGlvbiAoY29tbWVudCwgaWQpIHtcclxuICAgIGlmICh0eXBlb2YgdGhpcy5jaGFydERpdi5fZ3JvdXBzID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDb21tZW50IGRhdGEgaXMgaW4gb2xkIGZvcm1hdCwgd2lsbCBub3QgZGlzcGxheSBvciBjaGFydCBkaXYgZG9lc250IGV4aXN0Jyk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghY29tbWVudC5iaW5kaW5nIHx8ICF0aGlzLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0pIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQ29tbWVudCBkYXRhIGlzIGluIG9sZCBmb3JtYXQsIHdpbGwgbm90IGRpc3BsYXkgb3IgY2hhcnQgZGl2IGRvZXNudCBleGlzdCcpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgY29tbWVudE9iaiA9IHRoaXMsXHJcbiAgICAgICAgY2hhcnREaXYgPSBjb21tZW50T2JqLmNoYXJ0RGl2LFxyXG4gICAgICAgIGJpbmRpbmcgPSBjb21tZW50LmJpbmRpbmcsXHJcbiAgICAgICAgY2hhcnRBcmVhV2lkdGggPSBjaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoLFxyXG4gICAgICAgIGNoYXJ0QXJlYUhlaWdodCA9IGNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0LFxyXG4gICAgICAgIHggPSAoYmluZGluZy54IC8gYmluZGluZy54Q2hhcnRBcmVhICogY2hhcnRBcmVhV2lkdGgpLFxyXG4gICAgICAgIHkgPSAoYmluZGluZy55IC8gYmluZGluZy55Q2hhcnRBcmVhICogY2hhcnRBcmVhSGVpZ2h0KSxcclxuICAgICAgICBzdHlsZVN0cmluZyA9ICcnLFxyXG4gICAgICAgIHRleHQgPSAnJyxcclxuICAgICAgICByZXNpemUgPSBmYWxzZTtcclxuXHJcbiAgICBiaW5kaW5nLmN1cnJlbnRYID0gKGJpbmRpbmcueCAvIGJpbmRpbmcueENoYXJ0QXJlYSAqIGNoYXJ0QXJlYVdpZHRoKTtcclxuICAgIGJpbmRpbmcuY3VycmVudFkgPSAoYmluZGluZy55IC8gYmluZGluZy55Q2hhcnRBcmVhICogY2hhcnRBcmVhSGVpZ2h0KTtcclxuXHJcbiAgICBpZiAoY29tbWVudC5iaW5kaW5nLnNob3dBc01hcmtlciA9PT0gJ2ZhbHNlJykge1xyXG4gICAgICAgIGlmIChjb21tZW50LmJpbmRpbmcud2lkdGggJiYgY29tbWVudC5iaW5kaW5nLmhlaWdodCkge1xyXG4gICAgICAgICAgICBzdHlsZVN0cmluZyA9IFwic3R5bGU9J3dpZHRoOiBcIiArIGNvbW1lbnQuYmluZGluZy53aWR0aCArICdweDsgaGVpZ2h0OiAnICsgY29tbWVudC5iaW5kaW5nLmhlaWdodCArIFwicHgnXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb21tZW50LmNvbW1lbnRUZXh0LmluZGV4T2YoJzxpZnJhbWUnKSA+IC0xIHx8IGNvbW1lbnQuY29tbWVudFRleHQuaW5kZXhPZignPGltZycpID4gLTEgfHwgY29tbWVudC5jb21tZW50VGV4dC5pbmRleE9mKCc8c3ZnJykgPiAtMSkge1xyXG4gICAgICAgICAgICAvL2NvbnRhaW5zIGVsZW50cyB0aGF0IHNob3VsZCByZXNpemVcclxuICAgICAgICAgICAgdGV4dCA9IFwiPGRpdiBjbGFzcz0nY29tbWVudC1wYWRkaW5nIHRleHQnXCIgKyBzdHlsZVN0cmluZyArIFwiPjxkaXYgY2xhc3M9J3VzZXItY29tbWVudCc+XCIgKyBjb21tZW50LmNvbW1lbnRUZXh0ICsgJzwvZGl2PjwvZGl2Pic7XHJcbiAgICAgICAgICAgIHJlc2l6ZSA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGV4dCA9ICc8ZGl2IGNsYXNzPVwidGV4dCBlZGl0YWJsZSBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLWNvbW1lbnQtJyArIGlkICsgJ1wiPicgKyBjb21tZW50LmNvbW1lbnRUZXh0ICsgJzxkaXYvPic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNoYXJ0RGl2LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ21pbi1jb21tZW50JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ25vZGUnICsgaWQpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxyXG4gICAgICAgICAgICAvLy5zdHlsZShcImJvcmRlclwiLCBcIjFweCBzb2xpZCBibGFja1wiKVxyXG4gICAgICAgICAgICAuaHRtbCh0ZXh0KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2xlZnQnLCB4ICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKCd0b3AnLCB5ICsgJ3B4JylcclxuICAgICAgICAgICAgLm9uKCdkYmxjbGljay5jb21tZW50JywgZnVuY3Rpb24gKCkgey8vRWRpdCB0ZXh0IG9yIGRlbGV0ZSB0aGUgY29tbWVudFxyXG4gICAgICAgICAgICAgICAgY29tbWVudE9iai5kb3VibGVDbGljayh0aGlzLCB4LCB5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKHJlc2l6ZSkge1xyXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gZDMuc2VsZWN0KCcudXNlci1jb21tZW50Jyk7XHJcbiAgICAgICAgICAgIHJlc2NhbGUocGFyZW50LCBwYXJlbnQubm9kZSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0RGl2LnNlbGVjdCgnc3ZnJykuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ21pbi1jb21tZW50JylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ25vZGUnICsgaWQpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJyNlNmU2ZTYnKVxyXG4gICAgICAgICAgICAuYXR0cigneCcsIHgpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgeSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ0ZvbnRBd2Vzb21lJylcclxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdkYXJrZ3JheScpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCAnMTVweCcpXHJcbiAgICAgICAgICAgIC50ZXh0KCdcXHVmMGU1JylcclxuICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAxKVxyXG4gICAgICAgICAgICAub24oJ2RibGNsaWNrLmNvbW1lbnQnLCBmdW5jdGlvbiAoKSB7Ly9FZGl0IHRleHQgb3IgZGVsZXRlIHRoZSBjb21tZW50XHJcbiAgICAgICAgICAgICAgICBjb21tZW50T2JqLmRvdWJsZUNsaWNrKHRoaXMsIHgsIHkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ21vdXNlZW50ZXIuY29tbWVudCcsIGZ1bmN0aW9uICgpIHsvL1Nob3cgaG92ZXIgb3ZlciBib3ggd2hlbiBtb3VzZSBlbnRlcnMgbm9kZVxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb21tZW50VGV4dCA9ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50SGVpZ2h0ID0gODAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRXaWR0aCA9IDE4NSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGogaW4gY29tbWVudE9iai5jb21tZW50cy5saXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5iaW5kaW5nLmN1cnJlbnRYKSA9PT0gTWF0aC5yb3VuZCh0aGlzLnguYmFzZVZhbFswXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5iaW5kaW5nLmN1cnJlbnRZKSA9PT0gTWF0aC5yb3VuZCh0aGlzLnkuYmFzZVZhbFswXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tZW50VGV4dCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5jb21tZW50VGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdLmJpbmRpbmcuY3VycmVudFg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXS5iaW5kaW5nLmN1cnJlbnRZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gY29tbWVudE9iai5vdmVybGF5RGl2UG9zaXRpb24oY29tbWVudFdpZHRoLCBjb21tZW50SGVpZ2h0LCB4LCB5KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY29tbWVudGJveC1yZWFkb25seScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChcIjx0ZXh0YXJlYSByZWFkb25seSByb3dzPSc0JyBjb2xzPScyNycgY2xhc3M9J3RleHRhcmVhJyBuYW1lPSdjb21tZW50Jz5cIiArIGNvbW1lbnRUZXh0ICsgJzwvdGV4dGFyZWE+JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdsZWZ0JywgcG9zaXRpb24ueCArICdweCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgndG9wJywgcG9zaXRpb24ueSArICdweCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ21vdXNlb3V0LmNvbW1lbnQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvL1JlbW92ZSBob3ZlciBvdmVyIGJveCB3aGVuIG1vdXNlIG1vdmVzIGF3YXlcclxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50T2JqLnNob3dDb21tZW50cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94LXJlYWRvbmx5JykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiogQG5hbWUgcmVzY2FsZVxyXG4qIEBkZXNjIHNldHMgdGhlIGNoaWxkcmVuIG9mIHRoZSBlbGUgcGFyYW0gdG8gMTAwIHBlcmNlbnQgaGVpZ2h0IGFuZCB3aWR0aFxyXG4qIEBwYXJhbSB7ZDNub2RlfSBlbGUgLSBub2RlIHRvIHN0YXJ0IHJlY3Vyc2l2ZSBmdW5jdGlvblxyXG4qIEBwYXJhbSB7aHRtbE5vZGV9IGNvbW1lbnROb2RlIC0gdW51c2VkIHBhcmVudCBub2RlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FsY3VhbHRlIHBlcmNlbnQgaGVpZ2h0IGFuZCB3aWR0aHNcclxuKiBAcmV0dXJuIHt1bmRlZmluZWR9IC0gbm8gcmV0dXJuXHJcbiovXHJcbmZ1bmN0aW9uIHJlc2NhbGUoZWxlLCBjb21tZW50Tm9kZSkge1xyXG4gICAgdmFyIG5vZGUgPSBlbGUubm9kZSgpLFxyXG4gICAgICAgIHdpZHRoID0gMTAwLFxyXG4gICAgICAgIGhlaWdodCA9IDEwMDtcclxuICAgIC8vd2lkdGggPSBub2RlLmNsaWVudFdpZHRoIC8gY29tbWVudE5vZGUuY2xpZW50V2lkdGggKiAxMDA7XHJcbiAgICAvL2hlaWdodCA9IG5vZGUuY2xpZW50SGVpZ2h0IC8gY29tbWVudE5vZGUuY2xpZW50SGVpZ2h0ICogMTAwO1xyXG4gICAgLy9pZiAod2lkdGggPiAxMDApIHtcclxuICAgIC8vd2lkdGggPSAxMDA7XHJcbiAgICAvL31cclxuXHJcbiAgICAvL2lmIChoZWlnaHQgPiAxMDApIHtcclxuICAgIC8vaGVpZ2h0ID0gMTAwO1xyXG4gICAgLy99XHJcblxyXG4gICAgZWxlLnN0eWxlKCd3aWR0aCcsIHdpZHRoICsgJyUnKTtcclxuICAgIGVsZS5zdHlsZSgnaGVpZ2h0JywgaGVpZ2h0ICsgJyUnKTtcclxuICAgIGZvciAobGV0IGNoaWxkIG9mIG5vZGUuY2hpbGROb2Rlcykge1xyXG4gICAgICAgIHJlc2NhbGUoZDMuc2VsZWN0KGNoaWxkKSwgY29tbWVudE5vZGUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuKiBAbmFtZSBkb3VibGVDbGlja1xyXG4qIEBkZXNjIGNsaWNrIGZ1bmN0aW9uIGFmdGVyIHRoZSB1c2VyIGNsaWNrcyBvbiBhbiBleGlzdGluZyBjb21tZW50XHJcbiogQHBhcmFtIHtvYmplY3R9IGNvbW1lbnROb2RlIC0gY3VycmVudCBjb21tZW50IHRoYXQgdGhlIHVzZXIgY2xpY2tlZFxyXG4qIEBwYXJhbSB7bnVtYmVyfSB4IC0geCBwb3NpdGlvbiBvZiB0aGUgY2xpY2sgZXZlbnRcclxuKiBAcGFyYW0ge251bWJlcn0geSAtIHkgcG9zaXRpb24gb2YgdGhlIGNsaWNrIGV2ZW50XHJcbiogQHJldHVybiB7dW5kZWZpbmVkfSAtIG5vIHJldHVyblxyXG4qL1xyXG5qdkNvbW1lbnQucHJvdG90eXBlLmRvdWJsZUNsaWNrID0gZnVuY3Rpb24gKGNvbW1lbnROb2RlLCB4LCB5KSB7XHJcbiAgICBpZiAodGhpcy5jaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94LWVkaXQnKS5fZ3JvdXBzWzBdWzBdIHx8IHRoaXMuZ2V0TW9kZSgpICE9PSAnY29tbWVudC1tb2RlJykge1xyXG4gICAgICAgIC8vZG9udCBjcmVhdGUgbmV3IGNvbW1lbnRcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgY29tbWVudE9iaiA9IHRoaXMsXHJcbiAgICAgICAgY2hhcnREaXYgPSBjb21tZW50T2JqLmNoYXJ0RGl2LFxyXG4gICAgICAgIGN1cnJlbnRDb21tZW50ID0gY29tbWVudE5vZGUuaWQuc3BsaXQoJ25vZGUnKVsxXSxcclxuICAgICAgICBjb21tZW50VGV4dCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtjdXJyZW50Q29tbWVudF0uY29tbWVudFRleHQsXHJcbiAgICAgICAgY29tbWVudEhlaWdodCA9IDE0NSxcclxuICAgICAgICBjb21tZW50V2lkdGggPSAyMDAsXHJcbiAgICAgICAgcG9zaXRpb24gPSBjb21tZW50T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihjb21tZW50V2lkdGgsIGNvbW1lbnRIZWlnaHQsIHgsIHkpO1xyXG5cclxuICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94LXJlYWRvbmx5JykucmVtb3ZlKCk7XHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94LWVkaXQnKS5yZW1vdmUoKTtcclxuICAgIGNoYXJ0RGl2LnNlbGVjdEFsbCgnLmNvbW1lbnRib3gnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBjaGFydERpdi5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NvbW1lbnRib3gtZWRpdCcpXHJcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcclxuICAgICAgICAuc3R5bGUoJ2xlZnQnLCBwb3NpdGlvbi54ICsgJ3B4JylcclxuICAgICAgICAuc3R5bGUoJ3RvcCcsIHBvc2l0aW9uLnkgKyAncHgnKVxyXG4gICAgICAgIC5zdHlsZSgncG9zaXRpb24nLCAnYWJzb2x1dGUnKVxyXG4gICAgICAgIC5odG1sKFwiPGRpdiBjbGFzcz0ndGl0bGUnPjxiPkVkaXQgQ29tbWVudDwvYj48L2Rpdj5cIiArXHJcbiAgICAgICAgXCI8dGV4dGFyZWEgaWQ9J2VkaXQnIGNsYXNzPSdjb21tZW50LXRleHRhcmVhJyBzdHlsZT0nd2lkdGg6MTU1cHg7IGhlaWdodDogOTBweDsnIG5hbWU9J2NvbW1lbnQnPlwiICsgY29tbWVudFRleHQgKyAnPC90ZXh0YXJlYT4nICtcclxuICAgICAgICBcIjxicj48aW5wdXQgdHlwZT0nY2hlY2tCb3gnIGNsYXNzPSdjb21tZW50Ym94LWRpc3BsYXknIGlkID0nZGlzcGxheSc+IERpc3BsYXkgYXMgbWFya2VyXCIgK1xyXG4gICAgICAgIFwiPGJyPjxidXR0b24gY2xhc3M9J2NvbW1lbnRib3gtY2xvc2UnIGlkID0nY2FuY2VsLWVkaXQnPjxpIGNsYXNzPSdmYSBmYS1jbG9zZSc+PC9pPjwvYnV0dG9uPlwiICtcclxuICAgICAgICBcIjxidXR0b24gY2xhc3M9J3Ntc3MtYnRuJyBpZCA9J2RlbGV0ZSc+RGVsZXRlPC9idXR0b24+XCIgK1xyXG4gICAgICAgIFwiPGJ1dHRvbiBjbGFzcz0nc21zcy1idG4nIGlkID0gJ3NhdmUnPlNhdmU8L2J1dHRvbj5cIik7XHJcblxyXG4gICAgY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1lZGl0Jykuc2VsZWN0KCcjZGlzcGxheScpLl9ncm91cHNbMF1bMF0uY2hlY2tlZCA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtjdXJyZW50Q29tbWVudF0uYmluZGluZy5zaG93QXNNYXJrZXIgPT09ICd0cnVlJztcclxuXHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94LWVkaXQnKS5zZWxlY3QoJyNkZWxldGUnKVxyXG4gICAgICAgIC5vbignY2xpY2suZGVsZXRlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94LWVkaXQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1yZWFkb25seScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoJyNub2RlJyArIGN1cnJlbnRDb21tZW50KS5hdHRyKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICAgICAgLy9yZWRyYXcgY29tbWVudCBub2RlcyB3aXRoIG5ldyBpbmRleGVzXHJcbiAgICAgICAgICAgIGNvbW1lbnRPYmoub25TYXZlQ2FsbGJhY2soY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XSwgY3VycmVudENvbW1lbnQsICdyZW1vdmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjaGFydERpdi5zZWxlY3RBbGwoJy5jb21tZW50Ym94LWVkaXQnKS5zZWxlY3QoJyNzYXZlJylcclxuICAgICAgICAub24oJ2NsaWNrLnNhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1lZGl0Jykuc2VsZWN0KCcjZWRpdCcpLl9ncm91cHNbMF1bMF0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICBzaG93QXNNYXJrZXIgPSBjaGFydERpdi5zZWxlY3QoJy5jb21tZW50Ym94LWVkaXQnKS5zZWxlY3QoJyNkaXNwbGF5JykuX2dyb3Vwc1swXVswXS5jaGVja2VkO1xyXG4gICAgICAgICAgICBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbY3VycmVudENvbW1lbnRdLmNvbW1lbnRUZXh0ID0gdGV4dDtcclxuICAgICAgICAgICAgY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XS5iaW5kaW5nLnNob3dBc01hcmtlciA9IHNob3dBc01hcmtlciA/ICd0cnVlJyA6ICdmYWxzZSc7XHJcbiAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdCgnLmNvbW1lbnRib3gtcmVhZG9ubHknKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1lZGl0JykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIGNvbW1lbnRPYmoub25TYXZlQ2FsbGJhY2soY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XSwgY3VycmVudENvbW1lbnQsICdlZGl0Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY2hhcnREaXYuc2VsZWN0QWxsKCcuY29tbWVudGJveC1lZGl0Jykuc2VsZWN0KCcjY2FuY2VsLWVkaXQnKVxyXG4gICAgICAgIC5vbignY2xpY2suY2FuY2VsLWVkaXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdCgnLmNvbW1lbnRib3gtcmVhZG9ubHknKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0KCcuY29tbWVudGJveC1lZGl0JykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbn07XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogVXRpbGl0eSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLyoqXHJcbiogQG5hbWUgb3ZlcmxheURpdlBvc2l0aW9uXHJcbiogQGRlc2MgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHRoZSBwbGFjZW1lbnQgb2YgdGhlIGNvbW1lbnQgZW50cnkgYm94IG9uIHRoZSB2aXN1YWxcclxuKiBAcGFyYW0ge29iamVjdH0gZGl2V2lkdGggLSB3aWR0aCBvZiB0aGUgY29tbWVudCBlbnRyeSBib3hcclxuKiBAcGFyYW0ge251bWJlcn0gZGl2SGVpZ2h0IC0gaGVpZ2h0IG9mIHRoZSBjb21tZW50IGVudHJ5IGJveFxyXG4qIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVggLSB4IHBvc2l0aW9uIG9mIHRoZSBjbGljayBldmVudFxyXG4qIEBwYXJhbSB7bnVtYmVyfSBtb3VzZVkgLSB5IHBvc2l0aW9uIG9mIHRoZSBjbGljayBldmVudFxyXG4qIEByZXR1cm4ge3VuZGVmaW5lZH0gLSBubyByZXR1cm5cclxuKi9cclxuanZDb21tZW50LnByb3RvdHlwZS5vdmVybGF5RGl2UG9zaXRpb24gPSBmdW5jdGlvbiAoZGl2V2lkdGgsIGRpdkhlaWdodCwgbW91c2VYLCBtb3VzZVkpIHtcclxuICAgIGxldCBjb21tZW50T2JqID0gdGhpcyxcclxuICAgICAgICBwb3NpdGlvbiA9IHt9O1xyXG4gICAgaWYgKG1vdXNlWCA+IChwYXJzZUludChjb21tZW50T2JqLmNoYXJ0RGl2LnN0eWxlKCd3aWR0aCcpLCAxMCkpIC8gMikge1xyXG4gICAgICAgIHBvc2l0aW9uLnggPSBtb3VzZVggLSBkaXZXaWR0aCAtIDU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc2l0aW9uLnggPSBtb3VzZVggKyAxMDtcclxuICAgIH1cclxuICAgIGlmIChtb3VzZVkgLSBkaXZIZWlnaHQgLSAxMCA+IDApIHtcclxuICAgICAgICBwb3NpdGlvbi55ID0gbW91c2VZIC0gZGl2SGVpZ2h0IC0gMTA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc2l0aW9uLnkgPSBtb3VzZVkgKyAxMDtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDb21tZW50O1xyXG4iLCJ2YXIgZWRpdFRlbXBsYXRlID0gcmVxdWlyZSgnLi9lZGl0T3B0aW9uc1RlbXBsYXRlLmpzJyk7XHJcblxyXG4vKioqICBqdkVkaXQgKioqL1xyXG5mdW5jdGlvbiBqdkVkaXQoY29uZmlnT2JqKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIGVkaXRPYmouY2hhcnREaXYgPSBjb25maWdPYmouY2hhcnREaXY7XHJcbiAgICBlZGl0T2JqLmVkaXRPcHRpb25zID0gJyc7XHJcbiAgICBlZGl0T2JqLnZpek9wdGlvbnMgPSBjb25maWdPYmoudml6T3B0aW9ucyA/IGNvbmZpZ09iai52aXpPcHRpb25zIDoge307XHJcbiAgICBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID0gMDtcclxuICAgIGVkaXRPYmouZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCcuZWRpdC1kaXYnKS5yZW1vdmUoKTtcclxuICAgIGVkaXRPYmouZWRpdERpdiA9IGVkaXRPYmouY2hhcnREaXYuYXBwZW5kKCdkaXYnKS5hdHRyKCdjbGFzcycsICdlZGl0LWRpdiBzZW1vc3MtZDMtdGlwIGFic29sdXRlJyk7XHJcbiAgICBlZGl0T2JqLm9uU2F2ZUNhbGxiYWNrID0gY29uZmlnT2JqLm9uU2F2ZUNhbGxiYWNrO1xyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBBbGwgRWRpdCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKiBkaXNwbGF5RWRpdFxyXG4gKlxyXG4gKiBEaXNwbGF5cyB0aGUgZWRpdCBkaXYsIGdyYWJiaW5nIGl0IGZyb20gdGhlIHRlbXBsYXRlXHJcbiAqXHJcbiAqL1xyXG5qdkVkaXQucHJvdG90eXBlLmRpc3BsYXlFZGl0ID0gZnVuY3Rpb24gKG1vdXNlLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcblxyXG4gICAgLy9yZXR1cm4gaWYgeW91IGNsaWNrIG9uIHRoZSBzYW1lIGVsZW1lbnQgdHdpY2UsIG5vIG5lZWQgdG8gZGlzcGxheSBhIHNlY29uZCBlZGl0IGRpdiBpZiB0aGUgY3VycmVudCBvbmUgaXMgc3RpbGwgb3BlblxyXG4gICAgaWYgKGVkaXRPYmouZWRpdE9wdGlvbnMgPT09IG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlZGl0T2JqLmVkaXREaXYuaHRtbCgnJyk7XHJcbiAgICBlZGl0T2JqLmVkaXRPcHRpb25zID0gb3B0aW9ucztcclxuICAgIHZhciBtb3VzZVggPSBtb3VzZVswXSxcclxuICAgICAgICBtb3VzZVkgPSBtb3VzZVsxXTtcclxuXHJcblxyXG4gICAgLy9hc3NpZ24gaHRtbCB0byBlZGl0RGl2IChiYXNpY2FsbHkgZGlzcGxheXMgdGhlIGRpdilcclxuICAgIGVkaXRPYmouZWRpdERpdi5odG1sKGVkaXRUZW1wbGF0ZSk7XHJcblxyXG4gICAgLy9vcHRpb25WYWx1ZXMgLSBhbiBhcnJheSBvZiBzdHJpbmdzLlxyXG4gICAgLy8gICAgICBTdHJpbmcgaXMgdGhlIGlkIHRvIHRoZSBlbGVtZW50IGluIHRoZSBlZGl0RGl2IGZvcm0uXHJcbiAgICAvLyAgICAgIFRoaXMgc3RyaW5nIGNvbnRhaW5zIHRoZSBzcGVjaWZpYyBvcHRpb24gdGhhdCBpcyBiZWluZyBjaGFuZ2VkXHJcblxyXG4gICAgLy9pdGVtVG9DaGFuZ2VcclxuICAgIC8vICAgICAgU3RyaW5nIHRoYXQgaXMgdGhlIGNsYXNzIG9mIHRoZSBzdmcgZWxlbWVudCB0byBiZSBjaGFuZ2VkIG9uIHRoZSB2aXogaXRzZWxmXHJcblxyXG5cclxuICAgIHZhciBvcHRpb25WYWx1ZXMgPSBbXSxcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSAnJyxcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudCA9IGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIjZWRpdC1vcHRpb24tZWxlbWVudFwiKTtcclxuXHJcbiAgICAvL2lmIHN0YXRlbWVudHMgdG8gZGV0ZXJtaW5lIHdoaWNoIGVkaXQgb3B0aW9ucyB0byBkaXNwbGF5XHJcbiAgICBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS15QXhpcycpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgWSBBeGlzJyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9ICd5QXhpcyc7XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUteEF4aXMnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFggQXhpcycpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneEF4aXMnO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ3lMYWJlbCcpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgWSBMYWJlbCcpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneUxhYmVsJztcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCd4TGFiZWwnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFggTGFiZWwnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3hMYWJlbCc7XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignbGVnZW5kVGV4dCcpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgTGVnZW5kIEl0ZW0nKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1sZWdlbmQtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtYmFyJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBCYXIgQ2hhcnQnKTtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1iYXJcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtYmFyJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdiYXItY29sLScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXBpZScpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgUGllIFNsaWNlJyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtcGllXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLXBpZScpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZigncGllLXNsaWNlLScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXNjYXR0ZXInKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFNjYXR0ZXIgUGxvdCcpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXNjYXR0ZXJcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtc2NhdHRlcicpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignc2NhdHRlci1jaXJjbGUtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWJ1YmJsZScpID49IDApIHtcclxuICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgQnViYmxlIENoYXJ0Jyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtYnViYmxlXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWJ1YmJsZScpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignYnViYmxlLScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1ib3gnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIEJveCBhbmQgV2hpc2tlciBQbG90Jyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtYm94XCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWJveCcpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignYm94LScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1jb21tZW50JykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBDb21tZW50Jyk7XHJcbiAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtY29tbWVudC0nKSkuc3BsaXQoJyAnKVswXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtc3ZnJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBBbGwgVGV4dCcpO1xyXG4gICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXRleHQtc2l6ZS1idXR0b25zXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgLy9lZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLWRlZmF1bHQtYW5kLWFwcGx5XCIpLnN0eWxlKCdkaXNwbGF5JywgJ25vbmUnKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtdGV4dC1zaXplJyk7XHJcbiAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3N2Zyc7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlN0aWxsIG5lZWQgdG8gYWRkIG9wdGlvbiB0byBkaXNwbGF5IGVkaXRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtbnVtJykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtbnVtLWZvcm1hdFwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS1udW0tZm9ybWF0Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS10ZXh0JykgPj0gMCkge1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtdGV4dC1jb2xvclwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS10ZXh0LWNvbG9yJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS10ZXh0LXNpemVcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtdGV4dC1zaXplJyk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWNvbnRlbnQnKSA+PSAwKSB7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1jb250ZW50XCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWNvbnRlbnQnKTtcclxuICAgIH1cclxuXHJcbiAgICAvL3BvcHVsYXRlIGVkaXQgZGl2IHdpdGggaW5pdGlhbCB2YWx1ZXNcclxuICAgIGlmIChlZGl0T2JqLnZpek9wdGlvbnNbaXRlbVRvQ2hhbmdlXSkge1xyXG4gICAgICAgIHBvcHVsYXRlU2VsZWN0aW9uc0VkaXRNb2RlKGVkaXRPYmouZWRpdERpdiwgZWRpdE9iai52aXpPcHRpb25zW2l0ZW1Ub0NoYW5nZV0pO1xyXG4gICAgfVxyXG4gICAgZWRpdE9iai5lZGl0RGl2XHJcbiAgICAgICAgLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJylcclxuICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIDAgKyAncHgnKVxyXG4gICAgICAgIC5zdHlsZShcInRvcFwiLCAwICsgJ3B4Jyk7XHJcblxyXG4gICAgLy9jYWxjdWxhdGUgcG9zaXRpb24gb2Ygb3ZlcmxheSBkaXZcclxuICAgIHZhciBlZGl0SGVpZ2h0ID0gcGFyc2VGbG9hdChlZGl0T2JqLmVkaXREaXYuc3R5bGUoJ2hlaWdodCcpKSxcclxuICAgICAgICBlZGl0V2lkdGggPSBwYXJzZUZsb2F0KGVkaXRPYmouZWRpdERpdi5zdHlsZSgnd2lkdGgnKSksXHJcbiAgICAgICAgcG9zaXRpb24gPSBlZGl0T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihlZGl0V2lkdGgsIGVkaXRIZWlnaHQsIG1vdXNlWCwgbW91c2VZKTtcclxuXHJcbiAgICAvL3Nob3cgdGhlIG5ldyBlZGl0IGRpdlxyXG4gICAgZWRpdE9iai5lZGl0RGl2XHJcbiAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBwb3NpdGlvbi54ICsgJ3B4JylcclxuICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgcG9zaXRpb24ueSArICdweCcpO1xyXG5cclxuICAgIC8vYWRkIHN1Ym1pdCwgZGVmYXVsdCwgYW5kIGV4aXQgbGlzdGVuZXJzIHRvIHRoZSBkaXZcclxuICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoJyNzdWJtaXRFZGl0TW9kZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN1Ym1pdEVkaXRNb2RlKGVkaXRPYmosIG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlKTtcclxuICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnI3N1Ym1pdEVkaXRNb2RlRGVmYXVsdCcpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN1Ym1pdEVkaXRNb2RlKGVkaXRPYmosIG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlLCB0cnVlKTtcclxuICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnI2V4aXRFZGl0TW9kZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVkaXRPYmoucmVtb3ZlRWRpdCgpO1xyXG4gICAgfSk7XHJcbiAgICBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID0gMDtcclxuICAgIC8vQWRkaW5nIGNsaWNrIGV2ZW50cyBmb3IgaW5jcmVhc2UvZGVjcmVhc2UgZm9udCBzaXplIGJ1dHRvbnNcclxuICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIjaW5jcmVhc2VGb250U2l6ZVwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBlZGl0T2JqLmluY3JlYXNlRm9udFNpemUoKTtcclxuICAgIH0pO1xyXG4gICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIiNkZWNyZWFzZUZvbnRTaXplXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGVkaXRPYmouZGVjcmVhc2VGb250U2l6ZSgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vKiogaW5jcmVhc2VGb250U2l6ZVxyXG4gKlxyXG4gKiBJbmNyZWFzZXMgdGhlIGZvbnQgc2l6ZSBieSAxIHdoZW4gaW5jcmVhc2VkIHZpYSBlZGl0IG9wdGlvbnMgZm9yIGFsbCB0ZXh0XHJcbiAqXHJcbiAqL1xyXG5qdkVkaXQucHJvdG90eXBlLmluY3JlYXNlRm9udFNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXMsXHJcbiAgICAgICAgZm9udEluY3JlbWVudCA9IDEsXHJcbiAgICAgICAgbWF4U2l6ZSA9IDI4O1xyXG4gICAgaWYgKGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnQgPCBtYXhTaXplKSB7XHJcbiAgICAgICAgZWRpdE9iai5jaGFuZ2VGb250U2l6ZShmb250SW5jcmVtZW50KTtcclxuICAgICAgICBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50Kys7XHJcbiAgICAgICAgZWRpdE9iai52aXpPcHRpb25zW1widGV4dFwiXSA9IHsgJ2VkaXRhYmxlLXRleHQtaW5jcmVtZW50JzogZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCB9O1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqIGRlY3JlYXNlRm9udFNpemVcclxuICpcclxuICogRGVjcmVhc2VzIHRoZSBmb250IHNpemUgYnkgMSB3aGVuIGRlY3JlYXNlZCB2aWEgZWRpdCBvcHRpb25zIGZvciBhbGwgdGV4dFxyXG4gKlxyXG4gKi9cclxuanZFZGl0LnByb3RvdHlwZS5kZWNyZWFzZUZvbnRTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzLFxyXG4gICAgICAgIGZvbnREZWNyZW1lbnQgPSAtMSxcclxuICAgICAgICBtaW5TaXplID0gLTEyO1xyXG4gICAgLy9taW4gc2l6ZSBpcyBuZWcgMTIgYmVjYXVzZSBkZWZhdWx0IHNpemUgaXMgMTJweCBvbiBvdXIgY2hhcnRzXHJcbiAgICBpZiAoZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCA+IG1pblNpemUpIHtcclxuICAgICAgICBlZGl0T2JqLmNoYW5nZUZvbnRTaXplKGZvbnREZWNyZW1lbnQpO1xyXG4gICAgICAgIGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnQtLTtcclxuICAgICAgICBlZGl0T2JqLnZpek9wdGlvbnNbXCJ0ZXh0XCJdID0geyAnZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnOiBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50IH07XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKiogY2hhbmdlRm9udFNpemVcclxuICpcclxuICogSW5jcmVhc2VzIG9yIGRlY3JlYXNlcyBmb250IHNpemUgYnkgYSBjZXJ0YWluIGluY3JlbWVudFxyXG4gKlxyXG4gKi9cclxuanZFZGl0LnByb3RvdHlwZS5jaGFuZ2VGb250U2l6ZSA9IGZ1bmN0aW9uIChpbmNyZW1lbnQpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCd0ZXh0JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdXBkYXRlRm9udCh0aGlzLCBpbmNyZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgICBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbCgnLnRleHQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB1cGRhdGVGb250KHRoaXMsIGluY3JlbWVudCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUZvbnQodGhpc0RpdiwgaW5jcmVtZW50KSB7XHJcbiAgICB2YXIgbmV3U2l6ZSxcclxuICAgICAgICB0ZXh0U2l6ZSA9IDEyO1xyXG4gICAgaWYgKHRoaXNEaXYgJiYgdGhpc0Rpdi5nZXRBdHRyaWJ1dGUoJ2ZvbnQtc2l6ZScpKSB7XHJcbiAgICAgICAgdGV4dFNpemUgPSB0aGlzRGl2LmdldEF0dHJpYnV0ZSgnZm9udC1zaXplJyk7XHJcbiAgICAgICAgbmV3U2l6ZSA9IHBhcnNlSW50KHRleHRTaXplKSArIGluY3JlbWVudDtcclxuICAgICAgICB0aGlzRGl2LnNldEF0dHJpYnV0ZSgnZm9udC1zaXplJywgbmV3U2l6ZSArICdweCcpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzRGl2KSB7XHJcbiAgICAgICAgdGV4dFNpemUgPSBwYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzRGl2LCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCdmb250LXNpemUnKSkgKyBpbmNyZW1lbnQ7XHJcbiAgICAgICAgdGhpc0Rpdi5zdHlsZS5mb250U2l6ZSA9ICB0ZXh0U2l6ZSArICdweCc7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKiBwb3B1bGF0ZVNlbGVjdGlvbnNFZGl0TW9kZVxyXG4gKlxyXG4gKiBJbml0aWFsbHkgcG9wdWxhdGVzIHRoZSBlZGl0RGl2IGlmIHRoZXJlIGFyZSB2aXpPcHRpb25zXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3B1bGF0ZVNlbGVjdGlvbnNFZGl0TW9kZShlZGl0RGl2LCB2aXpPcHRpb25zKSB7XHJcbiAgICBmb3IgKHZhciBvcHRpb24gaW4gdml6T3B0aW9ucykge1xyXG4gICAgICAgIGlmICh2aXpPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkT2JqZWN0ID0gZWRpdERpdi5zZWxlY3QoJyMnICsgb3B0aW9uKS5fZ3JvdXBzWzBdWzBdO1xyXG4gICAgICAgICAgICAvL2RlZmF1bHQgY29sb3IgaW5wdXRzIHRvIGdyYXlcclxuICAgICAgICAgICAgaWYgKHZpek9wdGlvbnNbb3B0aW9uXSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QudHlwZSA9PT0gJ2NvbG9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdC5pZC5pbmRleE9mKCd0ZXh0JykgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gJyMwMDAwMDAnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gJyNhYWFhYWEnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gdml6T3B0aW9uc1tvcHRpb25dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKiogc3VibWl0RWRpdE1vZGVcclxuICpcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHN1Ym1pdEVkaXRNb2RlKGVkaXRPYmosIG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlLCBkZWZhdWx0QnRuQ2xpY2tlZCkge1xyXG4gICAgdmFyIG9wdGlvbkFycmF5ID0gb3B0aW9uVmFsdWVzLFxyXG4gICAgICAgIHNlbGVjdGVkRWRpdE9wdGlvbnMgPSB7fSxcclxuICAgICAgICBlZGl0VmFsdWUsXHJcbiAgICAgICAgc2VsZWN0ZWRPYmo7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25BcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChvcHRpb25BcnJheVtpXS5pbmRleE9mKCdlZGl0YWJsZS1sZWdlbmQnKSA+IDApIHtcclxuICAgICAgICAgICAgLy9jaGFuZ2UgaXRlbSB0byBjaGFuZ2UgZm9yIGxlZ2VuZCBlbGVtZW50c1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSBvcHRpb25BcnJheVtpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZWN0ZWRPYmogPSBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcjJyArIG9wdGlvbkFycmF5W2ldKTtcclxuICAgICAgICAvL3NlZSBpZiBzZWxlY3RlZCBvYmplY3QgZXhpc3RzXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkT2JqICYmIHNlbGVjdGVkT2JqLl9ncm91cHNbMF0gJiYgc2VsZWN0ZWRPYmouX2dyb3Vwc1swXVswXSkge1xyXG4gICAgICAgICAgICBlZGl0VmFsdWUgPSBzZWxlY3RlZE9iai5fZ3JvdXBzWzBdWzBdLnZhbHVlO1xyXG4gICAgICAgICAgICAvL2dldCBzZWxlY3RlZCBvcHRpb24gZnJvbSBlZGl0IGRpdlxyXG4gICAgICAgICAgICBpZiAob3B0aW9uQXJyYXlbaV0gPT09ICdlZGl0YWJsZS1jb250ZW50JyAmJiBlZGl0VmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAvL2RvbnQgYWRkIGFuIGVtcHR5IHN0cmluZyB0byB0aGUgdml6IG9wdGlvbnMgZm9yIGVkaXRhYmxlIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRWRpdE9wdGlvbnNbb3B0aW9uQXJyYXlbaV1dID0gZWRpdFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoKCFzZWxlY3RlZEVkaXRPcHRpb25zW29wdGlvbkFycmF5W2ldXSkgJiYgb3B0aW9uQXJyYXlbaV0uaW5kZXhPZignY29udGVudCcpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRFZGl0T3B0aW9uc1tvcHRpb25BcnJheVtpXV0gPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRlZmF1bHRCdG5DbGlja2VkKSB7XHJcbiAgICAgICAgaWYgKGl0ZW1Ub0NoYW5nZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGVkaXRPYmoudml6T3B0aW9uc1sndGV4dCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgZWRpdE9iai52aXpPcHRpb25zW2l0ZW1Ub0NoYW5nZV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVkaXRPYmoudml6T3B0aW9uc1tpdGVtVG9DaGFuZ2VdID0gc2VsZWN0ZWRFZGl0T3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXRlbVRvQ2hhbmdlID09PSAnc3ZnJykge1xyXG4gICAgICAgIGRlbGV0ZSBlZGl0T2JqLnZpek9wdGlvbnNbJ3N2ZyddO1xyXG4gICAgfVxyXG5cclxuICAgIC8vc2F2ZSB2aXpPcHRpb25zXHJcbiAgICBlZGl0T2JqLm9uU2F2ZUNhbGxiYWNrKGVkaXRPYmoudml6T3B0aW9ucyk7XHJcbn1cclxuXHJcblxyXG5qdkVkaXQucHJvdG90eXBlLmFwcGx5RWRpdE1vZGUgPSBmdW5jdGlvbiAoaXRlbVRvQ2hhbmdlLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcbiAgICB2YXIgb2JqZWN0ID0gZWRpdE9iai5jaGFydERpdi5zZWxlY3QoXCIuXCIgKyBpdGVtVG9DaGFuZ2UpO1xyXG4gICAgdmFyIG9iamVjdEdyb3VwcyA9IG9iamVjdC5fZ3JvdXBzO1xyXG4gICAgdmFyIG9iamVjdFRhZ05hbWUgPSBvYmplY3RHcm91cHNbMF1bMF0gPyBvYmplY3RHcm91cHNbMF1bMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpIDogbnVsbDtcclxuXHJcbiAgICBpZiAoaXRlbVRvQ2hhbmdlID09PSAndGV4dCcpIHtcclxuICAgICAgICAvL2RvIHNvbWV0aGluZyBpZiBpdCBpcyBhbGwgdGhlIHRleHQgdGhhdCBpcyBiZWluZyBjaGFuZ2VkXHJcbiAgICAgICAgb2JqZWN0ID0gZWRpdE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCJ0ZXh0XCIpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2cob3B0aW9ucyk7XHJcblxyXG4gICAgLy9vcHRpb25zIGJ5IHRhZ05hbWVcclxuICAgIGlmIChvYmplY3RUYWdOYW1lID09PSAnZycpIHtcclxuICAgICAgICBvYmplY3QgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdChcIi5cIiArIGl0ZW1Ub0NoYW5nZSkuc2VsZWN0QWxsKCd0ZXh0Jyk7XHJcbiAgICB9IGVsc2UgaWYgKG9iamVjdFRhZ05hbWUgPT09ICdyZWN0Jykge1xyXG4gICAgICAgIGlmIChvcHRpb25zWydlZGl0YWJsZS1iYXInXSkge1xyXG4gICAgICAgICAgICBvYmplY3QuYXR0cignZmlsbCcsIG9wdGlvbnNbJ2VkaXRhYmxlLWJhciddKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2VkaXRhYmxlLWJveCddKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5hdHRyKCdmaWxsJywgb3B0aW9uc1snZWRpdGFibGUtYm94J10pO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAob2JqZWN0VGFnTmFtZSA9PT0gJ2NpcmNsZScpIHtcclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtc2NhdHRlciddKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5hdHRyKCdmaWxsJywgb3B0aW9uc1snZWRpdGFibGUtc2NhdHRlciddKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2VkaXRhYmxlLWJ1YmJsZSddKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5hdHRyKCdmaWxsJywgb3B0aW9uc1snZWRpdGFibGUtYnViYmxlJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAob2JqZWN0VGFnTmFtZSA9PT0gJ3BhdGgnKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2VkaXRhYmxlLXBpZSddKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5hdHRyKCdmaWxsJywgb3B0aW9uc1snZWRpdGFibGUtcGllJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL3N0YW5kYXJkIG9wdGlvbnNcclxuICAgIC8vSWYgYSB0ZXh0IGluY3JlbWVudCBleGlzdHMsIGFwcGx5IGl0IGJhc2VkIG9uIHRoZSBzaWduIG9mIHRoZSB2YXJpYWJsZVxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlLXRleHQtaW5jcmVtZW50JykpIHtcclxuICAgICAgICBlZGl0T2JqLmNoYW5nZUZvbnRTaXplKG9wdGlvbnNbJ2VkaXRhYmxlLXRleHQtaW5jcmVtZW50J10pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtdGV4dC1zaXplJykpIHtcclxuICAgICAgICBvYmplY3Quc3R5bGUoJ2ZvbnQtc2l6ZScsIG9wdGlvbnNbJ2VkaXRhYmxlLXRleHQtc2l6ZSddICsgJ3B4Jyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtdGV4dC1jb2xvcicpKSB7XHJcbiAgICAgICAgb2JqZWN0LnN0eWxlKCdmaWxsJywgb3B0aW9uc1snZWRpdGFibGUtdGV4dC1jb2xvciddKTtcclxuICAgICAgICBvYmplY3Quc3R5bGUoJ2NvbG9yJywgb3B0aW9uc1snZWRpdGFibGUtdGV4dC1jb2xvciddKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdlZGl0YWJsZS1udW0tZm9ybWF0JykpIHtcclxuICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IGdldEZvcm1hdEV4cHJlc3Npb24ob3B0aW9uc1snZWRpdGFibGUtbnVtLWZvcm1hdCddKTtcclxuICAgICAgICBvYmplY3RcclxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihkKSAmJiB0eXBlb2YgZXhwcmVzc2lvbiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoZXhwcmVzc2lvbihkKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtY29udGVudCcpKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2VkaXRhYmxlLWNvbnRlbnQnXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG9iamVjdC5odG1sKG9wdGlvbnNbJ2VkaXRhYmxlLWNvbnRlbnQnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWRpdE9iai5yZW1vdmVFZGl0KCk7XHJcbn07XHJcblxyXG5qdkVkaXQucHJvdG90eXBlLmFwcGx5QWxsRWRpdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcblxyXG4gICAgZm9yICh2YXIgb3B0aW9uIGluIGVkaXRPYmoudml6T3B0aW9ucykge1xyXG4gICAgICAgIGlmIChlZGl0T2JqLnZpek9wdGlvbnMuaGFzT3duUHJvcGVydHkob3B0aW9uKSAmJiBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdChvcHRpb24pKSB7XHJcbiAgICAgICAgICAgIGVkaXRPYmouYXBwbHlFZGl0TW9kZShvcHRpb24sIGVkaXRPYmoudml6T3B0aW9uc1tvcHRpb25dKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5qdkVkaXQucHJvdG90eXBlLnJlbW92ZUVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcbiAgICBpZiAoZWRpdE9iai5lZGl0RGl2KSB7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2Lmh0bWwoJycpO1xyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdlxyXG4gICAgICAgICAgICAuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgfVxyXG4gICAgZWRpdE9iai5lZGl0T3B0aW9ucyA9ICcnO1xyXG59O1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFV0aWxpdHkgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5qdkVkaXQucHJvdG90eXBlLm92ZXJsYXlEaXZQb3NpdGlvbiA9IGZ1bmN0aW9uIChkaXZXaWR0aCwgZGl2SGVpZ2h0LCBtb3VzZVgsIG1vdXNlWSkge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzO1xyXG4gICAgdmFyIHBvc2l0aW9uID0ge307XHJcbiAgICBpZiAobW91c2VYID4gKHBhcnNlSW50KGVkaXRPYmouY2hhcnREaXYuc3R5bGUoJ3dpZHRoJykpKSAvIDIpIHtcclxuICAgICAgICBwb3NpdGlvbi54ID0gbW91c2VYIC0gZGl2V2lkdGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc2l0aW9uLnggPSBtb3VzZVg7XHJcbiAgICB9XHJcbiAgICBpZiAobW91c2VZIC0gZGl2SGVpZ2h0IC0gMTAgPiAwKSB7XHJcbiAgICAgICAgcG9zaXRpb24ueSA9IG1vdXNlWSAtIGRpdkhlaWdodCAtIDEwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwb3NpdGlvbi55ID0gbW91c2VZICsgMTA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcG9zaXRpb247XHJcbn07XHJcblxyXG4vKiogZ2V0Rm9ybWF0RXhwcmVzc2lvblxyXG4gKlxyXG4gKiBAZGVzYyByZXR1cm5zIHRoZSBkMyBmb3JtYXQgZXhwcmVzc2lvbiBmb3IgYSBnaXZlbiBvcHRpb25cclxuICogQHBhcmFtcyBvcHRpb25cclxuICogQHJldHVybnMgc3RyaW5nIGV4cHJlc3Npb25cclxuICovXHJcbmZ1bmN0aW9uIGdldEZvcm1hdEV4cHJlc3Npb24ob3B0aW9uKSB7XHJcbiAgICB2YXIgZXhwcmVzc2lvbiA9ICcnO1xyXG4gICAgaWYgKG9wdGlvbiA9PT0gXCJjdXJyZW5jeVwiKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdChcIiQsXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gXCJmaXhlZEN1cnJlbmN5XCIpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KFwiKCQuMmZcIik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSBcInBlcmNlbnRcIikge1xyXG4gICAgICAgIHZhciBwID0gTWF0aC5tYXgoMCwgZDMucHJlY2lzaW9uRml4ZWQoMC4wNSkgLSAyKTtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KFwiLlwiICsgcCArIFwiJVwiKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09IFwibWlsbGlvbnNcIikge1xyXG4gICAgICAgIHZhciBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXRQcmVmaXgoXCIuXCIgKyBwLCAxLjNlNik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnY29tbWFzJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoXCIsLjBmXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ25vbmUnIHx8IG9wdGlvbiA9PT0gJycpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KFwiXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBleHByZXNzaW9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRZQXhpc0xhYmVsV2lkdGgodGV4dFNpemUpIHtcclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZFZGl0O1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4vanZDaGFydHMuanMnKSxcclxuICAgIGp2Q29tbWVudCA9IHJlcXVpcmUoJy4vanZDb21tZW50LmpzJyksXHJcbiAgICBqdkVkaXQgPSByZXF1aXJlKCcuL2p2RWRpdC5qcycpLFxyXG4gICAganZCcnVzaCA9IHJlcXVpcmUoJy4vanZCcnVzaC5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmluaXRpYWxpemVNb2RlcyA9IGluaXRpYWxpemVNb2RlcztcclxuanZDaGFydHMucHJvdG90eXBlLmNyZWF0ZUNvbW1lbnRNb2RlID0gY3JlYXRlQ29tbWVudE1vZGU7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jcmVhdGVFZGl0TW9kZSA9IGNyZWF0ZUVkaXRNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuY3JlYXRlRGVmYXVsdE1vZGUgPSBjcmVhdGVEZWZhdWx0TW9kZTtcclxuanZDaGFydHMucHJvdG90eXBlLmNyZWF0ZVNlbGVjdE1vZGUgPSBjcmVhdGVTZWxlY3RNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuY3JlYXRlQnJ1c2hNb2RlID0gY3JlYXRlQnJ1c2hNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUudG9nZ2xlTW9kZXMgPSB0b2dnbGVNb2RlcztcclxuanZDaGFydHMucHJvdG90eXBlLnRvZ2dsZURlZmF1bHRNb2RlID0gdG9nZ2xlRGVmYXVsdE1vZGU7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS50b2dnbGVDb21tZW50TW9kZSA9IHRvZ2dsZUNvbW1lbnRNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUudG9nZ2xlRWRpdE1vZGUgPSB0b2dnbGVFZGl0TW9kZTtcclxuanZDaGFydHMucHJvdG90eXBlLnRvZ2dsZUJydXNoTW9kZSA9IHRvZ2dsZUJydXNoTW9kZTtcclxuanZDaGFydHMucHJvdG90eXBlLnRvZ2dsZVNlbGVjdE1vZGUgPSB0b2dnbGVTZWxlY3RNb2RlO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuYWRkQnJ1c2hFdmVudHMgPSBhZGRCcnVzaEV2ZW50cztcclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBpbml0aWFsaXplTW9kZXNcclxuICogQGRlc2MgZnVuY3Rpb24gdGhhdCBpbml0aWFsaXplcyBhbmQgY3JlYXRlcyB0aGUgY2hhcnQgdG9vbGJhclxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZU1vZGVzKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBjYWxsYmFja3MgPSBjaGFydC5jb25maWcuY2FsbGJhY2tzO1xyXG5cclxuICAgIC8vY2hlY2sgaWYgY2FsbGJhY2tzIGFyZSBuZWVkZWRcclxuICAgIGlmIChjYWxsYmFja3MpIHtcclxuICAgICAgICBmb3IgKGxldCBtb2RlIGluIGNhbGxiYWNrcykge1xyXG4gICAgICAgICAgICAvL2xvb3AgdGhyb3VnaCBhbGwgdGhlIHR5cGVzIG9mIG1vZGVzIHRvIGluaXRpYWxpemUgdGhlIG1vZGUgYW5kIHJlZ2lzdGVyIHRoZSBhcHByb3ByaWF0ZSBldmVudHNcclxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrcy5oYXNPd25Qcm9wZXJ0eShtb2RlKSAmJiBjYWxsYmFja3NbbW9kZV0pIHtcclxuICAgICAgICAgICAgICAgIGxldCBjYW1lbENhc2VNb2RlID0gbW9kZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG1vZGUuc2xpY2UoMSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydFttb2RlXSA9IGNoYXJ0WydjcmVhdGUnICsgY2FtZWxDYXNlTW9kZV0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2hhcnQuZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgY2hhcnQuZWRpdE1vZGUuYXBwbHlBbGxFZGl0cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjaGFydC50b2dnbGVNb2RlcyhjaGFydC5tb2RlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuY3JlYXRlRGVmYXVsdE1vZGUoKTtcclxuICAgICAgICAvL3VzZXIgaGFzIG5vdCBkZWZpbmVkIGFueSBvdGhlciBtb2Rlcywgc28ganVzdCB1c2UgZGVmYXVsdCBtb2RlXHJcbiAgICAgICAgY2hhcnQudG9nZ2xlRGVmYXVsdE1vZGUoJ2RlZmF1bHQtbW9kZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgaW5pdGlhbGl6ZUNvbW1lbnRNb2RlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb21tZW50cyBjb250YWlucyBhbGwgdGhlIGNvbW1lbnRzIGZvciBhIHZpelxyXG4gKiBAZGVzYyBmdW5jdGlvbiB0aGF0IGluaXRpYWxpemVzIGNvbW1lbnQgbW9kZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ29tbWVudE1vZGUoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgcmV0dXJuIG5ldyBqdkNvbW1lbnQoe1xyXG4gICAgICAgIGNoYXJ0RGl2OiBjaGFydC5jaGFydERpdixcclxuICAgICAgICBjb21tZW50czogY2hhcnQuY29uZmlnLmNvbW1lbnRzIHx8IHt9LFxyXG4gICAgICAgIG9uU2F2ZUNhbGxiYWNrOiBjaGFydC5jb25maWcuY2FsbGJhY2tzLmNvbW1lbnRNb2RlLm9uU2F2ZSxcclxuICAgICAgICBnZXRNb2RlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Lm1vZGU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBpbml0aWFsaXplRWRpdE1vZGVcclxuICogQHBhcmFtIHtPYmplY3R9IGxvb2thbmRmZWVsIGRlc2NyaWJlcyB0aGUgbG9vayBhbmQgZmVlbCBvZiB0aGUgdml6XHJcbiAqIEBkZXNjIGZ1bmN0aW9uIHRoYXQgaW5pdGlhbGl6ZXMgY29tbWVudCBtb2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVFZGl0TW9kZSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICByZXR1cm4gbmV3IGp2RWRpdCh7XHJcbiAgICAgICAgY2hhcnREaXY6IGNoYXJ0LmNoYXJ0RGl2LFxyXG4gICAgICAgIHZpek9wdGlvbnM6IGNoYXJ0LmNvbmZpZy5lZGl0T3B0aW9ucyB8fCB7fSxcclxuICAgICAgICBvblNhdmVDYWxsYmFjazogY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5lZGl0TW9kZS5vblNhdmVcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQG5hbWUgaW5pdGlhbGl6ZUJydXNoTW9kZVxyXG4gKiBAZGVzY3JpcHRpb24gaW5pdGlhbGl6ZSBicnVzaCBtb2RlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0TW9kZSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBpZiAoY2hhcnQuY29uZmlnLmNhbGxiYWNrcyAmJiBjaGFydC5jb25maWcuY2FsbGJhY2tzLmRlZmF1bHRNb2RlLm9uQnJ1c2gpIHtcclxuICAgICAgICBjaGFydC5icnVzaE1vZGUgPSBjaGFydC5jcmVhdGVCcnVzaE1vZGUoY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5kZWZhdWx0TW9kZS5vbkJydXNoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVCcnVzaE1vZGUoY2FsbGJhY2sgPSBudWxsKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgaWYgKCFjYWxsYmFjaykge1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcuY2FsbGJhY2tzLmJydXNoTW9kZSAmJiB0eXBlb2YgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5icnVzaE1vZGUub25CcnVzaCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBjYWxsYmFjayA9IGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MuYnJ1c2hNb2RlLm9uQnJ1c2g7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vIGJydXNoIGNhbGxiYWNrLCBwYXNzIGl0IGludG8gdGhlIGNhbGxiYWNrcyBvcHRpb24nKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBqdkJydXNoKHtcclxuICAgICAgICBjaGFydERpdjogY2hhcnQuY2hhcnREaXYsXHJcbiAgICAgICAganZDaGFydDogY2hhcnQsXHJcbiAgICAgICAgb25CcnVzaENhbGxiYWNrOiBjYWxsYmFja1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNlbGVjdE1vZGUoKSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlTW9kZXMobW9kZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0LmNvbW1lbnRNb2RlICYmIGNoYXJ0LnRvZ2dsZUNvbW1lbnRNb2RlKG1vZGUpO1xyXG4gICAgY2hhcnQuZWRpdE1vZGUgJiYgY2hhcnQudG9nZ2xlRWRpdE1vZGUobW9kZSk7XHJcbiAgICBjaGFydC5icnVzaE1vZGUgJiYgY2hhcnQudG9nZ2xlQnJ1c2hNb2RlKG1vZGUpO1xyXG4gICAgY2hhcnQuc2VsZWN0TW9kZSAmJiBjaGFydC50b2dnbGVTZWxlY3RNb2RlKG1vZGUpO1xyXG4gICAgY2hhcnQudG9nZ2xlRGVmYXVsdE1vZGUobW9kZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvZ2dsZURlZmF1bHRNb2RlKG1vZGUpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBpZiAobW9kZSA9PT0gJ2RlZmF1bHQtbW9kZScpIHtcclxuICAgICAgICBjaGFydC5jaGFydERpdi5zdHlsZSgnY3Vyc29yJywgJ2RlZmF1bHQnKTtcclxuICAgICAgICBjaGFydC5zaG93VG9vbFRpcCA9IHRydWU7XHJcbiAgICAgICAgaWYgKCFjaGFydC5jb25maWcuY2FsbGJhY2tzIHx8ICFjaGFydC5jb25maWcuY2FsbGJhY2tzLmRlZmF1bHRNb2RlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGRlZmF1bHRNb2RlID0gY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5kZWZhdWx0TW9kZTtcclxuICAgICAgICB2YXIgZW50aXJlU3ZnID0gY2hhcnQuY2hhcnREaXYuc2VsZWN0KCdzdmcnKTtcclxuICAgICAgICB2YXIgY2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICBvbkRvdWJsZUNsaWNrOiAoZXZlbnQsIG5vZGUsIG1vdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRlZmF1bHRNb2RlLm9uRG91YmxlQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV0cnVuT2JqID0gY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdLmdldEV2ZW50RGF0YS5jYWxsKGNoYXJ0LCBldmVudCwgbW91c2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHJ1bk9iai5ldmVudFR5cGUgPSAnZG91YmxlQ2xpY2snO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRNb2RlLm9uRG91YmxlQ2xpY2socmV0cnVuT2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGljazogKGV2ZW50LCBub2RlLCBtb3VzZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkZWZhdWx0TW9kZS5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ1bk9iaiA9IGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5nZXRFdmVudERhdGEuY2FsbChjaGFydCwgZXZlbnQsIG1vdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXRydW5PYmouZXZlbnRUeXBlID0gJ2NsaWNrJztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0TW9kZS5vbkNsaWNrKHJldHJ1bk9iaik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChjaGFydC5icnVzaE1vZGUgJiYgZGVmYXVsdE1vZGUub25CcnVzaCkge1xyXG4gICAgICAgICAgICBjYWxsYmFja3MubW91c2Vkb3duID0gYWRkQnJ1c2hNb3VzZWRvd24uYmluZChjaGFydCk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrcy5tb3VzZXVwID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuY2hhcnREaXYuc2VsZWN0KCdzdmcnKS5vbignbW91c2Vtb3ZlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuYnJ1c2hNb2RlLnJlbW92ZUJydXNoKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlZ2lzdGVyQ2xpY2tFdmVudHMoZW50aXJlU3ZnLCBjYWxsYmFja3MpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5zaG93VG9vbFRpcCA9IGZhbHNlO1xyXG4gICAgICAgIGNoYXJ0LnJlbW92ZUhpZ2hsaWdodCgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB0b2dnbGVDb21tZW50TW9kZShtb2RlKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSBjaGFydC5jb21tZW50TW9kZTtcclxuICAgIHZhciBlbnRpcmVTdmcgPSBjaGFydC5jaGFydERpdi5zZWxlY3QoJ3N2ZycpO1xyXG4gICAgaWYgKG1vZGUgPT09ICdjb21tZW50LW1vZGUnKSB7XHJcbiAgICAgICAgY2hhcnQuY2hhcnREaXYuc3R5bGUoJ2N1cnNvcicsICdwb2ludGVyJyk7XHJcbiAgICAgICAgdmFyIGNhbGxiYWNrcyA9IHtcclxuICAgICAgICAgICAgb25Eb3VibGVDbGljazogKGV2ZW50LCBub2RlLCBtb3VzZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29tbWVudE9iai5tYWtlQ29tbWVudChub2RlKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5jb21tZW50TW9kZS5vbkRvdWJsZUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ1bk9iaiA9IGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5nZXRFdmVudERhdGEuY2FsbChjaGFydCwgZXZlbnQsIG1vdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXRydW5PYmouZXZlbnRUeXBlID0gJ2RvdWJsZUNsaWNrJztcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLmNvbW1lbnRNb2RlLm9uRG91YmxlQ2xpY2socmV0cnVuT2JqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25DbGljazogKGV2ZW50LCBub2RlLCBtb3VzZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGFydC5jb25maWcuY2FsbGJhY2tzLmNvbW1lbnRNb2RlLm9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcmV0cnVuT2JqID0gY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdLmdldEV2ZW50RGF0YS5jYWxsKGNoYXJ0LCBldmVudCwgbW91c2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHJ1bk9iai5ldmVudFR5cGUgPSAnY2xpY2snO1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MuY29tbWVudE1vZGUub25DbGljayhyZXRydW5PYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZWdpc3RlckNsaWNrRXZlbnRzKGVudGlyZVN2ZywgY2FsbGJhY2tzKTtcclxuXHJcbiAgICAgICAgLy9hZGQgbW92ZW1lbnRsaXN0ZW5lcnNcclxuICAgICAgICBjaGFydC5jaGFydERpdi5zZWxlY3RBbGwoJy5taW4tY29tbWVudCcpXHJcbiAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9sb2dpYyB0byBtb3ZlIGNvbW1lbnRzXHJcbiAgICAgICAgICAgICAgICBjb21tZW50T2JqLmNyZWF0ZU1vdmVMaXN0ZW5lcihkMy5zZWxlY3QodGhpcykpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ21vdXNldXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tbWVudE9iai5tb3ZlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRPYmoudXBkYXRlUG9zaXRpb24oY29tbWVudE9iaik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb21tZW50T2JqLm1vdmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5jaGFydERpdi5vbignbW91c2Vtb3ZlJywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29tbWVudE9iai5yZW1vdmVDb21tZW50KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEJydXNoTW91c2Vkb3duKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBicnVzaFN0YXJ0ZWQgPSBmYWxzZSxcclxuICAgICAgICBicnVzaENvbnRhaW5lciA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnLicgKyBjaGFydC5jb25maWcudHlwZSArICctY29udGFpbmVyJykubm9kZSgpLFxyXG4gICAgICAgIGVudGlyZVN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnc3ZnJyksXHJcbiAgICAgICAgdGltZU1vdXNlRG93biA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5cclxuICAgIGVudGlyZVN2Zy5vbignbW91c2Vtb3ZlJywgKCkgPT4ge1xyXG4gICAgICAgIHZhciB0aW1lTW91c2VNb3ZlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgaWYgKHRpbWVNb3VzZURvd24gPiB0aW1lTW91c2VNb3ZlIC0gMTApIHtcclxuICAgICAgICAgICAgLy9tb3VzZSBtb3ZlIGhhcHBlbmQgdG9vIHF1aWNrbHksIGNocm9tZSBidWdcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYnJ1c2hTdGFydGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNvbnRhaW5lckJveCwgeCwgeTtcclxuICAgICAgICBpZiAoYnJ1c2hDb250YWluZXIgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBjaGFydC5icnVzaE1vZGUuc3RhcnRCcnVzaChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIGJydXNoU3RhcnRlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyQm94ID0gYnJ1c2hDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIHggPSBkMy5tb3VzZShlbnRpcmVTdmcubm9kZSgpKVswXTtcclxuICAgICAgICAgICAgeSA9IGQzLm1vdXNlKGVudGlyZVN2Zy5ub2RlKCkpWzFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHggPCBjb250YWluZXJCb3gucmlnaHQgJiYgeSA8IGNvbnRhaW5lckJveC5ib3R0b20gJiYgeCA+IGNvbnRhaW5lckJveC5sZWZ0ICYmIHkgPiBjb250YWluZXJCb3gudG9wKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5icnVzaE1vZGUuc3RhcnRCcnVzaChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICBicnVzaFN0YXJ0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9tYXliZSBoYXZlIGEgY2F0Y2ggaGVyZSBmb3Igc29tZXRoaW5nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQnJ1c2hFdmVudHMoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIGVudGlyZVN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnc3ZnJyksXHJcbiAgICAgICAgY2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICBtb3VzZWRvd246IGFkZEJydXNoTW91c2Vkb3duLmJpbmQoY2hhcnQpLFxyXG4gICAgICAgICAgICBtb3VzZXVwOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5jaGFydERpdi5zZWxlY3QoJ3N2ZycpLm9uKCdtb3VzZW1vdmUnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5icnVzaE1vZGUucmVtb3ZlQnJ1c2goKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICByZWdpc3RlckNsaWNrRXZlbnRzKGVudGlyZVN2ZywgY2FsbGJhY2tzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlQnJ1c2hNb2RlKG1vZGUpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBpZiAobW9kZSA9PT0gJ2JydXNoLW1vZGUnICYmIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MuYnJ1c2hNb2RlKSB7XHJcbiAgICAgICAgY2hhcnQuYWRkQnJ1c2hFdmVudHMoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlU2VsZWN0TW9kZShtb2RlKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgaWYgKG1vZGUgPT09ICdzZWxlY3QtbW9kZScpIHtcclxuICAgICAgICB2YXIgZW50aXJlU3ZnID0gY2hhcnQuY2hhcnREaXYuc2VsZWN0KCdzdmcnKTtcclxuICAgICAgICB2YXIgY2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICBvbkRvdWJsZUNsaWNrOiAoZXZlbnQsIG5vZGUsIG1vdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3Muc2VsZWN0TW9kZS5vbkRvdWJsZUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ1bk9iaiA9IGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5nZXRFdmVudERhdGEuY2FsbChjaGFydCwgZXZlbnQsIG1vdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXRydW5PYmouZXZlbnRUeXBlID0gJ2RvdWJsZUNsaWNrJztcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLnNlbGVjdE1vZGUub25Eb3VibGVDbGljayhyZXRydW5PYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoZXZlbnQsIG5vZGUsIG1vdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3Muc2VsZWN0TW9kZS5vbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJldHJ1bk9iaiA9IGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5nZXRFdmVudERhdGEuY2FsbChjaGFydCwgZXZlbnQsIG1vdXNlKTtcclxuICAgICAgICAgICAgICAgICAgICByZXRydW5PYmouZXZlbnRUeXBlID0gJ2NsaWNrJztcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC5jb25maWcuY2FsbGJhY2tzLnNlbGVjdE1vZGUub25DbGljayhyZXRydW5PYmopO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZWdpc3RlckNsaWNrRXZlbnRzKGVudGlyZVN2ZywgY2FsbGJhY2tzKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlRWRpdE1vZGUobW9kZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBlZGl0T2JqID0gY2hhcnQuZWRpdE1vZGU7XHJcbiAgICB2YXIgZW50aXJlU3ZnID0gZWRpdE9iai5jaGFydERpdi5zZWxlY3QoXCJzdmdcIik7XHJcbiAgICBpZiAobW9kZSA9PT0gJ2VkaXQtbW9kZScpIHtcclxuICAgICAgICBlZGl0T2JqLmNoYXJ0RGl2LnN0eWxlKCdjdXJzb3InLCAnZGVmYXVsdCcpO1xyXG4gICAgICAgIGVudGlyZVN2Zy5zZWxlY3RBbGwoXCIuZXZlbnQtcmVjdFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG5cclxuICAgICAgICB2YXIgY2FsbGJhY2tzID0ge1xyXG4gICAgICAgICAgICBvbkRvdWJsZUNsaWNrOiAoZXZlbnQsIG5vZGUsIG1vdXNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MuZWRpdE1vZGUub25Eb3VibGVDbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXRydW5PYmogPSBjaGFydFtjaGFydC5jb25maWcudHlwZV0uZ2V0RXZlbnREYXRhLmNhbGwoY2hhcnQsIGV2ZW50LCBtb3VzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0cnVuT2JqLmV2ZW50VHlwZSA9ICdkb3VibGVDbGljayc7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5lZGl0TW9kZS5vbkRvdWJsZUNsaWNrKHJldHJ1bk9iaik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6IChldmVudCwgbm9kZSwgbW91c2UpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vZWRpdCBtb2RlIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgLy9nb2luZyB0byBiZSBtb3VzZW92ZXIgdG8gaGlnaGxpZ2h0IG9wdGlvbnMgZm9yIHdoYXRldmVyIHBpZWNlIHlvdSBob3ZlciBvdmVyXHJcbiAgICAgICAgICAgICAgICB2YXIgY2xhc3NUZXh0ID0gZDMuc2VsZWN0KGV2ZW50LnRhcmdldCkuYXR0cignY2xhc3MnKTtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc1RleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NUZXh0LmluZGV4T2YoJ2VkaXRhYmxlJykgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlZGl0T2JqLmRpc3BsYXlFZGl0KG1vdXNlLCBjbGFzc1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYXJ0LmNvbmZpZy5jYWxsYmFja3MuZWRpdE1vZGUub25DbGljayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXRydW5PYmogPSBjaGFydFtjaGFydC5jb25maWcudHlwZV0uZ2V0RXZlbnREYXRhLmNhbGwoY2hhcnQsIGV2ZW50LCBtb3VzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0cnVuT2JqLmV2ZW50VHlwZSA9ICdjbGljayc7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQuY29uZmlnLmNhbGxiYWNrcy5lZGl0TW9kZS5vbkNsaWNrKHJldHJ1bk9iaik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlZ2lzdGVyQ2xpY2tFdmVudHMoZWRpdE9iai5jaGFydERpdiwgY2FsbGJhY2tzKTtcclxuXHJcbiAgICAgICAgZWRpdE9iai5jaGFydERpdi5zZWxlY3RBbGwoJy5lZGl0YWJsZScpLmNsYXNzZWQoJ3BvaW50ZXInLCB0cnVlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZWRpdE9iai5yZW1vdmVFZGl0KCk7XHJcbiAgICAgICAgZW50aXJlU3ZnLnNlbGVjdEFsbCgnLmVkaXRhYmxlJykuY2xhc3NlZCgncG9pbnRlcicsIGZhbHNlKTtcclxuICAgICAgICBlbnRpcmVTdmcuc2VsZWN0QWxsKFwiLmV2ZW50LXJlY3RcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vdXNpbmcgZGVmYXVsdCBwYXJhbWV0ZXJzIHRvIHNob3cgYXZhaWxhYmxlIHBhcnRzIG9mIHRoZSBjYWxsYmFja3Mgb2JqZWN0XHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQ2xpY2tFdmVudHMoc3ZnLCB7IG9uQ2xpY2sgPSBudWxsLCBvbkRvdWJsZUNsaWNrID0gbnVsbCwgbW91c2Vkb3duID0gbnVsbCwgbW91c2V1cCA9IG51bGwgfSkge1xyXG4gICAgdmFyIGRvd24sXHJcbiAgICAgICAgdG9sZXJhbmNlID0gNSxcclxuICAgICAgICB3YWl0ID0gbnVsbDtcclxuXHJcbiAgICBpZiAoIW9uQ2xpY2sgJiYgIW9uRG91YmxlQ2xpY2spIHtcclxuICAgICAgICBzdmcub24oJ21vdXNlZG93bicsIGZhbHNlKTtcclxuICAgICAgICBzdmcub24oJ21vdXNldXAnLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3ZnLm9uKCdtb3VzZWRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgZG93biA9IGQzLm1vdXNlKHN2Zy5ub2RlKCkpO1xyXG4gICAgICAgIGlmICh0eXBlb2YgbW91c2Vkb3duID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG1vdXNlZG93bigpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHN2Zy5vbignbW91c2V1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG1vdXNldXAgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgbW91c2V1cCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIW9uRG91YmxlQ2xpY2spIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrKGQzLmV2ZW50LCB0aGlzLCBkMy5tb3VzZSh0aGlzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZGlzdChkb3duLCBkMy5tb3VzZShzdmcubm9kZSgpKSkgPiB0b2xlcmFuY2UpIHtcclxuICAgICAgICAgICAgLy9kcmFnIG5vdCBjbGljayBzbyByZXR1cm5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAod2FpdCkge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHdhaXQpO1xyXG4gICAgICAgICAgICB3YWl0ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbkRvdWJsZUNsaWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBvbkRvdWJsZUNsaWNrKGQzLmV2ZW50LCB0aGlzLCBkMy5tb3VzZSh0aGlzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3YWl0ID0gd2luZG93LnNldFRpbWVvdXQoKChlLCBtb3VzZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9uQ2xpY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljayhlLCB0aGlzLCBtb3VzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHdhaXQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vZDMuZXZlbnQgYW5kIGQzLm1vdXNlIGJvdGggbG9zZSB0aGVpciBzY29wZSBpbiBhIHRpbWVvdXQgYW5kIG5vIGxvbmdlciByZXR1cm4gdGhlIGV4cGVjdGVkIHZhbHVlLCBzbyBiaW5kaW5nIGlzIG5lY2Vzc2FyeVxyXG4gICAgICAgICAgICB9KShkMy5ldmVudCwgZDMubW91c2UodGhpcykpLCAyNTApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vL2V1Y2xpZGVhbiBkaXN0YW5jZSB0byBkZXRlcm1pbmUgaWYgdGhlIG1vdXNlIG1vdmVkIGluIGJldHdlZW4gY2xpY2tzIGZvciBkb3VibGUgY2xpY2tcclxuZnVuY3Rpb24gZGlzdChhLCBiKSB7XHJcbiAgICBpZiAoYSAmJiBiICYmIEFycmF5LmlzQXJyYXkoYSkgJiYgQXJyYXkuaXNBcnJheShiKSkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coYVswXSAtIGJbMF0sIDIpLCBNYXRoLnBvdyhhWzFdIC0gYlsxXSwgMikpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDA7XHJcbn1cclxuIiwiLyoqKiAganZFZGl0ICoqKi9cclxuZnVuY3Rpb24ganZTZWxlY3QoY29uZmlnT2JqKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgc2VsZWN0T2JqID0gdGhpcztcclxuICAgIHNlbGVjdE9iai5jaGFydERpdiA9IGNvbmZpZ09iai5jaGFydERpdjtcclxuICAgIHNlbGVjdE9iai5qdkNoYXJ0ID0gY29uZmlnT2JqLmp2Q2hhcnQ7XHJcbiAgICBzZWxlY3RPYmouc2luZ2xlQ2xpY2tDYWxsYmFjayA9IGNvbmZpZ09iai5zaW5nbGVDbGlja0NhbGxiYWNrO1xyXG4gICAgc2VsZWN0T2JqLmRvdWJsZUNsaWNrQ2FsbGJhY2sgPSBjb25maWdPYmouZG91YmxlQ2xpY2tDYWxsYmFjaztcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNpbmdsZUNsaWNrKHNlbGVjdE9iaiwgZXZlbnQpIHtcclxuICAgIGlmICh0eXBlb2Ygc2VsZWN0T2JqLnNpbmdsZUNsaWNrQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBzZWxlY3RPYmouc2luZ2xlQ2xpY2tDYWxsYmFjayhldmVudCk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZGJsY2xpY2soc2VsZWN0T2JqLCBldmVudCkge1xyXG4gICAgaWYgKHR5cGVvZiBzZWxlY3RPYmouZG91YmxlQ2xpY2tDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHNlbGVjdE9iai5kb3VibGVDbGlja0NhbGxiYWNrKGV2ZW50KTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBTZWxlY3QgTW9kZSBGdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdlNlbGVjdDtcclxuIiwiLyoqKiAganZUaXAgKioqL1xyXG5cclxuZnVuY3Rpb24ganZUaXAoY29uZmlnT2JqKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciB0aXAgPSB0aGlzLFxyXG4gICAgICAgIGRlZmF1bHRDb25maWcgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdzaW1wbGUnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICB0aXAudGlwQ29uZmlnID0gY29uZmlnT2JqLnRpcENvbmZpZyB8fCBkZWZhdWx0Q29uZmlnO1xyXG4gICAgdGlwLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG5cclxuICAgIC8vQ3JlYXRlIGluaXRpYWwgZGl2XHJcbiAgICB0aXAuY2hhcnREaXYuc2VsZWN0KCcuanYtdG9vbHRpcCcpLnJlbW92ZSgpO1xyXG5cclxuICAgIHRpcC5jaGFydERpdi5hcHBlbmQoXCJkaXZcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwidG9vbHRpcCBqdi10b29sdGlwXCIpXHJcbiAgICAgICAgLnN0eWxlKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xyXG59XHJcblxyXG5qdlRpcC5wcm90b3R5cGUuc2hvd1RpcCA9IGZ1bmN0aW9uICh0cmFuc2l0aW9uRHVyYXRpb24gPSA1MCkge1xyXG4gICAgdmFyIHRpcCA9IHRoaXM7XHJcbiAgICB2YXIgbGVmdCA9ICdhdXRvJyxcclxuICAgICAgICB0b3AgPSAnYXV0bycsXHJcbiAgICAgICAgbW91c2UgPSBkMy5tb3VzZSh0aXAuY2hhcnREaXYuc2VsZWN0KCdzdmcnKS5ub2RlKCkpO1xyXG5cclxuICAgIC8vTG9naWMgdG8gZGV0ZXJtaW5lIHdoZXJlIHRvb2x0aXAgd2lsbCBiZSBwbGFjZWQgb24gcGFnZVxyXG4gICAgdmFyIGxlZnRPZk1vdXNlID0gbW91c2VbMF0gPiAodGlwLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50V2lkdGggLyAyKSxcclxuICAgICAgICB0b3BPZk1vdXNlID0gbW91c2VbMV0gPCAodGlwLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0IC8gMiksXHJcbiAgICAgICAgdG9vbHRpcEhlaWdodCA9IHRpcC50b29sVGlwLl9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0ID09PSAwID8gNzUgOiB0aXAudG9vbFRpcC5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodCxcclxuICAgICAgICB0b29sdGlwV2lkdGggPSB0aXAudG9vbFRpcC5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoO1xyXG5cclxuICAgIGlmIChsZWZ0T2ZNb3VzZSkge1xyXG4gICAgICAgIGlmICh0b29sdGlwV2lkdGggPT09IDApIHtcclxuICAgICAgICAgICAgdG9vbHRpcFdpZHRoID0gMjUwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZWZ0ID0gbW91c2VbMF0gLSB0b29sdGlwV2lkdGg7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxlZnQgPSBtb3VzZVswXTtcclxuICAgIH1cclxuICAgIGlmICh0b3BPZk1vdXNlKSB7XHJcbiAgICAgICAgdG9wID0gbW91c2VbMV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0b29sdGlwSGVpZ2h0ID09PSAwKSB7XHJcbiAgICAgICAgICAgIHRvb2x0aXBIZWlnaHQgPSA3NTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdG9wID0gbW91c2VbMV0gLSB0b29sdGlwSGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghbGVmdE9mTW91c2UgJiYgdG9wT2ZNb3VzZSkge1xyXG4gICAgICAgIGxlZnQgPSBtb3VzZVswXSArIDEzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL0NPT0wgQ1VSU09SLCBhIGZ1bmN0aW9uIG9mIHRoZSBoZWlnaHQgYW5kIHdpZHRoIG9mIHRoZSBjb250YWluZXJcclxuICAgIC8vIHZhciBjb250YWluZXIgPSB0aXAuY2hhcnREaXYuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLm5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgIC8vIHN2Z01vdXNlID0gZDMubW91c2UodGlwLmNoYXJ0RGl2LnNlbGVjdCgnLmJhci1jb250YWluZXInKS5ub2RlKCkpO1xyXG5cclxuICAgIC8vIHZhciB0b29sdGlwSGVpZ2h0ID0gdGlwLnRvb2xUaXAuX2dyb3Vwc1swXVswXS5jbGllbnRIZWlnaHQgPT09IDAgPyA3NSA6IHRpcC50b29sVGlwLl9ncm91cHNbMF1bMF0uY2xpZW50SGVpZ2h0O1xyXG4gICAgLy8gdG9wID0gbW91c2VbMV0gLSAodG9vbHRpcEhlaWdodCAqIHN2Z01vdXNlWzFdIC8gY29udGFpbmVyLmhlaWdodCk7XHJcblxyXG4gICAgLy8gdmFyIHRvb2x0aXBXaWR0aCA9IHRpcC50b29sVGlwLl9ncm91cHNbMF1bMF0uY2xpZW50V2lkdGg7XHJcbiAgICAvLyBsZWZ0ID0gbW91c2VbMF0gLSAodG9vbHRpcFdpZHRoICogc3ZnTW91c2VbMF0gLyBjb250YWluZXIud2lkdGgpO1xyXG5cclxuICAgIC8vU1RJQ0tZIENVUlNPUiBJTiBUSEUgQk9UVE9NIFJJR0hUXHJcbiAgICAvLyB0b3AgPSBtb3VzZVsxXTtcclxuICAgIC8vIGxlZnQgPSBtb3VzZVswXTtcclxuICAgIC8vc2V0IG1heCBsZWZ0XHJcbiAgICAvLyBpZihsZWZ0ID4gY29udGFpbmVyLndpZHRoIC0gdG9vbHRpcFdpZHRoICsgY29udGFpbmVyLmxlZnQpIHtcclxuICAgIC8vICAgICBsZWZ0ID0gY29udGFpbmVyLndpZHRoIC0gdG9vbHRpcFdpZHRoICsgY29udGFpbmVyLmxlZnQ7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gLy9zZXQgbWF4IHRvcFxyXG4gICAgLy8gaWYgKHRvcCA+IGNvbnRhaW5lci5oZWlnaHQgLSB0b29sdGlwSGVpZ2h0ICsgY29udGFpbmVyLnRvcCkge1xyXG4gICAgLy8gICAgIHRvcCA9IGNvbnRhaW5lci5oZWlnaHQgLSB0b29sdGlwSGVpZ2h0ICsgY29udGFpbmVyLnRvcDtcclxuICAgIC8vIH1cclxuXHJcblxyXG4gICAgdmFyIHQgPSBkMy50cmFuc2l0aW9uKClcclxuICAgICAgICAuZHVyYXRpb24odHJhbnNpdGlvbkR1cmF0aW9uKVxyXG4gICAgICAgIC5lYXNlKGQzLmVhc2VMaW5lYXIpO1xyXG5cclxuICAgIHRpcC50b29sVGlwXHJcbiAgICAgICAgLnRyYW5zaXRpb24odClcclxuICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIGxlZnQgKyAncHgnKVxyXG4gICAgICAgIC5zdHlsZShcInRvcFwiLCAgdG9wICsgJ3B4JylcclxuICAgICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIilcclxuICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xyXG59O1xyXG5cclxuanZUaXAucHJvdG90eXBlLmhpZGVUaXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGlwID0gdGhpcztcclxuICAgIHZhciB0ID0gZDMudHJhbnNpdGlvbigpXHJcbiAgICAgICAgLmR1cmF0aW9uKCcxMDAnKVxyXG4gICAgICAgIC5lYXNlKGQzLmVhc2VMaW5lYXIpO1xyXG4gICAgaWYgKHRpcC50b29sVGlwKSB7XHJcbiAgICAgICAgdGlwLnRvb2xUaXAudHJhbnNpdGlvbih0KS5zdHlsZShcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAgRGVjbGFyZSBqdiB0aXAgY29tcG9uZW50cyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG52YXIganZIciA9IGA8aHIgc3R5bGU9J21hcmdpbjozcHggMCAzcHggMDsnLz5gO1xyXG5cclxuZnVuY3Rpb24gZ2V0VmFsdWVDb250ZW50KGl0ZW0sIHZhbHVlLCBjb2xvclRpbGUpIHtcclxuICAgIHZhciB2YWx1ZVN0cmluZyA9IHZhbHVlID8gYDogJHt2YWx1ZX1gIDogJyc7XHJcbiAgICB2YXIgY29sb3JUaWxlU3RyaW5nID0gY29sb3JUaWxlID8gY29sb3JUaWxlIDogJydcclxuICAgIHJldHVybiBgPHNwYW4gY2xhc3M9J3NlbW9zcy1kMy10aXAtY29udGVudCBqdi10aXAtc2lkZS1tYXJnaW5zJz4ke2NvbG9yVGlsZVN0cmluZ30ke2l0ZW19JHt2YWx1ZVN0cmluZ308L3NwYW4+PGJyLz5gO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRUaXRsZVRlbXBsYXRlKGRhdGFPYmopIHtcclxuICAgIHJldHVybiBgPGRpdiBjbGFzcz0ndGl0bGUganYtdG9wLW1hcmdpbiBqdi1pbmxpbmUnPjxiPiR7ZGF0YU9iai50aXRsZX08L2I+PC9kaXY+JHtqdkhyfWA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbG9yVGlsZShjb2xvcikge1xyXG4gICAgaWYoY29sb3IpIHtcclxuICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9J2QzLXRvb2x0aXAtY2lyY2xlIGp2LWlubGluZSBqdi10aXAtc2lkZS1tYXJnaW5zJyBzdHlsZT0nYmFja2dyb3VuZDoke2NvbG9yfSc+PC9kaXY+YDtcclxuICAgIH1cclxuICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2p2LWlubGluZSBqdi10aXAtc2lkZS1tYXJnaW5zJz5cIlxyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogVml6IFNwZWNpZmljIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuXHJcbmp2VGlwLnByb3RvdHlwZS5nZW5lcmF0ZVNpbXBsZVRpcCA9IGZ1bmN0aW9uIChkYXRhT2JqLCBkYXRhVGFibGUpIHtcclxuICAgIHZhciB0aXAgPSB0aGlzO1xyXG4gICAgdmFyIHRvb2x0aXBIdG1sID0gJyc7XHJcbiAgIFxyXG4gICAgaWYgKGRhdGFPYmouaGFzT3duUHJvcGVydHkoJ3RpdGxlJykgJiYgZGF0YU9iai50aXRsZSA9PT0gJycpIHtcclxuICAgICAgICBkYXRhT2JqLnRpdGxlID0gJ0VtcHR5JztcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGF0YU9iai52aXogPT09ICdjbHVzdGVycycgfHwgZGF0YU9iai52aXogPT09ICdjaXJjbGV2aWV3cGxvdCcgfHwgZGF0YU9iai52aXogPT09ICdzY2F0dGVycGxvdCcgfHwgZGF0YU9iai52aXogPT09ICd0cmVlbWFwJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgdG9vbHRpcEh0bWwgPSBnZW5lcmF0ZVNpbmdsZUNvbG9ySFRNTChkYXRhT2JqLCBkYXRhVGFibGUpO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ3JhZGlhbCcgfHwgZGF0YU9iai52aXogPT09ICdwaWUnKSB7XHJcbiAgICAgICAgdG9vbHRpcEh0bWwgPSBnZW5lcmF0ZVBpZUhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgIH0gZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdjaXJjbGVwYWNrJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3N1bmJ1cnN0Jykge1xyXG4gICAgICAgIHRvb2x0aXBIdG1sID0gZ2VuZXJhdGVQYWNrSFRNTChkYXRhT2JqLCBkYXRhVGFibGUpO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ2hlYXRtYXAnIHx8IGRhdGFPYmoudml6ID09PSAnY2xvdWQnKSB7XHJcbiAgICAgICAgdG9vbHRpcEh0bWwgPSBnZW5lcmF0ZUhlYXRtYXBIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGFPYmoudml6ID09PSAnc2Fua2V5Jykge1xyXG4gICAgICAgIHRvb2x0aXBIdG1sID0gZ2VuZXJhdGVTYW5rZXlIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICB9IGVsc2UgaWYgKGRhdGFPYmoudml6ID09PSAnYnViYmxlJykge1xyXG4gICAgICAgIHRvb2x0aXBIdG1sID0gZ2VuZXJhdGVCdWJibGVIVE1MKGRhdGFPYmopO1xyXG4gICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ2JveHdoaXNrZXInKSB7XHJcbiAgICAgICAgdG9vbHRpcEh0bWwgPSBnZW5lcmF0ZUJveEhUTUwoZGF0YU9iaik7XHJcbiAgICB9ICBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ2NsdXN0ZXJncmFtJykge1xyXG4gICAgICAgIHRvb2x0aXBIdG1sID0gZ2VuZXJhdGVDbHVzdGVyZ3JhbUhUTUwoZGF0YU9iaik7XHJcbiAgICB9ICBlbHNlIHtcclxuICAgICAgICB0b29sdGlwSHRtbCA9IGdlbmVyYXRlU2ltcGxlSFRNTChkYXRhT2JqLCBkYXRhVGFibGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vYWRkIGNvbnRlbnQgdG8gdG9vbHRpcFxyXG4gICAgdGlwLnRvb2xUaXAgPSB0aXAuY2hhcnREaXYuc2VsZWN0KFwiLnRvb2x0aXBcIilcclxuICAgICAgICAuaHRtbCh0b29sdGlwSHRtbCk7XHJcblxyXG4gICAgLy9wYWludCB0aGUgdG9vbHRpcFxyXG4gICAgdGlwLnNob3dUaXAoMCk7XHJcblxyXG4gICAgcmV0dXJuIHRpcC50b29sdGlwO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVTaW1wbGVIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXY+PGRpdiBjbGFzcz0ndGl0bGUganYtdGlwLWNvbnRhaW5lciBqdi10aXAtc2lkZS1tYXJnaW5zIGp2LXRvcC1tYXJnaW4nPjxiPiR7ZGF0YU9iai50aXRsZX08L2I+PC9kaXY+JHtqdkhyfWA7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSwgZ2V0Q29sb3JUaWxlKGRhdGFPYmouY29sb3JbaXRlbV0pKTtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2luZ2xlQ29sb3JIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0LFxyXG4gICAgICAgIHRvb2x0aXBDb2xvcixcclxuICAgICAgICBzaG93Q29sb3JDaXJjbGUgPSB0cnVlLFxyXG4gICAgICAgIGNvbG9yQ2lyY2xlID0gXCJcIjtcclxuXHJcbiAgICBpZiAoISFkYXRhT2JqLmNvbG9yW2RhdGFPYmouZGF0YVtkYXRhVGFibGUuc2VyaWVzXV0pIHtcclxuICAgICAgICB0b29sdGlwQ29sb3IgPSBkYXRhT2JqLmNvbG9yW2RhdGFPYmouZGF0YVtkYXRhVGFibGUuc2VyaWVzXV07XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmICghIWRhdGFPYmouY29sb3JbZGF0YVRhYmxlLmxhYmVsXSAmJiBkYXRhT2JqLnZpeiAhPT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgdG9vbHRpcENvbG9yID0gZGF0YU9iai5jb2xvcltkYXRhVGFibGUubGFiZWxdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2hvd0NvbG9yQ2lyY2xlID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNob3dDb2xvckNpcmNsZSkge1xyXG4gICAgICAgIGNvbG9yQ2lyY2xlID0gZ2V0Q29sb3JUaWxlKHRvb2x0aXBDb2xvcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb2xvckNpcmNsZSA9IGdldENvbG9yVGlsZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXYgY2xhc3M9J2p2LWlubGluZSc+JHtjb2xvckNpcmNsZX08ZGl2IGNsYXNzPSd0aXRsZSBqdi10aXAtc2lkZS1tYXJnaW5zIGp2LWlubGluZSBqdi10b3AtbWFyZ2luJz48Yj4ke2RhdGFPYmoudGl0bGV9PC9iPjwvZGl2PiR7anZIcn1gO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuICAgICAgICB0b29sdGlwVGV4dCArPSBnZXRWYWx1ZUNvbnRlbnQoaXRlbSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQYWNrSFRNTChkYXRhT2JqKSB7XHJcbiAgICB2YXIgdG9vbHRpcFRleHQ7XHJcbiAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPlxyXG4gICAgICAgICR7Z2V0Q29sb3JUaWxlKGRhdGFPYmouZGF0YS5jb2xvcil9XHJcbiAgICAgICAgJHtnZXRUaXRsZVRlbXBsYXRlKGRhdGFPYmopfWA7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1YmJsZUhUTUwoZGF0YU9iaikge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSBgPGRpdiBjbGFzcz0nanYtaW5saW5lJz5cclxuICAgICAgICAke2dldENvbG9yVGlsZShkYXRhT2JqLmRhdGEuY29sb3IpfVxyXG4gICAgICAgICR7Z2V0VGl0bGVUZW1wbGF0ZShkYXRhT2JqKX1gO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0gPT09ICdjb2xvcicpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gZ2V0VmFsdWVDb250ZW50KGl0ZW0sIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9ICc8L2Rpdj4nO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJveEhUTUwoZGF0YU9iaikge1xyXG4gICAgbGV0IHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSAnPGRpdiBjbGFzcz1cImp2LWlubGluZVwiPic7XHJcblxyXG4gICAgZm9yIChsZXQgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICBpZiAoZGF0YU9iai50aXBEYXRhLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSAgICA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcbiAgICAgICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gJzwvZGl2Pic7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlSGVhdG1hcEhUTUwoZGF0YU9iaikge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgaWYgKGRhdGFPYmoueEF4aXNDYXQpIHtcclxuICAgICAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPlxyXG4gICAgICAgICAgICAke2dldENvbG9yVGlsZShkYXRhT2JqLmNvbG9yKX1gICsgXHJcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0ndGl0bGUganYtdG9wLW1hcmdpbiBqdi1pbmxpbmUnPjxiPlwiICsgZGF0YU9iai5kYXRhLnhBeGlzTmFtZSArIFwiPC9iPjwvZGl2PjxociBzdHlsZT0nbWFyZ2luOjNweCAwIDNweCAwOycvPlwiO1xyXG5cclxuICAgICAgICB0b29sdGlwVGV4dCArPSBcIjxzcGFuIGNsYXNzPSdzZW1vc3MtZDMtdGlwLWNvbnRlbnQganYtdGlwLXNpZGUtbWFyZ2lucyc+XCIgKyBkYXRhT2JqLnhBeGlzQ2F0ICsgXCI8L3NwYW4+PGJyLz5cIlxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG4gICAgfSBlbHNlIGlmKGRhdGFPYmoueUF4aXNDYXQpIHtcclxuICAgICAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPlxyXG4gICAgICAgICAgICAke2dldENvbG9yVGlsZShkYXRhT2JqLmNvbG9yKX1gICsgXHJcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0ndGl0bGUganYtdG9wLW1hcmdpbiBqdi1pbmxpbmUnPjxiPlwiICsgZGF0YU9iai5kYXRhLnlBeGlzTmFtZSArIFwiPC9iPjwvZGl2PjxociBzdHlsZT0nbWFyZ2luOjNweCAwIDNweCAwOycvPlwiO1xyXG5cclxuICAgICAgICB0b29sdGlwVGV4dCArPSBcIjxzcGFuIGNsYXNzPSdzZW1vc3MtZDMtdGlwLWNvbnRlbnQganYtdGlwLXNpZGUtbWFyZ2lucyc+XCIgKyBkYXRhT2JqLnlBeGlzQ2F0ICsgXCI8L3NwYW4+PGJyLz5cIlxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPlxyXG4gICAgICAgICAgICAke2dldENvbG9yVGlsZShkYXRhT2JqLmNvbG9yKX1cclxuICAgICAgICAgICAgJHtnZXRUaXRsZVRlbXBsYXRlKGRhdGFPYmopfWA7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcbiAgICAgICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChpdGVtLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICAgICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUNsdXN0ZXJncmFtSFRNTChkYXRhT2JqKSB7XHJcbiAgICB2YXIgdG9vbHRpcFRleHQ7XHJcblxyXG4gICAgZGF0YU9iai50aXRsZSA9IGRhdGFPYmoudGl0bGUucmVwbGFjZSgvXy9nLFwiIFwiKTtcclxuXHJcbiAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPlxyXG4gICAgJHtnZXRDb2xvclRpbGUoZGF0YU9iai5jb2xvcil9XHJcbiAgICAke2dldFRpdGxlVGVtcGxhdGUoZGF0YU9iail9YDtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gZ2V0VmFsdWVDb250ZW50KGl0ZW0sIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICAgICAgXHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUGllSFRNTChkYXRhT2JqLCBkYXRhVGFibGUpIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gYDxkaXYgY2xhc3M9J2p2LWlubGluZSc+XHJcbiAgICAke2dldENvbG9yVGlsZShkYXRhT2JqLmNvbG9yW2RhdGFPYmouZGF0YS5sYWJlbF0pfVxyXG4gICAgJHtnZXRUaXRsZVRlbXBsYXRlKGRhdGFPYmopfWA7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IGdldFZhbHVlQ29udGVudChkYXRhVGFibGVbaXRlbV0sIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2Fua2V5SFRNTChkYXRhT2JqKSB7XHJcbiAgICB2YXIgdG9vbHRpcFRleHQ7XHJcbiAgICB0b29sdGlwVGV4dCA9IGA8ZGl2IGNsYXNzPSdqdi1pbmxpbmUnPiR7Z2V0VGl0bGVUZW1wbGF0ZShkYXRhT2JqKX1gO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuICAgICAgICB0b29sdGlwVGV4dCArPSBnZXRWYWx1ZUNvbnRlbnQoZGF0YU9iai52YWx1ZU5hbWUsIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKHZhbCkge1xyXG4gICAgaWYgKCFpc05hTih2YWwpKSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdChcIiwuMGZcIik7XHJcbiAgICAgICAgaWYgKHZhbCA+PSAxMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIC8vbWlsbGlvbnNcclxuICAgICAgICAgICAgLy8gdmFyIHAgPSBkMy5wcmVjaXNpb25QcmVmaXgoMWU1LCAxLjNlNik7XHJcbiAgICAgICAgICAgIC8vIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdFByZWZpeChcIi5cIiArIHAsIDEuM2U2KTtcclxuICAgICAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KFwiLC4yZlwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZhbCA8PSAxMDApIHtcclxuICAgICAgICAgICAgLy8yIGRlY2ltYWxzXHJcbiAgICAgICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdChcIiwuMmZcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZUaXA7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2V0RGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucztcclxuXHJcbmZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb25zKHVzZXJPcHRpb25zID0ge30pIHtcclxuICAgIHZhciBfdmFycyA9IHt9O1xyXG5cclxuICAgIC8vR2VuZXJhbCBTdHlsZXMvQXR0cmlidXRlc1xyXG4gICAgLy9DT05TVCB2YXJpYWJsZXMgLSB0cnkgdG8gbm90IHVzZSBpbiBqdkNoYXJ0cyBhcyB0aGV5IGRvIG5vdCBoYXZlIG11Y2ggY29udGV4dFxyXG4gICAgX3ZhcnMuR1JBWSA9IFwiI2NjY2NjY1wiO1xyXG4gICAgX3ZhcnMuV0hJVEUgPSAnI0ZGRkZGRic7XHJcbiAgICBfdmFycy5CTEFDSyA9ICcjMDAwMDAwJztcclxuICAgIF92YXJzLlNNQUxMX1NUUk9LRV9XSURUSCA9ICcxcHgnO1xyXG4gICAgX3ZhcnMubGlnaHQgPSAnI0JCQkJCQic7XHJcbiAgICBfdmFycy5zdHJva2VXaWR0aCA9IFwiMnB4XCI7XHJcbiAgICBcclxuICAgIC8vQWN0aW9uIEF0dHJpYnV0ZXNcclxuICAgIF92YXJzLmhpZ2hsaWdodEJvcmRlckNvbG9yID0gX3ZhcnMuQkxBQ0s7XHJcbiAgICBfdmFycy5oaWdobGlnaHRCb3JkZXJXaWR0aCA9IFwiMnB4XCI7XHJcblxyXG4gICAgLy9Db21wb25lbnQgU3BlY2lmaWMgU3R5bGVzL0F0dHJpYnV0ZXNcclxuICAgIF92YXJzLnRocmVzaG9sZHMgPSAnbm9uZSc7IC8vaWYgbm90IG5vbmUsIGV4cGVjdGVkIHRvIGJlIGFuIGFycmF5XHJcbiAgICBfdmFycy50aHJlc2hvbGRMZWdlbmQgPSBmYWxzZTtcclxuICAgIF92YXJzLmJhY2tncm91bmRDb2xvciA9ICdub25lJztcclxuICAgIF92YXJzLmF4aXNDb2xvciA9IF92YXJzLkdSQVk7XHJcbiAgICBfdmFycy5heGlzV2lkdGggPSBfdmFycy5zdHJva2VXaWR0aDtcclxuICAgIF92YXJzLmdyaWRMaW5lU3Ryb2tlV2lkdGggPSBfdmFycy5TTUFMTF9TVFJPS0VfV0lEVEg7XHJcbiAgICBfdmFycy5kaXNwbGF5VmFsdWVzID0gZmFsc2U7XHJcbiAgICBfdmFycy50b2dnbGVMZWdlbmQgPSBmYWxzZTtcclxuICAgIF92YXJzLmxlZ2VuZEFycm93Q29sb3IgPSAnYzJjMmQ2JztcclxuICAgIF92YXJzLmxlZ2VuZE1heCA9IDk7XHJcbiAgICBfdmFycy5ncmlkU2l6ZSA9IDEyO1xyXG4gICAgX3ZhcnMueFJldmVyc2VkID0gZmFsc2U7XHJcbiAgICBfdmFycy55UmV2ZXJzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAvL2ZvbnQgc3R5bGVzXHJcbiAgICBfdmFycy5mb250U2l6ZSA9ICcxMnB4JztcclxuICAgIF92YXJzLmZvbnRDb2xvciA9IF92YXJzLkJMQUNLO1xyXG4gICAgX3ZhcnMueExhYmVsRm9udFNpemUgPSAnbm9uZSc7XHJcbiAgICBfdmFycy55TGFiZWxGb250U2l6ZSA9ICdub25lJztcclxuXHJcbiAgICAvL0hlYXRtYXAgU3BlY2lmaWMgU3R5bGVzL0F0dHJpYnV0ZXNcclxuICAgIF92YXJzLmNvbG9yID0gXCIjZmYwMDAwXCI7XHJcbiAgICBfdmFycy50b2dnbGVMZWdlbmQgPSBmYWxzZTtcclxuICAgIF92YXJzLmJ1Y2tldHMgPSBcIjEwXCI7XHJcbiAgICBfdmFycy5vcGFjaXR5ID0gXCIxMFwiO1xyXG4gICAgX3ZhcnMuY29sb3JMYWJlbCA9ICdub25lJztcclxuICAgIF92YXJzLm1pbiA9IFwiMFwiO1xyXG4gICAgX3ZhcnMubWF4ID0gXCIxMFwiO1xyXG4gICAgX3ZhcnMuZG9tYWluQXJyYXkgPSBcIlwiO1xyXG4gICAgX3ZhcnMuc3RlcCA9IFwiMVwiO1xyXG4gICAgX3ZhcnMucXVhbnRpbGVzID0gdHJ1ZTtcclxuICAgIF92YXJzLmhlYXRMZWdlbmRTcGFjaW5nID0gMjtcclxuICAgIF92YXJzLmhlYXRHcmlkU2l6ZSA9IDIwO1xyXG4gICAgX3ZhcnMuY29sb3JzID0gW1xyXG4gICAgICBcIiNmYmYyZDJcIixcclxuICAgICAgXCIjZmRlZGI1XCIsXHJcbiAgICAgIFwiI2ZlZTdhMFwiLFxyXG4gICAgICBcIiNmZmRhODRcIixcclxuICAgICAgXCIjZmZjNjY1XCIsXHJcbiAgICAgIFwiI2ZlYjQ0ZVwiLFxyXG4gICAgICBcIiNmZWE3NDNcIixcclxuICAgICAgXCIjZmQ5YjNmXCIsXHJcbiAgICAgIFwiI2ZkOGMzY1wiLFxyXG4gICAgICBcIiNmZDc3MzVcIixcclxuICAgICAgXCIjZmQ2MDJmXCIsXHJcbiAgICAgIFwiI2ZiNGIyOVwiLFxyXG4gICAgICBcIiNmNDM3MjNcIixcclxuICAgICAgXCIjZWEyNDFlXCIsXHJcbiAgICAgIFwiI2UwMTYxY1wiLFxyXG4gICAgICBcIiNkNjBiMjBcIixcclxuICAgICAgXCIjYzgwMzI0XCIsXHJcbiAgICAgIFwiI2IxMDAyNlwiLFxyXG4gICAgICBcIiM4NzAwMjVcIixcclxuICAgICAgXCIjNjIwMDIzXCJcclxuICAgIF07XHJcbiAgICBfdmFycy5jbHVzdGVyQ29sb3JzID0gW1xyXG4gICAgICBcIiMwMDAwOUNcIixcclxuICAgICAgXCIjMDAzMzk5XCIsXHJcbiAgICAgIFwiIzAwMkZBN1wiLFxyXG4gICAgICBcIiMyQTUyQkVcIixcclxuICAgICAgXCIjMDAwMEZGXCIsXHJcbiAgICAgIFwiIzhDOTJBQ1wiLFxyXG4gICAgICBcIiM5MkExQ0ZcIixcclxuICAgICAgXCIjQzRDM0QwXCIsXHJcbiAgICAgIFwiI0NDQ0NGRlwiLFxyXG4gICAgICBcIiNGOEY4RkZcIixcclxuICAgICAgXCIjRkZGQUZBXCIsXHJcbiAgICAgIFwiI0Y0QzJDMlwiLFxyXG4gICAgICBcIiNGRjY5NjFcIixcclxuICAgICAgXCIjRkY1QzVDXCIsXHJcbiAgICAgIFwiI0ZGMUMwMFwiLFxyXG4gICAgICBcIiNGRjA4MDBcIixcclxuICAgICAgXCIjRkYwMDAwXCIsXHJcbiAgICAgIFwiI0NENUM1Q1wiLFxyXG4gICAgICBcIiNFMzQyMzRcIixcclxuICAgICAgXCIjRDczQjNFXCJcclxuICAgIF07XHJcblxyXG4gICAgLy9waWUgc3BlY2lmaWNcclxuICAgIF92YXJzLnBpZUJvcmRlciA9IF92YXJzLldISVRFO1xyXG4gICAgX3ZhcnMucGllQm9yZGVyV2lkdGggPSBfdmFycy5TTUFMTF9TVFJPS0VfV0lEVEg7XHJcbiAgICBfdmFycy5waWVUZXh0Q29sb3IgPSBfdmFycy5XSElURTtcclxuICAgIF92YXJzLmVtcHR5TGVnZW5kU3F1YXJlID0gX3ZhcnMuV0hJVEU7XHJcblxyXG4gICAgLy9saW5lIHNwZWNpZmljXHJcbiAgICBfdmFycy5saW5lQ3VydmVUeXBlID0gJ0xpbmVhcic7XHJcblxyXG4gICAgLy9iYXIgc3BlY2lmaWNcclxuICAgIF92YXJzLmRpc3BsYXlWYWx1ZXNTdGFja0FzUGVyY2VudCA9IGZhbHNlO1xyXG4gICAgX3ZhcnMuZGlzcGxheVZhbHVlc1N0YWNrVG90YWwgPSBmYWxzZTtcclxuICAgIF92YXJzLmRpc3BsYXlZQXhpc0xhYmVsID0gdHJ1ZTtcclxuXHJcbiAgICAvL3NjYXR0ZXIgc3BlY2lmaWNcclxuICAgIF92YXJzLnRvZ2dsZVogPSB0cnVlO1xyXG4gICAgX3ZhcnMubGluZUd1aWRlID0gdHJ1ZTtcclxuXHJcbiAgICAvL3NpbmdsZSBheGlzIHNwZWNpZmljXHJcbiAgICBfdmFycy5zaW5nbGVBeGlzRmlsbEhvdmVyQ29sb3IgPSAncmVkJztcclxuXHJcblxyXG4gICAgT2JqZWN0LmFzc2lnbihfdmFycywgdXNlck9wdGlvbnMpO1xyXG4gICAgcmV0dXJuIF92YXJzO1xyXG59XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vdmlzdWFscy9qdkxpbmUuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5hcmVhID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZmlsbEFyZWEgPSBmaWxsQXJlYTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogTGluZSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0TGluZURhdGFcclxuICogIGdldHMgbGluZSBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAvL3NvcnQgY2hhcnQgZGF0YSBpZiB0aGVyZSBpcyBhIHNvcnQgdHlwZSBhbmQgbGFiZWwgaW4gdGhlIF92YXJzXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc29ydFR5cGUpIHtcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc29ydExhYmVsICYmIGNoYXJ0Ll92YXJzLnNvcnRUeXBlICE9PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgY2hhcnQub3JnYW5pemVDaGFydERhdGEoY2hhcnQuX3ZhcnMuc29ydExhYmVsLCBjaGFydC5fdmFycy5zb3J0VHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vcmVtb3ZlIGlmIHdlIGFkZCBub24gbGluZWFyIHRvIGFyZWEgY2hhcnRcclxuICAgIGNoYXJ0Ll92YXJzLmxpbmVDdXJ2ZVR5cGUgPSAnTGluZWFyJztcclxuXHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5kYXRhKTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIGNoYXJ0LnNldEZsaXBwZWRTZXJpZXMoY2hhcnQuZGF0YS5kYXRhVGFibGVLZXlzKTtcclxuICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5mbGlwcGVkRGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuLyoqc2V0QmFyTGluZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRCYXJMaW5lTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gIT09ICdsYWJlbCcgJiYgaXRlbS5pbmRleE9mKCd0b29sdGlwJykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW2l0ZW1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG4vKiogcGFpbnRMaW5lQ2hhcnRcclxuICpcclxuICogVGhlIGluaXRpYWwgc3RhcnRpbmcgcG9pbnQgZm9yIGxpbmUgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgLy9Vc2VzIHRoZSBvcmlnaW5hbCBkYXRhIGFuZCB0aGVuIG1hbmlwdWxhdGVzIGl0IGJhc2VkIG9uIGFueSBleGlzdGluZyBvcHRpb25zXHJcbiAgICB2YXIgZGF0YU9iaiA9IGNoYXJ0LmdldEJhckRhdGFGcm9tT3B0aW9ucygpO1xyXG5cclxuICAgIC8vYXNzaWduIGN1cnJlbnQgZGF0YSB3aGljaCBpcyB1c2VkIGJ5IGFsbCBiYXIgY2hhcnQgb3BlcmF0aW9uc1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG5cclxuICAgIC8vT3ZlcndyaXRlIGFueSBwcmUtZXhpc3Rpbmcgem9vbVxyXG4gICAgY2hhcnQuY29uZmlnLnpvb21FdmVudCA9IG51bGw7XHJcblxyXG4gICAgLy9nZW5lcmF0ZSBzdmcgZHluYW1pY2FsbHkgYmFzZWQgb24gbGVnZW5kIGRhdGFcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKGRhdGFPYmoubGVnZW5kRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGRhdGFPYmoueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWUF4aXMoZGF0YU9iai55QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVMZWdlbmQoZGF0YU9iai5sZWdlbmREYXRhLCAnZ2VuZXJhdGVMaW5lJyk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcygpLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGRhdGFPYmoueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LmdlbmVyYXRlTGluZShkYXRhT2JqKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKGV2ZW50KSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuc3BsaXQoJ2Jhci1jb2wtJylbMV0pIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBbY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXTogW2V2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuc3BsaXQoJ2Jhci1jb2wtJylbMV0ucmVwbGFjZSgvXy9nLCAnICcpLnJlcGxhY2UoL19kb3RfL2csICcuJyldXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vZGU6IGV2ZW50LnRhcmdldFxyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuaW5kZXhPZignYXJlYS1jb250YWluZXInKSA+IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge31cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiBmYWxzZVxyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBmaWxsQXJlYShsaW5lRGF0YSkge1xyXG5cclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgLy9saW5lRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yO1xyXG5cclxuICAgIC8vSWYgYSBsZWdlbmQgZWxlbWVudCBpcyB0b2dnbGVkIG9mZiwgdXNlIHRoZSBuZXcgbGlzdCBvZiBoZWFkZXJzXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuaGFzT3duUHJvcGVydHkoJ2xlZ2VuZEhlYWRlcnMnKSkge1xyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vR2V0IHRoZSBYIGFuZCBZIFNjYWxlXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycywgJ25vLXBhZGRpbmcnKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzLCAnbm8tcGFkZGluZycpO1xyXG5cclxuICAgIC8vSWYgYXhpcyBhcmUgbm9ybWFsXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICB2YXIgYXJlYSA9IGQzLmFyZWEoKVxyXG4gICAgICAgICAgICAueChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGQueCA9PT0gJycgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgoJ0VNUFRZX1NUUklORycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHgoZC54KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnkwKGNvbnRhaW5lci5oZWlnaHQpXHJcbiAgICAgICAgICAgIC55MShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZC55KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgYXJlYSA9IGQzLmFyZWEoKVxyXG4gICAgICAgICAgICAueShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZC55KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLngxKDApXHJcbiAgICAgICAgICAgIC54MChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHgoZC54KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHZhciBkYXRhID0ge307XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVnZW5kRGF0YS5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxlZ2VuZERhdGEgIT09IFwidW5kZWZpbmVkXCIpIHsvL0FjY291bnRpbmcgZm9yIGxlZ2VuZCB0b2dnbGVzXHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRGF0YVtrXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Eb24ndCB3cml0ZSBhbnl0aGluZyB0byBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogbGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5JzogcGFyc2VGbG9hdChsaW5lRGF0YVtpXVtsZWdlbmREYXRhW2tdXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBsaW5lRGF0YVtpXVt5QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7Ly9Jbml0aWFsIGNyZWF0aW9uIG9mIHZpc3VhbGl6YXRpb24gdy9vIGxlZ2VuZCBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAneCc6IGxpbmVEYXRhW2ldW3hBeGlzRGF0YS5sYWJlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd5JzogcGFyc2VGbG9hdChsaW5lRGF0YVtpXVtsZWdlbmREYXRhW2tdXSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd5JzogbGluZURhdGFbaV1beUF4aXNEYXRhLmxhYmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIuYXJlYVwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICBmb3IgKHZhciBpIGluIGRhdGEpIHtcclxuICAgICAgICBzdmcuYXBwZW5kKFwicGF0aFwiKVxyXG4gICAgICAgICAgICAuZGF0dW0oZGF0YVtpXSlcclxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmNvbG9yTGluZSA9PSB0cnVlICYmIGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMgIT0gJ25vbmUnICYmIGNoYXJ0Ll92YXJzLmNvbG9yQ2hhcnQgIT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcmVhIGFyZWEtdGhyZXNob2xkXCJcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJlYVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcImRcIiwgYXJlYSlcclxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGssIGkpKVxyXG4gICAgICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgMC42KVxyXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBjb250YWluZXIuaGVpZ2h0IC8gbGluZURhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoMCwgXCIgKyB0cmFuc2xhdGlvbiArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gY29udGFpbmVyLndpZHRoIC8gbGluZURhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0cmFuc2xhdGlvbiArIFwiLCAwKVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmJhciA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59O1xyXG5cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUJhclRocmVzaG9sZCA9IGdlbmVyYXRlQmFyVGhyZXNob2xkO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVCYXJzID0gZ2VuZXJhdGVCYXJzO1xyXG5cclxuXHJcbi8qKnBhaW50XHJcbiAqXHJcbiAqIFRoZSBpbml0aWFsIHN0YXJ0aW5nIHBvaW50IGZvciBiYXIgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQodHJhbnNpdGlvblRpbWUpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgLy9Vc2VzIHRoZSBvcmlnaW5hbCBkYXRhIGFuZCB0aGVuIG1hbmlwdWxhdGVzIGl0IGJhc2VkIG9uIGFueSBleGlzdGluZyBvcHRpb25zXHJcbiAgICAgICAgZGF0YU9iaiA9IGNoYXJ0LmdldEJhckRhdGFGcm9tT3B0aW9ucygpO1xyXG5cclxuICAgIGlmICh0cmFuc2l0aW9uVGltZSB8fCB0cmFuc2l0aW9uVGltZSA9PT0gMCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lID0gdHJhbnNpdGlvblRpbWU7XHJcbiAgICB9IGVsc2UgaWYgKCFjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lID0gODAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vYXNzaWduIGN1cnJlbnQgZGF0YSB3aGljaCBpcyB1c2VkIGJ5IGFsbCBiYXIgY2hhcnQgb3BlcmF0aW9uc1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhkYXRhT2JqLmxlZ2VuZERhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhkYXRhT2JqLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGRhdGFPYmoueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGRhdGFPYmoubGVnZW5kRGF0YSwgJ2dlbmVyYXRlQmFycycpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVCYXJzKGRhdGFPYmopO1xyXG5cclxuICAgIGlmICh0eXBlb2YgZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipTZXRzIHRoZSBkYXRhIGZvciB0aGUgYmFyIGNoYXJ0IHByaW9yIHRvIHBhaW50aW5nXHJcbiAqICBAZnVuY3Rpb25cclxuICogQHBhcmFtcyB7T2JqZWN0fSBkYXRhIC0gRGF0YSBwYXNzZWQgaW50byB0aGUgY2hhcnRcclxuICogQHBhcmFtcyB7T2JqZWN0fSBkYXRhVGFibGUgLSBTaG93cyB3aGljaCBkYXRhIGNvbHVtbiBpcyBhc3NvY2lhdGVkIHdpdGggZWFjaCBmaWVsZCBpbiB2aXN1YWwgcGFuZWxcclxuICogQHBhcmFtcyB7T2JqZWN0fSBkYXRhVGFibGVLZXlzIC0gQ29udGFpbnMgdGhlIGRhdGEgdHlwZSBmb3IgZWFjaCBjb2x1bW4gb2YgZGF0YVxyXG4gKiBAcGFyYW1zIHtPYmplY3R9IGNvbG9ycyAtIENvbG9ycyBvYmplY3QgdXNlZCB0byBjb2xvciB0aGUgYmFyc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAvL3NvcnQgY2hhcnQgZGF0YSBpZiB0aGVyZSBpcyBhIHNvcnQgdHlwZSBhbmQgbGFiZWwgaW4gdGhlIF92YXJzXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuaGFzT3duUHJvcGVydHkoJ3NvcnRUeXBlJykgJiYgY2hhcnQuX3ZhcnMuc29ydFR5cGUpIHtcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc29ydExhYmVsICYmIGNoYXJ0Ll92YXJzLnNvcnRUeXBlICE9PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgY2hhcnQub3JnYW5pemVDaGFydERhdGEoY2hhcnQuX3ZhcnMuc29ydExhYmVsLCBjaGFydC5fdmFycy5zb3J0VHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd4JywgY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd5JywgY2hhcnQuZGF0YSk7XHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIGNoYXJ0LnNldEZsaXBwZWRTZXJpZXMoY2hhcnQuZGF0YS5kYXRhVGFibGVLZXlzKTtcclxuICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5mbGlwcGVkRGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YShldmVudCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLnNwbGl0KCdiYXItY29sLScpWzFdKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF06IFtldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLnNwbGl0KCdiYXItY29sLScpWzFdLnJlcGxhY2UoL18vZywgJyAnKS5yZXBsYWNlKC9fZG90Xy9nLCAnLicpXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub2RlOiBldmVudC50YXJnZXRcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLmluZGV4T2YoJ2Jhci1jb250YWluZXInKSA+IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge31cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiBmYWxzZVxyXG4gICAgfTtcclxufVxyXG5cclxuLyoqc2V0QmFyTGluZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKGxldCBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnICYmIGl0ZW0uaW5kZXhPZigndG9vbHRpcCcpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZVtpdGVtXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQmFyIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQmFyVGhyZXNob2xkKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHRocmVzaG9sZHMgPSBjaGFydC5fdmFycy50aHJlc2hvbGRzLFxyXG4gICAgICAgIGxlbmd0aCA9IHRocmVzaG9sZHMgIT09ICdub25lJyA/IE9iamVjdC5rZXlzKHRocmVzaG9sZHMpLmxlbmd0aCA6IDAsXHJcbiAgICAgICAgeCA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUsXHJcbiAgICAgICAgeSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzU2NhbGU7XHJcblxyXG4gICAgaWYgKHRocmVzaG9sZHMgIT09ICdub25lJykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHRocmVzaG9sZCA9IHRocmVzaG9sZHNbaV07XHJcbiAgICAgICAgICAgIGlmICghY2hhcnQuX3ZhcnMueEF4aXNUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLnlNaW4gPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgdGhyZXNob2xkLnRocmVzaG9sZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB4KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgaGVpZ2h0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRocmVzaG9sZC50aHJlc2hvbGQgPiBjaGFydC5fdmFycy55TWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB4KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeCh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBoZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy55TWluID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB5KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB5KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRocmVzaG9sZC50aHJlc2hvbGQgPiBjaGFydC5fdmFycy55TWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIHkodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmNvbG9yQ2hhcnQgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZFJlY3RzID0gZDMuc2VsZWN0QWxsKCdyZWN0LnJlY3QtJyArIGkpO1xyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkUmVjdHMuYXR0cignZmlsbCcsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlQmFyc1xyXG4gKlxyXG4gKiBEb2VzIHRoZSBhY3R1YWwgcGFpbnRpbmcgb2YgYmFycyBvbiB0aGUgYmFyIGNoYXJ0XHJcbiAqIEBwYXJhbXMgYmFyRGF0YVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQmFycyhiYXJEYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuXHJcbiAgICAvL1VzZWQgdG8gZHJhdyBsaW5lIHRoYXQgYXBwZWFycyB3aGVuIHRvb2wgdGlwcyBhcmUgdmlzaWJsZVxyXG4gICAgICAgIHRpcExpbmVYID0gMCxcclxuICAgICAgICB0aXBMaW5lV2lkdGggPSAwLFxyXG4gICAgICAgIHRpcExpbmVIZWlnaHQgPSAwLFxyXG4gICAgICAgIHRpcExpbmVZID0gMCxcclxuICAgICAgICAvL0FkZCBsb2dpYyB0byBmaWx0ZXIgYmFyZGF0YVxyXG4gICAgICAgIGRhdGFIZWFkZXJzID0gYmFyRGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGJhcnM7XHJcblxyXG4gICAgLy9SZW1vdmVzIGFueSBleGlzdGluZyBiYXIgY29udGFpbmVycyBhbmQgY3JlYXRlcyBhIG5ldyBvbmVcclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cuYmFyLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG5cclxuICAgIGJhcnMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYmFyLWNvbnRhaW5lcicpXHJcbiAgICAgICAgLnNlbGVjdEFsbCgnZycpO1xyXG5cclxuICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycztcclxuICAgIH0gZWxzZSBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYmFyRGF0YU5ldyA9IGp2Q2hhcnRzLmdldFRvZ2dsZWREYXRhKGJhckRhdGEsIGRhdGFIZWFkZXJzKTtcclxuXHJcbiAgICBnZW5lcmF0ZUJhckdyb3VwcyhiYXJzLCBiYXJEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgdmFyIGV2ZW50R3JvdXBzID0ganZDaGFydHMuZ2VuZXJhdGVFdmVudEdyb3VwcyhiYXJzLCBiYXJEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgLy9BZGQgbGlzdGVuZXJzXHJcblxyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcudGlwLWxpbmUnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbW91c2VJdGVtID0gZDMuc2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGlwTGluZVggPSBtb3VzZUl0ZW0ubm9kZSgpLmdldEJCb3goKS54O1xyXG4gICAgICAgICAgICAgICAgdGlwTGluZVdpZHRoID0gbW91c2VJdGVtLm5vZGUoKS5nZXRCQm94KCkud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aXBMaW5lSGVpZ2h0ID0gbW91c2VJdGVtLm5vZGUoKS5nZXRCQm94KCkuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgdGlwTGluZVkgPSBtb3VzZUl0ZW0ubm9kZSgpLmdldEJCb3goKS55O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyBsaW5lIGluIGNlbnRlciBvZiBldmVudC1yZWN0XHJcbiAgICAgICAgICAgICAgICBzdmdcclxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAndGlwLWxpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyAwIDogdGlwTGluZVggKyB0aXBMaW5lV2lkdGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMucm90YXRlQXhpcyA/IHRpcExpbmVXaWR0aCA6IHRpcExpbmVYICsgdGlwTGluZVdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyB0aXBMaW5lWSArIHRpcExpbmVIZWlnaHQgLyAyIDogMDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPyB0aXBMaW5lWSArIHRpcExpbmVIZWlnaHQgLyAyIDogdGlwTGluZUhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzaGFwZS1yZW5kZXJpbmcnLCAnY3Jpc3BFZGdlcycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcxcHgnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCdsaW5lLnRpcC1saW5lJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICBjaGFydC5kaXNwbGF5VmFsdWVzKCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUNsaXBQYXRoKCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUJhclRocmVzaG9sZCgpO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZUJhckdyb3Vwc1xyXG4gKlxyXG4gKiBQYWludHMgdGhlIGdyb3VwcyBvZiB0aGUgYmFyc1xyXG4gKiBAcGFyYW1zIGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydFxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVCYXJHcm91cHMoY2hhcnRDb250YWluZXIsIGJhckRhdGEsIGNoYXJ0KSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yO1xyXG5cclxuXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcbiAgICB2YXIgeSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgdmFyIHBvc0NhbGMgPSBqdkNoYXJ0cy5nZXRQb3NDYWxjdWxhdGlvbnMoYmFyRGF0YSwgY2hhcnQuX3ZhcnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0KTtcclxuXHJcblxyXG4gICAgdmFyIGRhdGFUb1Bsb3QgPSBqdkNoYXJ0cy5nZXRQbG90RGF0YShiYXJEYXRhLCBjaGFydCk7XHJcblxyXG4gICAgdmFyIGJhckdyb3VwcztcclxuICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnIHx8ICF4QXhpc0RhdGEuaGFzT3duUHJvcGVydHkoJ21pbicpKSB7XHJcbiAgICAgICAgLy9DcmVhdGVzIGJhciBncm91cHNcclxuICAgICAgICBiYXJHcm91cHMgPSBjaGFydENvbnRhaW5lclxyXG4gICAgICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1ncm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgLy9UcmFuc2xhdGUgdGhlIGJhciBncm91cHMgYnkgKG91dGVyIHBhZGRpbmcgKiBzdGVwKSBhbmQgdGhlIHdpZHRoIG9mIHRoZSBiYXJzIChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCAqIGkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgKCh4LnBhZGRpbmdPdXRlcigpICogeC5zdGVwKCkpICsgKHguc3RlcCgpICogaSkpICsgJywwKSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgLy9DcmVhdGVzIGJhciBncm91cHNcclxuICAgICAgICBiYXJHcm91cHMgPSBjaGFydENvbnRhaW5lclxyXG4gICAgICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1ncm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgLy9UcmFuc2xhdGUgdGhlIGJhciBncm91cHMgYnkgKG91dGVyIHBhZGRpbmcgKiBzdGVwKSBhbmQgdGhlIHdpZHRoIG9mIHRoZSBiYXJzIChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCAqIGkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyAoKHkucGFkZGluZ091dGVyKCkgKiB5LnN0ZXAoKSkgKyAoeS5zdGVwKCkgKiBpKSkgKyAnKSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL0NyZWF0ZXMgYmFycyB3aXRoaW4gYmFyIGdyb3Vwc1xyXG4gICAgdmFyIGV4dGVybmFsQ291bnRlckZvckogPSAtMTtcclxuICAgIHZhciBiYXJzID0gYmFyR3JvdXBzLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBleHRlcm5hbENvdW50ZXJGb3JKKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhiYXJEYXRhWzBdKTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkS2V5cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGtleXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXlzW2tdICE9PSBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEtleXMucHVzaChrZXlzW2tdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBTdHJpbmcoYmFyRGF0YVtleHRlcm5hbENvdW50ZXJGb3JKXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdKS5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJ19kb3RfJyk7XHJcbiAgICAgICAgICAgIHZhciBsZWdlbmRWYWwgPSBTdHJpbmcoZmlsdGVyZWRLZXlzW2ldKS5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJ19kb3RfJyk7XHJcbiAgICAgICAgICAgIHZhciB0aHJlc2hvbGREaXI7XHJcblxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMueEF4aXNUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgIHRocmVzaG9sZERpciA9IGNoYXJ0LnNldFRocmVzaG9sZChiYXJEYXRhW2V4dGVybmFsQ291bnRlckZvckpdW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkRGlyID0gY2hhcnQuc2V0VGhyZXNob2xkKGQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJ2VkaXRhYmxlIGVkaXRhYmxlLWJhciBiYXItY29sLScgKyBsYWJlbCArICctaW5kZXgtJyArIGxlZ2VuZFZhbCArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBsYWJlbCArICcgcmVjdCAnICsgdGhyZXNob2xkRGlyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5zdGFydHgoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnN0YXJ0eShkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnN0YXJ0d2lkdGgoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuc3RhcnRoZWlnaHQoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgY2hhcnQuX3ZhcnMuZmxpcHBlZExlZ2VuZEhlYWRlcnNbaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzW2ldKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdyeCcsIDApXHJcbiAgICAgICAgLmF0dHIoJ3J5JywgMClcclxuICAgICAgICAuYXR0cignb3BhY2l0eScsIDAuOSlcclxuICAgICAgICAuYXR0cignY2xpcC1wYXRoJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQgPiAzMDAwMDAwMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd1cmwoI2NsaXAtYWJvdmUpJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ3VybCgjY2xpcC1iZWxvdyknO1xyXG4gICAgICAgIH0pO1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lID4gMCkge1xyXG4gICAgICAgIGJhcnNcclxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAuZHVyYXRpb24oODAwKVxyXG4gICAgICAgICAgICAuZWFzZShkMy5lYXNlUG9seU91dClcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMueChkLCBpLCBqKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMueShkLCBpLCBqKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLndpZHRoKGQsIGkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLmhlaWdodChkLCBpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJhcnNcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMueChkLCBpLCBqKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMueShkLCBpLCBqKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLndpZHRoKGQsIGkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLmhlaWdodChkLCBpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHJldHVybiBiYXJHcm91cHM7Ly9yZXR1cm5zIHRoZSBiYXIgY29udGFpbmVyc1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuYm94d2hpc2tlciA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQm94ZXMgPSBnZW5lcmF0ZUJveGVzO1xyXG4vKipzZXRCb3hEYXRhXHJcbiAqICBnZXRzIGNsb3VkIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpczsgICAgICAgIFxyXG4gICAgY2hhcnQuZGF0YS54QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneCcsIGNoYXJ0LmRhdGEsIGNoYXJ0Ll92YXJzKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5kYXRhLCBjaGFydC5fdmFycyk7XHJcbn07XHJcblxyXG4vKiogcGFpbnRCb3hDaGFydFxyXG4gKlxyXG4gKiAgQGRlc2MgVGhlIGluaXRpYWwgc3RhcnRpbmcgcG9pbnQgZm9yIGJhciBjaGFydCwgYmVnaW5zIHRoZSBkcmF3aW5nIHByb2Nlc3MuIE11c3QgYWxyZWFkeSBoYXZlIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYWludCh0cmFuc2l0aW9uVGltZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGlmICh0cmFuc2l0aW9uVGltZSB8fCB0cmFuc2l0aW9uVGltZSA9PT0gMCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lID0gdHJhbnNpdGlvblRpbWU7XHJcbiAgICB9IGVsc2UgaWYgKCFjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lID0gODAwO1xyXG4gICAgfVxyXG4gICAgdmFyIGRhdGFPYmogPSBnZXRCb3hEYXRhRnJvbU9wdGlvbnMoY2hhcnQpO1xyXG4gICAgdmFyIGF4aXNEYXRhID0gY2hhcnQuZ2V0QmFyRGF0YUZyb21PcHRpb25zKCk7XHJcbiAgICAvL2Fzc2lnbiBjdXJyZW50IGRhdGEgd2hpY2ggaXMgdXNlZCBieSBhbGwgYmFyIGNoYXJ0IG9wZXJhdGlvbnNcclxuICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YSA9IGF4aXNEYXRhO1xyXG4gICAgfVxyXG4gICAgLy9PdmVyd3JpdGUgYW55IHByZS1leGlzdGluZyB6b29tXHJcbiAgICBjaGFydC5jb25maWcuem9vbUV2ZW50ID0gbnVsbDtcclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRygpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhheGlzRGF0YS54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVZQXhpcyhheGlzRGF0YS55QXhpc0RhdGEpO1xyXG5cclxuICAgIGNoYXJ0LmdlbmVyYXRlQm94ZXMoZGF0YU9iaik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YSgpIHtcclxuICAgIHJldHVybiB7fTtcclxufVxyXG5cclxuLyoqIGdldEJveERhdGFGcm9tT3B0aW9uc1xyXG4gKlxyXG4gKiAgQGRlc2MgQXNzaWducyB0aGUgY29ycmVjdCBjaGFydCBkYXRhIHRvIGN1cnJlbnQgZGF0YSB1c2luZyB0aGUgY2hhcnQuX3ZhcnNcclxuICovXHJcbmZ1bmN0aW9uIGdldEJveERhdGFGcm9tT3B0aW9ucyhjaGFydCkge1xyXG4gICAgLy9jcmVhdGluZyB0aGVzZSB0d28gZGF0YSB2YXJpYWJsZXMgdG8gYXZvaWQgaGF2aW5nIHRvIHJlZmVyZW5jZSB0aGUgY2hhcnQgb2JqZWN0IGV2ZXJ5dGltZVxyXG4gICAgdmFyIGNzdiA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIG1pbiA9IEluZmluaXR5LFxyXG4gICAgICAgIG1heCA9IC1JbmZpbml0eSxcclxuICAgICAgICB5QXhpcyA9IFtdLFxyXG4gICAgICAgIGRhdGFPYmogPSB7fSxcclxuICAgICAgICBpID0gMCxcclxuICAgICAgICBkYXRhID0ge30sXHJcbiAgICAgICAgeUF4aXNMYWJlbCA9IGRhdGFUYWJsZS5sYWJlbCxcclxuICAgICAgICB4QXhpc0xhYmVsID0gZGF0YVRhYmxlLnZhbHVlLFxyXG4gICAgICAgIHhBeGlzRGF0YSxcclxuICAgICAgICB5QXhpc0RhdGEsXHJcblxyXG4gICAgICAgIGtleXMgPSBjc3YubWFwKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkW3lBeGlzTGFiZWxdO1xyXG4gICAgICAgIH0pLFxyXG4gICAgICAgIGtleXMyID0gY3N2Lm1hcChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZFt4QXhpc0xhYmVsXTtcclxuICAgICAgICB9KSxcclxuICAgICAgICB1bmlxdWUgPSBrZXlzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaSwgYXIpeyByZXR1cm4gYXIuaW5kZXhPZihpdGVtKSA9PT0gaTsgfSksXHJcbiAgICAgICAgdGVtcCA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdW5pcXVlLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgdmFyIHRlbXBEYXRhID0gY3N2LmZpbHRlcihmdW5jdGlvbiAoZCkge3JldHVybiBkW3lBeGlzTGFiZWxdID09IHVuaXF1ZVtrXX0pO1xyXG4gICAgICAgIHZhciByZXR1cm5EYXRhID0gdGVtcERhdGEubWFwKGZ1bmN0aW9uIChkKSB7cmV0dXJuIGRbeEF4aXNMYWJlbF19KTtcclxuICAgICAgICB0ZW1wLnB1c2goW3VuaXF1ZVtrXSwgcmV0dXJuRGF0YV0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1heCA9IE1hdGgubWF4LmFwcGx5KE1hdGgsIGtleXMyKTtcclxuICAgIG1pbiA9IE1hdGgubWluLmFwcGx5KE1hdGgsIGtleXMyKTtcclxuICAgIHlBeGlzLnB1c2gobWluKTtcclxuICAgIHlBeGlzLnB1c2gobWF4KTtcclxuXHJcbiAgICB4QXhpc0RhdGEgID0geyAnbGFiZWwnOiB5QXhpc0xhYmVsLCAnZGF0YVR5cGUnOiAnU1RSSU5HJywgJ3ZhbHVlcyc6IHVuaXF1ZX07XHJcbiAgICB5QXhpc0RhdGEgID0geyAnbGFiZWwnOiB4QXhpc0xhYmVsLCAnZGF0YVR5cGUnOiAnTlVNQkVSJywgJ3ZhbHVlcyc6IHlBeGlzfTtcclxuXHJcbiAgICBkYXRhT2JqLmNoYXJ0RGF0YSA9IHRlbXA7XHJcbiAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGRhdGEuZGF0YVRhYmxlO1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBkYXRhLmNvbG9yO1xyXG5cclxuICAgIGRhdGFPYmoueEF4aXNEYXRhID0geEF4aXNEYXRhO1xyXG4gICAgZGF0YU9iai55QXhpc0RhdGEgPSB5QXhpc0RhdGE7XHJcbiAgICBkYXRhID0ge1xyXG4gICAgICAgIHlBeGlzRGF0YTogZGF0YU9iai55QXhpc0RhdGEsXHJcbiAgICAgICAgeEF4aXNEYXRhOiBkYXRhT2JqLnhBeGlzRGF0YVxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZGF0YS55QXhpc0RhdGE7XHJcbiAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBkYXRhLnhBeGlzRGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YU9iai54QXhpc0RhdGEgPSBkYXRhLnhBeGlzRGF0YTtcclxuICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGRhdGEueUF4aXNEYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhT2JqO1xyXG59O1xyXG5cclxuLyoqIGdlbmVyYXRlQmFyc1xyXG4gKlxyXG4gKiBAZGVzYyBEb2VzIHRoZSBhY3R1YWwgcGFpbnRpbmcgb2YgYmFycyBvbiB0aGUgYmFyIGNoYXJ0XHJcbiAqIEBwYXJhbXMgYm94RGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVCb3hlcyhib3hEYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBvcHRpb25zID0gY2hhcnQuX3ZhcnMsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHdpZHRoID0gY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIHgsXHJcbiAgICAgICAgYm94Q2hhcnQsXHJcbiAgICAgICAgbWFyZ2luID0ge3RvcDogMCwgcmlnaHQ6IDUwLCBib3R0b206IDcwLCBsZWZ0OiA1MH07XHJcblxyXG4gICAgaWYgKG9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIHggPSBkMy5zY2FsZUJhbmQoKSAgICBcclxuICAgICAgICAgICAgLmRvbWFpbiggYm94RGF0YS5jaGFydERhdGEubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkWzBdOyB9ICkgKVxyXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgaGVpZ2h0XSlcclxuICAgICAgICAgICAgLnBhZGRpbmdJbm5lcigwLjcpXHJcbiAgICAgICAgICAgIC5wYWRkaW5nT3V0ZXIoMC4zKTtcclxuICAgICAgICBib3hDaGFydCA9IGJveCgpXHJcbiAgICAgICAgICAgIC53aGlza2VycyhpcXIoMS41KSlcclxuICAgICAgICAgICAgLmhlaWdodCh3aWR0aClcclxuICAgICAgICAgICAgLmRvbWFpbihbYm94RGF0YS54QXhpc0RhdGEudmFsdWVzWzBdLCBib3hEYXRhLnhBeGlzRGF0YS52YWx1ZXNbMV1dKVxyXG4gICAgICAgICAgICAuc2hvd0xhYmVscyhvcHRpb25zLmRpc3BsYXlWYWx1ZXMpXHJcbiAgICAgICAgICAgIC5mbGlwcGVkKG9wdGlvbnMucm90YXRlQXhpcylcclxuICAgICAgICAgICAgLmR1cmF0aW9uKG9wdGlvbnMudHJhbnNpdGlvblRpbWUpXHJcbiAgICAgICAgICAgIC5jaGFydChjaGFydCk7XHJcbiAgICB9IGVsc2UgIHtcclxuICAgICAgICB4ID0gZDMuc2NhbGVCYW5kKClcclxuICAgICAgICAgICAgLmRvbWFpbiggYm94RGF0YS5jaGFydERhdGEubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkWzBdOyB9ICkgKVxyXG4gICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKVxyXG4gICAgICAgICAgICAucGFkZGluZ0lubmVyKDAuNylcclxuICAgICAgICAgICAgLnBhZGRpbmdPdXRlcigwLjMpO1xyXG4gICAgICAgIGJveENoYXJ0ID0gYm94KClcclxuICAgICAgICAgICAgLndoaXNrZXJzKGlxcigxLjUpKVxyXG4gICAgICAgICAgICAuaGVpZ2h0KGhlaWdodClcclxuICAgICAgICAgICAgLmRvbWFpbihbYm94RGF0YS55QXhpc0RhdGEudmFsdWVzWzBdLCBib3hEYXRhLnlBeGlzRGF0YS52YWx1ZXNbMV1dKVxyXG4gICAgICAgICAgICAuc2hvd0xhYmVscyhvcHRpb25zLmRpc3BsYXlWYWx1ZXMpXHJcbiAgICAgICAgICAgIC5mbGlwcGVkKG9wdGlvbnMucm90YXRlQXhpcylcclxuICAgICAgICAgICAgLmR1cmF0aW9uKG9wdGlvbnMudHJhbnNpdGlvblRpbWUpXHJcbiAgICAgICAgICAgIC5jaGFydChjaGFydCk7XHJcbiAgICB9XHJcbiAgICAvL2RyYXcgdGhlIGJveHBsb3RzXHJcbiAgICBzdmcuYXR0cignY2xhc3MnLCAnYm94LXBsb3QnKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoJy5ib3gnKVxyXG4gICAgICAgIC5kYXRhKGJveERhdGEuY2hhcnREYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JveC1jb250YWluZXInKVxyXG4gICAgICAgIC5hdHRyKCdzdHlsZScsICdwb2ludGVyLWV2ZW50czogYWxsOycpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyAgbWFyZ2luLnRvcCAgKyAnLCcgKyB4KGRbMF0pICsgJyknO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgIHgoZFswXSkgICsgJywnICsgbWFyZ2luLnRvcCArICcpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYWxsKGJveENoYXJ0LndpZHRoKHguYmFuZHdpZHRoKCkpKTtcclxuXHJcbiAgICBkMy5zZWxlY3RBbGwoJ3JlY3QuYm94JykuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgIHJldHVybiAnZWRpdGFibGUgZWRpdGFibGUtYm94IGJveC0nICsgaSArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBpICsgJ2JveCc7XHJcbiAgICB9KTtcclxuICAgIGhpZGVMYWJlbHNPbk92ZXJsYXAoeCwgd2lkdGgsIHN2Zyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBoaWRlTGFiZWxzT25PdmVybGFwXHJcbiAqIEBkZXNjIGRldGVybWluZXMgaWYgdGV4dCBvbiBncmFwaCBzaG91bGQgYmUgZGlzcGxheWVkIG9yIG5vdFxyXG4gKi9cclxuZnVuY3Rpb24gaGlkZUxhYmVsc09uT3ZlcmxhcCh4LCB3aWR0aCwgc3ZnKSB7XHJcbiAgICB2YXIgbnVtU3BhY2VzQmV0d2VlbiA9IHguZG9tYWluKCkubGVuZ3RoIC0gMSxcclxuICAgICAgICB0b3RhbEJveFdpZHRoID0geC5iYW5kd2lkdGgoKSAqIHguZG9tYWluKCkubGVuZ3RoLFxyXG4gICAgICAgIHdpZHRoT2ZTcGFjZXMgPSAod2lkdGggLSB0b3RhbEJveFdpZHRoKSAvIG51bVNwYWNlc0JldHdlZW4sXHJcbiAgICAgICAgeEF4aXNMYWJlbExlbmd0aExpbWl0ID0geC5iYW5kd2lkdGgoKSArIHdpZHRoT2ZTcGFjZXMsXHJcbiAgICAgICAgdGlja3MgPSBzdmcuc2VsZWN0QWxsKCcueEF4aXMgdGV4dCcpO1xyXG5cclxuICAgIHRpY2tzLmVhY2goZnVuY3Rpb24gKHRpY2spIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRCQm94KCkud2lkdGggPiB4QXhpc0xhYmVsTGVuZ3RoTGltaXQpIHtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLnhBeGlzIHRleHQnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgJ2Rpc3BsYXk6bm9uZScpO1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCd0ZXh0LmJveCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCAnZGlzcGxheTpub25lJyk7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJ3RleHQud2hpc2tlcicpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCAnZGlzcGxheTpub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBpcXJcclxuICogQGRlc2MgUmV0dXJucyBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgdGhlIGludGVycXVhcnRpbGUgcmFuZ2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBpcXIoaykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGQsIGkpIHtcclxuICAgICAgICB2YXIgcTEgPSBkLnF1YXJ0aWxlc1swXSxcclxuICAgICAgICAgICAgcTMgPSBkLnF1YXJ0aWxlc1syXSxcclxuICAgICAgICAgICAgaXFyID0gKHEzIC0gcTEpICogayxcclxuICAgICAgICAgICAgaSA9IC0xLFxyXG4gICAgICAgICAgICBqID0gZC5sZW5ndGg7XHJcbiAgICAgICAgd2hpbGUgKGRbKytpXSA8IHExIC0gaXFyKTtcclxuICAgICAgICB3aGlsZSAoZFstLWpdID4gcTMgKyBpcXIpO1xyXG4gICAgICAgIHJldHVybiBbaSwgal07XHJcbiAgICB9O1xyXG59XHJcblxyXG4vL0luc3BpcmVkIGJ5IGh0dHA6Ly9pbmZvcm1hdGlvbmFuZHZpc3VhbGl6YXRpb24uZGUvYmxvZy9ib3gtcGxvdFxyXG52YXIgYm94ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHdpZHRoID0gMSxcclxuICAgICAgICBoZWlnaHQgPSAxLFxyXG4gICAgICAgIGR1cmF0aW9uID0gMCxcclxuICAgICAgICBkb21haW4gPSBudWxsLFxyXG4gICAgICAgIHZhbHVlID0gTnVtYmVyLFxyXG4gICAgICAgIHdoaXNrZXJzID0gYm94V2hpc2tlcnMsXHJcbiAgICAgICAgcXVhcnRpbGVzID0gYm94UXVhcnRpbGVzLFxyXG4gICAgICAgIHNob3dMYWJlbHMgPSB0cnVlLCAvL3doZXRoZXIgb3Igbm90IHRvIHNob3cgdGV4dCBsYWJlbHNcclxuICAgICAgICBudW1CYXJzID0gNCxcclxuICAgICAgICBjdXJCYXIgPSAxLFxyXG4gICAgICAgIHRpY2tGb3JtYXQgPSBudWxsLFxyXG4gICAgICAgIGNoYXJ0ID0ge30sXHJcbiAgICAgICAgZmxpcHBlZCA9IGZhbHNlO1xyXG5cclxuICAgIC8vRm9yIGVhY2ggc21hbGwgbXVsdGlwbGXigKZcclxuICAgIGZ1bmN0aW9uIGJveChnKSB7XHJcbiAgICAgICAgZy5lYWNoKGZ1bmN0aW9uIChkYXRhLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBkID0gZGF0YVsxXS5zb3J0KGQzLmFzY2VuZGluZyk7XHJcbiAgICAgICAgICAgIHZhciBnID0gZDMuc2VsZWN0KHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgbiA9IGQubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgbWluID0gZFswXSxcclxuICAgICAgICAgICAgICAgIG1heCA9IGRbbiAtIDFdLFxyXG4gICAgICAgICAgICAgICAgb3V0bGllckxhYmVsID0gZGF0YVswXTtcclxuXHJcbiAgICAgICAgICAgIC8vQ29tcHV0ZSBxdWFydGlsZXMuIE11c3QgcmV0dXJuIGV4YWN0bHkgMyBlbGVtZW50cy5cclxuICAgICAgICAgICAgdmFyIHF1YXJ0aWxlRGF0YSA9IGQucXVhcnRpbGVzID0gcXVhcnRpbGVzKGQpO1xyXG5cclxuICAgICAgICAgICAgLy9Db21wdXRlIHdoaXNrZXJzLiBNdXN0IHJldHVybiBleGFjdGx5IDIgZWxlbWVudHMsIG9yIG51bGwuXHJcbiAgICAgICAgICAgIHZhciB3aGlza2VySW5kaWNlcyA9IHdoaXNrZXJzICYmIHdoaXNrZXJzLmNhbGwodGhpcywgZCwgaSksXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyRGF0YSA9IHdoaXNrZXJJbmRpY2VzICYmIHdoaXNrZXJJbmRpY2VzLm1hcChmdW5jdGlvbihpKSB7IHJldHVybiBkW2ldOyB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vQ29tcHV0ZSBvdXRsaWVycy4gSWYgbm8gd2hpc2tlcnMgYXJlIHNwZWNpZmllZCwgYWxsIGRhdGEgYXJlICdvdXRsaWVycycuXHJcbiAgICAgICAgICAgIC8vV2UgY29tcHV0ZSB0aGUgb3V0bGllcnMgYXMgaW5kaWNlcywgc28gdGhhdCB3ZSBjYW4gam9pbiBhY3Jvc3MgdHJhbnNpdGlvbnMhXHJcbiAgICAgICAgICAgIHZhciBvdXRsaWVySW5kaWNlcyA9IHdoaXNrZXJJbmRpY2VzXHJcbiAgICAgICAgICAgICAgICA/IGQzLnJhbmdlKDAsIHdoaXNrZXJJbmRpY2VzWzBdKS5jb25jYXQoZDMucmFuZ2Uod2hpc2tlckluZGljZXNbMV0gKyAxLCBuKSlcclxuICAgICAgICAgICAgICAgIDogZDMucmFuZ2Uobik7XHJcblxyXG4gICAgICAgICAgICAvL0NvbXB1dGUgdGhlIG5ldyB4LXNjYWxlLlxyXG4gICAgICAgICAgICBpZiAoZmxpcHBlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHgxID0gZDMuc2NhbGVMaW5lYXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kb21haW4oZG9tYWluICYmIGRvbWFpbi5jYWxsKHRoaXMsIGQsIGkpIHx8IFttaW4sIG1heF0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnJhbmdlKFswLCBoZWlnaHRdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB4MSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAgICAgICAgICAgICAuZG9tYWluKGRvbWFpbiAmJiBkb21haW4uY2FsbCh0aGlzLCBkLCBpKSB8fCBbbWluLCBtYXhdKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yYW5nZShbaGVpZ2h0LCAwXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vUmV0cmlldmUgdGhlIG9sZCB4LXNjYWxlLCBpZiB0aGlzIGlzIGFuIHVwZGF0ZS5cclxuICAgICAgICAgICAgdmFyIHgwID0gdGhpcy5fX2NoYXJ0X18gfHwgZDMuc2NhbGVMaW5lYXIoKVxyXG4gICAgICAgICAgICAgICAgLmRvbWFpbihbMCwgSW5maW5pdHldKVxyXG4gICAgICAgICAgICAgICAgLy8uZG9tYWluKFswLCBtYXhdKVxyXG4gICAgICAgICAgICAgICAgLnJhbmdlKHgxLnJhbmdlKCkpO1xyXG5cclxuICAgICAgICAgICAgLy9TdGFzaCB0aGUgbmV3IHNjYWxlLlxyXG4gICAgICAgICAgICB0aGlzLl9fY2hhcnRfXyA9IHgxO1xyXG5cclxuICAgICAgICAgICAgLy9Ob3RlOiB0aGUgYm94LCBtZWRpYW4sIGFuZCBib3ggdGljayBlbGVtZW50cyBhcmUgZml4ZWQgaW4gbnVtYmVyLFxyXG4gICAgICAgICAgICAvL3NvIHdlIG9ubHkgaGF2ZSB0byBoYW5kbGUgZW50ZXIgYW5kIHVwZGF0ZS4gSW4gY29udHJhc3QsIHRoZSBvdXRsaWVyc1xyXG4gICAgICAgICAgICAvL2FuZCBvdGhlciBlbGVtZW50cyBhcmUgdmFyaWFibGUsIHNvIHdlIG5lZWQgdG8gZXhpdCB0aGVtISBWYXJpYWJsZVxyXG4gICAgICAgICAgICAvL2VsZW1lbnRzIGFsc28gZmFkZSBpbiBhbmQgb3V0LlxyXG5cclxuICAgICAgICAgICAgLy9VcGRhdGUgb3V0bGllcnMuXHJcbiAgICAgICAgICAgIHZhciBvdXRsaWVyID0gZy5zZWxlY3RBbGwoJ2NpcmNsZS5vdXRsaWVyJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKG91dGxpZXJJbmRpY2VzLCBOdW1iZXIpO1xyXG5cclxuICAgICAgICAgICAgb3V0bGllciA9IG91dGxpZXIuZW50ZXIoKS5hcHBlbmQoJ2cnKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRsaWVyLmluc2VydCgnY2lyY2xlJywgJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdvdXRsaWVyJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICd3aGl0ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjeScsIHdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3gnLCBmdW5jdGlvbiAoaSkgeyByZXR1cm4geDAoZFtpXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjeCcsIGZ1bmN0aW9uIChpKSB7IHJldHVybiB4MShkW2ldKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBvdXRsaWVyLmFwcGVuZCgndGV4dCcpLnRleHQoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFtpXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCAod2lkdGggLyAyKSArIDcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoaSkgeyByZXR1cm4geDEoZFtpXSkgKyA0OyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdvdXRsaWVyLWxhYmVsJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgJzEwcHgnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHlsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93TGFiZWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Rpc3BsYXk6bm9uZTsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBvdXRsaWVyLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2N4JywgZnVuY3Rpb24oaSkgeyByZXR1cm4geDEoZFtpXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBvdXRsaWVyLmluc2VydCgnY2lyY2xlJywgJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdvdXRsaWVyJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICd3aGl0ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aCA+IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gNTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjeCcsIHdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY3knLCBmdW5jdGlvbiAoaSkgeyByZXR1cm4geDAoZFtpXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjeScsIGZ1bmN0aW9uIChpKSB7IHJldHVybiB4MShkW2ldKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBvdXRsaWVyLmFwcGVuZCgndGV4dCcpLnRleHQoZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFtpXTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCAod2lkdGggLyAyKSArIDcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoaSkgeyByZXR1cm4geDEoZFtpXSkgKyA0OyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdvdXRsaWVyLWxhYmVsJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgJzEwcHgnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHlsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93TGFiZWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Rpc3BsYXk6bm9uZTsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgb3V0bGllci50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2N5JywgZnVuY3Rpb24oaSkgeyByZXR1cm4geDEoZFtpXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgb3V0bGllci5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjeScsIGZ1bmN0aW9uKGkpIHsgcmV0dXJuIHgxKGRbaV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvdXRsaWVyXHJcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dGxpZXIgID0gW2RbaV1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhICAgICA9IHsgT3V0bGllcjogb3V0bGllciwgTGFiZWw6IG91dGxpZXJMYWJlbH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRpcERhdGEgID0gY2hhcnQuc2V0VGlwRGF0YShkYXRhLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRsaWVyICA9IFtkW2ldXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSAgICAgPSB7IE91dGxpZXI6IG91dGxpZXIsIExhYmVsOiBvdXRsaWVyTGFiZWwgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlwRGF0YSAgPSBjaGFydC5zZXRUaXBEYXRhKGRhdGEsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9zZXQgc2VwYXJhdGUgdG9vbHRpcHMgZm9yIHF1YXJ0aWxlcyBhbmQgd2hpc2tlcnNcclxuICAgICAgICAgICAgZyA9IGcuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnaW5uZXItYm94LWNvbnRhaW5lcicpXHJcbiAgICAgICAgICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChsYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUXVhcnRpbGVzOiBkLnF1YXJ0aWxlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoaXNrZXJzOiB3aGlza2VyRGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExhYmVsOiBsYWJlbFswXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkYXRhLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAobGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFF1YXJ0aWxlczogZC5xdWFydGlsZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaGlza2Vyczogd2hpc2tlckRhdGEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMYWJlbDogbGFiZWxbMF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZGF0YSwgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAvL1VwZGF0ZSBjZW50ZXIgbGluZTogdGhlIHZlcnRpY2FsIGxpbmUgc3Bhbm5pbmcgdGhlIHdoaXNrZXJzLlxyXG4gICAgICAgICAgICB2YXIgY2VudGVyID0gZy5zZWxlY3RBbGwoJ2xpbmUuY2VudGVyJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKHdoaXNrZXJEYXRhID8gW3doaXNrZXJEYXRhXSA6IFtdKTtcclxuICAgICAgICAgICAgLy92ZXJ0aWNhbCBsaW5lXHJcbiAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBjZW50ZXIuZW50ZXIoKS5pbnNlcnQoJ2xpbmUnLCAncmVjdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NlbnRlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgd2lkdGggLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MChkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB3aWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgwKGRbMV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFsxXSk7IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGNlbnRlci50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjZW50ZXIuZXhpdCgpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFsxXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2VudGVyLmVudGVyKCkuaW5zZXJ0KCdsaW5lJywgJ3JlY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdjZW50ZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDAoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgd2lkdGggLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MChkWzFdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxZS02KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBjZW50ZXIudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzFdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2VudGVyLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGhvdmVyQXJlYSA9IGcuc2VsZWN0QWxsKCdsaW5lLmhvdmVyLWFyZWEnKVxyXG4gICAgICAgICAgICAgICAgLmRhdGEod2hpc2tlckRhdGEgPyBbd2hpc2tlckRhdGFdIDogW10pOyBcclxuICAgICAgICAgICAgLy92ZXJ0aWNhbCBsaW5lXHJcbiAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBob3ZlckFyZWEuZW50ZXIoKS5pbnNlcnQoJ2xpbmUnLCAncmVjdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2hvdmVyLWFyZWEnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIHdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDAoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgd2lkdGggLyAyKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MChkWzFdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFsxXSk7IH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGhvdmVyQXJlYS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBob3ZlckFyZWEuZXhpdCgpLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzBdKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFsxXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaG92ZXJBcmVhLmVudGVyKCkuaW5zZXJ0KCdsaW5lJywgJ3JlY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdob3Zlci1hcmVhJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB3aWR0aCAvIDIpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgwKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHdpZHRoIC8gMilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDAoZFsxXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBob3ZlckFyZWEudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMF0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzFdKTsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaG92ZXJBcmVhLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMV0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL1VwZGF0ZSBpbm5lcnF1YXJ0aWxlIGJveC5cclxuICAgICAgICAgICAgdmFyIGJveCA9IGcuc2VsZWN0QWxsKCdyZWN0LmJveCcpXHJcbiAgICAgICAgICAgICAgICAuZGF0YShbcXVhcnRpbGVEYXRhXSk7XHJcbiAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBib3guZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgJ3N0ZWVsYmx1ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2JveCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgwKGRbMl0pIC0gTWF0aC5hYnMoeDAoZFswXSkgLSB4MChkWzJdKSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBNYXRoLmFicyh4MChkWzBdKSAtIHgwKGRbMl0pKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMl0pIC0gTWF0aC5hYnMoeDEoZFswXSkgLSB4MShkWzJdKSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIE1hdGguYWJzKHgxKGRbMF0pIC0geDEoZFsyXSkpOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBib3gudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMl0pIC0gTWF0aC5hYnMoeDEoZFswXSkgLSB4MShkWzJdKSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIE1hdGguYWJzKHgxKGRbMF0pIC0geDEoZFsyXSkpOyB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJveC5lbnRlcigpLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnc3RlZWxibHVlJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYm94JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDAoZFsyXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MChkWzBdKSAtIHgwKGRbMl0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFsyXSk7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB4MShkWzBdKSAtIHgxKGRbMl0pOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBib3gudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHgxKGRbMl0pOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geDEoZFswXSkgLSB4MShkWzJdKTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9VcGRhdGUgbWVkaWFuIGxpbmUuXHJcbiAgICAgICAgICAgIHZhciBtZWRpYW5MaW5lID0gZy5zZWxlY3RBbGwoJ2xpbmUubWVkaWFuJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKFtxdWFydGlsZURhdGFbMV1dKTtcclxuICAgICAgICAgICAgaWYgKGZsaXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIG1lZGlhbkxpbmUuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdtZWRpYW4nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB4MSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbWVkaWFuTGluZS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbWVkaWFuTGluZS5lbnRlcigpLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ21lZGlhbicpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB3aWR0aClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHgxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBtZWRpYW5MaW5lLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB4MSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9VcGRhdGUgd2hpc2tlcnMuXHJcbiAgICAgICAgICAgIHZhciB3aGlza2VyID0gZy5zZWxlY3RBbGwoJ2xpbmUud2hpc2tlcicpXHJcbiAgICAgICAgICAgICAgICAuZGF0YSh3aGlza2VyRGF0YSB8fCBbXSk7XHJcbiAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlza2VyLmVudGVyKClcclxuICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0KCdsaW5lJywgJ2NpcmNsZSwgdGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3doaXNrZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgMCArIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aGlza2VyLmVudGVyKClcclxuICAgICAgICAgICAgICAgICAgICAuaW5zZXJ0KCdsaW5lJywgJ2NpcmNsZSwgdGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3doaXNrZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgMCArIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyLmV4aXQoKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9Db21wdXRlIHRoZSB0aWNrIGZvcm1hdC5cclxuICAgICAgICAgICAgdmFyIGZvcm1hdCA9IHRpY2tGb3JtYXQgfHwgeDEudGlja0Zvcm1hdCg4KTtcclxuXHJcbiAgICAgICAgICAgIC8vVXBkYXRlIGJveCB0aWNrcy5cclxuICAgICAgICAgICAgdmFyIGJveFRpY2sgPSBnLnNlbGVjdEFsbCgndGV4dC5ib3gnKVxyXG4gICAgICAgICAgICAgICAgLmRhdGEocXVhcnRpbGVEYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICBib3hUaWNrLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnYm94JylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHgnLCAnLjNlbScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2R5JywgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gaSAmIDEgPyA2IDogLTYgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIGkgJiAxID8gICsgd2lkdGggOiAwIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBpICYgMSA/ICdzdGFydCcgOiAnZW5kJzsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0xhYmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkaXNwbGF5OiBub25lOyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgeDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJveFRpY2sudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZvcm1hdClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIHgxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJveFRpY2suZW50ZXIoKS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdib3gnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkeScsICcuM2VtJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHgnLCBmdW5jdGlvbihkLCBpKSB7IHJldHVybiBpICYgMSA/IDYgOiAtNiB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gaSAmIDEgPyAgKyB3aWR0aCA6IDAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIHgwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsIGZ1bmN0aW9uKGQsIGkpIHsgcmV0dXJuIGkgJiAxID8gJ3N0YXJ0JyA6ICdlbmQnOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHlsZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzaG93TGFiZWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Rpc3BsYXk6IG5vbmU7JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgIC50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCB4MSk7XHJcblxyXG4gICAgICAgICAgICAgICAgYm94VGljay50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgICAgICAuZHVyYXRpb24oZHVyYXRpb24pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgeDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vVXBkYXRlIHdoaXNrZXIgdGlja3MuIFRoZXNlIGFyZSBoYW5kbGVkIHNlcGFyYXRlbHkgZnJvbSB0aGUgYm94XHJcbiAgICAgICAgICAgIC8vdGlja3MgYmVjYXVzZSB0aGV5IG1heSBvciBtYXkgbm90IGV4aXN0LCBhbmQgd2Ugd2FudCBkb24ndCB3YW50XHJcbiAgICAgICAgICAgIC8vdG8gam9pbiBib3ggdGlja3MgcHJlLXRyYW5zaXRpb24gd2l0aCB3aGlza2VyIHRpY2tzIHBvc3QtLlxyXG4gICAgICAgICAgICB2YXIgd2hpc2tlclRpY2sgPSBnLnNlbGVjdEFsbCgndGV4dC53aGlza2VyJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKHdoaXNrZXJEYXRhIHx8IFtdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmbGlwcGVkKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlza2VyVGljay5lbnRlcigpLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3doaXNrZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkeCcsICcuM2VtJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHknLCA2KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5Jywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0xhYmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkaXNwbGF5Om5vbmU7JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneCcsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaXNrZXJUaWNrLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAudGV4dChmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyVGljay5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3aGlza2VyVGljay5lbnRlcigpLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3doaXNrZXInKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdkeScsICcuM2VtJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHgnLCA2KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4Jywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCB4MClcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3R5bGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2hvd0xhYmVscykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkaXNwbGF5Om5vbmU7JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZm9ybWF0KVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDFlLTYpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIHgxKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdoaXNrZXJUaWNrLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbilcclxuICAgICAgICAgICAgICAgICAgICAudGV4dChmb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCB4MSlcclxuICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlza2VyVGljay5leGl0KCkudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmR1cmF0aW9uKGR1cmF0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5JywgeDEpXHJcbiAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgMWUtNilcclxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICAvL2QzLnRpbWVyLmZsdXNoKCk7XHJcbiAgICAgICAgZDMudGltZXJGbHVzaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGJveC53aWR0aCA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgd2lkdGggPSB4O1xyXG4gICAgICAgIHJldHVybiBib3g7XHJcbiAgICB9O1xyXG5cclxuICAgIGJveC5oZWlnaHQgPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICBoZWlnaHQgPSB4O1xyXG4gICAgICAgIHJldHVybiBib3g7XHJcbiAgICB9O1xyXG5cclxuICAgIGJveC50aWNrRm9ybWF0ID0gZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiB0aWNrRm9ybWF0O1xyXG4gICAgICAgIHRpY2tGb3JtYXQgPSB4O1xyXG4gICAgICAgIHJldHVybiBib3g7XHJcbiAgICB9O1xyXG5cclxuICAgIGJveC5kdXJhdGlvbiA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZHVyYXRpb247XHJcbiAgICAgICAgZHVyYXRpb24gPSB4O1xyXG4gICAgICAgIHJldHVybiBib3g7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnN0YW50KHgpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4geDtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgYm94LmRvbWFpbiA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZG9tYWluO1xyXG4gICAgICAgIC8vZG9tYWluID0geCA9PSBudWxsID8geCA6IGQzLmZ1bmN0b3IoeCk7XHJcbiAgICAgICAgZG9tYWluID0geCA9PSBudWxsID8geCA6IGNvbnN0YW50KHgpO1xyXG5cclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3gudmFsdWUgPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIHZhbHVlID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3gud2hpc2tlcnMgPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIHdoaXNrZXJzO1xyXG4gICAgICAgIHdoaXNrZXJzID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3guc2hvd0xhYmVscyA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gc2hvd0xhYmVscztcclxuICAgICAgICBzaG93TGFiZWxzID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3guZmxpcHBlZCA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSByZXR1cm4gZmxpcHBlZDtcclxuICAgICAgICBmbGlwcGVkID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3guY2hhcnQgPSBmdW5jdGlvbiAoeCkge1xyXG4gICAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkgcmV0dXJuIGNoYXJ0O1xyXG4gICAgICAgIGNoYXJ0ID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICBib3gucXVhcnRpbGVzID0gZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHJldHVybiBxdWFydGlsZXM7XHJcbiAgICAgICAgcXVhcnRpbGVzID0geDtcclxuICAgICAgICByZXR1cm4gYm94O1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gYm94O1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYm94V2hpc2tlcnMoZCkge1xyXG4gICAgcmV0dXJuIFswLCBkLmxlbmd0aCAtIDFdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBib3hRdWFydGlsZXMoZCkge1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICBkMy5xdWFudGlsZShkLCAwLjI1KSxcclxuICAgICAgICBkMy5xdWFudGlsZShkLCAwLjUpLFxyXG4gICAgICAgIGQzLnF1YW50aWxlKGQsIDAuNzUpXHJcbiAgICBdO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuYnViYmxlID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVCdWJibGUgPSBnZW5lcmF0ZUJ1YmJsZTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQnViYmxlIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5mdW5jdGlvbiBwYWludCh0cmFuc2l0aW9uVGltZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBidWJibGVNYXJnaW5zID0ge1xyXG4gICAgICAgICAgICB0b3A6IDE1LFxyXG4gICAgICAgICAgICByaWdodDogMTUsXHJcbiAgICAgICAgICAgIGxlZnQ6IDE1LFxyXG4gICAgICAgICAgICBib3R0b206IDE1XHJcbiAgICAgICAgfTtcclxuICAgIGlmICh0cmFuc2l0aW9uVGltZSB8fCB0cmFuc2l0aW9uVGltZSA9PT0gMCkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lID0gdHJhbnNpdGlvblRpbWU7XHJcbiAgICB9IGVsc2UgaWYgKCFjaGFydC5fdmFycy50cmFuc2l0aW9uVGltZSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnRyYW5zaXRpb25UaW1lID0gODAwO1xyXG4gICAgfVxyXG4gICAgaWYgKCFjaGFydC5zbWFsbGVyRm9udFJlcGFpbnQpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5mb250U2l6ZU1heCA9IDgwO1xyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNoYXJ0LmRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBidWJibGVNYXJnaW5zKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlVmVydGljYWxMZWdlbmQoJ2dlbmVyYXRlQnViYmxlJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUJ1YmJsZShjaGFydC5jdXJyZW50RGF0YSk7XHJcbn1cclxuXHJcbi8qKnNldERhdGFcclxuICogIGdldHMgQnViYmxlIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRCdWJibGVMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YSgpIHtcclxuICAgIHJldHVybiB7fTtcclxufVxyXG5cclxuLyoqc2V0QnViYmxlTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRCdWJibGVMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdLFxyXG4gICAgICAgIGl0ZW0gPSBkYXRhLmRhdGFUYWJsZS5sYWJlbDtcclxuXHJcbiAgICBmb3IgKHZhciB2YWx1ZSBpbiBkYXRhLmNoYXJ0RGF0YSkge1xyXG4gICAgICAgIGlmIChkYXRhLmNoYXJ0RGF0YS5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnQgPSBkYXRhLmNoYXJ0RGF0YVt2YWx1ZV1baXRlbV07XHJcbiAgICAgICAgICAgIGlmIChsZWdlbmRBcnJheS5pbmRleE9mKGxlZ2VuZEVsZW1lbnQpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChsZWdlbmRFbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuXHJcblxyXG4vKiogZ2VuZXJhdGVCdWJibGVcclxuICpcclxuICogcGFpbnRzIHRoZSBidWJibGUgIG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIGJ1YmJsZSBEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUJ1YmJsZShidWJibGVEYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgICAgICAgICA9IHRoaXMsXHJcbiAgICAgICAgc3ZnICAgICAgICAgICA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgICAgID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB3aWR0aCAgICAgICAgID0gY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCAgICAgICAgPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHBhY2sgICAgICAgICAgPSBkMy5wYWNrKCkuc2l6ZShbd2lkdGgsIGhlaWdodF0pLnBhZGRpbmcoMS41KSxcclxuICAgICAgICBsZWdlbmREYXRhICAgID0gY2hhcnQuZGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIHZhbHVlS2V5ICAgICAgPSBjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZSxcclxuICAgICAgICBsYWJlbEtleSAgICAgID0gY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWwsXHJcbiAgICAgICAgY29sb3JzICAgICAgICA9IGNoYXJ0Ll92YXJzLmNvbG9yO1xyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG4gICAgdmFyIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG4gICAgdmFyIGJ1YmJsZURhdGFOZXcgPSBqdkNoYXJ0cy5nZXRUb2dnbGVkRGF0YShidWJibGVEYXRhLCBkYXRhSGVhZGVycyksXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKVxyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYnViYmxlRGF0YU5ldy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBidWJibGVEYXRhTmV3W2pdW2xhYmVsS2V5XSAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1YmJsZURhdGFOZXcuc3BsaWNlKGosMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdmcuc2VsZWN0QWxsKCcuYnViYmxlJykucmVtb3ZlKCk7XHJcbiAgICAvL2Fzc2lnbnMgdGhlIGRhdGEgdG8gYSBoaWVyYXJjaHkgdXNpbmcgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcHNcclxuICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KHtjaGlsZHJlbjogYnViYmxlRGF0YU5ld30pXHJcbiAgICAgICAgICAgIC5zdW0oZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGRbdmFsdWVLZXldOyB9KSxcclxuXHJcbiAgICAgICAgYnViYmxlID0gc3ZnLnNlbGVjdEFsbCgnLmJ1YmJsZScpXHJcbiAgICAgICAgICAgIC5kYXRhKHBhY2socm9vdCkubGVhdmVzKCkpXHJcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdidWJibGUnKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHsgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgZC54ICsgJywnICsgZC55ICsgJyknOyBcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgYnViYmxlLmFwcGVuZCgnY2lyY2xlJylcclxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gbGVnZW5kRGF0YS5pbmRleE9mKGQuZGF0YVtsYWJlbEtleV0pO1xyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgbmFtZSwgZC5kYXRhW2xhYmVsS2V5XSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2VkaXRhYmxlIGVkaXRhYmxlLWJ1YmJsZSBidWJibGUtJyArIGkgKyAnIGhpZ2hsaWdodC1jbGFzcy0nICsgaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQucjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIHRpcERhdGEuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIHRpcERhdGEuaW5kZXgsIGQuZGF0YVtsYWJlbEtleV0pO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcCgwKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZC5kYXRhLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgYnViYmxlLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2J1YmJsZS10ZXh0JylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5kYXRhW2xhYmVsS2V5XTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJ3doaXRlJylcclxuICAgICAgICAvL2hpZGUgdGV4dCBpZiBpdHMgdG9vIHdpZGVcclxuICAgICAgICAuYXR0cignc3R5bGUnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGllbnRXaWR0aCA+IGQuciAqIDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnZGlzcGxheTogbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vY2VudGVyIHRoZSB0ZXh0IG9uIHRoZSBidWJibGVcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGRpYW1ldGVyICAgPSBkLnIgKiAyLFxyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoICA9IHRoaXMuY2xpZW50V2lkdGgsXHJcbiAgICAgICAgICAgICAgICBlbXB0eVNwYWNlID0gZGlhbWV0ZXIgLSB0ZXh0V2lkdGg7XHJcblxyXG4gICAgICAgICAgICBpZiAoZW1wdHlTcGFjZSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKC0nICsgKGQuciAtIChlbXB0eVNwYWNlIC8gMikpICsgJywgMCknO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZC5kYXRhLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIHRpcERhdGEuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIHRpcERhdGEuaW5kZXgsIGQuZGF0YVtsYWJlbEtleV0pO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZC5kYXRhO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGJ1YmJsZS5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZC5kYXRhW3ZhbHVlS2V5XTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJ3doaXRlJylcclxuICAgICAgICAvL2hpZGUgdGV4dCBpZiBpdHMgdG9vIHdpZGVcclxuICAgICAgICAuYXR0cignc3R5bGUnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jbGllbnRXaWR0aCA+IGQuciAqIDIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnZGlzcGxheTogbm9uZSc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vY2VudGVyIHRoZSB0ZXh0IG9uIHRoZSBidWJibGVcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGRpYW1ldGVyICAgPSBkLnIgKiAyLFxyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoICA9IHRoaXMuY2xpZW50V2lkdGgsXHJcbiAgICAgICAgICAgICAgICBlbXB0eVNwYWNlID0gZGlhbWV0ZXIgLSB0ZXh0V2lkdGg7XHJcblxyXG4gICAgICAgICAgICBpZiAoZW1wdHlTcGFjZSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoLScgKyAoZC5yIC0gKGVtcHR5U3BhY2UgLyAyKSkgKyAnLCcgKyAxNSArICcpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICB0aXBEYXRhLmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCB0aXBEYXRhLmluZGV4LCBkLmRhdGFbbGFiZWxLZXldKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQuZGF0YTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKDApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLmRhdGEsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmNsdXN0ZXJncmFtID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogbnVsbFxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQ2x1c3RlcmdyYW0gPSBnZW5lcmF0ZUNsdXN0ZXJncmFtO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDbHVzdGVyZ3JhbSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0Q2x1c3RlcmdyYW1EYXRhXHJcbiAqICBnZXRzIGhlYXRtYXAgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG5cclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTsvL01pZ2h0IGhhdmUgdG8gbW92ZSBpbnRvIG1ldGhvZCBiYyBvZiByZWZlcmVuY2UvdmFsdWUgcmVsYXRpb25zaGlwXHJcbiAgICB2YXIgY3VzdG9tTWFyZ2luID0ge1xyXG4gICAgICAgIHRvcDogMjAsXHJcbiAgICAgICAgcmlnaHQ6IDQwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgYm90dG9tOiAyMFxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIGN1c3RvbU1hcmdpbik7XHJcbiAgICAvL2NoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUNsdXN0ZXJncmFtJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUNsdXN0ZXJncmFtKCk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlQ2x1c3RlcmdyYW1cclxuICpcclxuICogcGFpbnRzIHRoZSBDbHVzdGVyZ3JhbSBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyBDbHVzdGVyZ3JhbURhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ2x1c3RlcmdyYW0oKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyO1xyXG4gICAgXHJcbiAgICB2YXIgbGVmdFRyZWVEYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGFbMF07XHJcbiAgICB2YXIgcmlnaHRUcmVlRGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhWzFdO1xyXG4gICAgdmFyIGdyaWREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGFbMl07XHJcblxyXG4gICAgdmFyIHNpemUgPSBncmlkRGF0YS5sZW5ndGggKiAxMDtcclxuICAgIHZhciBwYWRkaW5nID0gMzA7XHJcblxyXG4gICAgaWYoY29udGFpbmVyLndpZHRoID4gY29udGFpbmVyLmhlaWdodCkge1xyXG4gICAgICAgIGlmKHNpemUgPCBjb250YWluZXIud2lkdGgpIHtcclxuICAgICAgICAgICAgc2l6ZSA9IGNvbnRhaW5lci53aWR0aDtcclxuICAgICAgICAgICAgcGFkZGluZyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZihzaXplIDwgY29udGFpbmVyLmhlaWdodCkge1xyXG4gICAgICAgICAgICBzaXplID0gY29udGFpbmVyLmhlaWdodDtcclxuICAgICAgICAgICAgcGFkZGluZyA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vcmVtb3ZlIHN2ZyBlbGVtZW50c1xyXG4gICAgc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgLy8gc3ZnLmFwcGVuZChcInJlY3RcIilcclxuICAgIC8vICAgICAuYXR0cihcIndpZHRoXCIsIHNpemUpXHJcbiAgICAvLyAgICAgLmF0dHIoXCJoZWlnaHRcIiwgc2l6ZSlcclxuICAgIC8vICAgICAuc3R5bGUoXCJmaWxsXCIsIFwibm9uZVwiKVxyXG4gICAgLy8gICAgIC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwiYWxsXCIpXHJcbiAgICAvLyAgICAgLmNhbGwoZDMuem9vbSgpXHJcbiAgICAvLyAgICAgICAgIC5zY2FsZUV4dGVudChbMSwgOF0pXHJcbiAgICAvLyAgICAgICAgIC5vbihcInpvb21cIiwgem9vbWVkKSk7XHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAwICsgJywwKScpLmF0dHIoJ2NsYXNzJywgJ2hlYXRtYXAnKSxcclxuICAgICAgICBsZWZ0RyA9IHZpcy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJpZFwiLCBcImxlZnQtdHJlZVwiKSxcclxuICAgICAgICBib3R0b21HID0gdmlzLmFwcGVuZChcImdcIikuYXR0cihcImlkXCIsIFwiYm90dG9tLXRyZWVcIiksXHJcbiAgICAgICAgaGVhdEcgPSB2aXMuYXBwZW5kKFwiZ1wiKS5hdHRyKCdjbGFzcycsICdjbHVzdGVyZ3JhbS1jb250YWluZXInKS5hdHRyKFwiaWRcIiwgXCJoZWF0XCIpO1xyXG5cclxuICAgIHZhciBkaXYgPSBkMy5zZWxlY3QoJ2JvZHknKS5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3Rvb2x0aXAnKVxyXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApO1xyXG5cclxuICAgIC8vY2FsYyBuZXcgd2lkdGggYW5kIGhlaWdodFxyXG4gICAgdmFyIG5ld1dpZHRoID0gc2l6ZSAvIDQ7XHJcbiAgICB2YXIgbmV3SGVpZ2h0ID0gc2l6ZSAvIDQ7XHJcblxyXG4gICAgdmFyIGxlZnRUcmVlID0gZDMuY2x1c3RlcigpXHJcbiAgICAgICAgLnNpemUoW25ld0hlaWdodCwgbmV3V2lkdGhdKTtcclxuXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeShsZWZ0VHJlZURhdGEpO1xyXG4gICAgICAgIGxlZnRUcmVlKHJvb3QpO1xyXG5cclxuICAgIHZhciBjbGFzc05hbWUgPSBcIlwiO1xyXG4gICAgdmFyIGxlZnRMaW5rID0gbGVmdEcuc2VsZWN0QWxsKFwiLmNsdXN0ZXItbGlua1wiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKS5zbGljZSgxKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgICAgIGlmKHR5cGVvZiBkLmNoaWxkcmVuID09ICd1bmRlZmluZWQnKXtcclxuICAgICAgICAgICAgICAgIGVhY2hSZWN1cnNpdmUoZCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBcImNsdXN0ZXItbGluayBcIiArIGNsYXNzTmFtZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZFwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgICAgIC8vIHJldHVybiBcIk1cIiArIGQueSArIFwiLFwiICsgZC54XHJcbiAgICAgICAgICAgIC8vICAgICArIFwiQ1wiICsgKGQucGFyZW50LnkgKyAyNSkgKyBcIixcIiArIGQueFxyXG4gICAgICAgICAgICAvLyAgICAgKyBcIiBcIiArIChkLnBhcmVudC55ICsgMjUpICsgXCIsXCIgKyBkLnBhcmVudC54XHJcbiAgICAgICAgICAgIC8vICAgICArIFwiIFwiICsgZC5wYXJlbnQueSArIFwiLFwiICsgZC5wYXJlbnQueDtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTVwiICsgZC55LzQgKyBcIixcIiArIGQueFxyXG4gICAgICAgICAgICAgICAgKyBcIlZcIiArIGQucGFyZW50LnggKyBcIkhcIiArIGQucGFyZW50LnkvNDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBlYWNoUmVjdXJzaXZlKGQsIGVyYXNlKSB7XHJcbiAgICAgICAgaWYoZXJhc2UpIHtcclxuICAgICAgICAgICAgY2xhc3NOYW1lID0gXCJcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2xhc3NOYW1lICs9IGQuZGF0YS5uYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGQucGFyZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgaWYoZC5wYXJlbnQuZGF0YS5uYW1lICE9ICdyb290Jyl7XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gXCItXCI7XHJcbiAgICAgICAgICAgICAgICBlYWNoUmVjdXJzaXZlKGQucGFyZW50LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzTmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9jaGlsZENvdW50XHJcbiAgICB2YXIgbGVmdENoaWxkQ291bnQgPSAwO1xyXG4gICAgdmFyIGxlZnROb2RlID0gbGVmdEcuc2VsZWN0QWxsKFwiLmNsdXN0ZXItbm9kZVwiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gXCJjbHVzdGVyLW5vZGVcIiArIChkLmNoaWxkcmVuID8gXCIgY2x1c3Rlci1ub2RlLS1pbnRlcm5hbFwiIDogXCIgY2x1c3Rlci1ub2RlLS1sZWFmXCIpOyBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueS80ICsgXCIsXCIgKyBkLnggKyBcIilcIjsgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gbGVmdE5vZGUuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAvLyAgICAgLmF0dHIoXCJyXCIsIDMpXHJcbiAgICAvLyAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICAgICAgLy8gaWYodHlwZW9mIGQuY2hpbGRyZW4gPT0gJ3VuZGVmaW5lZCcpe1xyXG4gICAgLy8gICAgICAgICAvLyAgICAgZWFjaFJlY3Vyc2l2ZShkLCB0cnVlKTtcclxuICAgIC8vICAgICAgICAgLy8gfVxyXG4gICAgLy8gICAgICAgICAvLyBkMy5zZWxlY3RBbGwoXCIuXCIgKyBjbGFzc05hbWUpLmNsYXNzZWQoJ3BhdGgtaGlnaGxpZ2h0JywgdHJ1ZSk7XHJcbiAgICAvLyAgICAgfSlcclxuICAgIC8vICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbihkKXtcclxuICAgIC8vICAgICAgICAgLy8gZDMuc2VsZWN0QWxsKFwicGF0aFwiKS5jbGFzc2VkKCdwYXRoLWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICBsZWZ0Tm9kZS5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiIzk5OVwiKVxyXG4gICAgICAgIC5hdHRyKFwieDFcIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gPyAgMCA6IDA7IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ4MlwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IDAgOiAxNTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWZ0Tm9kZS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJkeVwiLCAzKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IC04IDogMDsgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gXCJlbmRcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIGQuY2hpbGRyZW4gPyBcIlwiIDogbGVmdENoaWxkQ291bnQrKztcclxuICAgICAgICAgICAgLy8gcmV0dXJuIGQuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICBpZihkLmRhdGEubmFtZSA9PT0gXCJyb290XCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVuID8gZC5kYXRhLm5hbWUgOiBcIlwiO1xyXG5cclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgLy9ib3R0b20gVHJlZVxyXG4gICAgdmFyIHRvcFRyZWUgPSBkMy5jbHVzdGVyKClcclxuICAgICAgICAuc2l6ZShbbmV3SGVpZ2h0LCBuZXdXaWR0aF0pO1xyXG5cclxuICAgICAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeShyaWdodFRyZWVEYXRhKTtcclxuICAgICAgICB0b3BUcmVlKHJvb3QpO1xyXG5cclxuICAgICAgICB2YXIgdG9wTGluayA9IGJvdHRvbUcuc2VsZWN0QWxsKFwiLmNsdXN0ZXItbGlua1wiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKS5zbGljZSgxKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJwYXRoXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNsdXN0ZXItbGlua1wiKVxyXG4gICAgICAgIC5hdHRyKFwiZFwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAgICAgICAgIC8vIHJldHVybiBcIk1cIiArIGQueSArIFwiLFwiICsgZC54XHJcbiAgICAgICAgICAgIC8vICAgICArIFwiQ1wiICsgKGQucGFyZW50LnkgKyAyNSkgKyBcIixcIiArIGQueFxyXG4gICAgICAgICAgICAvLyAgICAgKyBcIiBcIiArIChkLnBhcmVudC55ICsgMjUpICsgXCIsXCIgKyBkLnBhcmVudC54XHJcbiAgICAgICAgICAgIC8vICAgICArIFwiIFwiICsgZC5wYXJlbnQueSArIFwiLFwiICsgZC5wYXJlbnQueDtcclxuICAgICAgICAgICAgcmV0dXJuIFwiTVwiICsgZC55LzQgKyBcIixcIiArIGQueFxyXG4gICAgICAgICAgICAgICAgKyBcIlZcIiArIGQucGFyZW50LnggKyBcIkhcIiArIGQucGFyZW50LnkvNDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL2NoaWxkQ291bnRcclxuICAgIHZhciByaWdodENoaWxkQ291bnQgPSAwO1xyXG4gICAgdmFyIHJpZ2h0Tm9kZSA9IGJvdHRvbUcuc2VsZWN0QWxsKFwiLmNsdXN0ZXItbm9kZVwiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gXCJjbHVzdGVyLW5vZGVcIiArIChkLmNoaWxkcmVuID8gXCIgY2x1c3Rlci1ub2RlLS1pbnRlcm5hbFwiIDogXCIgY2x1c3Rlci1ub2RlLS1sZWFmXCIpOyBcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIGQueS80ICsgXCIsXCIgKyBkLnggKyBcIilcIjsgXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAvLyByaWdodE5vZGUuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAvLyAgICAgLmF0dHIoXCJyXCIsIDIuNSk7XHJcblxyXG4gICAgcmlnaHROb2RlLmFwcGVuZChcImxpbmVcIilcclxuICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgXCIjOTk5XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ4MVwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/ICAwIDogMDsgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIngyXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBkLmNoaWxkcmVuID8gMCA6IDE1O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHJpZ2h0Tm9kZS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJkeVwiLCAzKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IC04IDogODsgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBmdW5jdGlvbihkKSB7IFxyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IFwiZW5kXCIgOiBcInN0YXJ0XCI7IFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgZC5jaGlsZHJlbiA/IFwiXCIgOiByaWdodENoaWxkQ291bnQrKztcclxuICAgICAgICAgICAgaWYoZC5kYXRhLm5hbWUgPT09IFwicm9vdFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IGQuZGF0YS5uYW1lIDogXCJcIjsgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIGhlYXRTY29yZXMgPSBbXTtcclxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBncmlkRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjZWxsID0gZ3JpZERhdGFbaV07XHJcbiAgICAgICAgaGVhdFNjb3Jlcy5wdXNoKGNlbGwudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaGVhdCB2YXJpYWJsZXNcclxuICAgIHZhciBjb2xvciA9IGQzLnNjYWxlVGhyZXNob2xkKClcclxuICAgICAgICAuZG9tYWluKGhlYXRTY29yZXMpXHJcbiAgICAgICAgLnJhbmdlKFtcIiNmYmYyZDJcIiwgXCIjZmVlN2EwXCIsIFwiI2ZmYzY2NVwiLCBcIiNmZWE3NDNcIiwgXCIjZmQ4YzNjXCIsIFwiI2ZiNGIyOVwiLCBcIiNlYTI0MWVcIiwgXCIjZDYwYjIwXCIsIFwiI2IxMDAyNlwiLCBcIiM2MjAwMjNcIl0pO1xyXG5cclxuICAgIHZhciBncmlkSGVpZ2h0ID0gbmV3SGVpZ2h0IC8gbGVmdENoaWxkQ291bnQ7XHJcbiAgICB2YXIgZ3JpZFdpZHRoID0gbmV3V2lkdGggLyByaWdodENoaWxkQ291bnQ7XHJcblxyXG4gICAgLy9ncmlkXHJcbiAgICB2YXIgaGVhdCA9IGhlYXRHLnNlbGVjdEFsbChcIi5oZWF0XCIpXHJcbiAgICAgICAgLmRhdGEoZ3JpZERhdGEpXHJcbiAgICAuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbihkKSB7ICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIFwicmVjdFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBkLnhfaW5kZXggKiBncmlkV2lkdGg7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC55X2luZGV4ICogZ3JpZEhlaWdodDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIGdyaWRXaWR0aDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBncmlkSGVpZ2h0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIFwiI0U2RTZFNlwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgZnVuY3Rpb24oZCkgeyBcclxuICAgICAgICAgICAgcmV0dXJuIFwiMXB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uKGQpIHsgXHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvcihkLnZhbHVlKTsgXHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlwRGF0YS5jb2xvciA9IGNvbG9yKGQudmFsdWUpOyBcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgc3ZnLmNhbGwoZDMuem9vbSgpXHJcbiAgICAgICAgLnNjYWxlRXh0ZW50KFsxIC8gMiwgOF0pXHJcbiAgICAgICAgLm9uKFwiem9vbVwiLCB6b29tZWQpKTtcclxuXHJcbiAgICAvLyAvL2FsaWduIEcgdGFnc1xyXG4gICAgLy8gbGVmdEcgPSB2aXMuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyAoc2l6ZS80KzU1KSArIFwiKVwiKS5hdHRyKFwiaWRcIiwgXCJsZWZ0LXRyZWVcIiksXHJcbiAgICAvLyBib3R0b21HID0gdmlzLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIChzaXplLzIrNzApICsgXCIsXCIgKyA1MCArIFwiKXJvdGF0ZSg5MClcIikuYXR0cihcImlkXCIsIFwiYm90dG9tLXRyZWVcIiksXHJcbiAgICAvLyBoZWF0RyA9IHZpcy5hcHBlbmQoXCJnXCIpLmF0dHIoJ2NsYXNzJywgJ2NsdXN0ZXJncmFtLWNvbnRhaW5lcicpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAoc2l6ZS80KzcwKSArIFwiLFwiICsgKHNpemUvNCs1NSkgKyBcIilcIikuYXR0cihcImlkXCIsIFwiaGVhdFwiKTtcclxuICAgIHZhciBsZWZ0VHJlZVdpZHRoID0gbGVmdEcubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgIHZhciB0b3BUcmVlSGVpZ2h0ID0gYm90dG9tRy5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgdmFyIGhlYXRXaWR0aCA9IGhlYXRHLm5vZGUoKS5nZXRCQm94KCkud2lkdGg7XHJcbiAgICBsZWZ0Ry5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgMCArIFwiLFwiICsgKHRvcFRyZWVIZWlnaHQpICsgXCIpXCIpO1xyXG4gICAgYm90dG9tRy5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgKGxlZnRUcmVlV2lkdGgraGVhdFdpZHRoKSArIFwiLFwiICsgcGFkZGluZyArIFwiKXJvdGF0ZSg5MClcIik7XHJcbiAgICBoZWF0Ry5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbGVmdFRyZWVXaWR0aCArIFwiLFwiICsgKHRvcFRyZWVIZWlnaHQpICsgXCIpXCIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHpvb21lZCgpIHtcclxuICAgICAgICAvLyB2YXIgdHJhbnNmb3JtID0gZDMuem9vbVRyYW5zZm9ybShzdmcubm9kZSgpKTtcclxuICAgICAgICB2aXMuYXR0cihcInRyYW5zZm9ybVwiLCBkMy5ldmVudC50cmFuc2Zvcm0pO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuXHJcblxyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2FudHQgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUdhbnR0QmFycyA9IGdlbmVyYXRlR2FudHRCYXJzO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2V0R2FudHRMZWdlbmREYXRhID0gc2V0R2FudHRMZWdlbmREYXRhO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2V0R2FudHRBeGlzRGF0YSA9IHNldEdhbnR0QXhpc0RhdGE7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEdhbnR0IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBkYXRhXHJcbiAqIEBwYXJhbSBkYXRhVGFibGVcclxuICogQHBhcmFtIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBjaGFydC5zZXRHYW50dExlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LnNldEdhbnR0QXhpc0RhdGEoY2hhcnQsICd4Jyk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEdhbnR0QXhpc0RhdGEoY2hhcnQsICd5Jyk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YShldmVudCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBlbGUgPSBldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLnNwbGl0KCdiYXItY29sLScpWzFdO1xyXG4gICAgaWYgKGVsZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUuZ3JvdXBdOiBbZWxlLnJlcGxhY2UoL18vZywgJyAnKS5yZXBsYWNlKC9fZG90Xy9nLCAnLicpXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub2RlOiBldmVudC50YXJnZXRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHt9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRHYW50dExlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBPYmplY3Qua2V5cyhkYXRhLmRhdGFUYWJsZSkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoW1wic3RhcnQgXCIgKyBpXSkpIHtcclxuICAgICAgICAgICAgLy9jaGVjayB0byBtYWtlIHN1cmUgaXQgaGFzIGEgbWF0Y2hpbmcgZW5kIGRhdGVcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KFtcImVuZCBcIiArIGldKSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZVtcInN0YXJ0IFwiICsgaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0R2FudHRBeGlzRGF0YShjaGFydCwgYXhpcykge1xyXG4gICAgdmFyIGF4aXNEYXRhID0gW10sXHJcbiAgICAgICAgZGF0YSA9IGNoYXJ0LmRhdGEsXHJcbiAgICAgICAgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgZGF0YVR5cGU7XHJcblxyXG4gICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgIHZhciBsYWJlbCA9IGRhdGEuZGF0YVRhYmxlLmdyb3VwO1xyXG4gICAgICAgIGRhdGFUeXBlID0gJ0RBVEUnO1xyXG5cclxuICAgICAgICB2YXIgbnVtQmFycyA9IGRhdGEubGVnZW5kRGF0YS5sZW5ndGg7XHJcbiAgICAgICAgLy9Mb29wIHRocm91Z2ggZGF0YVRhYmxlIGFuZCBhc3NpZ24gbGFiZWxzIGJhc2VkIG9uIGhvdyBtYW55IGdyb3VwcyB0aGVyZSBhcmVcclxuICAgICAgICB2YXIgdmFsdWVDb250YWluZXIgPSBbXTtcclxuICAgICAgICB2YWx1ZUNvbnRhaW5lci5wdXNoKGRhdGEuZGF0YVRhYmxlW1wic3RhcnQgMVwiXSk7XHJcbiAgICAgICAgdmFsdWVDb250YWluZXIucHVzaChkYXRhLmRhdGFUYWJsZVtcImVuZCAxXCJdKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG51bUJhcnM7IGkrKykge1xyXG4gICAgICAgICAgICB2YWx1ZUNvbnRhaW5lci5wdXNoKGRhdGEuZGF0YVRhYmxlW1wic3RhcnQgXCIgKyAoaSArIDEpXSk7XHJcbiAgICAgICAgICAgIHZhbHVlQ29udGFpbmVyLnB1c2goZGF0YS5kYXRhVGFibGVbXCJlbmQgXCIgKyAoaSArIDEpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0dldCBhbGwgdGhlIHN0YXJ0IGFuZCBlbmQgZGF0ZXMgYW5kIGFkZCB0aGVtIHRvIGF4aXMgZGF0YVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVDb250YWluZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGlpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydERhdGFbaWldW3ZhbHVlQ29udGFpbmVyW2ldXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEucHVzaChjaGFydERhdGFbaWldW3ZhbHVlQ29udGFpbmVyW2ldXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQWRkIGFueSBheGlzIGZvcm1hdHRpbmcgdG8gdGhpcyBvYmplY3QsIG5lZWQgdG8gdXNlIHdoZW4gcGFpbnRpbmdcclxuICAgICAgICBjaGFydC5fdmFycy54QXhpc0Zvcm1hdHRpbmcgPSB7fTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGFUeXBlID0gXCJTVFJJTkdcIjtcclxuICAgICAgICB2YXIgbGFiZWwgPSBkYXRhLmRhdGFUYWJsZS5ncm91cDtcclxuXHJcbiAgICAgICAgLy9BZGQgYW55IGF4aXMgZm9ybWF0dGluZyB0byB0aGlzIG9iamVjdCwgbmVlZCB0byB1c2Ugd2hlbiBwYWludGluZ1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLnlBeGlzRm9ybWF0dGluZyA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpXVtsYWJlbF0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgICdsYWJlbCc6IGxhYmVsLFxyXG4gICAgICAgICd2YWx1ZXMnOiBheGlzRGF0YSxcclxuICAgICAgICAnZGF0YVR5cGUnOiBkYXRhVHlwZVxyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG5cclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7XHJcblxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVHYW50dEJhcnMnKTtcclxuICAgIGNoYXJ0LmRyYXdHcmlkbGluZXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlR2FudHRCYXJzKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxuICAgIGlmICh0eXBlb2YgY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS50aWNrcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS50aWNrcygpLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVHYW50dEJhcnMoZ2FudHREYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvcnMgPSBnYW50dERhdGEuY29sb3IsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB5QXhpc0RhdGEgPSBnYW50dERhdGEueUF4aXNEYXRhO1xyXG5cclxuICAgIC8vUmVtb3ZlIGV4aXN0aW5nIGJhcnMgZnJvbSBwYWdlXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiZy5nYW50dC1jb250YWluZXJcIikucmVtb3ZlKCk7XHJcbiAgICB2YXIgYmFycyA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImdhbnR0LWNvbnRhaW5lclwiKSxcclxuICAgICAgICBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPyBjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzIDogZ2FudHREYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgZ2FudHREYXRhTmV3ID0ganZDaGFydHMuZ2V0VG9nZ2xlZERhdGEoZ2FudHREYXRhLCBkYXRhSGVhZGVycyksXHJcbiAgICAgICAgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIGdhbnR0RGF0YS54QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQuX3ZhcnMpLFxyXG4gICAgICAgIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCBnYW50dERhdGEueUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKSxcclxuICAgICAgICBzYW1wbGVEYXRhID0gZ2FudHREYXRhTmV3O1xyXG5cclxuICAgIGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPSB0cnVlO1xyXG5cclxuICAgIHZhciBudW1CYXJzID0gZ2FudHREYXRhLmxlZ2VuZERhdGEubGVuZ3RoO1xyXG4gICAgdmFyIGdhbnR0QmFycyA9IFtdO1xyXG4gICAgLy9jcmVhdGUgYXJyYXkgb2Ygc3RhcnQgZGF0ZXMgYW5kIGVuZCBkYXRlcyB0byBpdGVyYXRlIHRocm91Z2hcclxuICAgIHZhciBzdGFydERhdGVzID0gW107XHJcbiAgICB2YXIgZW5kRGF0ZXMgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG51bUJhcnM7IGkrKykge1xyXG4gICAgICAgIHN0YXJ0RGF0ZXMucHVzaChjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGVbXCJzdGFydCBcIiArIGldKTtcclxuICAgICAgICBlbmREYXRlcy5wdXNoKGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZVtcImVuZCBcIiArIGldKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IG51bUJhcnM7IGlpKyspIHtcclxuICAgICAgICB2YXIgZXh0ZXJuYWxDb3VudGVyRm9ySiA9IC0xO1xyXG4gICAgICAgIGdhbnR0QmFyc1tpaV0gPSBiYXJzLnNlbGVjdEFsbChcIi5nYW50dC1iYXJcIiArIGlpKVxyXG4gICAgICAgICAgICAuZGF0YShzYW1wbGVEYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwicmVjdFwiKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxDb3VudGVyRm9ySisrO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gU3RyaW5nKHNhbXBsZURhdGFbZXh0ZXJuYWxDb3VudGVyRm9ySl1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmdyb3VwXSkucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICdfZG90XycpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAnZ2FudHQtYmFyJyArIGlpICsgJyBlZGl0YWJsZSBlZGl0YWJsZS1iYXIgYmFyLWNvbC0nICsgbGFiZWwgKyAnLWluZGV4LScgKyBpaSArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBsYWJlbCArICcgcmVjdCAnO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIHkuYmFuZHdpZHRoKCkgLyBudW1CYXJzKVxyXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkW3N0YXJ0RGF0ZXNbaWldXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4KG5ldyBEYXRlKGRbc3RhcnREYXRlc1tpaV1dKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkW3lBeGlzRGF0YS5sYWJlbF0pICsgKHkuYmFuZHdpZHRoKCkgLyBudW1CYXJzICogaWkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInJ4XCIsIDMpXHJcbiAgICAgICAgICAgIC5hdHRyKFwicnlcIiwgMylcclxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdHlwZVZhbCA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZVtcIlR5cGVcIiArIChpaSArIDEpXTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgMCwgY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVyc1tpaV0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCAwLCBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhW2lpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgZ2FudHRCYXJzW2lpXS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDQwMClcclxuICAgICAgICAgICAgLmRlbGF5KDEwMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0geChuZXcgRGF0ZShkW2VuZERhdGVzW2lpXV0pKSAtIHgobmV3IERhdGUoZFtzdGFydERhdGVzW2lpXV0pKTsvLyh4KGQuU3RhcnREYXRlKSAtIHgoZC5FbmREYXRlKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHZhciBleHRlcm5hbENvdW50ZXJGb3JKSiA9IC0xO1xyXG4gICAgdmFyIGRhdGFUb1Bsb3QgPSBqdkNoYXJ0cy5nZXRQbG90RGF0YShnYW50dERhdGFOZXcsIGNoYXJ0KTtcclxuICAgIHZhciBldmVudEdyb3VwcyA9IGJhcnMuc2VsZWN0QWxsKFwiLmV2ZW50LXJlY3RcIilcclxuICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImV2ZW50LXJlY3RcIilcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBleHRlcm5hbENvdW50ZXJGb3JKSisrO1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBTdHJpbmcoc2FtcGxlRGF0YVtleHRlcm5hbENvdW50ZXJGb3JKSl1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmdyb3VwXSkucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICdfZG90XycpO1xyXG4gICAgICAgICAgICByZXR1cm4gJ2V2ZW50LXJlY3QgYmFyLWNvbC0nICsgbGFiZWw7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInhcIiwgMClcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQgLyBnYW50dERhdGFOZXcubGVuZ3RoICogaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgY29udGFpbmVyLndpZHRoKVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0IC8gZ2FudHREYXRhTmV3Lmxlbmd0aDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcInRyYW5zcGFyZW50XCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCwwKVwiKTtcclxuICAgIGV2ZW50R3JvdXBzXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vIFRyYW5zaXRpb25zIGluIEQzIGRvbid0IHN1cHBvcnQgdGhlICdvbicgZnVuY3Rpb24gVGhleSBvbmx5IGV4aXN0IG9uIHNlbGVjdGlvbnMuIFNvIG5lZWQgdG8gbW92ZSB0aGF0IGV2ZW50IGxpc3RlbmVyIGFib3ZlIHRyYW5zaXRpb24gYW5kIGFmdGVyIGFwcGVuZFxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgdmFyIGRhdGVEYXRhID0gW2N1cnJlbnREYXRlXTtcclxuICAgIC8vRHJhd3MgYSBsaW5lIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBkYXRlXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiLmN1cnJlbnREYXRlTGluZVwiKVxyXG4gICAgICAgIC5kYXRhKGRhdGVEYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZChcImxpbmVcIilcclxuICAgICAgICAuYXR0cihcIngxXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ4MlwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geChkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieTFcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiMHB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInkyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjdXJyZW50RGF0ZUxpbmVcIilcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBjaGFydC5fdmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgY2hhcnQuX3ZhcnMuU1RST0tFX1dJRFRIKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLWRhc2hhcnJheVwiLCAoXCIzLCAzXCIpKTtcclxuXHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5jdXJyZW50RGF0ZUxhYmVsXCIpXHJcbiAgICAgICAgLmRhdGEoZGF0ZURhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgdmFyIGRkID0gdG9kYXkuZ2V0RGF0ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbW0gPSB0b2RheS5nZXRNb250aCgpICsgMTsgLy9KYW51YXJ5IGlzIDAhXHJcblxyXG4gICAgICAgICAgICB2YXIgeXl5eSA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgIGlmIChkZCA8IDEwKSB7XHJcbiAgICAgICAgICAgICAgICBkZCA9ICcwJyArIGRkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG1tIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIG1tID0gJzAnICsgbW1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdG9kYXkgPSBtbSArICcvJyArIGRkICsgJy8nICsgeXl5eTtcclxuICAgICAgICAgICAgcmV0dXJuIHRvZGF5O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIi0xMHB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBjaGFydC5fdmFycy5mb250Q29sb3IpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5oZWF0bWFwID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVIZWF0TWFwID0gZ2VuZXJhdGVIZWF0TWFwO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBIZWF0TWFwIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5mdW5jdGlvbiBxdWFudGl6ZWQoY2hhcnQsIG1pbiwgbWF4KSB7XHJcbiAgICB2YXIgYnVja2V0Q291bnQgPSBjaGFydC5fdmFycy5idWNrZXRzO1xyXG4gICAgdmFyIHNlY3Rpb25WYWx1ZSA9IChtYXggLSBtaW4pIC8gYnVja2V0Q291bnQ7XHJcbiAgICB2YXIgcXVhbnRpemVkQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVja2V0Q291bnQ7IGkrKykge1xyXG4gICAgICAgIHF1YW50aXplZEFycmF5W2ldID0gbWluICsgaSAqIHNlY3Rpb25WYWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBxdWFudGl6ZWRBcnJheTtcclxufVxyXG5cclxuLyoqc2V0SGVhdE1hcERhdGFcclxuICogIGdldHMgaGVhdG1hcCBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICB2YXIgYXhpc05hbWVzID0gc2V0SGVhdEF4aXNOYW1lcyhjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gYXhpc05hbWVzLnhBeGlzRGF0YTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gYXhpc05hbWVzLnlBeGlzRGF0YTtcclxuICAgIGNoYXJ0LmRhdGEucHJvY2Vzc2VkRGF0YSA9IHNldFByb2Nlc3NlZERhdGEoY2hhcnQsIGNoYXJ0LmRhdGEsIGNoYXJ0LmRhdGEueEF4aXNEYXRhLnZhbHVlcywgY2hhcnQuZGF0YS55QXhpc0RhdGEudmFsdWVzKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLnhBeGlzRGF0YS52YWx1ZXMsIGNoYXJ0LmNvbG9ycyk7XHJcbiAgICBjaGFydC5kYXRhLmhlYXREYXRhID0gc2V0SGVhdG1hcExlZ2VuZERhdGEoY2hhcnQsIGNoYXJ0LmRhdGEpO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKGV2ZW50LCBtb3VzZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuXHJcbiAgICAvL2RldGVybWluZSBpZiB0aGUgY2xpY2sgZXZlbnQgaGFwcGVucyBpbnNpZGUgdGhlIGNvbnRhaW5lclxyXG4gICAgbGV0IGJydXNoQ29udGFpbmVyID0gY2hhcnQuY2hhcnREaXYuc2VsZWN0KCcuJyArIGNoYXJ0LmNvbmZpZy50eXBlICsgJy1jb250YWluZXInKS5ub2RlKCksXHJcbiAgICAgICAgY29udGFpbmVyQm94ID0gYnJ1c2hDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXHJcbiAgICAgICAgeCA9IG1vdXNlWzBdLFxyXG4gICAgICAgIHkgPSBtb3VzZVsxXSxcclxuICAgICAgICBpbnNpZGVDb250YWluZXIgPSBmYWxzZTtcclxuXHJcbiAgICBpZiAoeCA8IGNvbnRhaW5lckJveC5yaWdodCAmJiB5IDwgY29udGFpbmVyQm94LmJvdHRvbSAmJiB4ID4gY29udGFpbmVyQm94LmxlZnQgJiYgeSA+IGNvbnRhaW5lckJveC50b3ApIHtcclxuICAgICAgICBpbnNpZGVDb250YWluZXIgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpbnNpZGVDb250YWluZXIgJiYgZXZlbnQudGFyZ2V0Ll9fZGF0YV9fKSB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBldmVudC50YXJnZXQuX19kYXRhX187XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5oZWF0XTogW2RhdGEudmFsdWVdLFxyXG4gICAgICAgICAgICAgICAgW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS54XTogW2RhdGEueEF4aXNOYW1lXSxcclxuICAgICAgICAgICAgICAgIFtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUueV06IFtkYXRhLnlBeGlzTmFtZV1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbm9kZTogZXZlbnQudGFyZ2V0XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoaW5zaWRlQ29udGFpbmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge31cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiBmYWxzZVxyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0SGVhdG1hcExlZ2VuZERhdGEoY2hhcnQsIGRhdGEpIHtcclxuICAgIHZhciBoZWF0RGF0YTtcclxuICAgIHZhciBidWNrZXRNYXBwZXIgPSBbMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTBdO1xyXG4gICAgdmFyIGJ1Y2tldENvdW50O1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3JzID0gb3JnYW5pemVDb2xvcnMoY2hhcnQpO1xyXG5cclxuICAgIGRhdGEuaGVhdFNjb3Jlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIGEgLSBiO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY2hhcnQuZGF0YS5jb2xvclNjYWxlID0gZDMuc2NhbGVRdWFudGlsZSgpXHJcbiAgICAgICAgLmRvbWFpbihkYXRhLmhlYXRTY29yZXMpXHJcbiAgICAgICAgLnJhbmdlKGNoYXJ0Ll92YXJzLmNvbG9ycyk7XHJcblxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnF1YW50aWxlcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHZhciB0ZW1wID0gY2hhcnQuZGF0YS5jb2xvclNjYWxlLnF1YW50aWxlcygpO1xyXG4gICAgICAgIGlmICh0ZW1wWzBdID09PSAwKSB7XHJcbiAgICAgICAgICAgIGhlYXREYXRhID0gY2hhcnQuZGF0YS5jb2xvclNjYWxlLnF1YW50aWxlcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYXREYXRhID0gWzBdLmNvbmNhdChjaGFydC5kYXRhLmNvbG9yU2NhbGUucXVhbnRpbGVzKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYnVja2V0Q291bnQgPSBidWNrZXRNYXBwZXJbY2hhcnQuX3ZhcnMuYnVja2V0cyAtIDFdO1xyXG4gICAgICAgIGhlYXREYXRhID0gcXVhbnRpemVkKGNoYXJ0LCBkYXRhLmhlYXRTY29yZXNbMF0sIGRhdGEuaGVhdFNjb3Jlc1tkYXRhLmhlYXRTY29yZXMubGVuZ3RoIC0gMV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBoZWF0RGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3JnYW5pemVDb2xvcnMoY2hhcnQpIHtcclxuICAgIHZhciBjb2xvclNlbGVjdGVkQnVja2V0ID0gW107XHJcbiAgICBmb3IgKHZhciBjIGluIGNoYXJ0Ll92YXJzLmNvbG9ycykge1xyXG4gICAgICAgIGNvbG9yU2VsZWN0ZWRCdWNrZXQucHVzaChjaGFydC5fdmFycy5jb2xvcnNbY10pO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzVmFsdWUgPSBjaGFydC5fdmFycy5idWNrZXRzO1xyXG4gICAgdmFyIG5ld0NvbG9ycyA9IFtdO1xyXG4gICAgdmFyIGJ1Y2tldE1hcHBlciA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF07XHJcbiAgICB2YXIgYnVja2V0Q291bnQgPSBidWNrZXRNYXBwZXJbc1ZhbHVlIC0gMV07XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldENvdW50OyBpKyspIHtcclxuICAgICAgICBpZiAoaSA+PSBidWNrZXRDb3VudCAvIDIpIHtcclxuICAgICAgICAgICAgbmV3Q29sb3JzW2ldID0gY29sb3JTZWxlY3RlZEJ1Y2tldFtNYXRoLnJvdW5kKChpICsgMSkgLyBidWNrZXRDb3VudCAqIDIwKSAtIDFdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld0NvbG9yc1tpXSA9IGNvbG9yU2VsZWN0ZWRCdWNrZXRbTWF0aC5yb3VuZCgoaSkgLyBidWNrZXRDb3VudCAqIDIwKV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGNvbG9ycyA9IG5ld0NvbG9ycy5zbGljZSgwKTtcclxuICAgIHJldHVybiBjb2xvcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEhlYXRBeGlzTmFtZXMoZGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0RGF0YSA9IGRhdGEuY2hhcnREYXRhO1xyXG4gICAgdmFyIHhBeGlzTmFtZSA9IGRhdGEuZGF0YVRhYmxlLng7XHJcbiAgICB2YXIgeUF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueTtcclxuICAgIHZhciB4QXhpc0FycmF5ID0gW107XHJcbiAgICB2YXIgeUF4aXNBcnJheSA9IFtdO1xyXG4gICAgdmFyIHJldHVybk9iaiA9IHt9O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgPT09ICd4Jykge1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhID0ge307XHJcbiAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEuZGF0YVR5cGUgPSBkYXRhLmRhdGFUYWJsZUtleXNbaV0udHlwZTtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5sYWJlbCA9IGRhdGEuZGF0YVRhYmxlLng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZUtleXNbaV0udml6VHlwZSA9PT0gJ3knKSB7XHJcbiAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEgPSB7fTtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5kYXRhVHlwZSA9IGRhdGEuZGF0YVRhYmxlS2V5c1tpXS50eXBlO1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLmxhYmVsID0gZGF0YS5kYXRhVGFibGUueTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoeEF4aXNBcnJheS5pbmRleE9mKGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgeEF4aXNBcnJheS5wdXNoKGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdKTtcclxuICAgICAgICAgICAgLy9UT0RPIG1ha2UgaW50byAxIGZ1bmN0aW9uIGZvciBtaW4gbWF4Li4uIHdhc3RlIG9mIHNwYWNlXHJcbiAgICAgICAgICAgIGlmIChyZXR1cm5PYmoueEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgLy9wdXNoIG1pbiBhbmQgbWF4IGluZm9cclxuICAgICAgICAgICAgICAgIGlmICghcmV0dXJuT2JqLnhBeGlzRGF0YS5taW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhLm1pbiA9IGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1beEF4aXNOYW1lXSA8IHJldHVybk9iai54QXhpc0RhdGEubWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5taW4gPSBjaGFydERhdGFbaV1beEF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldHVybk9iai54QXhpc0RhdGEubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5tYXggPSBjaGFydERhdGFbaV1beEF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW3hBeGlzTmFtZV0gPCByZXR1cm5PYmoueEF4aXNEYXRhLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEubWF4ID0gY2hhcnREYXRhW2ldW3hBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHlBeGlzQXJyYXkuaW5kZXhPZihjaGFydERhdGFbaV1beUF4aXNOYW1lXSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHlBeGlzQXJyYXkucHVzaChjaGFydERhdGFbaV1beUF4aXNOYW1lXSk7XHJcbiAgICAgICAgICAgIGlmIChyZXR1cm5PYmoueUF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgLy9wdXNoIG1pbiBhbmQgbWF4IGluZm9cclxuICAgICAgICAgICAgICAgIGlmICghcmV0dXJuT2JqLnlBeGlzRGF0YS5taW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLm1pbiA9IGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1beUF4aXNOYW1lXSA8IHJldHVybk9iai55QXhpc0RhdGEubWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5taW4gPSBjaGFydERhdGFbaV1beUF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldHVybk9iai55QXhpc0RhdGEubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5tYXggPSBjaGFydERhdGFbaV1beUF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW3lBeGlzTmFtZV0gPCByZXR1cm5PYmoueUF4aXNEYXRhLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEubWF4ID0gY2hhcnREYXRhW2ldW3lBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm5PYmoueEF4aXNEYXRhLnZhbHVlcyA9IHhBeGlzQXJyYXk7XHJcbiAgICByZXR1cm5PYmoueUF4aXNEYXRhLnZhbHVlcyA9IHlBeGlzQXJyYXk7XHJcblxyXG4gICAgcmV0dXJuIHJldHVybk9iajtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0UHJvY2Vzc2VkRGF0YShjaGFydCwgZGF0YSwgeEF4aXNBcnJheSwgeUF4aXNBcnJheSkge1xyXG4gICAgdmFyIGNoYXJ0RGF0YSA9IGRhdGEuY2hhcnREYXRhO1xyXG4gICAgdmFyIHhBeGlzTmFtZSA9IGRhdGEuZGF0YVRhYmxlLng7XHJcbiAgICB2YXIgeUF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueTtcclxuICAgIHZhciBoZWF0ID0gZGF0YS5kYXRhVGFibGUuaGVhdDtcclxuICAgIHZhciB4Q2F0ID0gZGF0YS5kYXRhVGFibGUueF9jYXRlZ29yeTtcclxuICAgIHZhciB5Q2F0ID0gZGF0YS5kYXRhVGFibGUueV9jYXRlZ29yeTtcclxuICAgIHZhciBkYXRhQXJyYXkgPSBbXTtcclxuICAgIGRhdGEuaGVhdFNjb3JlcyA9IFtdO1xyXG4gICAgLypBc3NpZ24gZWFjaCBuYW1lIGEgbnVtYmVyIGFuZCBwbGFjZSBtYXRyaXggY29vcmRpbmF0ZXMgaW5zaWRlIG9mIGRhdGFBcnJheSAqL1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBkYXRhQXJyYXkucHVzaCh7XHJcbiAgICAgICAgICAgIHZhbHVlOiBjaGFydERhdGFbaV1baGVhdF0sXHJcbiAgICAgICAgICAgIHhBeGlzTmFtZTogY2hhcnREYXRhW2ldW3hBeGlzTmFtZV0sXHJcbiAgICAgICAgICAgIHlBeGlzTmFtZTogY2hhcnREYXRhW2ldW3lBeGlzTmFtZV1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBrZXlzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXlzW2tdLmluZGV4T2YoJ3Rvb2x0aXAnKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhQXJyYXlbaV1ba2V5c1trXV0gPSBjaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGVba2V5c1trXV1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vVGhpcyBhcnJheSBzdG9yZXMgdGhlIHZhbHVlcyBhcyBudW1iZXJzXHJcbiAgICAgICAgZGF0YS5oZWF0U2NvcmVzLnB1c2goY2hhcnREYXRhW2ldW2hlYXRdKTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHhBeGlzQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKHhBeGlzQXJyYXlbal0gPT09IGRhdGFBcnJheVtpXS54QXhpc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFBcnJheVtpXS54QXhpcyA9IGo7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHlBeGlzQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKHlBeGlzQXJyYXlbal0gPT09IGRhdGFBcnJheVtpXS55QXhpc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFBcnJheVtpXS55QXhpcyA9IGo7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YUFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG4gICAgdmFyIGN1c3RvbU1hcmdpbiA9IHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDQwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgYm90dG9tOiAyMFxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIGN1c3RvbU1hcmdpbik7XHJcbiAgICAvL2NoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUhlYXRNYXAnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlSGVhdE1hcCgpO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZUhlYXRNYXBcclxuICpcclxuICogcGFpbnRzIHRoZSBIZWF0TWFwIG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIEhlYXRNYXBEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUhlYXRNYXAoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcnMsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBtaW5Db250YWluZXIgPSAzMDAsXHJcbiAgICAgICAgcXVhbnRpbGVzID0gY2hhcnQuX3ZhcnMucXVhbnRpbGVzLFxyXG4gICAgICAgIGRhdGEgPSBjaGFydC5kYXRhLnByb2Nlc3NlZERhdGEsXHJcbiAgICAgICAgdG9nZ2xlTGVnZW5kID0gIWNoYXJ0Ll92YXJzLnRvZ2dsZUxlZ2VuZCxcclxuICAgICAgICBoZWF0TWFwRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLFxyXG4gICAgICAgIGdyaWRTaXplID0gY2hhcnQuX3ZhcnMuaGVhdEdyaWRTaXplLFxyXG4gICAgICAgIGxlZ2VuZFNwYWNpbmcgPSBjaGFydC5fdmFycy5oZWF0TGVnZW5kU3BhY2luZztcclxuXHJcbiAgICB2YXIgZGl2ID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0b29sdGlwJylcclxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKTtcclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwwKScpLmF0dHIoJ2NsYXNzJywgJ2hlYXRtYXAnKTtcclxuXHJcbiAgICB2YXIgeUF4aXNUaXRsZSA9IHZpcy5zZWxlY3RBbGwoJy5oZWF0bWFwJylcclxuICAgICAgICAuZGF0YShbaGVhdE1hcERhdGEuZGF0YVRhYmxlLnldKTtcclxuXHJcbiAgICB5QXhpc1RpdGxlLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpc0xhYmVscyBib2xkJylcclxuICAgICAgICAuYXR0cigneCcsIC0yMSlcclxuICAgICAgICAuYXR0cigneScsIC01KVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgtJyArIChjaGFydC5fdmFycy5oZWF0bWFwWW1hcmdpbiArIDEwKSArICcsJyArIDAgKyAnKXJvdGF0ZSgtOTApJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHlBeGlzVGl0bGUuZXhpdCgpLnJlbW92ZSgpO1xyXG4gICAgdmFyIGZvcm1hdFR5cGUgPSBqdkNoYXJ0cy5qdkZvcm1hdFZhbHVlVHlwZShjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzLCBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEuZGF0YVR5cGUpO1xyXG5cclxuICAgIHZhciB5QXhpc1NlY3Rpb24gPSB2aXMuYXBwZW5kKCdzdmc6ZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3lBeGlzU2VjdGlvbicpO1xyXG5cclxuICAgIHZhciB5QXhpcyA9IHlBeGlzU2VjdGlvbi5zZWxlY3RBbGwoJy54QXhpcycpXHJcbiAgICAgICAgLmRhdGEoaGVhdE1hcERhdGEueUF4aXNEYXRhLnZhbHVlcylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3N2ZzpnJyk7XHJcblxyXG4gICAgeUF4aXMuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICB2YXIgc3RyID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZShkLCBmb3JtYXRUeXBlKTtcclxuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPiAxNSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgMTQpICsgJy4uLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXHJcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgtNiwnICsgZ3JpZFNpemUgLyAxLjUgKyAnKScpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuICdyb3dMYWJlbCBwb2ludGVyJzsgfSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHZhciBwYWludCA9IHRydWU7XHJcbiAgICAgICAgICAgIGlmIChkID09PSBjaGFydC5fdmFycy5zZWxlY3RlZFgpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLnNlbGVjdGVkWCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgcGFpbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLnNlbGVjdGVkWCA9IGQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vZmFkZSBhbGwgcmVjdHMgZXhjZXB0IGluIHRoaXMgcm93XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXNbaV0gPT09IGQgJiYgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoci55QXhpcyAhPSBpICYmIHBhaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB5QXhpcy5hcHBlbmQoJ3RpdGxlJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgdmFyIHhBeGlzVGl0bGUgPSB2aXMuc2VsZWN0QWxsKCcueEF4aXNUaXRsZScpXHJcbiAgICAgICAgLmRhdGEoW2hlYXRNYXBEYXRhLmRhdGFUYWJsZS54XSk7XHJcblxyXG4gICAgeEF4aXNUaXRsZS5lbnRlcigpLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNMYWJlbHMgYm9sZCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCA2KVxyXG4gICAgICAgIC5hdHRyKCd5JywgOSlcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIDAgKyAnLCAtJyArIChjaGFydC5fdmFycy5oZWF0bWFwWG1hcmdpbiAtIDEwKSArICcpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHhBeGlzVGl0bGUuZXhpdCgpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciB4QXhpc1NlY3Rpb24gPSB2aXMuYXBwZW5kKCdzdmc6ZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hBeGlzU2VjdGlvbicpO1xyXG5cclxuICAgIHZhciB4QXhpcyA9IHhBeGlzU2VjdGlvbi5zZWxlY3RBbGwoJy54QXhpcycpXHJcbiAgICAgICAgLmRhdGEoaGVhdE1hcERhdGEueEF4aXNEYXRhLnZhbHVlcylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3N2ZzpnJyk7XHJcblxyXG4gICAgZm9ybWF0VHlwZSA9IGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWVUeXBlKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXMsIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS5kYXRhVHlwZSk7XHJcblxyXG4gICAgeEF4aXMuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICB2YXIgc3RyID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZShkLCBmb3JtYXRUeXBlKTtcclxuICAgICAgICAgICAgaWYgKHN0ci5sZW5ndGggPiAxNSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgMTQpICsgJy4uLic7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgNilcclxuICAgICAgICAuYXR0cigneScsIDcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuICdjb2xMYWJlbCBwb2ludGVyJzsgfSlcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArICgoaSAqIGdyaWRTaXplKSkgKyAnLCAtNilyb3RhdGUoLTQ1KSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigndGl0bGUnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgY2hhcnQuX3ZhcnMuZm9udFNpemUpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIC8vcmVtb3Zpbmcgc3R5bGluZ1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5yb3dMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5jb2xMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWJvcmRlcicsIGZhbHNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICB2YXIgcGFpbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZiAoZCA9PT0gY2hhcnQuX3ZhcnMuc2VsZWN0ZWRYKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5zZWxlY3RlZFggPSAnJztcclxuICAgICAgICAgICAgICAgIHBhaW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5fdmFycy5zZWxlY3RlZFggPSBkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vZmFkZSBhbGwgcmVjdHMgZXhjZXB0IGluIHRoaXMgY29sdW1uXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXNbaV0gPT09IGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIueEF4aXMgIT09IGkgJiYgcGFpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB4QXhpcy5hcHBlbmQoJ3RpdGxlJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgd2lkdGggPSBoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAqIGdyaWRTaXplO1xyXG4gICAgdmFyIGhlaWdodCA9IGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICogZ3JpZFNpemU7XHJcbiAgICB2YXIgZm9ybWF0VmFsdWVUeXBlID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUoY2hhcnQuZGF0YS5oZWF0RGF0YSk7XHJcblxyXG4gICAgLy92ZXJ0aWNhbCBsaW5lc1xyXG4gICAgdmFyIHZMaW5lID0gdmlzLmFwcGVuZCgnc3ZnOmcnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd2TGluZVNlY3Rpb24nKTtcclxuXHJcbiAgICB2TGluZS5zZWxlY3RBbGwoJy52TGluZVNlY3Rpb24nKVxyXG4gICAgICAgIC5kYXRhKGQzLnJhbmdlKGhlYXRNYXBEYXRhLnhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICsgMSkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgY2hhcnQuX3ZhcnMuYXhpc0NvbG9yKTtcclxuXHJcbiAgICAvL2hvcml6b250YWwgbGluZXNcclxuICAgIHZhciBoTGluZSA9IHZpcy5hcHBlbmQoJ3N2ZzpnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnaGVhdG1hcC1jb250YWluZXInKTtcclxuXHJcbiAgICBoTGluZS5zZWxlY3RBbGwoJy5oZWF0bWFwLWNvbnRhaW5lcicpXHJcbiAgICAgICAgLmRhdGEoZDMucmFuZ2UoaGVhdE1hcERhdGEueUF4aXNEYXRhLnZhbHVlcy5sZW5ndGggKyAxKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneTInLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIGNoYXJ0Ll92YXJzLmF4aXNDb2xvcik7XHJcblxyXG4gICAgdmFyIGhlYXRNYXAgPSB2aXMuYXBwZW5kKCdzdmc6ZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2hlYXRTZWN0aW9uJyk7XHJcblxyXG4gICAgaGVhdE1hcC5zZWxlY3RBbGwoJy5oZWF0U2VjdGlvbicpXHJcbiAgICAgICAgLmRhdGEoZGF0YSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChkLnhBeGlzKSAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGQueUF4aXMpICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigncngnLCAyKVxyXG4gICAgICAgIC5hdHRyKCdyeScsIDIpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2hlYXQnKVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGdyaWRTaXplIC0gMSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgZ3JpZFNpemUgLSAxKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChxdWFudGlsZXMgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5kb21haW5BcnJheS5sZW5ndGggPT09IDAgfHwgKGQudmFsdWUgPj0gY2hhcnQuX3ZhcnMuZG9tYWluQXJyYXlbMF0gJiYgZC52YWx1ZSA8PSBjaGFydC5fdmFycy5kb21haW5BcnJheVsxXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnQuZGF0YS5jb2xvclNjYWxlKGQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd3aGl0ZSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmRvbWFpbkFycmF5Lmxlbmd0aCA9PSAwIHx8IChkLnZhbHVlID49IGNoYXJ0Ll92YXJzLmRvbWFpbkFycmF5WzBdICYmIGQudmFsdWUgPD0gY2hhcnQuX3ZhcnMuZG9tYWluQXJyYXlbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UXVhbnRpemVkQ29sb3IoY2hhcnQuZGF0YS5oZWF0RGF0YSwgZC52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICd3aGl0ZSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgdGlwRGF0YS5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3JTY2FsZShkLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vRHJhdyB0aXBcclxuICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC5jbGlja2VkID0gIWNoYXJ0LmNsaWNrZWQ7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAvL2JvcmRlciBhcm91bmQgc2VsZWN0ZWQgcmVjdFxyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9GYWRlIHJvdyBsYWJlbHNcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmdW5jdGlvbiAociwgcmkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShyaSA9PSAoZC55QXhpcykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZmFkZSBjb2x1bW4gbGFiZWxzXHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5jb2xMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEocmkgPT0gKGQueEF4aXMpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2ZhZGUgYWxsIHJlY3RzIGV4Y2VwdCBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIueUF4aXMgIT0gZC55QXhpcyB8fCByLnhBeGlzICE9IGQueEF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL3JlbW92aW5nIHN0eWxpbmdcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5jb2xMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgIGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdChcInN2Zy5oZWF0TGVnZW5kXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGlmICh0b2dnbGVMZWdlbmQpIHtcclxuICAgICAgICB2YXIgbGVnZW5kQ29udGFpbmVyID0gY2hhcnQuY2hhcnREaXYuYXBwZW5kKCdzdmcnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ3RvcCcsIGNoYXJ0LmNvbmZpZy5tYXJnaW4udG9wICsgJ3B4JylcclxuICAgICAgICAgICAgLnN0eWxlKCdiYWNrZ3JvdW5kJywgY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnaGVhdExlZ2VuZCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNoYXJ0LmNvbmZpZy5oZWF0V2lkdGgpO1xyXG5cclxuICAgICAgICB2YXIgbGVnZW5kID0gbGVnZW5kQ29udGFpbmVyLnNlbGVjdEFsbCgnLmxlZ2VuZCcpXHJcbiAgICAgICAgICAgIC5kYXRhKGNoYXJ0LmRhdGEuaGVhdERhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGdyaWRTaXplICsgbGVnZW5kU3BhY2luZztcclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSBoZWlnaHQgKiBjaGFydC5kYXRhLmNvbG9yU2NhbGUuZG9tYWluKCkubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgICAgIHZhciBob3J6ID0gLTIgKiBncmlkU2l6ZTtcclxuICAgICAgICAgICAgICAgIHZhciB2ZXJ0ID0gaSAqIGhlaWdodCAtIG9mZnNldDtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyAwICsgJywnICsgKGdyaWRTaXplICogaSkgKyAnKSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGdyaWRTaXplKVxyXG4gICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgZ3JpZFNpemUpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JzW2ldO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIC8vcmVtb3Zpbmcgc3R5bGluZ1xyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ2RibGNsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIC8vcmVtb3Zpbmcgc3R5bGluZ1xyXG4gICAgICAgICAgICAgICAgLy9mYWRlIGFsbCByZWN0cyBleGNlcHQgc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyLnZhbHVlIDwgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxlZ2VuZC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kVGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZ3JpZFNpemUgKyBsZWdlbmRTcGFjaW5nKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIGdyaWRTaXplIC0gbGVnZW5kU3BhY2luZylcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgY2hhcnQuX3ZhcnMuYmxhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFF1YW50aXplZENvbG9yKHF1YW50aXplZEFycmF5LCB2YWx1ZSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcXVhbnRpemVkQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgcXVhbnRpemVkQXJyYXlbaV0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcnNbaSAtIDFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjb2xvcnNbcXVhbnRpemVkQXJyYXkubGVuZ3RoIC0gMV07XHJcbiAgICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcblxyXG5cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5saW5lID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVMaW5lID0gZ2VuZXJhdGVMaW5lO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2V0TGluZVRocmVzaG9sZERhdGEgPSBzZXRMaW5lVGhyZXNob2xkRGF0YTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogTGluZSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0TGluZURhdGFcclxuICogIGdldHMgbGluZSBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAvL3NvcnQgY2hhcnQgZGF0YSBpZiB0aGVyZSBpcyBhIHNvcnQgdHlwZSBhbmQgbGFiZWwgaW4gdGhlIF92YXJzXHJcbiAgICBpZiAoY2hhcnQuX3ZhcnMuc29ydFR5cGUpIHtcclxuICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuc29ydExhYmVsICYmIGNoYXJ0Ll92YXJzLnNvcnRUeXBlICE9PSAnZGVmYXVsdCcpIHtcclxuICAgICAgICAgICAgY2hhcnQub3JnYW5pemVDaGFydERhdGEoY2hhcnQuX3ZhcnMuc29ydExhYmVsLCBjaGFydC5fdmFycy5zb3J0VHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd4JywgY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd5JywgY2hhcnQuZGF0YSk7XHJcblxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICBjaGFydC5zZXRGbGlwcGVkU2VyaWVzKGNoYXJ0LmRhdGEuZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZmxpcHBlZERhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoY2hhcnQuZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NlcmllcycpKSB7XHJcbiAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBzZXRTZXJpZXNEYXRhKGNoYXJ0LmRhdGEuY2hhcnREYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgY2hhcnQuZGF0YS5sZWdlbmREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YShldmVudCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLnNwbGl0KCdiYXItY29sLScpWzFdKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF06IFtldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLnNwbGl0KCdiYXItY29sLScpWzFdLnJlcGxhY2UoL18vZywgJyAnKS5yZXBsYWNlKC9fZG90Xy9nLCAnLicpXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub2RlOiBldmVudC50YXJnZXRcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLmluZGV4T2YoJ2xpbmUtY29udGFpbmVyJykgPiAtMSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHt9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF0YTogZmFsc2VcclxuICAgIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBzZXRTZXJpZXNEYXRhXHJcbiAqIEBkZXNjIFNldHMgY2hhcnREYXRhIHRvIGNvbnRhaW4gYSBzZXJpZXMgZGF0YSBpZiB0aGUgc2VyaWVzIGZpZWxkIGV4aXN0cyBpbiB2aXN1YWwgcGFuZWxcclxuICovXHJcbmZ1bmN0aW9uIHNldFNlcmllc0RhdGEoZGF0YSwgZGF0YVRhYmxlLCBsZWdlbmREYXRhQXJyYXkpIHtcclxuICAgIHZhciBuZXdDaGFydERhdGEgPSBbXTtcclxuICAgIC8vR2V0IHVuaXF1ZSBsYWJlbCBsaXN0XHJcbiAgICB2YXIgbGFiZWxMaXN0ID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgYWRkID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxhYmVsTGlzdC5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVtpXVtkYXRhVGFibGUubGFiZWxdID09PSBsYWJlbExpc3Rbal0pIHtcclxuICAgICAgICAgICAgICAgIGFkZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhZGQpIHtcclxuICAgICAgICAgICAgbGFiZWxMaXN0LnB1c2goZGF0YVtpXVtkYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL0l0ZXJhdGUgb3ZlciBsYWJlbCBsaXN0XHJcbiAgICB2YXIgbmV3RGF0YSA9IFtdO1xyXG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGxhYmVsTGlzdC5sZW5ndGg7IGkrKyl7XHJcbiAgICAgICAgdmFyIGRhdGFPYmogPSB7fTtcclxuICAgICAgICBkYXRhT2JqW2RhdGFUYWJsZS5sYWJlbF0gPSBsYWJlbExpc3RbaV07XHJcbiAgICAgICAgZm9yKGxldCBqID0gMDsgaiA8IGRhdGEubGVuZ3RoOyBqKyspe1xyXG4gICAgICAgICAgICBpZihkYXRhW2pdW2RhdGFUYWJsZS5sYWJlbF0gPT09IGxhYmVsTGlzdFtpXSl7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3RW50cnkgPSBkYXRhW2pdW2RhdGFUYWJsZS5zZXJpZXNdICsgJyAnICsgZGF0YVRhYmxlWyd2YWx1ZSAxJ107XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqW25ld0VudHJ5XSA9IGRhdGFbal1bZGF0YVRhYmxlWyd2YWx1ZSAxJ11dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5ld0RhdGEucHVzaChkYXRhT2JqKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXdEYXRhO1xyXG59XHJcblxyXG4vKipzZXRCYXJMaW5lTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXhcclxuICovXHJcbmZ1bmN0aW9uIHNldEJhckxpbmVMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG5cclxuICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnc2VyaWVzJykpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBhZGRUb0xlZ2VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGVnZW5kQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRyeSA9IGRhdGEuY2hhcnREYXRhW2ldW2RhdGEuZGF0YVRhYmxlLnNlcmllc10gKyAnICcgKyBkYXRhLmRhdGFUYWJsZVsndmFsdWUgMSddO1xyXG4gICAgICAgICAgICAgICAgaWYgKGVudHJ5ID09PSBsZWdlbmRBcnJheVtqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFRvTGVnZW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFkZFRvTGVnZW5kKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3RW50cnkgPSBkYXRhLmNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdICsgJyAnICsgZGF0YS5kYXRhVGFibGVbJ3ZhbHVlIDEnXTtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2gobmV3RW50cnkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnICYmIGl0ZW0uaW5kZXhPZigndG9vbHRpcCcpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGVbaXRlbV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuLyoqcGFpbnRMaW5lQ2hhcnRcclxuICpcclxuICogVGhlIGluaXRpYWwgc3RhcnRpbmcgcG9pbnQgZm9yIGxpbmUgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgLy9Vc2VzIHRoZSBvcmlnaW5hbCBkYXRhIGFuZCB0aGVuIG1hbmlwdWxhdGVzIGl0IGJhc2VkIG9uIGFueSBleGlzdGluZyBvcHRpb25zXHJcbiAgICB2YXIgZGF0YU9iaiA9IGNoYXJ0LmdldEJhckRhdGFGcm9tT3B0aW9ucygpO1xyXG5cclxuICAgIC8vYXNzaWduIGN1cnJlbnQgZGF0YSB3aGljaCBpcyB1c2VkIGJ5IGFsbCBiYXIgY2hhcnQgb3BlcmF0aW9uc1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhkYXRhT2JqLmxlZ2VuZERhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhkYXRhT2JqLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGRhdGFPYmoueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGRhdGFPYmoubGVnZW5kRGF0YSwgJ2dlbmVyYXRlTGluZScpO1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZUxpbmUoZGF0YU9iaik7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlTGluZVxyXG4gKlxyXG4gKiBQYWludHMgdGhlIGxpbmVzXHJcbiAqIEBwYXJhbXMgbGluZURhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTGluZShsaW5lRGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmc7XHJcblxyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cuJyArIGNoYXJ0LmNvbmZpZy50eXBlICsgJy1jb250YWluZXInKS5yZW1vdmUoKTtcclxuICAgIHZhciBsaW5lcyA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGNoYXJ0LmNvbmZpZy50eXBlICsgJy1jb250YWluZXInKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cnKTtcclxuXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBsaW5lRGF0YS5sZWdlbmREYXRhO1xyXG5cclxuICAgIGlmIChjaGFydC5fdmFycy5zZXJpZXNGbGlwcGVkICYmIGNoYXJ0Ll92YXJzLmZsaXBwZWRMZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgZGF0YUhlYWRlcnMgPSBjaGFydC5fdmFycy5mbGlwcGVkTGVnZW5kSGVhZGVycztcclxuICAgIH0gZWxzZSBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbGluZURhdGFOZXcgPSBqdkNoYXJ0cy5nZXRUb2dnbGVkRGF0YShsaW5lRGF0YSwgZGF0YUhlYWRlcnMpO1xyXG5cclxuICAgIC8vSWYgaXQncyBhbiBhcmVhIGNoYXJ0LCBhZGQgdGhlIGFyZWFcclxuICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgY2hhcnQuZmlsbEFyZWEobGluZURhdGFOZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlTGluZUdyb3VwcyhsaW5lcywgbGluZURhdGFOZXcsIGNoYXJ0KTtcclxuICAgIHZhciBldmVudEdyb3VwcyA9IGp2Q2hhcnRzLmdlbmVyYXRlRXZlbnRHcm91cHMobGluZXMsIGxpbmVEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLnRpcC1saW5lJykucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY2hhcnQuZGlzcGxheVZhbHVlcygpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVDbGlwUGF0aCgpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVMaW5lVGhyZXNob2xkKCk7XHJcblxyXG4gICAgcmV0dXJuIGxpbmVzO1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZUxpbmVHcm91cHNcclxuICpcclxuICogUGFpbnRzIHRoZSBncm91cHMgb2YgdGhlIGxpbmVzXHJcbiAqIEBwYXJhbXMgY2hhcnRDb250YWluZXIsIGJhckRhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUxpbmVHcm91cHMobGluZUNvbnRhaW5lciwgbGluZURhdGEsIGNoYXJ0KSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yLFxyXG4gICAgICAgIGxpbmVzLFxyXG4gICAgICAgIGxpbmVMZW5ndGggPSBsaW5lRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgbGVnZW5kTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGg7XHJcblxyXG4gICAgLy9HZXQgUG9zaXRpb24gQ2FsY3VsYXRpb25zXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycywgJ25vLXBhZGRpbmcnKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzLCAnbm8tcGFkZGluZycpO1xyXG5cclxuICAgIHZhciB4VHJhbnNsYXRlLFxyXG4gICAgICAgIHlUcmFuc2xhdGU7XHJcblxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnJvdGF0ZUF4aXMgPT09IHRydWUpIHtcclxuICAgICAgICB4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGQgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geCgnRU1QVFlfU1RSSU5HJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHgoZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB5VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh5KGxpbmVEYXRhW2ldW3lBeGlzRGF0YS5sYWJlbF0pKSArIChjb250YWluZXIuaGVpZ2h0IC8gKGxpbmVMZW5ndGgpIC8gMik7Ly8rIGNvbnRhaW5lci5oZWlnaHQgLyAobGluZUxlbmd0aCkgLyAyICAtIHkucGFkZGluZ0lubmVyKCkpO1xyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAobGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGxpbmVEYXRhW2ldW3hBeGlzRGF0YS5sYWJlbF0gPSAnRU1QVFlfU1RSSU5HJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKHgobGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSkpICsgKGNvbnRhaW5lci53aWR0aCAvIChsaW5lTGVuZ3RoKSAvIDIpOy8vKyBjb250YWluZXIud2lkdGggLyAobGluZUxlbmd0aCkgLyAyIC0geC5wYWRkaW5nSW5uZXIoKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB5VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHkoZCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FwcGVuZCBsaW5lcyBhbmQgY2lyY2xlc1xyXG5cclxuICAgIHZhciB1bmlxdWVYQXhpc0RhdGEgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnQuZGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGFkZCA9IHRydWU7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB1bmlxdWVYQXhpc0RhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRhdGEueEF4aXNEYXRhLnZhbHVlc1tpXSA9PT0gdW5pcXVlWEF4aXNEYXRhW2pdKSB7XHJcbiAgICAgICAgICAgICAgICBhZGQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhZGQpIHtcclxuICAgICAgICAgICAgdW5pcXVlWEF4aXNEYXRhLnB1c2goY2hhcnQuZGF0YS54QXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuXHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGxlZ2VuZExlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2hhcnQuX3ZhcnMubGVnZW5kT3B0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHsvL0FjY291bnRpbmcgZm9yIGxlZ2VuZCB0b2dnbGVzXHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGVnZW5kT3B0aW9uc1trXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Eb24ndCB3cml0ZSBhbnl0aGluZyB0byBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vV3JpdGUgc29tZXRoaW5nIHRvIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2gocGFyc2VGbG9hdChsaW5lRGF0YVtpXVtsZWdlbmREYXRhW2tdXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Ugey8vSW5pdGlhbCBjcmVhdGlvbiBvZiB2aXN1YWxpemF0aW9uIHcvbyBsZWdlbmQgb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhW2xlZ2VuZERhdGFba11dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbbGVnZW5kRGF0YVtrXV0ubGVuZ3RoIDwgbGluZUxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaChwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLmxpbmVzJykucmVtb3ZlKCk7XHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKCcubGluZScpLnJlbW92ZSgpO1xyXG4gICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLmNpcmNsZScpLnJlbW92ZSgpO1xyXG4gICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnI2xpbmUtZ3JhZGllbnQnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBsaW5lcyA9IGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy4nICsgY2hhcnQuY29uZmlnLnR5cGUgKyAnLWNvbnRhaW5lcicpO1xyXG5cclxuICAgIC8vY3VydmVzIG9iamVjdFxyXG4gICAgdmFyIGN1cnZlcyA9IHtcclxuICAgICAgICAnTGluZWFyJzogZDMuY3VydmVMaW5lYXIsXHJcbiAgICAgICAgJ1N0ZXAnOiBkMy5jdXJ2ZVN0ZXAsXHJcbiAgICAgICAgJ1N0ZXAgQmVmb3JlJzogZDMuY3VydmVTdGVwQmVmb3JlLFxyXG4gICAgICAgICdTdGVwIEFmdGVyJzogZDMuY3VydmVTdGVwQWZ0ZXIsXHJcbiAgICAgICAgJ0Jhc2lzJzogZDMuY3VydmVCYXNpcyxcclxuICAgICAgICAnQ2FyZGluYWwnOiBkMy5jdXJ2ZUNhcmRpbmFsLFxyXG4gICAgICAgICdNb25vdG9uZSBYJzogZDMuY3VydmVNb25vdG9uZVgsXHJcbiAgICAgICAgJ0NhdG11bGwgUm9tJzogZDMuY3VydmVDYXRtdWxsUm9tXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciB2YWx1ZWxpbmUgPSB7fTtcclxuICAgIHZhciBjaXJjbGVzID0ge307XHJcbiAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgdmFyIGxpbmVDb2xvcnMgPSBbXTtcclxuICAgIHZhciB0aHJlc2hvbGRpbmcgPSBmYWxzZTtcclxuICAgIGZvciAodmFyIGsgaW4gZGF0YSkge1xyXG4gICAgICAgIC8vQ3JlYXRlIHBhdGggZ2VuZXJhdG9yIGZvciBlYWNoIHNlcmllc1xyXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGspKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhW2tdID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgZGF0YVtrXSA9ICdFTVBUWV9TVFJJTkcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YWx1ZWxpbmVba10gPSBkMy5saW5lKCkvL2xpbmUgZHJhd2luZyBmdW5jdGlvblxyXG4gICAgICAgICAgICAgICAgLmN1cnZlKGN1cnZlc1tjaGFydC5fdmFycy5saW5lQ3VydmVUeXBlXSlcclxuICAgICAgICAgICAgICAgIC5kZWZpbmVkKGZ1bmN0aW9uKGQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXNOYU4oZCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLngoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geFRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAueShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy9BZGQgbGluZXMgdG8gdGhlIGNoYXJ0LmNvbmZpZy50eXBlICsgJy1jb250YWluZXInXHJcbiAgICAgICAgICAgIGxpbmVzXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lICcgKyAoaykpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdwYXRoJykvL2RyYXdzIHRoZSBsaW5lXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3JPYmogPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBrKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lQ29sb3JzLnB1c2goY29sb3JPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvck9iajtcclxuICAgICAgICAgICAgICAgIH0pICAgLy9maWxscyB0aGUgYmFyIHdpdGggY29sb3JcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAnMicpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdkJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVsaW5lW2tdKGRhdGFba10pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL0NvbG9yIFRocmVzaG9sZGluZyBmb3IgZWFjaCB0aWVyXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy50aHJlc2hvbGRzICE9ICdub25lJyAmJiBjaGFydC5fdmFycy5jb2xvckNoYXJ0ICE9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuY29sb3JMaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZFBlcmNlbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZExlbmd0aCA9IE9iamVjdC5rZXlzKGNoYXJ0Ll92YXJzLnRocmVzaG9sZHMpLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6ZXJvID0geyBwZXJjZW50OiAwLCBjb2xvcjogbGluZUNvbG9yc1tpbmRleF0gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkUGVyY2VudHMucHVzaCh6ZXJvKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHogPSAwOyB6IDwgdGhyZXNob2xkTGVuZ3RoOyB6KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwQ2VudCA9ICgoY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XS50aHJlc2hvbGQpICogMTAwKSAvICh4QXhpc0RhdGEubWF4IC0geEF4aXNEYXRhLm1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHsgcGVyY2VudDogcENlbnQsIGNvbG9yOiBjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZENvbG9yIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRQZXJjZW50cy5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHplcm8gPSB7IHBlcmNlbnQ6IDAsIGNvbG9yOiBsaW5lQ29sb3JzW2luZGV4XSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRQZXJjZW50cy5wdXNoKHplcm8pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgeiA9IDA7IHogPCB0aHJlc2hvbGRMZW5ndGg7IHorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBDZW50ID0gKChjaGFydC5fdmFycy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZCkgKiAxMDApIC8gKHlBeGlzRGF0YS5tYXggLSB5QXhpc0RhdGEubWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0geyBwZXJjZW50OiBwQ2VudCwgY29sb3I6IGNoYXJ0Ll92YXJzLnRocmVzaG9sZHNbel0udGhyZXNob2xkQ29sb3IgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZFBlcmNlbnRzLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkRGF0YSA9IGNoYXJ0LnNldExpbmVUaHJlc2hvbGREYXRhKGNoYXJ0LCB0aHJlc2hvbGRQZXJjZW50cywgbGluZUNvbG9yc1tpbmRleF0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsaW5lcy5zZWxlY3RBbGwoJ3BhdGgnKS5hdHRyKCdjbGFzcycsICdsaW5lLXRocmVzaG9sZCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5zdmcuYXBwZW5kKCdsaW5lYXJHcmFkaWVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLCAnbGluZS1ncmFkaWVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZ3JhZGllbnRVbml0cycsICd1c2VyU3BhY2VPblVzZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB4VHJhbnNsYXRlKHhBeGlzRGF0YS5taW4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHhUcmFuc2xhdGUoeEF4aXNEYXRhLm1heCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnc3RvcCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aHJlc2hvbGREYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdzdG9wJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdvZmZzZXQnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3RvcC1jb2xvcicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbG9yOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5zdmcuYXBwZW5kKCdsaW5lYXJHcmFkaWVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLCAnbGluZS1ncmFkaWVudCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignZ3JhZGllbnRVbml0cycsICd1c2VyU3BhY2VPblVzZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeVRyYW5zbGF0ZSh5QXhpc0RhdGEubWluKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB5VHJhbnNsYXRlKHlBeGlzRGF0YS5tYXgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnc3RvcCcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aHJlc2hvbGREYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdzdG9wJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdvZmZzZXQnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3RvcC1jb2xvcicsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbG9yOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL0FkZCBjaXJjbGVzIGF0IGpvaW50cyBpbiB0aGUgbGluZXNcclxuICAgICAgICAgICAgY2lyY2xlc1trXSA9IGxpbmVzXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdjaXJjbGUgJyArIChrKSlcclxuICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgICAuZGF0YShkYXRhW2tdKVxyXG4gICAgICAgICAgICAgICAgLmVudGVyKClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpLy9DaXJjbGVzIGZvciB0aGUgam9pbnRzIGluIHRoZSBsaW5lXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnY2lyY2xlLScgKyBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjeCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geFRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlUcmFuc2xhdGUoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRocmVzaG9sZGluZyA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSBPYmplY3Qua2V5cyhjaGFydC5fdmFycy50aHJlc2hvbGRzKS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IGxlbmd0aDsgeiA+IC0xOyB6LS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA+PSB0aHJlc2hvbGQudGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IGxlbmd0aDsgeiA+IC0xOyB6LS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gY2hhcnQuX3ZhcnMudGhyZXNob2xkc1t6XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA+PSB0aHJlc2hvbGQudGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgayk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3InLCAyLjUpO1xyXG5cclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9SZXR1cm4gbGluZSBncm91cHNcclxuICAgIHJldHVybiBsaW5lcy5zZWxlY3RBbGwoJy5jaXJjbGUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0TGluZVRocmVzaG9sZERhdGEoY2hhcnQsIHRocmVzaG9sZHMpIHtcclxuICAgIHZhciBkYXRhID0gW107XHJcbiAgICB2YXIgdGhyZXNob2xkTGVuZ3RoID0gdGhyZXNob2xkcy5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHRocmVzaG9sZExlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgdmFyIGdyYWRpZW50T25lID0geyBvZmZzZXQ6IHRocmVzaG9sZHNba10ucGVyY2VudCArICclJywgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICBkYXRhLnB1c2goZ3JhZGllbnRPbmUpO1xyXG5cclxuICAgICAgICBpZiAoayArIDEgPCB0aHJlc2hvbGRMZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGdyYWRpZW50VHdvID0geyBvZmZzZXQ6IHRocmVzaG9sZHNbayArIDFdLnBlcmNlbnQgKyAnJScsIGNvbG9yOiB0aHJlc2hvbGRzW2tdLmNvbG9yIH07XHJcbiAgICAgICAgICAgIGRhdGEucHVzaChncmFkaWVudFR3byk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoayA9PSB0aHJlc2hvbGRMZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0ID0geyBvZmZzZXQ6ICcxMDAlJywgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGxhc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jaXJjbGVwYWNrID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVQYWNrID0gZ2VuZXJhdGVQYWNrO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBQYWNrIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRQYWNrQ2hhcnREYXRhXHJcbiAqICBnZXRzIHBhY2sgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0UGFja0xlZ2VuZERhdGEoY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBjaGFydC5jb2xvcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YSgpIHtcclxuICAgIHJldHVybiB7fTtcclxufVxyXG5cclxuLyoqc2V0UGFja0xlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0UGFja0xlZ2VuZERhdGEoZGF0YVRhYmxlKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIHZhciBsYWJlbCA9ICcnXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsID0gZGF0YVRhYmxlW2tleV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZihrZXkgIT09ICd0b29sdGlwIDEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhVGFibGVba2V5XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZWdlbmRBcnJheS51bnNoaWZ0KGxhYmVsKTtcclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTsvL01pZ2h0IGhhdmUgdG8gbW92ZSBpbnRvIG1ldGhvZCBiYyBvZiByZWZlcmVuY2UvdmFsdWUgcmVsYXRpb25zaGlwXHJcblxyXG4gICAgdmFyIHBhY2tNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogMzAsXHJcbiAgICAgICAgcmlnaHQ6IDIwLFxyXG4gICAgICAgIGJvdHRvbTogMTUsXHJcbiAgICAgICAgbGVmdDogMjBcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBwYWNrTWFyZ2lucyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZVBhY2snKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlUGFjayhjaGFydC5jdXJyZW50RGF0YSk7XHJcbn07XHJcblxyXG4vKiogZ2VuZXJhdGVQYWNrXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgcGFjayBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyBwYWNrRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVQYWNrKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB3ID0gY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGggPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHIgPSBNYXRoLm1pbihoIC8gMiwgdyAvIDMpLFxyXG4gICAgICAgIG1hcmdpbiA9IDIwLFxyXG4gICAgICAgIGRpYW1ldGVyID0gciAqIDI7XHJcblxyXG4gICAgY2hhcnQuY2hpbGRyZW4gPSBjaGFydC5kYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoKVxyXG4gICAgICAgIC5yYW5nZShjaGFydC5kYXRhLmNvbG9yXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHsgYyA9IGQzLnJnYihjKTsgYy5vcGFjaXR5ID0gMC44OyByZXR1cm4gYzsgfSkpO1xyXG5cclxuICAgIC8vICBhc3NpZ25zIHRoZSBkYXRhIHRvIGEgaGllcmFyY2h5IHVzaW5nIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXBzXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeShjaGFydC5jaGlsZHJlbiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC5jaGlsZHJlbjtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBwYWNrID0gZDMucGFjaygpXHJcbiAgICAgICAgLnNpemUoW2NvbnRhaW5lci53aWR0aCwgY29udGFpbmVyLmhlaWdodF0pXHJcbiAgICAgICAgLnBhZGRpbmcoMik7XHJcblxyXG4gICAgcGFjayhyb290XHJcbiAgICAgICAgLnN1bShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5oYXNPd25Qcm9wZXJ0eSgnY2hpbGRyZW4nKSA/IDAgOiBkLm5hbWU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYi5oZWlnaHQgLSBhLmhlaWdodCB8fCBiLnZhbHVlIC0gYS52YWx1ZTtcclxuICAgICAgICB9KSlcclxuICAgICAgICAuZGVzY2VuZGFudHMoKTtcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiLnBhY2tcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInBhY2tcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArICh3IC8gMikgKyBcIixcIiArIHIgKyBcIilcIik7XHJcblxyXG4gICAgdmFyIGNpcmNsZSA9IHZpcy5zZWxlY3RBbGwoXCJjaXJjbGVcIilcclxuICAgICAgICAuZGF0YShyb290LmRlc2NlbmRhbnRzKCkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5wYXJlbnQgPyBkLmNoaWxkcmVuID8gXCJub2RlXCIgOiBcIm5vZGUgbm9kZS0tbGVhZlwiIDogXCJub2RlIG5vZGUtLXJvb3RcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgZC5jb2xvciA9IGNvbG9yKGQuZGVwdGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IGNvbG9yKGQuZGVwdGgpIDogbnVsbDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChmb2N1cyAhPT0gZCkge1xyXG4gICAgICAgICAgICAgICAgem9vbShkKSwgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAvLyB2YXIgdERhdGEgPSBjaGFydC5kYXRhLnRpcERhdGEuZ2V0KGQuZGF0YS5uYW1lKTtcclxuICAgICAgICAgICAgLy8gdERhdGEubmFtZSA9IGQuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAvLyB0RGF0YS5jb2xvciA9IGQuY29sb3I7XHJcbiAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uIChkLGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gdmFyIHRleHQgPSB2aXMuc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgLy8gICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSlcclxuICAgIC8vICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAvLyAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXHJcbiAgICAvLyAgICAgLnN0eWxlKFwiZGlzcGxheVwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gcm9vdCA/IFwiaW5saW5lXCIgOiBcIm5vbmVcIjtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICB2YXIgbm9kZSA9IHN2Zy5zZWxlY3RBbGwoXCJjaXJjbGUsdGV4dFwiKTtcclxuXHJcbiAgICBkMy5zZWxlY3QoXCJib2R5XCIpXHJcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB6b29tKHJvb3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHpvb21Ubyhbcm9vdC54LCByb290LnksIHJvb3QuciAqIDIgKyBtYXJnaW5dKTtcclxuXHJcbiAgICBmdW5jdGlvbiB6b29tKGQpIHtcclxuICAgICAgICB2YXIgZm9jdXMgPSBkO1xyXG5cclxuICAgICAgICBkMy50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKGQzLmV2ZW50LmFsdEtleSA/IDc1MDAgOiA3NTApXHJcbiAgICAgICAgICAgIC50d2VlbihcInpvb21cIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGVab29tKHZpZXcsIFtmb2N1cy54LCBmb2N1cy55LCBmb2N1cy5yICogMiArIG1hcmdpbl0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgem9vbVRvKGkodCkpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHRyYW5zaXRpb24uc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgICAgIC8vICAgICAuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gZm9jdXMgfHwgdGhpcy5zdHlsZS5kaXNwbGF5ID09PSBcImlubGluZVwiO1xyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGQucGFyZW50ID09PSBmb2N1cyA/IDEgOiAwO1xyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gZm9jdXMgPyBcImlubGluZVwiIDogXCJub25lXCI7XHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC5lYWNoKFwic3RhcnRcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGQucGFyZW50ID09PSBmb2N1cykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyAgICAgLmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGQucGFyZW50ICE9PSBmb2N1cykge1xyXG4gICAgICAgIC8vICAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YXIgdmlldztcclxuICAgIGZ1bmN0aW9uIHpvb21Ubyh2KSB7XHJcbiAgICAgICAgdmFyIGsgPSBkaWFtZXRlciAvIHZbMl07XHJcblxyXG4gICAgICAgIC8vc2V0IGdsb2JhbCB6b29tXHJcbiAgICAgICAgdmlldyA9IHY7XHJcblxyXG4gICAgICAgIG5vZGUuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCAmJiBkLnggJiYgZC55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyAoZC54IC0gdlswXSkgKiBrICsgXCIsXCIgKyAoZC55IC0gdlsxXSkgKiBrICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlLmF0dHIoXCJyXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnIgKiBrO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbiB2YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnBpZSA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGEsXHJcbiAgICBnZXRFdmVudERhdGE6IGdldEV2ZW50RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlUGllID0gZ2VuZXJhdGVQaWU7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFBpZSBEYXRhIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRQaWVEYXRhXHJcbiAqICBnZXRzIHBpZSBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRQaWVMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoZXZlbnQpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgZWxlID0gZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC52YWx1ZS5zcGxpdCgncGllLWRhdGEtJylbMV07XHJcbiAgICBpZiAoZWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF06IFtlbGUucmVwbGFjZSgvXy9nLCAnICcpLnJlcGxhY2UoL19kb3RfL2csICcuJyldXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG5vZGU6IGV2ZW50LnRhcmdldFxyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuaW5kZXhPZigncGllLWNvbnRhaW5lcicpID4gLTEpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IGZhbHNlXHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipzZXRQaWVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldFBpZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gZGF0YS5jaGFydERhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIGN1c3RvbU1hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiA0MCxcclxuICAgICAgICByaWdodDogMjAsXHJcbiAgICAgICAgYm90dG9tOiAyMCxcclxuICAgICAgICBsZWZ0OiAyMFxyXG4gICAgfTtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcbiAgICBjaGFydC5sZWdlbmREYXRhID0gY2hhcnQuZGF0YS5sZWdlbmREYXRhO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjdXN0b21NYXJnaW5zKTtcclxuXHJcbiAgICAvL0lmIHRoZSBjb250YWluZXIgc2l6ZSBpcyBzbWFsbCwgZG9uJ3QgZ2VuZXJhdGUgYSBsZWdlbmRcclxuICAgIGlmIChjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoID4gNTUwKSB7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZCgnZ2VuZXJhdGVQaWUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5nZW5lcmF0ZVBpZShjaGFydC5jdXJyZW50RGF0YSk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlUGllXHJcbiAqXHJcbiAqIGNyZWF0ZXMgYW5kIGRyYXdzIGEgcGllIGNoYXJ0IG9uIHRoZSBzdmcgZWxlbWVudFxyXG4gKiBAcGFyYW1zIHN2ZywgcGllRGF0YSwgX3ZhcnMsIGNvbnRhaW5lclxyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVBpZShjdXJyZW50RGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgcGllRGF0YSA9IGN1cnJlbnREYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhO1xyXG5cclxuICAgIC8vZGVmaW5lIHZhcmlhYmxlcyB0byBjaGFuZ2UgYXR0cidzXHJcbiAgICBzdmcuc2VsZWN0KCdnLnBpZS1jb250YWluZXInKS5yZW1vdmUoKTtcclxuXHJcbiAgICB2YXIgY29sb3JzID0gY2hhcnQuX3ZhcnMuY29sb3I7XHJcblxyXG4gICAgdmFyIHcgPSBjb250YWluZXIud2lkdGg7XHJcbiAgICB2YXIgaCA9IGNvbnRhaW5lci5oZWlnaHQ7XHJcbiAgICB2YXIgciA9IE1hdGgubWluKGggLyAyLCB3IC8gMyk7XHJcblxyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIHZhciB0b3RhbCA9IDA7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwaWVEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG9iaiA9IHt9O1xyXG4gICAgICAgIGZvcihsZXQgaiBpbiBjaGFydC5kYXRhLmRhdGFUYWJsZSkge1xyXG4gICAgICAgICAgICBvYmpbal0gPSBwaWVEYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW2pdXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0YVtpXSA9IG9iajtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcGllRGF0YU5ldyA9IGRhdGE7Ly9jb3B5IG9mIHBpZSBkYXRhXHJcblxyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcblxyXG4gICAgdmFyIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IGp2Q2hhcnRzLmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheShkYXRhSGVhZGVycywgbGVnZW5kRGF0YSk7XHJcblxyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGllRGF0YU5ldy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBwaWVEYXRhTmV3W2pdLmxhYmVsICYmIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9waWVEYXRhTmV3LnNwbGljZShqLDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBpZURhdGFOZXdbal0udmFsdWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpZURhdGFOZXcubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0b3RhbCArPSBwYXJzZUZsb2F0KHBpZURhdGFOZXdbaV0udmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB2aXMgPSBzdmdcclxuICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAuZGF0YShbcGllRGF0YU5ld10pXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3BpZS1jb250YWluZXInKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCAyMDApXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICh3IC8gMikgKyAnLCcgKyByICsgJyknKTtcclxuXHJcbiAgICB2YXIgcGllID0gZDMucGllKCkudmFsdWUoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vZGVjbGFyZSBhbiBhcmMgZ2VuZXJhdG9yIGZ1bmN0aW9uXHJcbiAgICB2YXIgYXJjID0gZDMuYXJjKClcclxuICAgICAgICAuaW5uZXJSYWRpdXMoMCkvL05vcm1hbCBwaWUgY2hhcnQgd2hlbiB0aGlzID0gMCwgY2FuIGJlIGNoYW5nZWQgdG8gY3JlYXRlIGRvbnV0IGNoYXJ0XHJcbiAgICAgICAgLm91dGVyUmFkaXVzKHIpO1xyXG5cclxuICAgIC8vIHZhciBhcmNPdmVyID0gZDMuYXJjKClcclxuICAgIC8vICAgICAuaW5uZXJSYWRpdXMoMClcclxuICAgIC8vICAgICAub3V0ZXJSYWRpdXMociArIDE1KTtcclxuXHJcbiAgICAvL3NlbGVjdCBwYXRocywgdXNlIGFyYyBnZW5lcmF0b3IgdG8gZHJhd1xyXG4gICAgdmFyIGFyY3MgPSB2aXNcclxuICAgICAgICAuc2VsZWN0QWxsKCdnLnNsaWNlJylcclxuICAgICAgICAuZGF0YShwaWUpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJykuYXR0cignY2xhc3MnLCAnc2xpY2UnKTtcclxuXHJcbiAgICBhcmNzLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgZC5kYXRhLmxhYmVsKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdkJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyYyhkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGQuZGF0YS5sYWJlbC5yZXBsYWNlKC9cXHMvZywgJ18nKS5yZXBsYWNlKC9cXC4vZywgJ19kb3RfJyk7XHJcbiAgICAgICAgICAgIHJldHVybiAnZWRpdGFibGUgZWRpdGFibGUtcGllIHBpZS1zbGljZS0nICsgaSArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBpICsgJyBwaWUtZGF0YS0nICsgbGFiZWw7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQuX3ZhcnMucGllQm9yZGVyKVxyXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC5fdmFycy5waWVCb3JkZXJXaWR0aClcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLmRhdGEsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy8gRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgYXJjcy5hcHBlbmQoJ3N2Zzp0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc2xpY2VMYWJlbCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gYXJjLmNlbnRyb2lkKGQpO1xyXG4gICAgICAgICAgICB0ZXN0WzBdID0gdGVzdFswXSAqIDEuNjtcclxuICAgICAgICAgICAgdGVzdFsxXSA9IHRlc3RbMV0gKiAxLjY7XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyB0ZXN0ICsgJyknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJylcclxuICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICB2YXIgcGVyY2VudCA9IHBpZURhdGFOZXdbaV0udmFsdWUgLyB0b3RhbCAqIDEwMDtcclxuICAgICAgICAgICAgcGVyY2VudCA9IGQzLmZvcm1hdCgnLjFmJykocGVyY2VudCk7XHJcbiAgICAgICAgICAgIGlmIChwZXJjZW50ID4gNSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnQgKyAnJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5fdmFycy5mb250U2l6ZSlcclxuICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0Ll92YXJzLnBpZVRleHRDb2xvcilcclxuICAgICAgICAuYXR0cigncG9pbnRlci1ldmVudHMnLCAnbm9uZScpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUucmFkaWFsID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVSYWRpYWwgPSBnZW5lcmF0ZVJhZGlhbDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUmFkaWFsIERhdGEgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLyoqc2V0UmFkaWFsQ2hhcnREYXRhXHJcbiAqICBnZXRzIGJhciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRSYWRpYWxMZWdlbmREYXRhKGNoYXJ0LmRhdGEpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5fdmFycy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgcmFkaWFsTWFyZ2lucyA9IHtcclxuICAgICAgICB0b3A6IDQwLFxyXG4gICAgICAgIHJpZ2h0OiAyMCxcclxuICAgICAgICBib3R0b206IDIwLFxyXG4gICAgICAgIGxlZnQ6IDIwXHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgcmFkaWFsTWFyZ2lucyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZVJhZGlhbCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVSYWRpYWwoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKGV2ZW50KSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIGVsZSA9IGV2ZW50LnRhcmdldC5jbGFzc0xpc3QudmFsdWUuc3BsaXQoJ3JhZGlhbC1kYXRhLScpWzFdO1xyXG4gICAgaWYgKGVsZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIFtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdOiBbZWxlLnJlcGxhY2UoL18vZywgJyAnKS5yZXBsYWNlKC9fZG90Xy9nLCAnLicpXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub2RlOiBldmVudC50YXJnZXRcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LnZhbHVlLmluZGV4T2YoJ3JhZGlhbC1jb250YWluZXInKSA+IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGF0YToge31cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRhOiBmYWxzZVxyXG4gICAgfTtcclxufVxyXG5cclxuLyoqc2V0UmFkaWFsTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRSYWRpYWxMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChsZWdlbmRBcnJheS5pbmRleE9mKGRhdGEuY2hhcnREYXRhW2ldW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaCgoZGF0YS5jaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGUubGFiZWxdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZVJhZGlhbFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIHJhZGlsIGJhciBjaGFydCBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyByYWRpYWxEYXRhXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSYWRpYWwoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvcnMgPSBjaGFydC5fdmFycy5jb2xvcixcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgcmFkaWFsRGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIHRpY2tOdW1iZXIgPSAzLFxyXG4gICAgICAgIGJhckhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQgLyAyIC0gNDAsXHJcbiAgICAgICAgd2lkdGggPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICByID0gTWF0aC5taW4oaGVpZ2h0IC8gMiwgd2lkdGggLyAzKSxcclxuICAgICAgICBkYXRhID0gW10sXHJcbiAgICAgICAgYWxsS2V5cyA9IFtjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbCwgY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdLFxyXG4gICAgICAgIHJhZGlhbERhdGFOZXcsXHJcbiAgICAgICAgZGF0YUhlYWRlcnMsXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gW10sXHJcbiAgICAgICAgcmFkaWFsRGF0YUZpbHRlcmVkO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFkaWFsRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBvYmogPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBqIGluIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgIG9ialtqXSA9IHJhZGlhbERhdGFbaV1bY2hhcnQuZGF0YS5kYXRhVGFibGVbal1dO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkYXRhW2ldID0gb2JqO1xyXG4gICAgICAgIC8vdG90YWwgKz0gcGFyc2VGbG9hdChwaWVEYXRhW2ldW2tleXNbMV1dKTtcclxuICAgIH1cclxuXHJcbiAgICByYWRpYWxEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSk7Ly9jb3B5IG9mIHBpZSBkYXRhXHJcblxyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGFIZWFkZXJzID0gY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycztcclxuICAgIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IGp2Q2hhcnRzLmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheShkYXRhSGVhZGVycywgbGVnZW5kRGF0YSk7XHJcbiAgICByYWRpYWxEYXRhRmlsdGVyZWQgPSBbXTtcclxuXHJcbiAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCByYWRpYWxEYXRhTmV3Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnQgPT09IHJhZGlhbERhdGFOZXdbal0ubGFiZWwgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByYWRpYWxEYXRhTmV3W2pdLnZhbHVlID0gLTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCByYWRpYWxEYXRhTmV3Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgaWYgKHJhZGlhbERhdGFOZXdbal0udmFsdWUgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJhZGlhbERhdGFGaWx0ZXJlZC5wdXNoKHJhZGlhbERhdGFOZXdbal0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1JlbW92ZSBleGlzdGluZyBiYXJzIGZyb20gcGFnZVxyXG4gICAgc3ZnLnNlbGVjdEFsbCgnZy5yYWRpYWwtY29udGFpbmVyJykucmVtb3ZlKCk7XHJcblxyXG5cclxuICAgIHZhciB2aXMgPSBzdmdcclxuICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncmFkaWFsLWNvbnRhaW5lcicpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodClcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKHdpZHRoIC8gMikgKyAnLCcgKyByICsgJyknKTtcclxuXHJcbiAgICB2YXIgZXh0ZW50ID0gZDMuZXh0ZW50KHJhZGlhbERhdGFGaWx0ZXJlZCwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vY29tbWFzIGFuZCAwIGRlY2ltYWxzXHJcbiAgICB2YXIgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KCcsLjBmJyk7XHJcbiAgICBpZiAoZXh0ZW50WzFdID49IDEwMDAwMDApIHtcclxuICAgICAgICAvL21pbGxpb25zXHJcbiAgICAgICAgdmFyIHAgPSBkMy5wcmVjaXNpb25QcmVmaXgoMWU1LCAxLjNlNik7XHJcbiAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0UHJlZml4KCcuJyArIHAsIDEuM2U2KTtcclxuICAgIH0gZWxzZSBpZiAoZXh0ZW50WzFdIDw9IDEwMCkge1xyXG4gICAgICAgIC8vMiBkZWNpbWFsc1xyXG4gICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLC4yZicpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAoZXh0ZW50WzBdICE9PSAwKSB7XHJcbiAgICAgICAgZXh0ZW50WzBdID0gMDtcclxuICAgIH1cclxuICAgIHZhciBiYXJTY2FsZSA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAuZG9tYWluKGV4dGVudClcclxuICAgICAgICAucmFuZ2UoWzAsIGJhckhlaWdodF0pO1xyXG5cclxuICAgIHZhciBrZXlzID0gcmFkaWFsRGF0YUZpbHRlcmVkLm1hcChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgIHJldHVybiBkLmxhYmVsO1xyXG4gICAgfSk7XHJcbiAgICB2YXIgbnVtQmFycyA9IGtleXMubGVuZ3RoO1xyXG5cclxuICAgIHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKVxyXG4gICAgICAgIC5kb21haW4oZXh0ZW50KVxyXG4gICAgICAgIC5yYW5nZShbMCwgLWJhckhlaWdodF0pO1xyXG5cclxuICAgIC8vY3JlYXRlIHhBeGlzIGRyYXdpbmcgZnVuY3Rpb25cclxuICAgIHZhciB4QXhpcyA9IGQzLmF4aXNMZWZ0KClcclxuICAgICAgICAuc2NhbGUoeClcclxuICAgICAgICAudGlja3ModGlja051bWJlcilcclxuICAgICAgICAudGlja0Zvcm1hdChmb3JtYXROdW1iZXIpO1xyXG5cclxuICAgIHZpcy5zZWxlY3RBbGwoJ2NpcmNsZScpXHJcbiAgICAgICAgLmRhdGEoeC50aWNrcygzKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYmFyU2NhbGUoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsICcyLDInKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJy41cHgnKTtcclxuXHJcbiAgICB2YXIgYXJjID0gZDMuYXJjKClcclxuICAgICAgICAuc3RhcnRBbmdsZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKGkgKiAyICogTWF0aC5QSSkgLyBudW1CYXJzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVuZEFuZ2xlKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoKGkgKyAxKSAqIDIgKiBNYXRoLlBJKSAvIG51bUJhcnM7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuaW5uZXJSYWRpdXMoMCk7XHJcblxyXG4gICAgdmFyIHNlZ21lbnRzID0gdmlzLnNlbGVjdEFsbCgncGF0aCcpXHJcbiAgICAgICAgLmRhdGEocmFkaWFsRGF0YUZpbHRlcmVkKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLy8uYXR0cihcImNsYXNzXCIsIFwibGFiZWxcIilcclxuICAgICAgICAuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAoZCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBkLmxhYmVsLnJlcGxhY2UoL1xccy9nLCAnXycpLnJlcGxhY2UoL1xcLi9nLCAnX2RvdF8nKTtcclxuICAgICAgICAgICAgcmV0dXJuICdyYWRpYWwtZGF0YS0nICsgbGFiZWw7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBkLm91dGVyUmFkaXVzID0gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBkLmxhYmVsKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdkJywgYXJjKVxyXG4gICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnbGluZS50aXAtbGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgc2VnbWVudHMudHJhbnNpdGlvbigpLmR1cmF0aW9uKDgwMCkuZWFzZShkMy5lYXNlRWxhc3RpYykuZGVsYXkoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4gNzUwIC0gNTAgKiBpO1xyXG4gICAgfSlcclxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZnVuY3Rpb24gKGQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGUoZC5vdXRlclJhZGl1cywgYmFyU2NhbGUoK2QudmFsdWUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICBkLm91dGVyUmFkaXVzID0gaSh0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmMoZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHZpcy5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgLmF0dHIoJ3InLCBiYXJIZWlnaHQpXHJcbiAgICAgICAgLmNsYXNzZWQoJ291dGVyJywgdHJ1ZSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJzEuNXB4Jyk7XHJcblxyXG4gICAgdmlzLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgLmRhdGEoa2V5cylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsYWJlbCcpXHJcbiAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgLWJhckhlaWdodCAtIDIwKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcuNXB4JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdyb3RhdGUoJyArIChpICogMzYwIC8gbnVtQmFycykgKyAnKSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIGF4aXNHcm91cCA9IHZpcy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd4QXhpcycpXHJcbiAgICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdub25lJylcclxuICAgICAgICAuY2FsbCh4QXhpcyk7XHJcbiAgICB2YXIgeUF4aXNDbGFzcyA9ICd5QXhpc0xhYmVscyBlZGl0YWJsZSBlZGl0YWJsZS15QXhpcyBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLW51bSc7XHJcblxyXG4gICAgYXhpc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKS8vQ3VzdG9taXplIHRoZSBjb2xvciBvZiBheGlzIGxhYmVsc1xyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIHlBeGlzQ2xhc3MpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID09PSB4QXhpcy5zY2FsZSgpLnRpY2tzKHRpY2tOdW1iZXIpW3RpY2tOdW1iZXJdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCAxMCknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsMCknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Ll92YXJzLmZvbnRTaXplKVxyXG4gICAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zYW5rZXkgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufVxyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlU2Fua2V5ID0gZ2VuZXJhdGVTYW5rZXk7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFNhbmtleSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4vKipcclxuICpcclxuICogQHBhcmFtIGRhdGFcclxuICogQHBhcmFtIGRhdGFUYWJsZVxyXG4gKiBAcGFyYW0gY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBzYW5rZXlEYXRhID0ge30sXHJcbiAgICAgICAgZGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlO1xyXG5cclxuICAgIHNhbmtleURhdGEubGlua3MgPSBbXTtcclxuICAgIHNhbmtleURhdGEubm9kZXMgPSBbXTtcclxuXHJcbiAgICAvL0l0ZXJhdGUgdGhyb3VnaCBzb3VyY2VzIGFuZCB0YXJnZXRzIHRvIG1ha2UgYSBub2RlIGxpc3RcclxuICAgIHZhciBub2RlTGlzdCA9IFtdO1xyXG4gICAgdmFyIG5vZGVHcm91cCA9IDE7XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFUYWJsZSkge1xyXG4gICAgICAgIHZhciBub2RlTGlzdEZvckxhYmVsID0gW107XHJcbiAgICAgICAgaWYgKGl0ZW0gPT09ICd2YWx1ZScpIHsgY29udGludWU7IH07XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwb3RlbnRpYWxOb2RlID0gZGF0YVtpXVtkYXRhVGFibGVbaXRlbV1dICsgXCItXCIgKyBub2RlR3JvdXA7XHJcbiAgICAgICAgICAgIHZhciBhZGRUb0xpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5vZGVMaXN0Rm9yTGFiZWwubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChwb3RlbnRpYWxOb2RlID09PSBub2RlTGlzdEZvckxhYmVsW2pdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRkVG9MaXN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFkZFRvTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgbm9kZUxpc3RGb3JMYWJlbC5wdXNoKHBvdGVudGlhbE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG5vZGVHcm91cCsrO1xyXG4gICAgICAgIG5vZGVMaXN0ID0gbm9kZUxpc3QuY29uY2F0KG5vZGVMaXN0Rm9yTGFiZWwpO1xyXG4gICAgfVxyXG4gICAgLy9DcmVhdGUgbm9kZXMgb2JqZWN0XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc2Fua2V5RGF0YS5ub2Rlcy5wdXNoKHtcclxuICAgICAgICAgICAgJ25hbWUnOiBub2RlTGlzdFtpXVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vU2VlIGhvdyBtYW55IHNldHMgb2YgbGlua3MgeW91IG5lZWRcclxuICAgIHZhciBsaW5rR3JvdXBzID0gMDtcclxuXHJcbiAgICBmb3IgKGxldCBpdGVtIGluIGRhdGFUYWJsZSkge1xyXG4gICAgICAgIGlmIChpdGVtLmluZGV4T2YoJ2xhYmVsJykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGxpbmtHcm91cHMrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgbGlua0dyb3VwczsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGxpbmtHcm91cCA9IFtdO1xyXG4gICAgICAgIGxpbmtHcm91cCA9IGRhdGEubWFwKGZ1bmN0aW9uICh4KSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgbGFiZWwxID0gXCJsYWJlbCBcIiArIGk7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbDIgPSBcImxhYmVsIFwiICsgKGkgKyAxKTtcclxuICAgICAgICAgICAgbGV0IHNvdXJjZSA9IGRhdGFUYWJsZVtsYWJlbDFdO1xyXG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZGF0YVRhYmxlW2xhYmVsMl07XHJcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IGRhdGFUYWJsZS52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAnc291cmNlJzogeFtzb3VyY2VdICsgXCItXCIgKyBpLFxyXG4gICAgICAgICAgICAgICAgJ3RhcmdldCc6IHhbdGFyZ2V0XSArIFwiLVwiICsgKGkgKyAxKSxcclxuICAgICAgICAgICAgICAgICd2YWx1ZSc6IHhbdmFsdWVdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBzYW5rZXlEYXRhLmxpbmtzID0gc2Fua2V5RGF0YS5saW5rcy5jb25jYXQobGlua0dyb3VwKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbm9kZU1hcCA9IHt9O1xyXG4gICAgZm9yIChpID0gMDsgaSA8IHNhbmtleURhdGEubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzYW5rZXlEYXRhLm5vZGVzW2ldLm5vZGUgPSBpO1xyXG4gICAgICAgIG5vZGVNYXBbc2Fua2V5RGF0YS5ub2Rlc1tpXS5uYW1lXSA9IGk7XHJcbiAgICB9XHJcbiAgICBzYW5rZXlEYXRhLmxpbmtzID0gc2Fua2V5RGF0YS5saW5rcy5tYXAoZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzb3VyY2U6IG5vZGVNYXBbeC5zb3VyY2VdLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IG5vZGVNYXBbeC50YXJnZXRdLFxyXG4gICAgICAgICAgICB2YWx1ZTogeC52YWx1ZVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL0dyb3VwIGNvbW1vbiBzYW5rZXkgbGlua3MgdG9nZXRoZXIgYW5kIGFkZCB0aGUgdmFsdWVzXHJcbiAgICB2YXIgYWdncmVnYXRlU2Fua2V5TGlua3MgPSBbXTtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2Fua2V5RGF0YS5saW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBjdXJyZW50TGluayA9IHt9O1xyXG4gICAgICAgIGN1cnJlbnRMaW5rLnNvdXJjZSA9IHNhbmtleURhdGEubGlua3NbaV0uc291cmNlO1xyXG4gICAgICAgIGN1cnJlbnRMaW5rLnRhcmdldCA9IHNhbmtleURhdGEubGlua3NbaV0udGFyZ2V0O1xyXG4gICAgICAgIGN1cnJlbnRMaW5rLnZhbHVlID0gc2Fua2V5RGF0YS5saW5rc1tpXS52YWx1ZTtcclxuXHJcbiAgICAgICAgLy9NYWtlIHN1cmUgdGhhdCBvbmx5IHVuaXF1ZSBsaW5rcyBhcmUgcHVzaGVkIHRvIHRoZSBhZ2dyZWdhdGVkIGFycmF5XHJcbiAgICAgICAgbGV0IGFkZFRvQWdncmVnYXRlID0gdHJ1ZTtcclxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGFnZ3JlZ2F0ZVNhbmtleUxpbmtzLmxlbmd0aDsgaysrKSB7XHJcbiAgICAgICAgICAgIGlmIChhZ2dyZWdhdGVTYW5rZXlMaW5rc1trXS5zb3VyY2UgPT09IGN1cnJlbnRMaW5rLnNvdXJjZSAmJiBhZ2dyZWdhdGVTYW5rZXlMaW5rc1trXS50YXJnZXQgPT09IGN1cnJlbnRMaW5rLnRhcmdldCkge1xyXG4gICAgICAgICAgICAgICAgYWRkVG9BZ2dyZWdhdGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZighYWRkVG9BZ2dyZWdhdGUpe1xyXG4gICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU3VtIHRoZSB2YWx1ZSBvZiBpZGVudGljYWwgbGlua3NcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHNhbmtleURhdGEubGlua3MubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKHNhbmtleURhdGEubGlua3NbaV0uc291cmNlID09PSBzYW5rZXlEYXRhLmxpbmtzW2pdLnNvdXJjZSAmJiBzYW5rZXlEYXRhLmxpbmtzW2ldLnRhcmdldCA9PT0gc2Fua2V5RGF0YS5saW5rc1tqXS50YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRMaW5rLnZhbHVlID0gY3VycmVudExpbmsudmFsdWUgKyBzYW5rZXlEYXRhLmxpbmtzW2pdLnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhZ2dyZWdhdGVTYW5rZXlMaW5rcy5wdXNoKGN1cnJlbnRMaW5rKTtcclxuICAgIH1cclxuXHJcbiAgICBzYW5rZXlEYXRhLmxpbmtzID0gYWdncmVnYXRlU2Fua2V5TGlua3M7XHJcblxyXG4gICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBzYW5rZXlEYXRhO1xyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGQzLnNjYWxlT3JkaW5hbChkMy5zY2hlbWVDYXRlZ29yeTIwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIGRhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICAvL2dlbmVyYXRlIFNWR1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVNhbmtleShkYXRhKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgc2Fua2V5IGNoYXJ0IHdpdGggdGhlIGdpdmVuIGRhdGFcclxuICogQHBhcmFtIHNhbmtleURhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2Fua2V5KHNhbmtleURhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9yID0gY2hhcnQuX3ZhcnMuY29sb3I7XHJcblxyXG4gICAgdmFyIHdpZHRoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aDtcclxuICAgIHZhciBoZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodDtcclxuXHJcbiAgICB2YXIgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KCcsLjBmJyksICAgIC8vIHplcm8gZGVjaW1hbCBwbGFjZXNcclxuICAgICAgICBmb3JtYXQgPSBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZm9ybWF0TnVtYmVyKGQpICsgJyAnICsgJ1dpZGdldHMnOyB9LFxyXG4gICAgICAgIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MjApO1xyXG5cclxuICAgIHZhciBzYW5rZXkgPSBkMy5zYW5rZXkoKVxyXG4gICAgICAgIC5ub2RlV2lkdGgoMTApXHJcbiAgICAgICAgLm5vZGVQYWRkaW5nKDE1KVxyXG4gICAgICAgIC5zaXplKFt3aWR0aCwgaGVpZ2h0XSk7XHJcblxyXG4gICAgdmFyIHBhdGggPSBzYW5rZXkubGluaygpO1xyXG5cclxuICAgIC8vIC8vQWRkaW5nIHpvb20gdjQgYmVoYXZpb3IgdG8gc2Fua2V5XHJcbiAgICBkMy5zZWxlY3RBbGwoJ3N2ZycpXHJcbiAgICAgICAgLmNhbGwoZDMuem9vbSgpXHJcbiAgICAgICAgICAgIC5zY2FsZUV4dGVudChbLjEsIDEwXSlcclxuICAgICAgICAgICAgLm9uKCd6b29tJywgem9vbSkpOy8vem9vbSBldmVudCBsaXN0ZW5lclxyXG5cclxuICAgIHNhbmtleVxyXG4gICAgICAgIC5ub2RlcyhzYW5rZXlEYXRhLm5vZGVzKVxyXG4gICAgICAgIC5saW5rcyhzYW5rZXlEYXRhLmxpbmtzKVxyXG4gICAgICAgIC5sYXlvdXQoMzIpO1xyXG5cclxuICAgIHZhciBsaW5rID0gc3ZnLmFwcGVuZCgnZycpLnNlbGVjdEFsbCgnLnNhbmtleS1saW5rJylcclxuICAgICAgICAuZGF0YShzYW5rZXlEYXRhLmxpbmtzKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZSA+IDA7IH0pXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3NhbmtleS1saW5rJylcclxuICAgICAgICAuYXR0cignZCcsIHBhdGgpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMSwgZC5keSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYi5keSAtIGEuZHk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5kID0gZDtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC50aXAuZCA9PT0gZCAmJiBjaGFydC50aXAuaSA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5zaG93VGlwKGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHZhciBub2RlID0gc3ZnLmFwcGVuZCgnZycpLnNlbGVjdEFsbCgnLm5vZGUnKVxyXG4gICAgICAgIC5kYXRhKHNhbmtleURhdGEubm9kZXMpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlID4gMDsgfSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbm9kZScpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBkLnggKyAnLCAnICsgZC55ICsgJyknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhbGwoZDMuZHJhZygpXHJcbiAgICAgICAgICAgIC5zdWJqZWN0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdzdGFydCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBkMy5ldmVudC5zb3VyY2VFdmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0aGlzKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKCdkcmFnJywgZHJhZ21vdmUpKTtcclxuXHJcbiAgICBub2RlLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIC8vcmV0dXJuIGQuZHk7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyhkLmR5KTtcclxuICAgICAgICAgICAgLy9yZXR1cm4gTWF0aC5tYXgoZC5keSwgMik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBzYW5rZXkubm9kZVdpZHRoKCkpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQuY29sb3IgPSBjb2xvcihkLm5hbWUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDMucmdiKGQuY29sb3IpLmRhcmtlcigyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBub2RlLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAtNilcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLmR5IC8gMjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdkeScsICcuMzVlbScpXHJcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIG51bGwpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIG51bGwpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9SZW1vdmUgdGhlIHRoZSBub2RlR3JvdXAgdGFnIGFuZCBoeXBoZW4gZnJvbSB0aGUgZW5kIG9mIHRoZSBsYWJlbFxyXG4gICAgICAgICAgICByZXR1cm4gZC5uYW1lLnNsaWNlKDAsIC0yKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueCA8IHdpZHRoIC8gMjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgNiArIHNhbmtleS5ub2RlV2lkdGgoKSlcclxuICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnc3RhcnQnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBkcmFnbW92ZShkKSB7XHJcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoJ3RyYW5zZm9ybScsXHJcbiAgICAgICAgICAgICd0cmFuc2xhdGUoJyArIChcclxuICAgICAgICAgICAgICAgIGQueCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHdpZHRoIC0gZC5keCwgZDMuZXZlbnQueCkpXHJcbiAgICAgICAgICAgICkgKyAnLCcgKyAoXHJcbiAgICAgICAgICAgICAgICBkLnkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihoZWlnaHQgLSBkLmR5LCBkMy5ldmVudC55KSlcclxuICAgICAgICAgICAgKSArICcpJyk7XHJcbiAgICAgICAgc2Fua2V5LnJlbGF5b3V0KCk7XHJcbiAgICAgICAgbGluay5hdHRyKCdkJywgcGF0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gem9vbSgpIHsgLy9JbXBsZW1lbnRpbmcgdGhlIHY0IHpvb21pbmcgZmVhdHVyZVxyXG4gICAgICAgIHN2Zy5hdHRyKCd0cmFuc2Zvcm0nLCBkMy5ldmVudC50cmFuc2Zvcm0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2NhdHRlcnBsb3QgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVNjYXR0ZXIgPSBnZW5lcmF0ZVNjYXR0ZXI7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jcmVhdGVMaW5lR3VpZGUgPSBjcmVhdGVMaW5lR3VpZGU7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFNjYXR0ZXIgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldFNjYXR0ZXJEYXRhXHJcbiAqICBnZXRzIHNjYXR0ZXIgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0U2NhdHRlckxlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IHNldFNjYXR0ZXJBeGlzRGF0YShjaGFydC5kYXRhLCAneCcsIGNoYXJ0Ll92YXJzKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gc2V0U2NhdHRlckF4aXNEYXRhKGNoYXJ0LmRhdGEsICd5JywgY2hhcnQuX3ZhcnMpO1xyXG4gICAgY2hhcnQuZGF0YS56QXhpc0RhdGEgPSBjaGFydC5kYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgneicpID8gc2V0U2NhdHRlckF4aXNEYXRhKGNoYXJ0LmRhdGEsICd6JywgY2hhcnQuX3ZhcnMpIDoge307XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YShldmVudCwgbW91c2UpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgZWxlID0gZXZlbnQudGFyZ2V0Ll9fZGF0YV9fO1xyXG5cclxuICAgIC8vZGV0ZXJtaW5lIGlmIHRoZSBjbGljayBldmVudCBoYXBwZW5zIGluc2lkZSB0aGUgY29udGFpbmVyXHJcbiAgICBsZXQgYnJ1c2hDb250YWluZXIgPSBjaGFydC5jaGFydERpdi5zZWxlY3QoJy4nICsgY2hhcnQuY29uZmlnLnR5cGUgKyAnLWNvbnRhaW5lcicpLm5vZGUoKSxcclxuICAgICAgICBjb250YWluZXJCb3ggPSBicnVzaENvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcclxuICAgICAgICB4ID0gbW91c2VbMF0sXHJcbiAgICAgICAgeSA9IG1vdXNlWzFdLFxyXG4gICAgICAgIGluc2lkZUNvbnRhaW5lciA9IGZhbHNlO1xyXG5cclxuICAgIGlmICh4IDwgY29udGFpbmVyQm94LnJpZ2h0ICYmIHkgPCBjb250YWluZXJCb3guYm90dG9tICYmIHggPiBjb250YWluZXJCb3gubGVmdCAmJiB5ID4gY29udGFpbmVyQm94LnRvcCkge1xyXG4gICAgICAgIGluc2lkZUNvbnRhaW5lciA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGluc2lkZUNvbnRhaW5lciAmJiBlbGUpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBbY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXTogW2VsZVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdLnJlcGxhY2UoL18vZywgJyAnKS5yZXBsYWNlKC9fZG90Xy9nLCAnLicpXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBub2RlOiBldmVudC50YXJnZXRcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIGlmIChpbnNpZGVDb250YWluZXIpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkYXRhOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGRhdGE6IGZhbHNlXHJcbiAgICB9O1xyXG59XHJcblxyXG4vKipzZXRTY2F0dGVyTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRTY2F0dGVyTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnc2VyaWVzJykpIHtcclxuICAgICAgICB2YXIgaXRlbSA9IGRhdGEuZGF0YVRhYmxlLnNlcmllcztcclxuICAgICAgICBmb3IgKHZhciB2YWx1ZSBpbiBkYXRhLmNoYXJ0RGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kRWxlbWVudCA9IGRhdGEuY2hhcnREYXRhW3ZhbHVlXVtpdGVtXTtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YobGVnZW5kRWxlbWVudCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGxlZ2VuZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSkge1xyXG4gICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGUubGFiZWwpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBsZWdlbmRBcnJheVswXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGUubGFiZWwpO1xyXG4gICAgfVxyXG4gICAgLy9vcmRlciBsZWdlbmQgZGF0YSBpbiBhbHBoYWJldGljYWwgb3JkZXJcclxuICAgIGxlZ2VuZEFycmF5LnNvcnQoKTtcclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuLyoqc2V0U2NhdHRlckF4aXNEYXRhXHJcbiAqICBnZXRzIHogYXhpcyBkYXRhIGJhc2VkIG9uIHRoZSBjaGFydERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGVcclxuICogQHJldHVybnMgb2JqZWN0IHdpdGggbGFiZWwgYW5kIHZhbHVlc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0U2NhdHRlckF4aXNEYXRhKGRhdGEsIGF4aXMsIF92YXJzKSB7XHJcbiAgICAvL2RlY2xhcmUgdmFyc1xyXG4gICAgdmFyIGF4aXNEYXRhID0gW10sXHJcbiAgICAgICAgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgc2NhdHRlckxhYmVsID0gZGF0YS5kYXRhVGFibGVbYXhpc10sXHJcbiAgICAgICAgbWluID0gc2NhdHRlckxhYmVsID8gY2hhcnREYXRhWzBdW3NjYXR0ZXJMYWJlbF0gOiAwLFxyXG4gICAgICAgIG1heCA9IHNjYXR0ZXJMYWJlbCA/IGNoYXJ0RGF0YVswXVtzY2F0dGVyTGFiZWxdIDogMCxcclxuICAgICAgICBkYXRhVHlwZTtcclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZUtleXNbal0udml6VHlwZSA9PT0gYXhpcykge1xyXG4gICAgICAgICAgICBkYXRhVHlwZSA9IGRhdGEuZGF0YVRhYmxlS2V5c1tqXS50eXBlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2xvb3Agb3ZlciBkYXRhIHRvIGZpbmQgbWF4IGFuZCBtaW5cclxuICAgIC8vYWxzbyBkZXRlcm1pbmVzIHRoZSB5IGF4aXMgdG90YWwgaWYgdGhlIGRhdGEgaXMgc3RhY2tlZFxyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoY2hhcnREYXRhW2ldLmhhc093blByb3BlcnR5KHNjYXR0ZXJMYWJlbCkpIHtcclxuICAgICAgICAgICAgdmFyIG51bSA9IGNoYXJ0RGF0YVtpXVtzY2F0dGVyTGFiZWxdO1xyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKG51bSkpIHtcclxuICAgICAgICAgICAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtKTtcclxuICAgICAgICAgICAgICAgIGlmIChudW0gPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBudW07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG51bSA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IG51bTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChheGlzICE9PSAneicpIHtcclxuICAgICAgICBtaW4gKj0gMC45O1xyXG4gICAgICAgIG1heCAqPSAxLjE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKF92YXJzLnlNaW4gJiYgIWlzTmFOKF92YXJzLnlNaW4pICYmIGF4aXMgPT09ICd5Jykge1xyXG4gICAgICAgIG1pbiA9IF92YXJzLnlNaW47XHJcbiAgICB9XHJcbiAgICBpZiAoX3ZhcnMueU1heCAmJiAhaXNOYU4oX3ZhcnMueU1heCkgJiYgYXhpcyA9PT0gJ3knKSB7XHJcbiAgICAgICAgbWF4ID0gX3ZhcnMueU1heDtcclxuICAgIH1cclxuICAgIGlmIChfdmFycy54TWluICYmICFpc05hTihfdmFycy54TWluKSAmJiBheGlzID09PSAneCcpIHtcclxuICAgICAgICBtaW4gPSBfdmFycy54TWluO1xyXG4gICAgfVxyXG4gICAgaWYgKF92YXJzLnhNYXggJiYgIWlzTmFOKF92YXJzLnhNYXgpICYmIGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgIG1heCA9IF92YXJzLnhNYXg7XHJcbiAgICB9XHJcblxyXG4gICAgYXhpc0RhdGEucHVzaChtaW4pO1xyXG4gICAgYXhpc0RhdGEucHVzaChtYXgpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAnbGFiZWwnOiBzY2F0dGVyTGFiZWwsXHJcbiAgICAgICAgJ3ZhbHVlcyc6IGF4aXNEYXRhLFxyXG4gICAgICAgICdkYXRhVHlwZSc6ICdOVU1CRVInLFxyXG4gICAgICAgICdtaW4nOiBtaW4sXHJcbiAgICAgICAgJ21heCc6IG1heFxyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgdmFyIGRhdGFPYmogPSB7fTtcclxuXHJcbiAgICBkYXRhT2JqLmNoYXJ0RGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG4gICAgZGF0YU9iai5sZWdlbmREYXRhID0gY2hhcnQuZGF0YS5sZWdlbmREYXRhO1xyXG4gICAgZGF0YU9iai5kYXRhVGFibGUgPSBjaGFydC5kYXRhLmRhdGFUYWJsZTtcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuICAgIGRhdGFPYmoueEF4aXNEYXRhID0gY2hhcnQuZGF0YS54QXhpc0RhdGE7XHJcbiAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGNoYXJ0LmRhdGEueUF4aXNEYXRhO1xyXG4gICAgZGF0YU9iai56QXhpc0RhdGEgPSBjaGFydC5kYXRhLnpBeGlzRGF0YTtcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuXHJcblxyXG4gICAgLy9nZW5lcmF0ZSBzdmcgZHluYW1pY2FsbHkgYmFzZWQgb24gbGVnZW5kIGRhdGFcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKGRhdGFPYmoubGVnZW5kRGF0YSk7XHJcblxyXG4gICAgLy9UT0RPIHJlbW92ZSB0aGVzZSBmcm9tIGRyYXcgb2JqZWN0XHJcbiAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVTY2F0dGVyJyk7XHJcblxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTY2F0dGVyKCk7XHJcbiAgICBjaGFydC5jcmVhdGVMaW5lR3VpZGUoKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZU1lYW4oZGF0YSwgdHlwZSkge1xyXG4gICAgcmV0dXJuIGQzLm1lYW4oZGF0YSwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuICt2YWx1ZVt0eXBlXTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVMaW5lR3VpZGUoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGNoYXJ0RGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVGFibGUgPSBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YTtcclxuXHJcbiAgICB2YXIgeExpbmVWYWwgPSBjYWxjdWxhdGVNZWFuKGNoYXJ0RGF0YSwgZGF0YVRhYmxlLngpO1xyXG4gICAgdmFyIHlMaW5lVmFsID0gY2FsY3VsYXRlTWVhbihjaGFydERhdGEsIGRhdGFUYWJsZS55KTtcclxuXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcbiAgICB2YXIgeSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIHlBeGlzRGF0YSwgY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbCgnZy5saW5lZ3VpZGUueCcpLnJlbW92ZSgpO1xyXG4gICAgc3ZnLnNlbGVjdEFsbCgnZy5saW5lZ3VpZGUueScpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciBsaW5lR3JvdXAgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluZS1ncm91cCBzY2F0dGVycGxvdC1jb250YWluZXInKTtcclxuXHJcbiAgICAvL3ggbGluZSBncm91cCBmb3IgY3Jvc3NoYWlyXHJcbiAgICB2YXIgbGluZUd1aWRlWCA9IGxpbmVHcm91cC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lZ3VpZGUgeCcpXHJcbiAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnZ3JheScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpXHJcbiAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMubGluZUd1aWRlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICdibGFjaycpO1xyXG5cclxuICAgIC8veSBsaW5lIGdyb3VwIGZvciBjcm9zc2hhaXJcclxuICAgIHZhciBsaW5lR3VpZGVZID0gbGluZUdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmVndWlkZSB5JylcclxuICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdncmF5JylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSlcclxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy5saW5lR3VpZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ2JsYWNrJyk7XHJcblxyXG4gICAgLy9jcmVhdGUgY3Jvc3NoYWlyIGJhc2VkIG9uIG1lZGlhbiB4ICh1cC9kb3duKSAncG90ZW50aWFsbHknIHBhc3NlZCB3aXRoIGRhdGFcclxuICAgIGxpbmVHdWlkZVhcclxuICAgICAgICAuYXR0cigneDEnLCB4KHhMaW5lVmFsKSlcclxuICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgIC5hdHRyKCd4MicsIHgoeExpbmVWYWwpKVxyXG4gICAgICAgIC5hdHRyKCd5MicsIGNvbnRhaW5lci5oZWlnaHQpO1xyXG5cclxuICAgIC8vY3JlYXRlIGNyb3NzaGFpciBiYXNlZCBvbiBtZWRpYW4geSAobGVmdC9yaWdodCkgJ3BvdGVudGlhbGx5JyBwYXNzZWQgd2l0aCBkYXRhXHJcbiAgICBsaW5lR3VpZGVZXHJcbiAgICAgICAgLmF0dHIoJ3gxJywgMClcclxuICAgICAgICAuYXR0cigneTEnLCB5KHlMaW5lVmFsKSlcclxuICAgICAgICAuYXR0cigneDInLCBjb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgeSh5TGluZVZhbCkpO1xyXG5cclxuICAgIHJldHVybiBsaW5lR3JvdXA7XHJcbn1cclxuLyoqZ2VuZXJhdGVTY2F0dGVyXHJcbiAqXHJcbiAqIGNyZWF0ZXMgYW5kIGRyYXdzIGEgc2NhdHRlciBwbG90IG9uIHRoZSBzdmcgZWxlbWVudFxyXG4gKiBAcGFyYW1zIHN2Zywgc2NhdHRlckRhdGEsIF92YXJzLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgekF4aXNEYXRhLCBjb250YWluZXIsIGRhdGFUYWJsZSBsZWdlbmREYXRhXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2NhdHRlcigpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgc2NhdHRlckRhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgekF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEuekF4aXNEYXRhLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Ll92YXJzLmNvbG9yLFxyXG4gICAgICAgIHNjYXR0ZXJEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzY2F0dGVyRGF0YSkpO1xyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkUgPSA0LjU7XHJcbiAgICB9XHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUpIHtcclxuICAgICAgICBjaGFydC5fdmFycy5OT0RFX01BWF9TSVpFID0gMjU7XHJcbiAgICB9XHJcblxyXG4gICAgLy9zZXQgY2xpcCBwYXRoIHJlY3RhbmdsZVxyXG4gICAgc3ZnLmFwcGVuZCgnY2xpcFBhdGgnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdzY2F0dGVyLWFyZWEnKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgMSlcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBjb250YWluZXIud2lkdGggLSAxKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjb250YWluZXIuaGVpZ2h0KVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yKTtcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnNjYXR0ZXJwbG90LWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG4gICAgc3ZnLnNlbGVjdEFsbCgnZy5zY2F0dGVycGxvdC1jb250YWluZXIuZWRpdGFibGUtc2NhdHRlcicpLnJlbW92ZSgpO1xyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIHZhciBzY2F0dGVyRGF0YUZpbHRlcmVkID0gW107XHJcblxyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NhdHRlckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gJ3VuZGVmaW5lZCcgfHwgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUuel0gPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUuc2VyaWVzXSAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS54XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS56XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NhdHRlckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdICE9PSAtMSAmJiBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUueV0gIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHNjYXR0ZXJEYXRhRmlsdGVyZWQucHVzaChzY2F0dGVyRGF0YU5ld1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuXHJcbiAgICBpZiAoekF4aXNEYXRhICYmIHR5cGVvZiB6QXhpc0RhdGEgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHpBeGlzRGF0YSkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHpBeGlzRGF0YSk7XHJcbiAgICAgICAgdmFyIHogPSBqdkNoYXJ0cy5nZXRaU2NhbGUoekF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0Ll92YXJzKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGN4VHJhbnNsYXRlLFxyXG4gICAgICAgIGN5VHJhbnNsYXRlO1xyXG5cclxuICAgIGN4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4geChzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW3hBeGlzRGF0YS5sYWJlbF0pO1xyXG4gICAgfTtcclxuICAgIGN5VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4geShzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW3lBeGlzRGF0YS5sYWJlbF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc2NhdHRlcnMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc2NhdHRlcnBsb3QtY2lyY2xlcycpXHJcbiAgICAgICAgLnNlbGVjdEFsbCgnZycpO1xyXG4gICAgdmFyIHRlbXBNb3VzZU92ZXI7XHJcbiAgICBzY2F0dGVyc1xyXG4gICAgICAgIC5kYXRhKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNjYXR0ZXJEYXRhRmlsdGVyZWQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsICd1cmwoI3NjYXR0ZXItYXJlYSknKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZWRpdGFibGUgZWRpdGFibGUtc2NhdHRlciBzY2F0dGVyLWNpcmNsZS0nICsgaSArICcgaGlnaGxpZ2h0LWNsYXNzJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdjeCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjeFRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdjeScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjeVRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC8vIC5hdHRyKFwiY2xpcC1wYXRoXCIsIFwidXJsKC5saW5lLWdyb3VwKVwiKVxyXG4gICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjgpXHJcbiAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCd6JykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5fdmFycy50b2dnbGVaICYmIHpBeGlzRGF0YSAmJiB0eXBlb2YgekF4aXNEYXRhID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh6QXhpc0RhdGEpLmxlbmd0aCA+IDAgJiYgc2NhdHRlckRhdGFGaWx0ZXJlZFtpXVtkYXRhVGFibGUuel0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geihzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW2RhdGFUYWJsZS56XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Ll92YXJzLk5PREVfTUlOX1NJWkU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2NsaXAtcGF0aCcsICcnKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBdHRyaWJ1dGUoJ2NsaXAtcGF0aCcsICd1cmwoI3NjYXR0ZXItYXJlYSknKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yO1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzZXJpZXMnKSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW2RhdGFUYWJsZS5zZXJpZXNdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgc2NhdHRlckRhdGFGaWx0ZXJlZFtpXVtkYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgfSk7XHJcbiAgICByZXR1cm4gc2NhdHRlcnM7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zaW5nbGVheGlzID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2V0U2luZ2xlQXhpc0RhdGEgPSBnZXRTaW5nbGVBeGlzRGF0YTtcclxuanZDaGFydHMucHJvdG90eXBlLmdldFNpbmdsZUF4aXNaID0gZ2V0U2luZ2xlQXhpc1o7XHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVBvaW50cyA9IGdlbmVyYXRlUG9pbnRzO1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogU2luZ2xlIEF4aXMgQ2x1c3RlciBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IHsgY2hhcnREYXRhOiBjaGFydC5kYXRhLmNoYXJ0RGF0YSwgZGF0YVRhYmxlOiBjaGFydC5kYXRhLmRhdGFUYWJsZSB9O1xyXG5cclxuICAgIC8vU2V0IHRoZSBsZWdlbmQgRGF0YSB0byB0aGUgbGFiZWwgZnJvbSBkYXRhVGFibGUgS2V5c1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSA9IFtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUueF07XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEgPSBjaGFydC5nZXRTaW5nbGVBeGlzRGF0YShjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEsIGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSk7XHJcblxyXG4gICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnc2l6ZScpKSB7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEuekF4aXNEYXRhID0gY2hhcnQuZ2V0U2luZ2xlQXhpc1ooY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YS5jb2xvciA9ICdyZWQnOy8vY2hhcnQuc2V0Q2hhcnRDb2xvcnMgKGNoYXJ0Ll92YXJzLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNvbG9ycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEV2ZW50RGF0YSgpIHtcclxuICAgIHJldHVybiB7fTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoKSB7XHJcblx0dmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIHZhciBzcGxpdERhdGEgPSB7fSwvL0lmIHRoZXJlIGlzIGEgc3BsaXQsIHRoZSBkYXRhIHRoYXQgaGFzIGJlZW4gc3BsaXRcclxuICAgIG51bVZpenplcywvL0lmIHRoZXJlIGlzIGEgc3BsaXQsIHRoZSBudW1iZXIgb2Ygc2luZ2xlIGF4aXMgY2x1c3RlcnMgdGhhdCBhcmUgY3JlYXRlZFxyXG4gICAgY3VzdG9tU2l6ZSA9IHt9LC8vSWYgdGhlcmUgaXMgYSBzcGxpdCwgdGhlIHN2ZyBuZWVkcyB0byBiZSBhIGN1c3RvbSBwcmVkZWZpbmVkIGhlaWdodFxyXG4gICAgbWFyZ2luID0ge1xyXG4gICAgICAgIHRvcDogNDAsXHJcbiAgICAgICAgbGVmdDogMTAwLFxyXG4gICAgICAgIHJpZ2h0OiA3NSxcclxuICAgICAgICBib3R0b206IDUwLFxyXG4gICAgfTtcclxuXHJcbiAgICAvL0lmIHRoZXJlIGlzIGEgc3BsaXQgb24gdGhlIHZpeiwgcnVuIHRocm91Z2ggdGhpcyBsb2dpY1xyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLnNwbGl0RGF0YSAhPSBcIlwiICYmIGNoYXJ0Ll92YXJzLnNwbGl0RGF0YSAhPSBcIm5vbmVcIikge1xyXG4gICAgICAgIC8vQ2hlY2sgdG8gc2VlIGhvdyBtYW55IHZpenplcyBuZWVkIHRvIGJlIGNyZWF0ZWQgYmVjYXVzZSBvZiB0aGUgc3BsaXRcclxuICAgICAgICB2YXIgc3BsaXREYXRhS2V5cyA9IFtdO1xyXG4gICAgICAgIHZhciBzcGxpdE9wdGlvbk5hbWUgPSBjaGFydC5fdmFycy5zcGxpdERhdGEucmVwbGFjZSgvXy9nLCBcIiBcIik7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBhZGRUb0tleXMgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNwbGl0RGF0YUtleXMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bc3BsaXRPcHRpb25OYW1lXSA9PT0gc3BsaXREYXRhS2V5c1tqXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZFRvS2V5cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChhZGRUb0tleXMpIHtcclxuICAgICAgICAgICAgICAgIHNwbGl0RGF0YUtleXMucHVzaChjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bc3BsaXRPcHRpb25OYW1lXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQ3JlYXRlIE9iamVjdCB3aXRoIGtleXMgYW5kIGFzc2lnbiBlYWNoIGVsZW1lbnQgb2YgdGhlIGRhdGEgYXJyYXkgdG8gY29ycmVzcG9uZGluZyBvYmplY3RcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0RGF0YUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3BsaXREYXRhW3NwbGl0RGF0YUtleXNbaV1dID0gW107Ly9Bc3NpZ24gZW1wdHkgYXJyYXkgdG8gZWFjaCBsb2NhdGlvblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9Bc3NpZ24gRGF0YSBlbGVtZW50cyB0byBhcHByb3ByaWF0ZSBwbGFjZSBpbiBzcGxpdERhdGEgb2JqZWN0XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgc3BsaXREYXRhW2NoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YVtpXVtzcGxpdE9wdGlvbk5hbWVdXS5wdXNoKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YVtpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBudW1WaXp6ZXMgPSBzcGxpdERhdGFLZXlzLmxlbmd0aDtcclxuXHJcblxyXG4gICAgICAgIGN1c3RvbVNpemUuaGVpZ2h0ID0gKG51bVZpenplcykgKiAzMDA7XHJcblxyXG4gICAgICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsIG1hcmdpbiwgY3VzdG9tU2l6ZSk7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG4gICAgICAgIGNoYXJ0LmRyYXdHcmlkbGluZXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1WaXp6ZXM7IGkrKykge1xyXG4gICAgICAgICAgICBjaGFydC5nZW5lcmF0ZVBvaW50cyhzcGxpdERhdGFbc3BsaXREYXRhS2V5c1tpXV0sIGkpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL1doZW4gdGhlcmUgaXNuJ3QgYSBzcGxpdCwgdGhlIGJhc2UgY2FzZVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgbWFyZ2luLCBjdXN0b21TaXplKTtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICAgICAgY2hhcnQuZHJhd0dyaWRsaW5lcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG4gICAgICAgIGNoYXJ0LmdlbmVyYXRlUG9pbnRzKGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmKHR5cGVvZiBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS5kb21haW4oKS5sZW5ndGgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTaW5nbGVBeGlzWihkYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHNpemUgPSBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUuc2l6ZSxcclxuICAgICAgICBtaW4gPSBkYXRhWzBdW3NpemVdLFxyXG4gICAgICAgIG1heCA9IGRhdGFbMF1bc2l6ZV07XHJcbiAgICAvL0ZpbmQgbWluIGFuZCBtYXggb2YgdGhlIGRhdGFcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBudW0gPSBkYXRhW2ldW3NpemVdO1xyXG4gICAgICAgIGlmIChudW0gPiBtYXgpIHtcclxuICAgICAgICAgICAgbWF4ID0gbnVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChudW0gPCBtaW4pIHtcclxuICAgICAgICAgICAgbWluID0gbnVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgICdtaW4nOiBtaW4sXHJcbiAgICAgICAgJ21heCc6IG1heCxcclxuICAgICAgICAnbGFiZWwnOiBzaXplXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUG9pbnRzKGRhdGEsIHlMZXZlbCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIGRhdGFUYWJsZSA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgekF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEuekF4aXNEYXRhLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgcG9pbnRDb2xvciA9IFwiIzYwOWNkYlwiLFxyXG4gICAgICAgIGNvbG9yZWRQb2ludCA9IFwiI2U4OGExN1wiO1xyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyLCBjaGFydC5fdmFycyk7XHJcblxyXG4gICAgY29uc3QgU1BMSVRfQ0xVU1RFUl9IRUlHSFQgPSAzMDA7XHJcbiAgICBjb25zdCBUUkFOU0xBVEVfU1BMSVRfQ0xVU1RFUiA9IDE1MDtcclxuXHJcblxyXG4gICAgLy9JZiB0aGVyZSdzIGEgc3BsaXQsIGFjY291bnQgZm9yIHRoZSBtdWx0aXBsZSBheGVzXHJcbiAgICB2YXIgY3VycmVudEF4aXNIZWlnaHQ7XHJcbiAgICBpZiAoeUxldmVsICE9IG51bGwpIHtcclxuICAgICAgICBjdXJyZW50QXhpc0hlaWdodCA9ICh5TGV2ZWwgKiBTUExJVF9DTFVTVEVSX0hFSUdIVCkgKyBUUkFOU0xBVEVfU1BMSVRfQ0xVU1RFUjsvL0VhY2ggaGVpZ2h0IGlzIDEwMHB4XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjdXJyZW50QXhpc0hlaWdodCA9IGhlaWdodCAvIDI7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFKSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRSA9IDQuNTtcclxuICAgIH1cclxuICAgIGlmICghY2hhcnQuX3ZhcnMuTk9ERV9NQVhfU0laRSkge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUgPSAyNTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FkZCBhIHBhdGggbGluZSB0aHJvdWdoIHRoZSBoZWlnaHQgb2YgdGhlIGF4aXNcclxuICAgIGlmICh5TGV2ZWwgIT0gbnVsbCkge1xyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCBjb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgY3VycmVudEF4aXNIZWlnaHQpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgY3VycmVudEF4aXNIZWlnaHQpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFwid2hpdGVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgXCIyMHB4XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsIFwiICsgVFJBTlNMQVRFX1NQTElUX0NMVVNURVIgKyBcIilcIik7XHJcblxyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5kYXR1bShkYXRhKVxyXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGN1cnJlbnRBeGlzSGVpZ2h0KVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRbMF1bY2hhcnQuX3ZhcnMuc3BsaXREYXRhLnJlcGxhY2UoL18vZywgJyAnKV07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKC04NSwgMClcIik7XHJcbiAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgdmFyIHNpbXVsYXRpb24gPSBkMy5mb3JjZVNpbXVsYXRpb24oZGF0YSlcclxuICAgICAgICAuYWxwaGFEZWNheSguMDUpXHJcbiAgICAgICAgLmZvcmNlKFwieFwiLCBkMy5mb3JjZVgoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoZFtkYXRhVGFibGUueF0pO1xyXG4gICAgICAgIH0pLnN0cmVuZ3RoKDEpKVxyXG4gICAgICAgIC5mb3JjZShcInlcIiwgZDMuZm9yY2VZKGN1cnJlbnRBeGlzSGVpZ2h0KSlcclxuICAgICAgICAuZm9yY2UoXCJjb2xsaWRlXCIsIGQzLmZvcmNlQ29sbGlkZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAvL1NldCBjb2xsaXNpb24gcmFkaXVzIGVxdWFsIHRvIHRoZSByYWRpdXMgb2YgdGhlIGNpcmNsZVxyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzaXplJykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtID0gKGRbZGF0YVRhYmxlLnNpemVdIC0gekF4aXNEYXRhLm1pbikgLyAoekF4aXNEYXRhLm1heCAtIHpBeGlzRGF0YS5taW4pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IChjaGFydC5fdmFycy5OT0RFX01BWF9TSVpFIC0gY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRSkgKiBub3JtICsgY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWw7XHJcbiAgICAgICAgfSkuc3RyZW5ndGgoMSkpXHJcbiAgICAgICAgLmZvcmNlKFwiY2hhcmdlXCIsIGQzLmZvcmNlTWFueUJvZHkoKS5zdHJlbmd0aCgtNikpXHJcbiAgICAgICAgLnN0b3AoKTtcclxuICAgIC8vXHJcblxyXG4gICAgLy9PbiBEcmF3IE1vdmUgUG9pbnRzXHJcbiAgICBmdW5jdGlvbiBtb3ZlVG93YXJkRGF0YVBvc2l0aW9uKGFscGhhKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGQueCArPSAoeChkLngpIC0gZC54KSAqIC4xICogYWxwaGE7XHJcbiAgICAgICAgICAgIGQueSArPSAoeShkLnkpIC0gZC55KSAqIC4wNSAqIGFscGhhO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxMjA7ICsraSkgc2ltdWxhdGlvbi50aWNrKCk7XHJcblxyXG4gICAgdmFyIGNlbGwgPSBzdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjZWxsc1wiKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoXCJnXCIpXHJcbiAgICAgICAgLmRhdGEoZDMudm9yb25vaSgpXHJcbiAgICAgICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcclxuICAgICAgICAgICAgLngoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLng7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC55O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAucG9seWdvbnMoZGF0YSlcclxuICAgICAgICApXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJzaW5nbGVheGlzLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICBjZWxsXHJcbiAgICAgICAgLmFwcGVuZChcImNpcmNsZVwiKVxyXG4gICAgICAgIC5hdHRyKFwiclwiLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzaXplJykgJiYgZCAhPSBudWxsICYmIGQuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm0gPSAoZC5kYXRhW2RhdGFUYWJsZS5zaXplXSAtIHpBeGlzRGF0YS5taW4pIC8gKHpBeGlzRGF0YS5tYXggLSB6QXhpc0RhdGEubWluKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4obm9ybSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gKGNoYXJ0Ll92YXJzLk5PREVfTUFYX1NJWkUgLSBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFKSAqIG5vcm0gKyBjaGFydC5fdmFycy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7Ly9JZiB0aGVyZSBpcyBvbmx5IDEgbm9kZSBvbiB0aGUgY2hhcnRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gMDsvL0Rvbid0IGRpc3BsYXkgdW5kZWZpbmVkIG5vZGVzXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gY2hhcnQuX3ZhcnMuTk9ERV9NSU5fU0laRTsvL0RlZmF1bHQgbm9kZSBzaXplIG9mIDE1XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy92YWwgPSAzO1xyXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJjeFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLng7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuZGF0YS55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCAmJiBkLmRhdGFbY2hhcnQuX3ZhcnMuY29sb3JEYXRhQ2F0ZWdvcnldID09PSBjaGFydC5fdmFycy5jb2xvckRhdGFJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yZWRQb2ludDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb2ludENvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgLjgpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCJibGFja1wiKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDEpXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBkYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGNoYXJ0Ll92YXJzLnNpbmdsZUF4aXNGaWxsSG92ZXJDb2xvcik7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcylcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkICE9IG51bGwgJiYgZC5kYXRhW2NoYXJ0Ll92YXJzLmNvbG9yRGF0YUNhdGVnb3J5XSA9PT0gY2hhcnQuX3ZhcnMuY29sb3JEYXRhSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yZWRQb2ludDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRTaW5nbGVBeGlzRGF0YShkYXRhLCBkYXRhVGFibGUpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICB2YXIgbGFiZWwsXHJcbiAgICAgICAgZGF0YVR5cGUsXHJcbiAgICAgICAgbWluLFxyXG4gICAgICAgIG1heCxcclxuICAgICAgICB2YWx1ZXMgPSBbXTtcclxuXHJcbiAgICBpZiAoZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgneCcpKSB7XHJcbiAgICAgICAgICAgIGxhYmVsID0gZGF0YVRhYmxlLng7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRhdGFUeXBlID0gJ05VTUJFUic7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFsdWVzLnB1c2goZGF0YVtpXVtkYXRhVGFibGUueF0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIHZhbHVlcyk7XHJcbiAgICBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCB2YWx1ZXMpO1xyXG5cclxuICAgIC8vQWRkIGEgMTAlIGJ1ZmZlciB0byBib3RoIHNpZGVzXHJcbiAgICBtaW4gPSBNYXRoLmZsb29yKG1pbiAtICgobWF4IC0gbWluKSAqIC4xMCkpO1xyXG4gICAgbWF4ID0gTWF0aC5jZWlsKG1heCArICgobWF4IC0gbWluKSAqIC4xMCkpO1xyXG5cclxuICAgIC8vRm9yIGF4aXMgbWluL21heCB3aWRnZXRcclxuICAgIGlmIChjaGFydC5fdmFycy5oYXNPd25Qcm9wZXJ0eSgneE1pbicpICYmIGNoYXJ0Ll92YXJzLnhNaW4gIT0gJ25vbmUnKSB7XHJcbiAgICAgICAgbWluID0gY2hhcnQub3B0aW9ucy54TWluO1xyXG4gICAgfVxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmhhc093blByb3BlcnR5KCd4TWF4JykgJiYgY2hhcnQuX3ZhcnMueE1heCAhPSAnbm9uZScpIHtcclxuICAgICAgICBtYXggPSBjaGFydC5fdmFycy54TWF4O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ2xhYmVsJzogbGFiZWwsXHJcbiAgICAgICAgJ3ZhbHVlcyc6IHZhbHVlcyxcclxuICAgICAgICAnZGF0YVR5cGUnOiBkYXRhVHlwZSxcclxuICAgICAgICAnbWluJzogbWluLFxyXG4gICAgICAgICdtYXgnOiBtYXhcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnN1bmJ1cnN0ID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YSxcclxuICAgIGdldEV2ZW50RGF0YTogZ2V0RXZlbnREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVTdW5idXJzdCA9IGdlbmVyYXRlU3VuYnVyc3Q7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFN1bmJ1cnN0IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRTdW5idXJzdENoYXJ0RGF0YVxyXG4gKiAgZ2V0cyBzdW5idXJzdCBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0gY2hhcnQuY29sb3JzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRFdmVudERhdGEoKSB7XHJcbiAgICByZXR1cm4ge307XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGNoYXJ0Ll92YXJzLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG5cclxuICAgIHZhciBzdW5idXJzdE1hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiAxNSxcclxuICAgICAgICByaWdodDogMTUsXHJcbiAgICAgICAgYm90dG9tOiAxNSxcclxuICAgICAgICBsZWZ0OiAxNVxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIHN1bmJ1cnN0TWFyZ2lucyk7XHJcbiAgICAvL2NoYXJ0LmdlbmVyYXRlTGVnZW5kKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsICdnZW5lcmF0ZVN1bmJ1cnN0Jyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVN1bmJ1cnN0KGNoYXJ0LmN1cnJlbnREYXRhKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVTdW5idXJzdFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIHN1bmJ1cnN0IG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHN1bmJ1cnN0RGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVTdW5idXJzdChzdW5idXJzdERhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgYWxsRmlsdGVyTGlzdCA9IFtdLFxyXG4gICAgICAgIHJlbGF0aW9uTWFwID0gY2hhcnQuZGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgd2lkdGggPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICByYWRpdXMgPSAoTWF0aC5taW4od2lkdGgsIGhlaWdodCkgLyAyKSAtIDEwO1xyXG5cclxuICAgIGNoYXJ0LmNoaWxkcmVuID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcblxyXG4gICAgdmFyIG5ld0RhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGNoYXJ0LmNoaWxkcmVuKSk7Ly9jb3B5IG9mIHBpZSBkYXRhXHJcblxyXG4gICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLGQnKTtcclxuXHJcbiAgICB2YXIgeCA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAucmFuZ2UoWzAsIDIgKiBNYXRoLlBJXSk7XHJcblxyXG4gICAgdmFyIHkgPSBkMy5zY2FsZVNxcnQoKVxyXG4gICAgICAgIC5yYW5nZShbMCwgcmFkaXVzXSk7XHJcblxyXG4gICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKClcclxuICAgICAgICAucmFuZ2UoY2hhcnQuZGF0YS5jb2xvclxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IGMgPSBkMy5yZ2IoYyk7IGMub3BhY2l0eSA9IDE7IHJldHVybiBjOyB9KSk7XHJcblxyXG4gICAgLy92YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkxMCk7XHJcblxyXG4gICAgdmFyIHBhcnRpdGlvbiA9IGQzLnBhcnRpdGlvbigpO1xyXG5cclxuICAgIHZhciBhcmMgPSBkMy5hcmMoKVxyXG4gICAgICAgIC5zdGFydEFuZ2xlKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigyICogTWF0aC5QSSwgeChkLngwKSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVuZEFuZ2xlKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigyICogTWF0aC5QSSwgeChkLngxKSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmlubmVyUmFkaXVzKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgwLCB5KGQueTApKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vdXRlclJhZGl1cyhmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgeShkLnkxKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9hc3NpZ25zIHRoZSBkYXRhIHRvIGEgaGllcmFyY2h5IHVzaW5nIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXBzXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeShjaGFydC5jaGlsZHJlbiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC5jaGlsZHJlbjtcclxuICAgIH0pO1xyXG5cclxuICAgIHJvb3Quc3VtKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3N1bmJ1cnN0JylcclxuICAgICAgICAuYXR0cignd2lkdGgnLCB3aWR0aClcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgaGVpZ2h0KVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB3aWR0aCAvIDIgKyAnLCcgKyAoaGVpZ2h0IC8gMikgKyAnKScpO1xyXG5cclxuXHJcbiAgICB2aXMuc2VsZWN0QWxsKCdwYXRoJylcclxuICAgICAgICAuZGF0YShwYXJ0aXRpb24ocm9vdCkuZGVzY2VuZGFudHMoKSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdub2RlJyk7XHJcblxyXG4gICAgdmFyIHBhdGggPSB2aXMuc2VsZWN0QWxsKCcubm9kZScpXHJcbiAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgLmF0dHIoJ2QnLCBhcmMpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQuZGF0YS5uYW1lID09PSAncm9vdCcpIHtcclxuICAgICAgICAgICAgICAgIGQuY29sb3IgPSBjaGFydC5fdmFycy5iYWNrZ3JvdW5kQ29sb3I7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnQuX3ZhcnMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGQuY29sb3IgPSBjb2xvcihkLmRhdGEubmFtZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBjb2xvcihkLmRhdGEubmFtZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy8gdmFyIHREYXRhID0gY2hhcnQuZGF0YS50aXBEYXRhLmdldChkLmRhdGEubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAvLyB0RGF0YS5uYW1lID0gZC5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAvLyB0RGF0YS5jb2xvciA9IGQuY29sb3I7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0LnRpcC5kID09PSBkICYmIGNoYXJ0LnRpcC5pID09PSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ2NsaWNrJywgY2xpY2spXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgaWYgKGNoYXJ0Ll92YXJzLmRpc3BsYXlWYWx1ZXMpIHtcclxuICAgICAgICB2YXIgdGV4dCA9IHZpcy5zZWxlY3RBbGwoJy5ub2RlJylcclxuICAgICAgICAgICAgLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdyb3RhdGUoJyArIGNvbXB1dGVUZXh0Um90YXRpb24oZCkgKyAnKSc7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB5KGQueTApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cignZHgnLCAnNicpIC8vbWFyZ2luXHJcbiAgICAgICAgICAgIC5hdHRyKCdkeScsICcuMzVlbScpIC8vdmVydGljYWwtYWxpZ25cclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEubmFtZSA9PT0gJ3Jvb3QnID8gJycgOiBkLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNsaWNrKGQpIHtcclxuICAgICAgICAvL2ZhZGUgb3V0IGFsbCB0ZXh0IGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmRpc3BsYXlWYWx1ZXMpIHtcclxuICAgICAgICAgICAgdGV4dC50cmFuc2l0aW9uKCkuYXR0cignb3BhY2l0eScsIDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmlzLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAuZHVyYXRpb24oNzUwKVxyXG4gICAgICAgICAgICAudHdlZW4oJ3NjYWxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHhkID0gZDMuaW50ZXJwb2xhdGUoeC5kb21haW4oKSwgW2QueDAsIGQueDFdKSxcclxuICAgICAgICAgICAgICAgICAgICB5ZCA9IGQzLmludGVycG9sYXRlKHkuZG9tYWluKCksIFtkLnkwLCAxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgeXIgPSBkMy5pbnRlcnBvbGF0ZSh5LnJhbmdlKCksIFtkLnkwID8gMjAgOiAwLCByYWRpdXNdKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsgeC5kb21haW4oeGQodCkpOyB5LmRvbWFpbih5ZCh0KSkucmFuZ2UoeXIodCkpOyB9O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2VsZWN0QWxsKCdwYXRoJylcclxuICAgICAgICAgICAgLmF0dHJUd2VlbignZCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmMoZCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ2VuZCcsIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuX3ZhcnMuZGlzcGxheVZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgdGhlIGFuaW1hdGVkIGVsZW1lbnQncyBkYXRhIGUgbGllcyB3aXRoaW4gdGhlIHZpc2libGUgYW5nbGUgc3BhbiBnaXZlbiBpbiBkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUueDAgPiBkLngwICYmIGUueDAgPCBkLngxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IGEgc2VsZWN0aW9uIG9mIHRoZSBhc3NvY2lhdGVkIHRleHQgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJjVGV4dCA9IGQzLnNlbGVjdCh0aGlzLnBhcmVudE5vZGUpLnNlbGVjdCgndGV4dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZhZGUgaW4gdGhlIHRleHQgZWxlbWVudCBhbmQgcmVjYWxjdWxhdGUgcG9zaXRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyY1RleHQudHJhbnNpdGlvbigpLmR1cmF0aW9uKDc1MClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdvcGFjaXR5JywgMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd2aXNpYmxlJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoKSB7IHJldHVybiAncm90YXRlKCcgKyBjb21wdXRlVGV4dFJvdGF0aW9uKGUpICsgJyknOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geShkLnkwKTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZGF0YS5uYW1lID09PSAncm9vdCcgPyAnJyA6IGQuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wdXRlVGV4dFJvdGF0aW9uKGQpIHtcclxuICAgICAgICByZXR1cm4gKHgoKGQueDAgKyBkLngxKSAvIDIpIC0gTWF0aC5QSSAvIDIpIC8gTWF0aC5QSSAqIDE4MDtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnRyZWVtYXAgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVRyZWVNYXAgPSBnZW5lcmF0ZVRyZWVNYXA7XHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogVHJlZU1hcCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0VHJlZU1hcERhdGFcclxuICogIGdldHMgdHJlZW1hcCBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRUcmVlTWFwTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQuX3ZhcnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG59XHJcblxyXG4vKipzZXRUcmVlTWFwTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRUcmVlTWFwTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5jaGFydERhdGEuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAobGVnZW5kQXJyYXkuaW5kZXhPZihkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbltpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdKSA9PSAtMSkge1xyXG4gICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbltpXVtkYXRhLmRhdGFUYWJsZS5zZXJpZXNdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICBjaGFydC5fdmFycy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgdHJlZU1hcE1hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiA0NSxcclxuICAgICAgICByaWdodDogNTAsXHJcbiAgICAgICAgbGVmdDogNTAsXHJcbiAgICAgICAgYm90dG9tOiAxMzBcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCB0cmVlTWFwTWFyZ2lucyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVUcmVlTWFwJyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVRyZWVNYXAoY2hhcnQuY3VycmVudERhdGEpO1xyXG5cclxuXHJcbn07XHJcblxyXG4vKiogZ2VuZXJhdGVUcmVlTWFwXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgdHJlZW1hcCBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyB0cmVlTWFwRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVUcmVlTWFwKHRyZWVNYXBEYXRhKSB7XHJcblxyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29sb3JzID0gdHJlZU1hcERhdGEuY29sb3IsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBhbGxGaWx0ZXJMaXN0ID0gW10sXHJcbiAgICAgICAgcmVsYXRpb25NYXAgPSBjaGFydC5kYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB0cmVlbWFwID0gbnVsbDtcclxuXHJcbiAgICBjaGFydC5jaGlsZHJlbiA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG5cclxuICAgIHZhciBuZXdEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydC5jaGlsZHJlbikpOy8vY29weSBvZiBwaWUgZGF0YVxyXG5cclxuICAgIGlmICghY2hhcnQuX3ZhcnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGNoYXJ0Ll92YXJzLmxlZ2VuZEhlYWRlcnM7XHJcblxyXG4gICAgdmFyIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IGp2Q2hhcnRzLmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheShkYXRhSGVhZGVycywgY2hhcnQuZGF0YS5sZWdlbmREYXRhKTtcclxuXHJcblxyXG5cclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0RhdGEuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gbmV3RGF0YS5jaGlsZHJlbltqXVtyZWxhdGlvbk1hcC5zZXJpZXNdICYmIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YS5jaGlsZHJlbltqXS5zaG93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRyZWVNYXBEYXRhRmlsdGVyZWQgPSB7fTtcclxuICAgIHRyZWVNYXBEYXRhRmlsdGVyZWRbXCJQYXJlbnRcIl0gPSBcIlRvcCBMZXZlbFwiO1xyXG4gICAgdHJlZU1hcERhdGFGaWx0ZXJlZC5jaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmV3RGF0YS5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChuZXdEYXRhLmNoaWxkcmVuW2pdLnNob3cgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHRyZWVNYXBEYXRhRmlsdGVyZWQuY2hpbGRyZW4ucHVzaChuZXdEYXRhLmNoaWxkcmVuW2pdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gIGFzc2lnbnMgdGhlIGRhdGEgdG8gYSBoaWVyYXJjaHkgdXNpbmcgcGFyZW50LWNoaWxkIHJlbGF0aW9uc2hpcHNcclxuICAgIHZhciByb290ID0gZDMuaGllcmFyY2h5KHRyZWVNYXBEYXRhRmlsdGVyZWQsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW47XHJcbiAgICB9KTtcclxuXHJcbiAgICB2YXIgdHJlZW1hcCA9IGQzLnRyZWVtYXAoKVxyXG4gICAgICAgIC5zaXplKFtjb250YWluZXIud2lkdGgsIGNvbnRhaW5lci5oZWlnaHRdKVxyXG4gICAgICAgIC5wYWRkaW5nKDIpO1xyXG5cclxuICAgIHZhciBub2RlcyA9IHRyZWVtYXAocm9vdFxyXG4gICAgICAgIC5zdW0oZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRbcmVsYXRpb25NYXAuc2l6ZV07XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYi5oZWlnaHQgLSBhLmhlaWdodCB8fCBiLnZhbHVlIC0gYS52YWx1ZTtcclxuICAgICAgICB9KSlcclxuICAgICAgICAuZGVzY2VuZGFudHMoKTtcclxuXHJcbiAgICAvL1JlbW92ZSBleGlzdGluZyBiYXJzIGZyb20gcGFnZVxyXG4gICAgc3ZnLnNlbGVjdEFsbChcImcudHJlZW1hcFwiKS5yZW1vdmUoKTtcclxuICAgIHN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcInRyZWVtYXBcIik7XHJcblxyXG4gICAgdmFyIG5vZGUgPSBzdmcuc2VsZWN0KFwiLnRyZWVtYXBcIilcclxuICAgICAgICAuc2VsZWN0QWxsKFwiZ1wiKVxyXG4gICAgICAgIC5kYXRhKHJvb3QubGVhdmVzKCkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoMCwwKSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgbm9kZS5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC8vIC5jYWxsKHBvc2l0aW9uKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC54MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC55MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueDEgLSBkLngwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueTEgLSBkLnkwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBkLmRhdGFbcmVsYXRpb25NYXAuc2VyaWVzXSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImZpbGwtb3BhY2l0eVwiLCAuOClcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBjaGFydC5fdmFycy53aGl0ZSlcclxuICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCBjaGFydC5fdmFycy5zdHJva2VXaWR0aClcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcbiAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICBjaGFydC50aXAuZCA9IGQ7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5pID0gaTtcclxuXHJcbiAgICAgICAgICAgIC8vIHZhciByZWN0ID0gZDMuc2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAvLyByZWN0LmF0dHIoXCJmaWxsXCIsIGNoYXJ0Ll92YXJzLmxpZ2h0KTtcclxuICAgICAgICAgICAgLy8gcmVjdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydC50aXAuc2hvd1RpcChkMy5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIC8vIHZhciByZWN0ID0gZDMuc2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAvLyByZWN0LmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgZC5kYXRhW3JlbGF0aW9uTWFwLnNlcmllc10pO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgLy8gcmVjdC50cmFuc2l0aW9uKCkuZHVyYXRpb24oMjAwKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBub2RlLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLy8gLmNhbGwocG9zaXRpb24pXHJcbiAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLngwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnkwICsgXCJweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC54MSAtIGQueDAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC55MSAtIGQueTAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgzLCAxOClcIilcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZC5keSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuY2hpbGRyZW4gPyBudWxsIDogZC5kYXRhW3JlbGF0aW9uTWFwLmxhYmVsXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAvKiBEb24ndCBkaXNwbGF5IHRleHQgaWYgdGV4dCBpcyB3aWRlciB0aGFuIHJlY3QgKi9cclxuICAgIHZhciB0ZW1wID0gc3ZnLnNlbGVjdChcIi50cmVlbWFwXCIpLnNlbGVjdEFsbChcImdcIikuc2VsZWN0QWxsKFwidGV4dFwiKTtcclxuICAgIHRlbXAuYXR0cihcInN0eWxlXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0QkJveCgpLndpZHRoID49IChkLngxIC0gZC54MCkgLSA1KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcImRpc3BsYXk6bm9uZVwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nZXRCQm94KCkuaGVpZ2h0ID49IChkLnkxIC0gZC55MCkgLSA1KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcImRpc3BsYXk6bm9uZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuY2xvdWQgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhLFxyXG4gICAgZ2V0RXZlbnREYXRhOiBnZXRFdmVudERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUNsb3VkID0gZ2VuZXJhdGVDbG91ZDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQ2xvdWQgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldENsb3VkRGF0YVxyXG4gKiAgZ2V0cyBjbG91ZCBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXM7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGNoYXJ0LmNvbG9ycztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RXZlbnREYXRhKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG59XHJcblxyXG4vKipzZXRDbG91ZExlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0Q2xvdWRMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXJ0RGF0YS5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChsZWdlbmRBcnJheS5pbmRleE9mKGRhdGEuY2hhcnREYXRhLmNoaWxkcmVuW2ldW2RhdGEuZGF0YVRhYmxlLnNlcmllc10pID09IC0xKSB7XHJcbiAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goKGRhdGEuY2hhcnREYXRhLmNoaWxkcmVuW2ldW2RhdGEuZGF0YVRhYmxlLnNlcmllc10pKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVnZW5kQXJyYXk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgIGlmICghY2hhcnQuc21hbGxlckZvbnRSZXBhaW50KSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuZm9udFNpemVNYXggPSA4MDtcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydC5kYXRhKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcnQuX3ZhcnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIHZhciBjbG91ZE1hcmdpbnMgPSB7XHJcbiAgICAgICAgdG9wOiAxNSxcclxuICAgICAgICByaWdodDogMTUsXHJcbiAgICAgICAgbGVmdDogMTUsXHJcbiAgICAgICAgYm90dG9tOiAxNVxyXG4gICAgfTtcclxuXHJcbiAgICAvL0dlbmVyYXRlIFNWRy1sZWdlbmQgZGF0YSBpcyB1c2VkIHRvIGRldGVybWluZSB0aGUgc2l6ZSBvZiB0aGUgYm90dG9tIG1hcmdpbiAoc2V0IHRvIG51bGwgZm9yIG5vIGxlZ2VuZClcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKG51bGwsIGNsb3VkTWFyZ2lucyk7XHJcbiAgICAvLyBjaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVDbG91ZCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVDbG91ZChjaGFydC5jdXJyZW50RGF0YSk7XHJcbn07XHJcblxyXG4vKiogZ2VuZXJhdGVDbG91ZFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIGNsb3VkICBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyBjbG91ZCBEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUNsb3VkKGNsb3VkRGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBhbGxGaWx0ZXJMaXN0ID0gW10sXHJcbiAgICAgICAgcmVsYXRpb25NYXAgPSBjaGFydC5kYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB3aWR0aCA9IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIG1hcmdpbiA9IGNoYXJ0LmNvbmZpZy5tYXJnaW4sXHJcbiAgICAgICAgbWluLFxyXG4gICAgICAgIG1heDtcclxuXHJcbiAgICB2YXIgY2F0ZWdvcmllcyA9IGQzLmtleXMoZDMubmVzdCgpLmtleShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIGlmICghbWluICYmICFtYXgpIHtcclxuICAgICAgICAgICAgbWluID0gZFtyZWxhdGlvbk1hcC52YWx1ZV07XHJcbiAgICAgICAgICAgIG1heCA9IGRbcmVsYXRpb25NYXAudmFsdWVdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChkW3JlbGF0aW9uTWFwLnZhbHVlXSA+IG1heCkge1xyXG4gICAgICAgICAgICAgICAgbWF4ID0gZFtyZWxhdGlvbk1hcC52YWx1ZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRbcmVsYXRpb25NYXAudmFsdWVdIDwgbWluKSB7XHJcbiAgICAgICAgICAgICAgICBtaW4gPSBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRbcmVsYXRpb25NYXAudmFsdWVdO1xyXG4gICAgfSkubWFwKGNsb3VkRGF0YS5jaGFydERhdGEpKTtcclxuXHJcbiAgICBpZiAoIWNoYXJ0Ll92YXJzLmZvbnRTaXplTWF4KSB7XHJcbiAgICAgICAgY2hhcnQuX3ZhcnMuZm9udFNpemVNYXggPSA4MDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoKVxyXG4gICAgICAgIC5yYW5nZShjaGFydC5kYXRhLmNvbG9yXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHsgYyA9IGQzLnJnYihjKTsgYy5vcGFjaXR5ID0gMC44OyByZXR1cm4gYzsgfSkpO1xyXG5cclxuICAgIHZhciBmb250U2l6ZSA9IGQzLnNjYWxlUG93KCkuZXhwb25lbnQoNSkuZG9tYWluKFswLCAxXSkucmFuZ2UoWzEwLCBjaGFydC5fdmFycy5mb250U2l6ZU1heF0pO1xyXG4gICAgY2hhcnQuc21hbGxlckZvbnRSZXBhaW50ID0gZmFsc2U7XHJcbiAgICB2YXIgbGF5b3V0ID0gZDMubGF5b3V0LmNsb3VkKClcclxuICAgICAgICAudGltZUludGVydmFsKDEwKVxyXG4gICAgICAgIC5zaXplKFt3aWR0aCwgaGVpZ2h0XSlcclxuICAgICAgICAud29yZHMoY2xvdWREYXRhLmNoYXJ0RGF0YSlcclxuICAgICAgICAucm90YXRlKGZ1bmN0aW9uIChkKSB7IHJldHVybiAwOyB9KVxyXG4gICAgICAgIC5mb250KCdSb2JvdG8nKVxyXG4gICAgICAgIC5mb250U2l6ZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9udFNpemUobWF4IC0gbWluICE9PSAwID8gKGRbcmVsYXRpb25NYXAudmFsdWVdIC0gbWluKSAvIChtYXggLSBtaW4pIDogMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAucmVwYWludFdpdGhTbWFsbGVyRm9udChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Ll92YXJzLmZvbnRTaXplTWF4ID4gMTApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Ll92YXJzLmZvbnRTaXplTWF4IC09IDU7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5zbWFsbGVyRm9udFJlcGFpbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcGFpbnQoY2hhcnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFtyZWxhdGlvbk1hcC5sYWJlbF07IH0pXHJcbiAgICAgICAgLnNwaXJhbChcImFyY2hpbWVkZWFuXCIpXHJcbiAgICAgICAgLm9uKFwiZW5kXCIsIGRyYXcpXHJcbiAgICAgICAgLnN0YXJ0KCk7XHJcblxyXG4gICAgdmFyIHdvcmRjbG91ZCA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3dvcmRjbG91ZCcpXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgd2lkdGggLyAyICsgXCIsXCIgKyBoZWlnaHQgLyAyICsgXCIpXCIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyYXcod29yZHMpIHtcclxuICAgICAgICBpZiAoY2hhcnQuc21hbGxlckZvbnRSZXBhaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgd29yZGNsb3VkLnNlbGVjdEFsbChcInRleHRcIilcclxuICAgICAgICAgICAgLmRhdGEoY2xvdWREYXRhLmNoYXJ0RGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnd29yZCcpXHJcbiAgICAgICAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuc2l6ZSArIFwicHhcIjtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1mYW1pbHlcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmZvbnQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcihkW3JlbGF0aW9uTWFwLnZhbHVlXSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudGV4dDsgfSlcclxuICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGlwRGF0YS5jb2xvciA9IGNvbG9yKGRbcmVsYXRpb25NYXAudmFsdWVdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmkgPSBpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQudGlwLmQgPT09IGQgJiYgY2hhcnQudGlwLmkgPT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQudGlwLnNob3dUaXAoZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKS5kdXJhdGlvbihcIjEwMDBcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgW2QueCwgZC55XSArIFwiKXJvdGF0ZShcIiArIGQucm90YXRlICsgXCIpXCI7IH0pO1xyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiJdfQ==
